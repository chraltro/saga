(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=o(c);fetch(c.href,d)}})();function sh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ju={exports:{}},Yo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function hv(){if(Am)return Yo;Am=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(a,c,d){var p=null;if(d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:n,type:a,key:p,ref:c!==void 0?c:null,props:d}}return Yo.Fragment=e,Yo.jsx=o,Yo.jsxs=o,Yo}var xm;function gv(){return xm||(xm=1,Ju.exports=hv()),Ju.exports}var _=gv(),Yu={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function yv(){if(Mm)return ce;Mm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),S=Symbol.iterator;function M(A){return A===null||typeof A!="object"?null:(A=S&&A[S]||A["@@iterator"],typeof A=="function"?A:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,z={};function G(A,k,O){this.props=A,this.context=k,this.refs=z,this.updater=O||b}G.prototype.isReactComponent={},G.prototype.setState=function(A,k){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,k,"setState")},G.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function F(){}F.prototype=G.prototype;function P(A,k,O){this.props=A,this.context=k,this.refs=z,this.updater=O||b}var J=P.prototype=new F;J.constructor=P,q(J,G.prototype),J.isPureReactComponent=!0;var $=Array.isArray;function Q(){}var Y={H:null,A:null,T:null,S:null},ae=Object.prototype.hasOwnProperty;function j(A,k,O){var X=O.ref;return{$$typeof:n,type:A,key:k,ref:X!==void 0?X:null,props:O}}function de(A,k){return j(A.type,k,A.props)}function Se(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function pe(A){var k={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(O){return k[O]})}var qe=/\/+/g;function tt(A,k){return typeof A=="object"&&A!==null&&A.key!=null?pe(""+A.key):k.toString(36)}function nt(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Q,Q):(A.status="pending",A.then(function(k){A.status==="pending"&&(A.status="fulfilled",A.value=k)},function(k){A.status==="pending"&&(A.status="rejected",A.reason=k)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function L(A,k,O,X,ne){var ue=typeof A;(ue==="undefined"||ue==="boolean")&&(A=null);var he=!1;if(A===null)he=!0;else switch(ue){case"bigint":case"string":case"number":he=!0;break;case"object":switch(A.$$typeof){case n:case e:he=!0;break;case v:return he=A._init,L(he(A._payload),k,O,X,ne)}}if(he)return ne=ne(A),he=X===""?"."+tt(A,0):X,$(ne)?(O="",he!=null&&(O=he.replace(qe,"$&/")+"/"),L(ne,k,O,"",function(Zi){return Zi})):ne!=null&&(Se(ne)&&(ne=de(ne,O+(ne.key==null||A&&A.key===ne.key?"":(""+ne.key).replace(qe,"$&/")+"/")+he)),k.push(ne)),1;he=0;var Ve=X===""?".":X+":";if($(A))for(var Be=0;Be<A.length;Be++)X=A[Be],ue=Ve+tt(X,Be),he+=L(X,k,O,ue,ne);else if(Be=M(A),typeof Be=="function")for(A=Be.call(A),Be=0;!(X=A.next()).done;)X=X.value,ue=Ve+tt(X,Be++),he+=L(X,k,O,ue,ne);else if(ue==="object"){if(typeof A.then=="function")return L(nt(A),k,O,X,ne);throw k=String(A),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return he}function K(A,k,O){if(A==null)return A;var X=[],ne=0;return L(A,X,"","",function(ue){return k.call(O,ue,ne++)}),X}function se(A){if(A._status===-1){var k=A._result;k=k(),k.then(function(O){(A._status===0||A._status===-1)&&(A._status=1,A._result=O)},function(O){(A._status===0||A._status===-1)&&(A._status=2,A._result=O)}),A._status===-1&&(A._status=0,A._result=k)}if(A._status===1)return A._result.default;throw A._result}var te=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},ie={map:K,forEach:function(A,k,O){K(A,function(){k.apply(this,arguments)},O)},count:function(A){var k=0;return K(A,function(){k++}),k},toArray:function(A){return K(A,function(k){return k})||[]},only:function(A){if(!Se(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return ce.Activity=C,ce.Children=ie,ce.Component=G,ce.Fragment=o,ce.Profiler=c,ce.PureComponent=P,ce.StrictMode=a,ce.Suspense=y,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,ce.__COMPILER_RUNTIME={__proto__:null,c:function(A){return Y.H.useMemoCache(A)}},ce.cache=function(A){return function(){return A.apply(null,arguments)}},ce.cacheSignal=function(){return null},ce.cloneElement=function(A,k,O){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var X=q({},A.props),ne=A.key;if(k!=null)for(ue in k.key!==void 0&&(ne=""+k.key),k)!ae.call(k,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&k.ref===void 0||(X[ue]=k[ue]);var ue=arguments.length-2;if(ue===1)X.children=O;else if(1<ue){for(var he=Array(ue),Ve=0;Ve<ue;Ve++)he[Ve]=arguments[Ve+2];X.children=he}return j(A.type,ne,X)},ce.createContext=function(A){return A={$$typeof:p,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:d,_context:A},A},ce.createElement=function(A,k,O){var X,ne={},ue=null;if(k!=null)for(X in k.key!==void 0&&(ue=""+k.key),k)ae.call(k,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ne[X]=k[X]);var he=arguments.length-2;if(he===1)ne.children=O;else if(1<he){for(var Ve=Array(he),Be=0;Be<he;Be++)Ve[Be]=arguments[Be+2];ne.children=Ve}if(A&&A.defaultProps)for(X in he=A.defaultProps,he)ne[X]===void 0&&(ne[X]=he[X]);return j(A,ue,ne)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(A){return{$$typeof:g,render:A}},ce.isValidElement=Se,ce.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:se}},ce.memo=function(A,k){return{$$typeof:h,type:A,compare:k===void 0?null:k}},ce.startTransition=function(A){var k=Y.T,O={};Y.T=O;try{var X=A(),ne=Y.S;ne!==null&&ne(O,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Q,te)}catch(ue){te(ue)}finally{k!==null&&O.types!==null&&(k.types=O.types),Y.T=k}},ce.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},ce.use=function(A){return Y.H.use(A)},ce.useActionState=function(A,k,O){return Y.H.useActionState(A,k,O)},ce.useCallback=function(A,k){return Y.H.useCallback(A,k)},ce.useContext=function(A){return Y.H.useContext(A)},ce.useDebugValue=function(){},ce.useDeferredValue=function(A,k){return Y.H.useDeferredValue(A,k)},ce.useEffect=function(A,k){return Y.H.useEffect(A,k)},ce.useEffectEvent=function(A){return Y.H.useEffectEvent(A)},ce.useId=function(){return Y.H.useId()},ce.useImperativeHandle=function(A,k,O){return Y.H.useImperativeHandle(A,k,O)},ce.useInsertionEffect=function(A,k){return Y.H.useInsertionEffect(A,k)},ce.useLayoutEffect=function(A,k){return Y.H.useLayoutEffect(A,k)},ce.useMemo=function(A,k){return Y.H.useMemo(A,k)},ce.useOptimistic=function(A,k){return Y.H.useOptimistic(A,k)},ce.useReducer=function(A,k,O){return Y.H.useReducer(A,k,O)},ce.useRef=function(A){return Y.H.useRef(A)},ce.useState=function(A){return Y.H.useState(A)},ce.useSyncExternalStore=function(A,k,O){return Y.H.useSyncExternalStore(A,k,O)},ce.useTransition=function(){return Y.H.useTransition()},ce.version="19.2.0",ce}var Rm;function cr(){return Rm||(Rm=1,Yu.exports=yv()),Yu.exports}var re=cr();const uh=sh(re);var Ou={exports:{}},Oo={},Ku={exports:{}},Qu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function vv(){return Nm||(Nm=1,(function(n){function e(L,K){var se=L.length;L.push(K);e:for(;0<se;){var te=se-1>>>1,ie=L[te];if(0<c(ie,K))L[te]=K,L[se]=ie,se=te;else break e}}function o(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var K=L[0],se=L.pop();if(se!==K){L[0]=se;e:for(var te=0,ie=L.length,A=ie>>>1;te<A;){var k=2*(te+1)-1,O=L[k],X=k+1,ne=L[X];if(0>c(O,se))X<ie&&0>c(ne,O)?(L[te]=ne,L[X]=se,te=X):(L[te]=O,L[k]=se,te=k);else if(X<ie&&0>c(ne,se))L[te]=ne,L[X]=se,te=X;else break e}}return K}function c(L,K){var se=L.sortIndex-K.sortIndex;return se!==0?se:L.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var p=Date,g=p.now();n.unstable_now=function(){return p.now()-g}}var y=[],h=[],v=1,C=null,S=3,M=!1,b=!1,q=!1,z=!1,G=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function J(L){for(var K=o(h);K!==null;){if(K.callback===null)a(h);else if(K.startTime<=L)a(h),K.sortIndex=K.expirationTime,e(y,K);else break;K=o(h)}}function $(L){if(q=!1,J(L),!b)if(o(y)!==null)b=!0,Q||(Q=!0,pe());else{var K=o(h);K!==null&&nt($,K.startTime-L)}}var Q=!1,Y=-1,ae=5,j=-1;function de(){return z?!0:!(n.unstable_now()-j<ae)}function Se(){if(z=!1,Q){var L=n.unstable_now();j=L;var K=!0;try{e:{b=!1,q&&(q=!1,F(Y),Y=-1),M=!0;var se=S;try{t:{for(J(L),C=o(y);C!==null&&!(C.expirationTime>L&&de());){var te=C.callback;if(typeof te=="function"){C.callback=null,S=C.priorityLevel;var ie=te(C.expirationTime<=L);if(L=n.unstable_now(),typeof ie=="function"){C.callback=ie,J(L),K=!0;break t}C===o(y)&&a(y),J(L)}else a(y);C=o(y)}if(C!==null)K=!0;else{var A=o(h);A!==null&&nt($,A.startTime-L),K=!1}}break e}finally{C=null,S=se,M=!1}K=void 0}}finally{K?pe():Q=!1}}}var pe;if(typeof P=="function")pe=function(){P(Se)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,tt=qe.port2;qe.port1.onmessage=Se,pe=function(){tt.postMessage(null)}}else pe=function(){G(Se,0)};function nt(L,K){Y=G(function(){L(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(L){switch(S){case 1:case 2:case 3:var K=3;break;default:K=S}var se=S;S=K;try{return L()}finally{S=se}},n.unstable_requestPaint=function(){z=!0},n.unstable_runWithPriority=function(L,K){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var se=S;S=L;try{return K()}finally{S=se}},n.unstable_scheduleCallback=function(L,K,se){var te=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?te+se:te):se=te,L){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=se+ie,L={id:v++,callback:K,priorityLevel:L,startTime:se,expirationTime:ie,sortIndex:-1},se>te?(L.sortIndex=se,e(h,L),o(y)===null&&L===o(h)&&(q?(F(Y),Y=-1):q=!0,nt($,se-te))):(L.sortIndex=ie,e(y,L),b||M||(b=!0,Q||(Q=!0,pe()))),L},n.unstable_shouldYield=de,n.unstable_wrapCallback=function(L){var K=S;return function(){var se=S;S=K;try{return L.apply(this,arguments)}finally{S=se}}}})(Qu)),Qu}var Dm;function Tv(){return Dm||(Dm=1,Ku.exports=vv()),Ku.exports}var Xu={exports:{}},it={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function Cv(){if(Um)return it;Um=1;var n=cr();function e(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(y,h,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:y,containerInfo:h,implementation:v}}var p=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return it.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,it.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return d(y,h,null,v)},it.flushSync=function(y){var h=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=h,a.p=v,a.d.f()}},it.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},it.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},it.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,C=g(v,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,M=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:C,integrity:S,fetchPriority:M}):v==="script"&&a.d.X(y,{crossOrigin:C,integrity:S,fetchPriority:M,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},it.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},it.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,C=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:C,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},it.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},it.requestFormReset=function(y){a.d.r(y)},it.unstable_batchedUpdates=function(y,h){return y(h)},it.useFormState=function(y,h,v){return p.H.useFormState(y,h,v)},it.useFormStatus=function(){return p.H.useHostTransitionStatus()},it.version="19.2.0",it}var Im;function Sv(){if(Im)return Xu.exports;Im=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xu.exports=Cv(),Xu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function Ev(){if(wm)return Oo;wm=1;var n=Tv(),e=cr(),o=Sv();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var i=t,l=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(l=i.return),t=i.return;while(t)}return i.tag===3?l:null}function p(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(d(t)!==t)throw Error(a(188))}function h(t){var i=t.alternate;if(!i){if(i=d(t),i===null)throw Error(a(188));return i!==t?null:t}for(var l=t,r=i;;){var f=l.return;if(f===null)break;var m=f.alternate;if(m===null){if(r=f.return,r!==null){l=r;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===l)return y(f),t;if(m===r)return y(f),i;m=m.sibling}throw Error(a(188))}if(l.return!==r.return)l=f,r=m;else{for(var T=!1,E=f.child;E;){if(E===l){T=!0,l=f,r=m;break}if(E===r){T=!0,r=f,l=m;break}E=E.sibling}if(!T){for(E=m.child;E;){if(E===l){T=!0,l=m,r=f;break}if(E===r){T=!0,r=m,l=f;break}E=E.sibling}if(!T)throw Error(a(189))}}if(l.alternate!==r)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var C=Object.assign,S=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),P=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),Se=Symbol.iterator;function pe(t){return t===null||typeof t!="object"?null:(t=Se&&t[Se]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Symbol.for("react.client.reference");function tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===qe?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case G:return"Profiler";case z:return"StrictMode";case $:return"Suspense";case Q:return"SuspenseList";case j:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case P:return t.displayName||"Context";case F:return(t._context.displayName||"Context")+".Consumer";case J:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return i=t.displayName||null,i!==null?i:tt(t.type)||"Memo";case ae:i=t._payload,t=t._init;try{return tt(t(i))}catch{}}return null}var nt=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},te=[],ie=-1;function A(t){return{current:t}}function k(t){0>ie||(t.current=te[ie],te[ie]=null,ie--)}function O(t,i){ie++,te[ie]=t.current,t.current=i}var X=A(null),ne=A(null),ue=A(null),he=A(null);function Ve(t,i){switch(O(ue,i),O(ne,t),O(X,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Kd(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Kd(i),t=Qd(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}k(X),O(X,t)}function Be(){k(X),k(ne),k(ue)}function Zi(t){t.memoizedState!==null&&O(he,t);var i=X.current,l=Qd(i,t.type);i!==l&&(O(ne,t),O(X,l))}function $o(t){ne.current===t&&(k(X),k(ne)),he.current===t&&(k(he),zo._currentValue=se)}var Ma,Er;function kn(t){if(Ma===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Ma=i&&i[1]||"",Er=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ma+t+Er}var Ra=!1;function Na(t,i){if(!t||Ra)return"";Ra=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(w){var I=w}Reflect.construct(t,[],B)}else{try{B.call()}catch(w){I=w}t.call(B.prototype)}}else{try{throw Error()}catch(w){I=w}(B=t())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(w){if(w&&I&&typeof w.stack=="string")return[w.stack,I.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=r.DetermineComponentFrameRoot(),T=m[0],E=m[1];if(T&&E){var x=T.split(`
`),U=E.split(`
`);for(f=r=0;r<x.length&&!x[r].includes("DetermineComponentFrameRoot");)r++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(r===x.length||f===U.length)for(r=x.length-1,f=U.length-1;1<=r&&0<=f&&x[r]!==U[f];)f--;for(;1<=r&&0<=f;r--,f--)if(x[r]!==U[f]){if(r!==1||f!==1)do if(r--,f--,0>f||x[r]!==U[f]){var V=`
`+x[r].replace(" at new "," at ");return t.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",t.displayName)),V}while(1<=r&&0<=f);break}}}finally{Ra=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?kn(l):""}function Oh(t,i){switch(t.tag){case 26:case 27:case 5:return kn(t.type);case 16:return kn("Lazy");case 13:return t.child!==i&&i!==null?kn("Suspense Fallback"):kn("Suspense");case 19:return kn("SuspenseList");case 0:case 15:return Na(t.type,!1);case 11:return Na(t.type.render,!1);case 1:return Na(t.type,!0);case 31:return kn("Activity");default:return""}}function _r(t){try{var i="",l=null;do i+=Oh(t,l),l=t,t=t.return;while(t);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Da=Object.prototype.hasOwnProperty,Ua=n.unstable_scheduleCallback,Ia=n.unstable_cancelCallback,Kh=n.unstable_shouldYield,Qh=n.unstable_requestPaint,mt=n.unstable_now,Xh=n.unstable_getCurrentPriorityLevel,Ar=n.unstable_ImmediatePriority,xr=n.unstable_UserBlockingPriority,Zo=n.unstable_NormalPriority,$h=n.unstable_LowPriority,Mr=n.unstable_IdlePriority,Zh=n.log,Wh=n.unstable_setDisableYieldValue,Wi=null,pt=null;function rn(t){if(typeof Zh=="function"&&Wh(t),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(Wi,t)}catch{}}var ht=Math.clz32?Math.clz32:tg,jh=Math.log,eg=Math.LN2;function tg(t){return t>>>=0,t===0?32:31-(jh(t)/eg|0)|0}var Wo=256,jo=262144,el=4194304;function qn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function tl(t,i,l){var r=t.pendingLanes;if(r===0)return 0;var f=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var E=r&134217727;return E!==0?(r=E&~m,r!==0?f=qn(r):(T&=E,T!==0?f=qn(T):l||(l=E&~t,l!==0&&(f=qn(l))))):(E=r&~m,E!==0?f=qn(E):T!==0?f=qn(T):l||(l=r&~t,l!==0&&(f=qn(l)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,l=i&-i,m>=l||m===32&&(l&4194048)!==0)?i:f}function ji(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ng(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rr(){var t=el;return el<<=1,(el&62914560)===0&&(el=4194304),t}function wa(t){for(var i=[],l=0;31>l;l++)i.push(t);return i}function eo(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ig(t,i,l,r,f,m){var T=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var E=t.entanglements,x=t.expirationTimes,U=t.hiddenUpdates;for(l=T&~l;0<l;){var V=31-ht(l),B=1<<V;E[V]=0,x[V]=-1;var I=U[V];if(I!==null)for(U[V]=null,V=0;V<I.length;V++){var w=I[V];w!==null&&(w.lane&=-536870913)}l&=~B}r!==0&&Nr(t,r,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~i))}function Nr(t,i,l){t.pendingLanes|=i,t.suspendedLanes&=~i;var r=31-ht(i);t.entangledLanes|=i,t.entanglements[r]=t.entanglements[r]|1073741824|l&261930}function Dr(t,i){var l=t.entangledLanes|=i;for(t=t.entanglements;l;){var r=31-ht(l),f=1<<r;f&i|t[r]&i&&(t[r]|=i),l&=~f}}function Ur(t,i){var l=i&-i;return l=(l&42)!==0?1:ba(l),(l&(t.suspendedLanes|i))!==0?0:l}function ba(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function La(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ir(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:ym(t.type))}function wr(t,i){var l=K.p;try{return K.p=t,i()}finally{K.p=l}}var cn=Math.random().toString(36).slice(2),$e="__reactFiber$"+cn,at="__reactProps$"+cn,oi="__reactContainer$"+cn,Va="__reactEvents$"+cn,og="__reactListeners$"+cn,lg="__reactHandles$"+cn,br="__reactResources$"+cn,to="__reactMarker$"+cn;function ka(t){delete t[$e],delete t[at],delete t[Va],delete t[og],delete t[lg]}function li(t){var i=t[$e];if(i)return i;for(var l=t.parentNode;l;){if(i=l[oi]||l[$e]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(t=tm(t);t!==null;){if(l=t[$e])return l;t=tm(t)}return i}t=l,l=t.parentNode}return null}function ai(t){if(t=t[$e]||t[oi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function no(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function si(t){var i=t[br];return i||(i=t[br]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Qe(t){t[to]=!0}var Lr=new Set,Vr={};function Gn(t,i){ui(t,i),ui(t+"Capture",i)}function ui(t,i){for(Vr[t]=i,t=0;t<i.length;t++)Lr.add(i[t])}var ag=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kr={},qr={};function sg(t){return Da.call(qr,t)?!0:Da.call(kr,t)?!1:ag.test(t)?qr[t]=!0:(kr[t]=!0,!1)}function nl(t,i,l){if(sg(i))if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+l)}}function il(t,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+l)}}function Pt(t,i,l,r){if(r===null)t.removeAttribute(l);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(i,l,""+r)}}function _t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ug(t,i,l){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var f=r.get,m=r.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(t,i,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function qa(t){if(!t._valueTracker){var i=Gr(t)?"checked":"value";t._valueTracker=ug(t,i,""+t[i])}}function Hr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var l=i.getValue(),r="";return t&&(r=Gr(t)?t.checked?"true":"false":t.value),t=r,t!==l?(i.setValue(t),!0):!1}function ol(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var rg=/[\n"\\]/g;function At(t){return t.replace(rg,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ga(t,i,l,r,f,m,T,E){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+_t(i)):t.value!==""+_t(i)&&(t.value=""+_t(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?Ha(t,T,_t(i)):l!=null?Ha(t,T,_t(l)):r!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+_t(E):t.removeAttribute("name")}function Br(t,i,l,r,f,m,T,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){qa(t);return}l=l!=null?""+_t(l):"",i=i!=null?""+_t(i):l,E||i===t.value||(t.value=i),t.defaultValue=i}r=r??f,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=E?t.checked:!!r,t.defaultChecked=!!r,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),qa(t)}function Ha(t,i,l){i==="number"&&ol(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function ri(t,i,l,r){if(t=t.options,i){i={};for(var f=0;f<l.length;f++)i["$"+l[f]]=!0;for(l=0;l<t.length;l++)f=i.hasOwnProperty("$"+t[l].value),t[l].selected!==f&&(t[l].selected=f),f&&r&&(t[l].defaultSelected=!0)}else{for(l=""+_t(l),i=null,f=0;f<t.length;f++){if(t[f].value===l){t[f].selected=!0,r&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function zr(t,i,l){if(i!=null&&(i=""+_t(i),i!==t.value&&(t.value=i),l==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=l!=null?""+_t(l):""}function Pr(t,i,l,r){if(i==null){if(r!=null){if(l!=null)throw Error(a(92));if(nt(r)){if(1<r.length)throw Error(a(93));r=r[0]}l=r}l==null&&(l=""),i=l}l=_t(i),t.defaultValue=l,r=t.textContent,r===l&&r!==""&&r!==null&&(t.value=r),qa(t)}function ci(t,i){if(i){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=i;return}}t.textContent=i}var cg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fr(t,i,l){var r=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?r?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":r?t.setProperty(i,l):typeof l!="number"||l===0||cg.has(i)?i==="float"?t.cssFloat=l:t[i]=(""+l).trim():t[i]=l+"px"}function Jr(t,i,l){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,l!=null){for(var r in l)!l.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var f in i)r=i[f],i.hasOwnProperty(f)&&l[f]!==r&&Fr(t,f,r)}else for(var m in i)i.hasOwnProperty(m)&&Fr(t,m,i[m])}function Ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ll(t){return dg.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ft(){}var za=null;function Pa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fi=null,di=null;function Yr(t){var i=ai(t);if(i&&(t=i.stateNode)){var l=t[at]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ga(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+At(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var r=l[i];if(r!==t&&r.form===t.form){var f=r[at]||null;if(!f)throw Error(a(90));Ga(r,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<l.length;i++)r=l[i],r.form===t.form&&Hr(r)}break e;case"textarea":zr(t,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ri(t,!!l.multiple,i,!1)}}}var Fa=!1;function Or(t,i,l){if(Fa)return t(i,l);Fa=!0;try{var r=t(i);return r}finally{if(Fa=!1,(fi!==null||di!==null)&&(Ol(),fi&&(i=fi,t=di,di=fi=null,Yr(i),t)))for(i=0;i<t.length;i++)Yr(t[i])}}function io(t,i){var l=t.stateNode;if(l===null)return null;var r=l[at]||null;if(r===null)return null;l=r[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(a(231,i,typeof l));return l}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ja=!1;if(Jt)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{Ja=!1}var fn=null,Ya=null,al=null;function Kr(){if(al)return al;var t,i=Ya,l=i.length,r,f="value"in fn?fn.value:fn.textContent,m=f.length;for(t=0;t<l&&i[t]===f[t];t++);var T=l-t;for(r=1;r<=T&&i[l-r]===f[m-r];r++);return al=f.slice(t,1<r?1-r:void 0)}function sl(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ul(){return!0}function Qr(){return!1}function st(t){function i(l,r,f,m,T){this._reactName=l,this._targetInst=f,this.type=r,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(l=t[E],this[E]=l?l(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ul:Qr,this.isPropagationStopped=Qr,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),i}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=st(Hn),lo=C({},Hn,{view:0,detail:0}),mg=st(lo),Oa,Ka,ao,cl=C({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ao&&(ao&&t.type==="mousemove"?(Oa=t.screenX-ao.screenX,Ka=t.screenY-ao.screenY):Ka=Oa=0,ao=t),Oa)},movementY:function(t){return"movementY"in t?t.movementY:Ka}}),Xr=st(cl),pg=C({},cl,{dataTransfer:0}),hg=st(pg),gg=C({},lo,{relatedTarget:0}),Qa=st(gg),yg=C({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),vg=st(yg),Tg=C({},Hn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cg=st(Tg),Sg=C({},Hn,{data:0}),$r=st(Sg),Eg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_g={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ag={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xg(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ag[t])?!!i[t]:!1}function Xa(){return xg}var Mg=C({},lo,{key:function(t){if(t.key){var i=Eg[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=sl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_g[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xa,charCode:function(t){return t.type==="keypress"?sl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Rg=st(Mg),Ng=C({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zr=st(Ng),Dg=C({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xa}),Ug=st(Dg),Ig=C({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),wg=st(Ig),bg=C({},cl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lg=st(bg),Vg=C({},Hn,{newState:0,oldState:0}),kg=st(Vg),qg=[9,13,27,32],$a=Jt&&"CompositionEvent"in window,so=null;Jt&&"documentMode"in document&&(so=document.documentMode);var Gg=Jt&&"TextEvent"in window&&!so,Wr=Jt&&(!$a||so&&8<so&&11>=so),jr=" ",ec=!1;function tc(t,i){switch(t){case"keyup":return qg.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mi=!1;function Hg(t,i){switch(t){case"compositionend":return nc(i);case"keypress":return i.which!==32?null:(ec=!0,jr);case"textInput":return t=i.data,t===jr&&ec?null:t;default:return null}}function Bg(t,i){if(mi)return t==="compositionend"||!$a&&tc(t,i)?(t=Kr(),al=Ya=fn=null,mi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Wr&&i.locale!=="ko"?null:i.data;default:return null}}var zg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ic(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!zg[t.type]:i==="textarea"}function oc(t,i,l,r){fi?di?di.push(r):di=[r]:fi=r,i=jl(i,"onChange"),0<i.length&&(l=new rl("onChange","change",null,l,r),t.push({event:l,listeners:i}))}var uo=null,ro=null;function Pg(t){zd(t,0)}function fl(t){var i=no(t);if(Hr(i))return t}function lc(t,i){if(t==="change")return i}var ac=!1;if(Jt){var Za;if(Jt){var Wa="oninput"in document;if(!Wa){var sc=document.createElement("div");sc.setAttribute("oninput","return;"),Wa=typeof sc.oninput=="function"}Za=Wa}else Za=!1;ac=Za&&(!document.documentMode||9<document.documentMode)}function uc(){uo&&(uo.detachEvent("onpropertychange",rc),ro=uo=null)}function rc(t){if(t.propertyName==="value"&&fl(ro)){var i=[];oc(i,ro,t,Pa(t)),Or(Pg,i)}}function Fg(t,i,l){t==="focusin"?(uc(),uo=i,ro=l,uo.attachEvent("onpropertychange",rc)):t==="focusout"&&uc()}function Jg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fl(ro)}function Yg(t,i){if(t==="click")return fl(i)}function Og(t,i){if(t==="input"||t==="change")return fl(i)}function Kg(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gt=typeof Object.is=="function"?Object.is:Kg;function co(t,i){if(gt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var l=Object.keys(t),r=Object.keys(i);if(l.length!==r.length)return!1;for(r=0;r<l.length;r++){var f=l[r];if(!Da.call(i,f)||!gt(t[f],i[f]))return!1}return!0}function cc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fc(t,i){var l=cc(t);t=0;for(var r;l;){if(l.nodeType===3){if(r=t+l.textContent.length,t<=i&&r>=i)return{node:l,offset:i-t};t=r}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=cc(l)}}function dc(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?dc(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function mc(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ol(t.document);i instanceof t.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)t=i.contentWindow;else break;i=ol(t.document)}return i}function ja(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Qg=Jt&&"documentMode"in document&&11>=document.documentMode,pi=null,es=null,fo=null,ts=!1;function pc(t,i,l){var r=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ts||pi==null||pi!==ol(r)||(r=pi,"selectionStart"in r&&ja(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fo&&co(fo,r)||(fo=r,r=jl(es,"onSelect"),0<r.length&&(i=new rl("onSelect","select",null,i,l),t.push({event:i,listeners:r}),i.target=pi)))}function Bn(t,i){var l={};return l[t.toLowerCase()]=i.toLowerCase(),l["Webkit"+t]="webkit"+i,l["Moz"+t]="moz"+i,l}var hi={animationend:Bn("Animation","AnimationEnd"),animationiteration:Bn("Animation","AnimationIteration"),animationstart:Bn("Animation","AnimationStart"),transitionrun:Bn("Transition","TransitionRun"),transitionstart:Bn("Transition","TransitionStart"),transitioncancel:Bn("Transition","TransitionCancel"),transitionend:Bn("Transition","TransitionEnd")},ns={},hc={};Jt&&(hc=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);function zn(t){if(ns[t])return ns[t];if(!hi[t])return t;var i=hi[t],l;for(l in i)if(i.hasOwnProperty(l)&&l in hc)return ns[t]=i[l];return t}var gc=zn("animationend"),yc=zn("animationiteration"),vc=zn("animationstart"),Xg=zn("transitionrun"),$g=zn("transitionstart"),Zg=zn("transitioncancel"),Tc=zn("transitionend"),Cc=new Map,is="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");is.push("scrollEnd");function Lt(t,i){Cc.set(t,i),Gn(i,[t])}var dl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xt=[],gi=0,os=0;function ml(){for(var t=gi,i=os=gi=0;i<t;){var l=xt[i];xt[i++]=null;var r=xt[i];xt[i++]=null;var f=xt[i];xt[i++]=null;var m=xt[i];if(xt[i++]=null,r!==null&&f!==null){var T=r.pending;T===null?f.next=f:(f.next=T.next,T.next=f),r.pending=f}m!==0&&Sc(l,f,m)}}function pl(t,i,l,r){xt[gi++]=t,xt[gi++]=i,xt[gi++]=l,xt[gi++]=r,os|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function ls(t,i,l,r){return pl(t,i,l,r),hl(t)}function Pn(t,i){return pl(t,null,null,i),hl(t)}function Sc(t,i,l){t.lanes|=l;var r=t.alternate;r!==null&&(r.lanes|=l);for(var f=!1,m=t.return;m!==null;)m.childLanes|=l,r=m.alternate,r!==null&&(r.childLanes|=l),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&i!==null&&(f=31-ht(l),t=m.hiddenUpdates,r=t[f],r===null?t[f]=[i]:r.push(i),i.lane=l|536870912),m):null}function hl(t){if(50<Lo)throw Lo=0,pu=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var yi={};function Wg(t,i,l,r){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(t,i,l,r){return new Wg(t,i,l,r)}function as(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yt(t,i){var l=t.alternate;return l===null?(l=yt(t.tag,i,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=i,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,i=t.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function Ec(t,i){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,i=l.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function gl(t,i,l,r,f,m){var T=0;if(r=t,typeof t=="function")as(t)&&(T=1);else if(typeof t=="string")T=iv(t,l,X.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case j:return t=yt(31,l,i,f),t.elementType=j,t.lanes=m,t;case q:return Fn(l.children,f,m,i);case z:T=8,f|=24;break;case G:return t=yt(12,l,i,f|2),t.elementType=G,t.lanes=m,t;case $:return t=yt(13,l,i,f),t.elementType=$,t.lanes=m,t;case Q:return t=yt(19,l,i,f),t.elementType=Q,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:T=10;break e;case F:T=9;break e;case J:T=11;break e;case Y:T=14;break e;case ae:T=16,r=null;break e}T=29,l=Error(a(130,t===null?"null":typeof t,"")),r=null}return i=yt(T,l,i,f),i.elementType=t,i.type=r,i.lanes=m,i}function Fn(t,i,l,r){return t=yt(7,t,r,i),t.lanes=l,t}function ss(t,i,l){return t=yt(6,t,null,i),t.lanes=l,t}function _c(t){var i=yt(18,null,null,0);return i.stateNode=t,i}function us(t,i,l){return i=yt(4,t.children!==null?t.children:[],t.key,i),i.lanes=l,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ac=new WeakMap;function Mt(t,i){if(typeof t=="object"&&t!==null){var l=Ac.get(t);return l!==void 0?l:(i={value:t,source:i,stack:_r(i)},Ac.set(t,i),i)}return{value:t,source:i,stack:_r(i)}}var vi=[],Ti=0,yl=null,mo=0,Rt=[],Nt=0,dn=null,Gt=1,Ht="";function Ot(t,i){vi[Ti++]=mo,vi[Ti++]=yl,yl=t,mo=i}function xc(t,i,l){Rt[Nt++]=Gt,Rt[Nt++]=Ht,Rt[Nt++]=dn,dn=t;var r=Gt;t=Ht;var f=32-ht(r)-1;r&=~(1<<f),l+=1;var m=32-ht(i)+f;if(30<m){var T=f-f%5;m=(r&(1<<T)-1).toString(32),r>>=T,f-=T,Gt=1<<32-ht(i)+f|l<<f|r,Ht=m+t}else Gt=1<<m|l<<f|r,Ht=t}function rs(t){t.return!==null&&(Ot(t,1),xc(t,1,0))}function cs(t){for(;t===yl;)yl=vi[--Ti],vi[Ti]=null,mo=vi[--Ti],vi[Ti]=null;for(;t===dn;)dn=Rt[--Nt],Rt[Nt]=null,Ht=Rt[--Nt],Rt[Nt]=null,Gt=Rt[--Nt],Rt[Nt]=null}function Mc(t,i){Rt[Nt++]=Gt,Rt[Nt++]=Ht,Rt[Nt++]=dn,Gt=i.id,Ht=i.overflow,dn=t}var Ze=null,we=null,Ce=!1,mn=null,Dt=!1,fs=Error(a(519));function pn(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw po(Mt(i,t)),fs}function Rc(t){var i=t.stateNode,l=t.type,r=t.memoizedProps;switch(i[$e]=t,i[at]=r,l){case"dialog":ye("cancel",i),ye("close",i);break;case"iframe":case"object":case"embed":ye("load",i);break;case"video":case"audio":for(l=0;l<ko.length;l++)ye(ko[l],i);break;case"source":ye("error",i);break;case"img":case"image":case"link":ye("error",i),ye("load",i);break;case"details":ye("toggle",i);break;case"input":ye("invalid",i),Br(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":ye("invalid",i);break;case"textarea":ye("invalid",i),Pr(i,r.value,r.defaultValue,r.children)}l=r.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||r.suppressHydrationWarning===!0||Yd(i.textContent,l)?(r.popover!=null&&(ye("beforetoggle",i),ye("toggle",i)),r.onScroll!=null&&ye("scroll",i),r.onScrollEnd!=null&&ye("scrollend",i),r.onClick!=null&&(i.onclick=Ft),i=!0):i=!1,i||pn(t,!0)}function Nc(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:Dt=!1;return;case 27:case 3:Dt=!0;return;default:Ze=Ze.return}}function Ci(t){if(t!==Ze)return!1;if(!Ce)return Nc(t),Ce=!0,!1;var i=t.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||Du(t.type,t.memoizedProps)),l=!l),l&&we&&pn(t),Nc(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));we=em(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));we=em(t)}else i===27?(i=we,Nn(t.type)?(t=Lu,Lu=null,we=t):we=i):we=Ze?It(t.stateNode.nextSibling):null;return!0}function Jn(){we=Ze=null,Ce=!1}function ds(){var t=mn;return t!==null&&(ft===null?ft=t:ft.push.apply(ft,t),mn=null),t}function po(t){mn===null?mn=[t]:mn.push(t)}var ms=A(null),Yn=null,Kt=null;function hn(t,i,l){O(ms,i._currentValue),i._currentValue=l}function Qt(t){t._currentValue=ms.current,k(ms)}function ps(t,i,l){for(;t!==null;){var r=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),t===l)break;t=t.return}}function hs(t,i,l,r){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=f;for(var x=0;x<i.length;x++)if(E.context===i[x]){m.lanes|=l,E=m.alternate,E!==null&&(E.lanes|=l),ps(m.return,l,t),r||(T=null);break e}m=E.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=l,m=T.alternate,m!==null&&(m.lanes|=l),ps(T,l,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Si(t,i,l,r){t=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var E=f.type;gt(f.pendingProps.value,T.value)||(t!==null?t.push(E):t=[E])}}else if(f===he.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(zo):t=[zo])}f=f.return}t!==null&&hs(i,t,l,r),i.flags|=262144}function vl(t){for(t=t.firstContext;t!==null;){if(!gt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function On(t){Yn=t,Kt=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function We(t){return Dc(Yn,t)}function Tl(t,i){return Yn===null&&On(t),Dc(t,i)}function Dc(t,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Kt===null){if(t===null)throw Error(a(308));Kt=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Kt=Kt.next=i;return l}var jg=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(l,r){t.push(r)}};this.abort=function(){i.aborted=!0,t.forEach(function(l){return l()})}},ey=n.unstable_scheduleCallback,ty=n.unstable_NormalPriority,Fe={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gs(){return{controller:new jg,data:new Map,refCount:0}}function ho(t){t.refCount--,t.refCount===0&&ey(ty,function(){t.controller.abort()})}var go=null,ys=0,Ei=0,_i=null;function ny(t,i){if(go===null){var l=go=[];ys=0,Ei=Cu(),_i={status:"pending",value:void 0,then:function(r){l.push(r)}}}return ys++,i.then(Uc,Uc),i}function Uc(){if(--ys===0&&go!==null){_i!==null&&(_i.status="fulfilled");var t=go;go=null,Ei=0,_i=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function iy(t,i){var l=[],r={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return t.then(function(){r.status="fulfilled",r.value=i;for(var f=0;f<l.length;f++)(0,l[f])(i)},function(f){for(r.status="rejected",r.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),r}var Ic=L.S;L.S=function(t,i){hd=mt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ny(t,i),Ic!==null&&Ic(t,i)};var Kn=A(null);function vs(){var t=Kn.current;return t!==null?t:Ie.pooledCache}function Cl(t,i){i===null?O(Kn,Kn.current):O(Kn,i.pool)}function wc(){var t=vs();return t===null?null:{parent:Fe._currentValue,pool:t}}var Ai=Error(a(460)),Ts=Error(a(474)),Sl=Error(a(542)),El={then:function(){}};function bc(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Lc(t,i,l){switch(l=t[l],l===void 0?t.push(i):l!==i&&(i.then(Ft,Ft),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,kc(t),t;default:if(typeof i.status=="string")i.then(Ft,Ft);else{if(t=Ie,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(r){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=r}},function(r){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,kc(t),t}throw Xn=i,Ai}}function Qn(t){try{var i=t._init;return i(t._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Xn=l,Ai):l}}var Xn=null;function Vc(){if(Xn===null)throw Error(a(459));var t=Xn;return Xn=null,t}function kc(t){if(t===Ai||t===Sl)throw Error(a(483))}var xi=null,yo=0;function _l(t){var i=yo;return yo+=1,xi===null&&(xi=[]),Lc(xi,t,i)}function vo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Al(t,i){throw i.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function qc(t){function i(N,R){if(t){var D=N.deletions;D===null?(N.deletions=[R],N.flags|=16):D.push(R)}}function l(N,R){if(!t)return null;for(;R!==null;)i(N,R),R=R.sibling;return null}function r(N){for(var R=new Map;N!==null;)N.key!==null?R.set(N.key,N):R.set(N.index,N),N=N.sibling;return R}function f(N,R){return N=Yt(N,R),N.index=0,N.sibling=null,N}function m(N,R,D){return N.index=D,t?(D=N.alternate,D!==null?(D=D.index,D<R?(N.flags|=67108866,R):D):(N.flags|=67108866,R)):(N.flags|=1048576,R)}function T(N){return t&&N.alternate===null&&(N.flags|=67108866),N}function E(N,R,D,H){return R===null||R.tag!==6?(R=ss(D,N.mode,H),R.return=N,R):(R=f(R,D),R.return=N,R)}function x(N,R,D,H){var oe=D.type;return oe===q?V(N,R,D.props.children,H,D.key):R!==null&&(R.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===ae&&Qn(oe)===R.type)?(R=f(R,D.props),vo(R,D),R.return=N,R):(R=gl(D.type,D.key,D.props,null,N.mode,H),vo(R,D),R.return=N,R)}function U(N,R,D,H){return R===null||R.tag!==4||R.stateNode.containerInfo!==D.containerInfo||R.stateNode.implementation!==D.implementation?(R=us(D,N.mode,H),R.return=N,R):(R=f(R,D.children||[]),R.return=N,R)}function V(N,R,D,H,oe){return R===null||R.tag!==7?(R=Fn(D,N.mode,H,oe),R.return=N,R):(R=f(R,D),R.return=N,R)}function B(N,R,D){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=ss(""+R,N.mode,D),R.return=N,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case M:return D=gl(R.type,R.key,R.props,null,N.mode,D),vo(D,R),D.return=N,D;case b:return R=us(R,N.mode,D),R.return=N,R;case ae:return R=Qn(R),B(N,R,D)}if(nt(R)||pe(R))return R=Fn(R,N.mode,D,null),R.return=N,R;if(typeof R.then=="function")return B(N,_l(R),D);if(R.$$typeof===P)return B(N,Tl(N,R),D);Al(N,R)}return null}function I(N,R,D,H){var oe=R!==null?R.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return oe!==null?null:E(N,R,""+D,H);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case M:return D.key===oe?x(N,R,D,H):null;case b:return D.key===oe?U(N,R,D,H):null;case ae:return D=Qn(D),I(N,R,D,H)}if(nt(D)||pe(D))return oe!==null?null:V(N,R,D,H,null);if(typeof D.then=="function")return I(N,R,_l(D),H);if(D.$$typeof===P)return I(N,R,Tl(N,D),H);Al(N,D)}return null}function w(N,R,D,H,oe){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return N=N.get(D)||null,E(R,N,""+H,oe);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case M:return N=N.get(H.key===null?D:H.key)||null,x(R,N,H,oe);case b:return N=N.get(H.key===null?D:H.key)||null,U(R,N,H,oe);case ae:return H=Qn(H),w(N,R,D,H,oe)}if(nt(H)||pe(H))return N=N.get(D)||null,V(R,N,H,oe,null);if(typeof H.then=="function")return w(N,R,D,_l(H),oe);if(H.$$typeof===P)return w(N,R,D,Tl(R,H),oe);Al(R,H)}return null}function Z(N,R,D,H){for(var oe=null,Ee=null,ee=R,me=R=0,Te=null;ee!==null&&me<D.length;me++){ee.index>me?(Te=ee,ee=null):Te=ee.sibling;var _e=I(N,ee,D[me],H);if(_e===null){ee===null&&(ee=Te);break}t&&ee&&_e.alternate===null&&i(N,ee),R=m(_e,R,me),Ee===null?oe=_e:Ee.sibling=_e,Ee=_e,ee=Te}if(me===D.length)return l(N,ee),Ce&&Ot(N,me),oe;if(ee===null){for(;me<D.length;me++)ee=B(N,D[me],H),ee!==null&&(R=m(ee,R,me),Ee===null?oe=ee:Ee.sibling=ee,Ee=ee);return Ce&&Ot(N,me),oe}for(ee=r(ee);me<D.length;me++)Te=w(ee,N,me,D[me],H),Te!==null&&(t&&Te.alternate!==null&&ee.delete(Te.key===null?me:Te.key),R=m(Te,R,me),Ee===null?oe=Te:Ee.sibling=Te,Ee=Te);return t&&ee.forEach(function(bn){return i(N,bn)}),Ce&&Ot(N,me),oe}function le(N,R,D,H){if(D==null)throw Error(a(151));for(var oe=null,Ee=null,ee=R,me=R=0,Te=null,_e=D.next();ee!==null&&!_e.done;me++,_e=D.next()){ee.index>me?(Te=ee,ee=null):Te=ee.sibling;var bn=I(N,ee,_e.value,H);if(bn===null){ee===null&&(ee=Te);break}t&&ee&&bn.alternate===null&&i(N,ee),R=m(bn,R,me),Ee===null?oe=bn:Ee.sibling=bn,Ee=bn,ee=Te}if(_e.done)return l(N,ee),Ce&&Ot(N,me),oe;if(ee===null){for(;!_e.done;me++,_e=D.next())_e=B(N,_e.value,H),_e!==null&&(R=m(_e,R,me),Ee===null?oe=_e:Ee.sibling=_e,Ee=_e);return Ce&&Ot(N,me),oe}for(ee=r(ee);!_e.done;me++,_e=D.next())_e=w(ee,N,me,_e.value,H),_e!==null&&(t&&_e.alternate!==null&&ee.delete(_e.key===null?me:_e.key),R=m(_e,R,me),Ee===null?oe=_e:Ee.sibling=_e,Ee=_e);return t&&ee.forEach(function(pv){return i(N,pv)}),Ce&&Ot(N,me),oe}function Ue(N,R,D,H){if(typeof D=="object"&&D!==null&&D.type===q&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case M:e:{for(var oe=D.key;R!==null;){if(R.key===oe){if(oe=D.type,oe===q){if(R.tag===7){l(N,R.sibling),H=f(R,D.props.children),H.return=N,N=H;break e}}else if(R.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===ae&&Qn(oe)===R.type){l(N,R.sibling),H=f(R,D.props),vo(H,D),H.return=N,N=H;break e}l(N,R);break}else i(N,R);R=R.sibling}D.type===q?(H=Fn(D.props.children,N.mode,H,D.key),H.return=N,N=H):(H=gl(D.type,D.key,D.props,null,N.mode,H),vo(H,D),H.return=N,N=H)}return T(N);case b:e:{for(oe=D.key;R!==null;){if(R.key===oe)if(R.tag===4&&R.stateNode.containerInfo===D.containerInfo&&R.stateNode.implementation===D.implementation){l(N,R.sibling),H=f(R,D.children||[]),H.return=N,N=H;break e}else{l(N,R);break}else i(N,R);R=R.sibling}H=us(D,N.mode,H),H.return=N,N=H}return T(N);case ae:return D=Qn(D),Ue(N,R,D,H)}if(nt(D))return Z(N,R,D,H);if(pe(D)){if(oe=pe(D),typeof oe!="function")throw Error(a(150));return D=oe.call(D),le(N,R,D,H)}if(typeof D.then=="function")return Ue(N,R,_l(D),H);if(D.$$typeof===P)return Ue(N,R,Tl(N,D),H);Al(N,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,R!==null&&R.tag===6?(l(N,R.sibling),H=f(R,D),H.return=N,N=H):(l(N,R),H=ss(D,N.mode,H),H.return=N,N=H),T(N)):l(N,R)}return function(N,R,D,H){try{yo=0;var oe=Ue(N,R,D,H);return xi=null,oe}catch(ee){if(ee===Ai||ee===Sl)throw ee;var Ee=yt(29,ee,null,N.mode);return Ee.lanes=H,Ee.return=N,Ee}finally{}}}var $n=qc(!0),Gc=qc(!1),gn=!1;function Cs(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ss(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function yn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function vn(t,i,l){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(xe&2)!==0){var f=r.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),r.pending=i,i=hl(t),Sc(t,null,l),i}return pl(t,r,i,l),hl(t)}function To(t,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var r=i.lanes;r&=t.pendingLanes,l|=r,i.lanes=l,Dr(t,l)}}function Es(t,i){var l=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,l===r)){var f=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,l=l.next}while(l!==null);m===null?f=m=i:m=m.next=i}else f=m=i;l={baseState:r.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:r.shared,callbacks:r.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=i:t.next=i,l.lastBaseUpdate=i}var _s=!1;function Co(){if(_s){var t=_i;if(t!==null)throw t}}function So(t,i,l,r){_s=!1;var f=t.updateQueue;gn=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var x=E,U=x.next;x.next=null,T===null?m=U:T.next=U,T=x;var V=t.alternate;V!==null&&(V=V.updateQueue,E=V.lastBaseUpdate,E!==T&&(E===null?V.firstBaseUpdate=U:E.next=U,V.lastBaseUpdate=x))}if(m!==null){var B=f.baseState;T=0,V=U=x=null,E=m;do{var I=E.lane&-536870913,w=I!==E.lane;if(w?(ve&I)===I:(r&I)===I){I!==0&&I===Ei&&(_s=!0),V!==null&&(V=V.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Z=t,le=E;I=i;var Ue=l;switch(le.tag){case 1:if(Z=le.payload,typeof Z=="function"){B=Z.call(Ue,B,I);break e}B=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=le.payload,I=typeof Z=="function"?Z.call(Ue,B,I):Z,I==null)break e;B=C({},B,I);break e;case 2:gn=!0}}I=E.callback,I!==null&&(t.flags|=64,w&&(t.flags|=8192),w=f.callbacks,w===null?f.callbacks=[I]:w.push(I))}else w={lane:I,tag:E.tag,payload:E.payload,callback:E.callback,next:null},V===null?(U=V=w,x=B):V=V.next=w,T|=I;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;w=E,E=w.next,w.next=null,f.lastBaseUpdate=w,f.shared.pending=null}}while(!0);V===null&&(x=B),f.baseState=x,f.firstBaseUpdate=U,f.lastBaseUpdate=V,m===null&&(f.shared.lanes=0),_n|=T,t.lanes=T,t.memoizedState=B}}function Hc(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Bc(t,i){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)Hc(l[t],i)}var Mi=A(null),xl=A(0);function zc(t,i){t=on,O(xl,t),O(Mi,i),on=t|i.baseLanes}function As(){O(xl,on),O(Mi,Mi.current)}function xs(){on=xl.current,k(Mi),k(xl)}var vt=A(null),Ut=null;function Tn(t){var i=t.alternate;O(ze,ze.current&1),O(vt,t),Ut===null&&(i===null||Mi.current!==null||i.memoizedState!==null)&&(Ut=t)}function Ms(t){O(ze,ze.current),O(vt,t),Ut===null&&(Ut=t)}function Pc(t){t.tag===22?(O(ze,ze.current),O(vt,t),Ut===null&&(Ut=t)):Cn()}function Cn(){O(ze,ze.current),O(vt,vt.current)}function Tt(t){k(vt),Ut===t&&(Ut=null),k(ze)}var ze=A(0);function Ml(t){for(var i=t;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||wu(l)||bu(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xt=0,fe=null,Ne=null,Je=null,Rl=!1,Ri=!1,Zn=!1,Nl=0,Eo=0,Ni=null,oy=0;function Ge(){throw Error(a(321))}function Rs(t,i){if(i===null)return!1;for(var l=0;l<i.length&&l<t.length;l++)if(!gt(t[l],i[l]))return!1;return!0}function Ns(t,i,l,r,f,m){return Xt=m,fe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,L.H=t===null||t.memoizedState===null?Mf:Fs,Zn=!1,m=l(r,f),Zn=!1,Ri&&(m=Jc(i,l,r,f)),Fc(t),m}function Fc(t){L.H=xo;var i=Ne!==null&&Ne.next!==null;if(Xt=0,Je=Ne=fe=null,Rl=!1,Eo=0,Ni=null,i)throw Error(a(300));t===null||Ye||(t=t.dependencies,t!==null&&vl(t)&&(Ye=!0))}function Jc(t,i,l,r){fe=t;var f=0;do{if(Ri&&(Ni=null),Eo=0,Ri=!1,25<=f)throw Error(a(301));if(f+=1,Je=Ne=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}L.H=Rf,m=i(l,r)}while(Ri);return m}function ly(){var t=L.H,i=t.useState()[0];return i=typeof i.then=="function"?_o(i):i,t=t.useState()[0],(Ne!==null?Ne.memoizedState:null)!==t&&(fe.flags|=1024),i}function Ds(){var t=Nl!==0;return Nl=0,t}function Us(t,i,l){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~l}function Is(t){if(Rl){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Rl=!1}Xt=0,Je=Ne=fe=null,Ri=!1,Eo=Nl=0,Ni=null}function lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?fe.memoizedState=Je=t:Je=Je.next=t,Je}function Pe(){if(Ne===null){var t=fe.alternate;t=t!==null?t.memoizedState:null}else t=Ne.next;var i=Je===null?fe.memoizedState:Je.next;if(i!==null)Je=i,Ne=t;else{if(t===null)throw fe.alternate===null?Error(a(467)):Error(a(310));Ne=t,t={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Je===null?fe.memoizedState=Je=t:Je=Je.next=t}return Je}function Dl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _o(t){var i=Eo;return Eo+=1,Ni===null&&(Ni=[]),t=Lc(Ni,t,i),i=fe,(Je===null?i.memoizedState:Je.next)===null&&(i=i.alternate,L.H=i===null||i.memoizedState===null?Mf:Fs),t}function Ul(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _o(t);if(t.$$typeof===P)return We(t)}throw Error(a(438,String(t)))}function ws(t){var i=null,l=fe.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var r=fe.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Dl(),fe.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(t),r=0;r<t;r++)l[r]=de;return i.index++,l}function $t(t,i){return typeof i=="function"?i(t):i}function Il(t){var i=Pe();return bs(i,Ne,t)}function bs(t,i,l){var r=t.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=l;var f=t.baseQueue,m=r.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}i.baseQueue=f=m,r.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{i=f.next;var E=T=null,x=null,U=i,V=!1;do{var B=U.lane&-536870913;if(B!==U.lane?(ve&B)===B:(Xt&B)===B){var I=U.revertLane;if(I===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),B===Ei&&(V=!0);else if((Xt&I)===I){U=U.next,I===Ei&&(V=!0);continue}else B={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},x===null?(E=x=B,T=m):x=x.next=B,fe.lanes|=I,_n|=I;B=U.action,Zn&&l(m,B),m=U.hasEagerState?U.eagerState:l(m,B)}else I={lane:B,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},x===null?(E=x=I,T=m):x=x.next=I,fe.lanes|=B,_n|=B;U=U.next}while(U!==null&&U!==i);if(x===null?T=m:x.next=E,!gt(m,t.memoizedState)&&(Ye=!0,V&&(l=_i,l!==null)))throw l;t.memoizedState=m,t.baseState=T,t.baseQueue=x,r.lastRenderedState=m}return f===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Ls(t){var i=Pe(),l=i.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=t;var r=l.dispatch,f=l.pending,m=i.memoizedState;if(f!==null){l.pending=null;var T=f=f.next;do m=t(m,T.action),T=T.next;while(T!==f);gt(m,i.memoizedState)||(Ye=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),l.lastRenderedState=m}return[m,r]}function Yc(t,i,l){var r=fe,f=Pe(),m=Ce;if(m){if(l===void 0)throw Error(a(407));l=l()}else l=i();var T=!gt((Ne||f).memoizedState,l);if(T&&(f.memoizedState=l,Ye=!0),f=f.queue,qs(Qc.bind(null,r,f,t),[t]),f.getSnapshot!==i||T||Je!==null&&Je.memoizedState.tag&1){if(r.flags|=2048,Di(9,{destroy:void 0},Kc.bind(null,r,f,l,i),null),Ie===null)throw Error(a(349));m||(Xt&127)!==0||Oc(r,i,l)}return l}function Oc(t,i,l){t.flags|=16384,t={getSnapshot:i,value:l},i=fe.updateQueue,i===null?(i=Dl(),fe.updateQueue=i,i.stores=[t]):(l=i.stores,l===null?i.stores=[t]:l.push(t))}function Kc(t,i,l,r){i.value=l,i.getSnapshot=r,Xc(i)&&$c(t)}function Qc(t,i,l){return l(function(){Xc(i)&&$c(t)})}function Xc(t){var i=t.getSnapshot;t=t.value;try{var l=i();return!gt(t,l)}catch{return!0}}function $c(t){var i=Pn(t,2);i!==null&&dt(i,t,2)}function Vs(t){var i=lt();if(typeof t=="function"){var l=t;if(t=l(),Zn){rn(!0);try{l()}finally{rn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:t},i}function Zc(t,i,l,r){return t.baseState=l,bs(t,Ne,typeof r=="function"?r:$t)}function ay(t,i,l,r,f){if(Ll(t))throw Error(a(485));if(t=i.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};L.T!==null?l(!0):m.isTransition=!1,r(m),l=i.pending,l===null?(m.next=i.pending=m,Wc(i,m)):(m.next=l.next,i.pending=l.next=m)}}function Wc(t,i){var l=i.action,r=i.payload,f=t.state;if(i.isTransition){var m=L.T,T={};L.T=T;try{var E=l(f,r),x=L.S;x!==null&&x(T,E),jc(t,i,E)}catch(U){ks(t,i,U)}finally{m!==null&&T.types!==null&&(m.types=T.types),L.T=m}}else try{m=l(f,r),jc(t,i,m)}catch(U){ks(t,i,U)}}function jc(t,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(r){ef(t,i,r)},function(r){return ks(t,i,r)}):ef(t,i,l)}function ef(t,i,l){i.status="fulfilled",i.value=l,tf(i),t.state=l,i=t.pending,i!==null&&(l=i.next,l===i?t.pending=null:(l=l.next,i.next=l,Wc(t,l)))}function ks(t,i,l){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=l,tf(i),i=i.next;while(i!==r)}t.action=null}function tf(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function nf(t,i){return i}function of(t,i){if(Ce){var l=Ie.formState;if(l!==null){e:{var r=fe;if(Ce){if(we){t:{for(var f=we,m=Dt;f.nodeType!==8;){if(!m){f=null;break t}if(f=It(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){we=It(f.nextSibling),r=f.data==="F!";break e}}pn(r)}r=!1}r&&(i=l[0])}}return l=lt(),l.memoizedState=l.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nf,lastRenderedState:i},l.queue=r,l=_f.bind(null,fe,r),r.dispatch=l,r=Vs(!1),m=Ps.bind(null,fe,!1,r.queue),r=lt(),f={state:i,dispatch:null,action:t,pending:null},r.queue=f,l=ay.bind(null,fe,f,m,l),f.dispatch=l,r.memoizedState=t,[i,l,!1]}function lf(t){var i=Pe();return af(i,Ne,t)}function af(t,i,l){if(i=bs(t,i,nf)[0],t=Il($t)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=_o(i)}catch(T){throw T===Ai?Sl:T}else r=i;i=Pe();var f=i.queue,m=f.dispatch;return l!==i.memoizedState&&(fe.flags|=2048,Di(9,{destroy:void 0},sy.bind(null,f,l),null)),[r,m,t]}function sy(t,i){t.action=i}function sf(t){var i=Pe(),l=Ne;if(l!==null)return af(i,l,t);Pe(),i=i.memoizedState,l=Pe();var r=l.queue.dispatch;return l.memoizedState=t,[i,r,!1]}function Di(t,i,l,r){return t={tag:t,create:l,deps:r,inst:i,next:null},i=fe.updateQueue,i===null&&(i=Dl(),fe.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=t.next=t:(r=l.next,l.next=t,t.next=r,i.lastEffect=t),t}function uf(){return Pe().memoizedState}function wl(t,i,l,r){var f=lt();fe.flags|=t,f.memoizedState=Di(1|i,{destroy:void 0},l,r===void 0?null:r)}function bl(t,i,l,r){var f=Pe();r=r===void 0?null:r;var m=f.memoizedState.inst;Ne!==null&&r!==null&&Rs(r,Ne.memoizedState.deps)?f.memoizedState=Di(i,m,l,r):(fe.flags|=t,f.memoizedState=Di(1|i,m,l,r))}function rf(t,i){wl(8390656,8,t,i)}function qs(t,i){bl(2048,8,t,i)}function uy(t){fe.flags|=4;var i=fe.updateQueue;if(i===null)i=Dl(),fe.updateQueue=i,i.events=[t];else{var l=i.events;l===null?i.events=[t]:l.push(t)}}function cf(t){var i=Pe().memoizedState;return uy({ref:i,nextImpl:t}),function(){if((xe&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function ff(t,i){return bl(4,2,t,i)}function df(t,i){return bl(4,4,t,i)}function mf(t,i){if(typeof i=="function"){t=t();var l=i(t);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function pf(t,i,l){l=l!=null?l.concat([t]):null,bl(4,4,mf.bind(null,i,t),l)}function Gs(){}function hf(t,i){var l=Pe();i=i===void 0?null:i;var r=l.memoizedState;return i!==null&&Rs(i,r[1])?r[0]:(l.memoizedState=[t,i],t)}function gf(t,i){var l=Pe();i=i===void 0?null:i;var r=l.memoizedState;if(i!==null&&Rs(i,r[1]))return r[0];if(r=t(),Zn){rn(!0);try{t()}finally{rn(!1)}}return l.memoizedState=[r,i],r}function Hs(t,i,l){return l===void 0||(Xt&1073741824)!==0&&(ve&261930)===0?t.memoizedState=i:(t.memoizedState=l,t=yd(),fe.lanes|=t,_n|=t,l)}function yf(t,i,l,r){return gt(l,i)?l:Mi.current!==null?(t=Hs(t,l,r),gt(t,i)||(Ye=!0),t):(Xt&42)===0||(Xt&1073741824)!==0&&(ve&261930)===0?(Ye=!0,t.memoizedState=l):(t=yd(),fe.lanes|=t,_n|=t,i)}function vf(t,i,l,r,f){var m=K.p;K.p=m!==0&&8>m?m:8;var T=L.T,E={};L.T=E,Ps(t,!1,i,l);try{var x=f(),U=L.S;if(U!==null&&U(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var V=iy(x,r);Ao(t,i,V,Et(t))}else Ao(t,i,r,Et(t))}catch(B){Ao(t,i,{then:function(){},status:"rejected",reason:B},Et())}finally{K.p=m,T!==null&&E.types!==null&&(T.types=E.types),L.T=T}}function ry(){}function Bs(t,i,l,r){if(t.tag!==5)throw Error(a(476));var f=Tf(t).queue;vf(t,f,i,se,l===null?ry:function(){return Cf(t),l(r)})}function Tf(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:se},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:l},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Cf(t){var i=Tf(t);i.next===null&&(i=t.alternate.memoizedState),Ao(t,i.next.queue,{},Et())}function zs(){return We(zo)}function Sf(){return Pe().memoizedState}function Ef(){return Pe().memoizedState}function cy(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var l=Et();t=yn(l);var r=vn(i,t,l);r!==null&&(dt(r,i,l),To(r,i,l)),i={cache:gs()},t.payload=i;return}i=i.return}}function fy(t,i,l){var r=Et();l={lane:r,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ll(t)?Af(i,l):(l=ls(t,i,l,r),l!==null&&(dt(l,t,r),xf(l,i,r)))}function _f(t,i,l){var r=Et();Ao(t,i,l,r)}function Ao(t,i,l,r){var f={lane:r,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ll(t))Af(i,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var T=i.lastRenderedState,E=m(T,l);if(f.hasEagerState=!0,f.eagerState=E,gt(E,T))return pl(t,i,f,0),Ie===null&&ml(),!1}catch{}finally{}if(l=ls(t,i,f,r),l!==null)return dt(l,t,r),xf(l,i,r),!0}return!1}function Ps(t,i,l,r){if(r={lane:2,revertLane:Cu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ll(t)){if(i)throw Error(a(479))}else i=ls(t,l,r,2),i!==null&&dt(i,t,2)}function Ll(t){var i=t.alternate;return t===fe||i!==null&&i===fe}function Af(t,i){Ri=Rl=!0;var l=t.pending;l===null?i.next=i:(i.next=l.next,l.next=i),t.pending=i}function xf(t,i,l){if((l&4194048)!==0){var r=i.lanes;r&=t.pendingLanes,l|=r,i.lanes=l,Dr(t,l)}}var xo={readContext:We,use:Ul,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};xo.useEffectEvent=Ge;var Mf={readContext:We,use:Ul,useCallback:function(t,i){return lt().memoizedState=[t,i===void 0?null:i],t},useContext:We,useEffect:rf,useImperativeHandle:function(t,i,l){l=l!=null?l.concat([t]):null,wl(4194308,4,mf.bind(null,i,t),l)},useLayoutEffect:function(t,i){return wl(4194308,4,t,i)},useInsertionEffect:function(t,i){wl(4,2,t,i)},useMemo:function(t,i){var l=lt();i=i===void 0?null:i;var r=t();if(Zn){rn(!0);try{t()}finally{rn(!1)}}return l.memoizedState=[r,i],r},useReducer:function(t,i,l){var r=lt();if(l!==void 0){var f=l(i);if(Zn){rn(!0);try{l(i)}finally{rn(!1)}}}else f=i;return r.memoizedState=r.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},r.queue=t,t=t.dispatch=fy.bind(null,fe,t),[r.memoizedState,t]},useRef:function(t){var i=lt();return t={current:t},i.memoizedState=t},useState:function(t){t=Vs(t);var i=t.queue,l=_f.bind(null,fe,i);return i.dispatch=l,[t.memoizedState,l]},useDebugValue:Gs,useDeferredValue:function(t,i){var l=lt();return Hs(l,t,i)},useTransition:function(){var t=Vs(!1);return t=vf.bind(null,fe,t.queue,!0,!1),lt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,l){var r=fe,f=lt();if(Ce){if(l===void 0)throw Error(a(407));l=l()}else{if(l=i(),Ie===null)throw Error(a(349));(ve&127)!==0||Oc(r,i,l)}f.memoizedState=l;var m={value:l,getSnapshot:i};return f.queue=m,rf(Qc.bind(null,r,m,t),[t]),r.flags|=2048,Di(9,{destroy:void 0},Kc.bind(null,r,m,l,i),null),l},useId:function(){var t=lt(),i=Ie.identifierPrefix;if(Ce){var l=Ht,r=Gt;l=(r&~(1<<32-ht(r)-1)).toString(32)+l,i="_"+i+"R_"+l,l=Nl++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=oy++,i="_"+i+"r_"+l.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:zs,useFormState:of,useActionState:of,useOptimistic:function(t){var i=lt();i.memoizedState=i.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Ps.bind(null,fe,!0,l),l.dispatch=i,[t,i]},useMemoCache:ws,useCacheRefresh:function(){return lt().memoizedState=cy.bind(null,fe)},useEffectEvent:function(t){var i=lt(),l={impl:t};return i.memoizedState=l,function(){if((xe&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},Fs={readContext:We,use:Ul,useCallback:hf,useContext:We,useEffect:qs,useImperativeHandle:pf,useInsertionEffect:ff,useLayoutEffect:df,useMemo:gf,useReducer:Il,useRef:uf,useState:function(){return Il($t)},useDebugValue:Gs,useDeferredValue:function(t,i){var l=Pe();return yf(l,Ne.memoizedState,t,i)},useTransition:function(){var t=Il($t)[0],i=Pe().memoizedState;return[typeof t=="boolean"?t:_o(t),i]},useSyncExternalStore:Yc,useId:Sf,useHostTransitionStatus:zs,useFormState:lf,useActionState:lf,useOptimistic:function(t,i){var l=Pe();return Zc(l,Ne,t,i)},useMemoCache:ws,useCacheRefresh:Ef};Fs.useEffectEvent=cf;var Rf={readContext:We,use:Ul,useCallback:hf,useContext:We,useEffect:qs,useImperativeHandle:pf,useInsertionEffect:ff,useLayoutEffect:df,useMemo:gf,useReducer:Ls,useRef:uf,useState:function(){return Ls($t)},useDebugValue:Gs,useDeferredValue:function(t,i){var l=Pe();return Ne===null?Hs(l,t,i):yf(l,Ne.memoizedState,t,i)},useTransition:function(){var t=Ls($t)[0],i=Pe().memoizedState;return[typeof t=="boolean"?t:_o(t),i]},useSyncExternalStore:Yc,useId:Sf,useHostTransitionStatus:zs,useFormState:sf,useActionState:sf,useOptimistic:function(t,i){var l=Pe();return Ne!==null?Zc(l,Ne,t,i):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:ws,useCacheRefresh:Ef};Rf.useEffectEvent=cf;function Js(t,i,l,r){i=t.memoizedState,l=l(r,i),l=l==null?i:C({},i,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Ys={enqueueSetState:function(t,i,l){t=t._reactInternals;var r=Et(),f=yn(r);f.payload=i,l!=null&&(f.callback=l),i=vn(t,f,r),i!==null&&(dt(i,t,r),To(i,t,r))},enqueueReplaceState:function(t,i,l){t=t._reactInternals;var r=Et(),f=yn(r);f.tag=1,f.payload=i,l!=null&&(f.callback=l),i=vn(t,f,r),i!==null&&(dt(i,t,r),To(i,t,r))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var l=Et(),r=yn(l);r.tag=2,i!=null&&(r.callback=i),i=vn(t,r,l),i!==null&&(dt(i,t,l),To(i,t,l))}};function Nf(t,i,l,r,f,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,m,T):i.prototype&&i.prototype.isPureReactComponent?!co(l,r)||!co(f,m):!0}function Df(t,i,l,r){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,r),i.state!==t&&Ys.enqueueReplaceState(i,i.state,null)}function Wn(t,i){var l=i;if("ref"in i){l={};for(var r in i)r!=="ref"&&(l[r]=i[r])}if(t=t.defaultProps){l===i&&(l=C({},l));for(var f in t)l[f]===void 0&&(l[f]=t[f])}return l}function Uf(t){dl(t)}function If(t){console.error(t)}function wf(t){dl(t)}function Vl(t,i){try{var l=t.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function bf(t,i,l){try{var r=t.onCaughtError;r(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Os(t,i,l){return l=yn(l),l.tag=3,l.payload={element:null},l.callback=function(){Vl(t,i)},l}function Lf(t){return t=yn(t),t.tag=3,t}function Vf(t,i,l,r){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var m=r.value;t.payload=function(){return f(m)},t.callback=function(){bf(i,l,r)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){bf(i,l,r),typeof f!="function"&&(An===null?An=new Set([this]):An.add(this));var E=r.stack;this.componentDidCatch(r.value,{componentStack:E!==null?E:""})})}function dy(t,i,l,r,f){if(l.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=l.alternate,i!==null&&Si(i,l,f,!0),l=vt.current,l!==null){switch(l.tag){case 31:case 13:return Ut===null?Kl():l.alternate===null&&He===0&&(He=3),l.flags&=-257,l.flags|=65536,l.lanes=f,r===El?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([r]):i.add(r),yu(t,r,f)),!1;case 22:return l.flags|=65536,r===El?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([r]):l.add(r)),yu(t,r,f)),!1}throw Error(a(435,l.tag))}return yu(t,r,f),Kl(),!1}if(Ce)return i=vt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,r!==fs&&(t=Error(a(422),{cause:r}),po(Mt(t,l)))):(r!==fs&&(i=Error(a(423),{cause:r}),po(Mt(i,l))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,r=Mt(r,l),f=Os(t.stateNode,r,f),Es(t,f),He!==4&&(He=2)),!1;var m=Error(a(520),{cause:r});if(m=Mt(m,l),bo===null?bo=[m]:bo.push(m),He!==4&&(He=2),i===null)return!0;r=Mt(r,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,t=f&-f,l.lanes|=t,t=Os(l.stateNode,r,t),Es(l,t),!1;case 1:if(i=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(An===null||!An.has(m))))return l.flags|=65536,f&=-f,l.lanes|=f,f=Lf(f),Vf(f,t,l,r),Es(l,f),!1}l=l.return}while(l!==null);return!1}var Ks=Error(a(461)),Ye=!1;function je(t,i,l,r){i.child=t===null?Gc(i,null,l,r):$n(i,t.child,l,r)}function kf(t,i,l,r,f){l=l.render;var m=i.ref;if("ref"in r){var T={};for(var E in r)E!=="ref"&&(T[E]=r[E])}else T=r;return On(i),r=Ns(t,i,l,T,m,f),E=Ds(),t!==null&&!Ye?(Us(t,i,f),Zt(t,i,f)):(Ce&&E&&rs(i),i.flags|=1,je(t,i,r,f),i.child)}function qf(t,i,l,r,f){if(t===null){var m=l.type;return typeof m=="function"&&!as(m)&&m.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=m,Gf(t,i,m,r,f)):(t=gl(l.type,null,r,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!tu(t,f)){var T=m.memoizedProps;if(l=l.compare,l=l!==null?l:co,l(T,r)&&t.ref===i.ref)return Zt(t,i,f)}return i.flags|=1,t=Yt(m,r),t.ref=i.ref,t.return=i,i.child=t}function Gf(t,i,l,r,f){if(t!==null){var m=t.memoizedProps;if(co(m,r)&&t.ref===i.ref)if(Ye=!1,i.pendingProps=r=m,tu(t,f))(t.flags&131072)!==0&&(Ye=!0);else return i.lanes=t.lanes,Zt(t,i,f)}return Qs(t,i,l,r,f)}function Hf(t,i,l,r){var f=r.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,t!==null){for(r=i.child=t.child,f=0;r!==null;)f=f|r.lanes|r.childLanes,r=r.sibling;r=f&~m}else r=0,i.child=null;return Bf(t,i,m,l,r)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cl(i,m!==null?m.cachePool:null),m!==null?zc(i,m):As(),Pc(i);else return r=i.lanes=536870912,Bf(t,i,m!==null?m.baseLanes|l:l,l,r)}else m!==null?(Cl(i,m.cachePool),zc(i,m),Cn(),i.memoizedState=null):(t!==null&&Cl(i,null),As(),Cn());return je(t,i,f,l),i.child}function Mo(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Bf(t,i,l,r,f){var m=vs();return m=m===null?null:{parent:Fe._currentValue,pool:m},i.memoizedState={baseLanes:l,cachePool:m},t!==null&&Cl(i,null),As(),Pc(i),t!==null&&Si(t,i,r,!0),i.childLanes=f,null}function kl(t,i){return i=Gl({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function zf(t,i,l){return $n(i,t.child,null,l),t=kl(i,i.pendingProps),t.flags|=2,Tt(i),i.memoizedState=null,t}function my(t,i,l){var r=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ce){if(r.mode==="hidden")return t=kl(i,r),i.lanes=536870912,Mo(null,t);if(Ms(i),(t=we)?(t=jd(t,Dt),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:dn!==null?{id:Gt,overflow:Ht}:null,retryLane:536870912,hydrationErrors:null},l=_c(t),l.return=i,i.child=l,Ze=i,we=null)):t=null,t===null)throw pn(i);return i.lanes=536870912,null}return kl(i,r)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if(Ms(i),f)if(i.flags&256)i.flags&=-257,i=zf(t,i,l);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(Ye||Si(t,i,l,!1),f=(l&t.childLanes)!==0,Ye||f){if(r=Ie,r!==null&&(T=Ur(r,l),T!==0&&T!==m.retryLane))throw m.retryLane=T,Pn(t,T),dt(r,t,T),Ks;Kl(),i=zf(t,i,l)}else t=m.treeContext,we=It(T.nextSibling),Ze=i,Ce=!0,mn=null,Dt=!1,t!==null&&Mc(i,t),i=kl(i,r),i.flags|=4096;return i}return t=Yt(t.child,{mode:r.mode,children:r.children}),t.ref=i.ref,i.child=t,t.return=i,t}function ql(t,i){var l=i.ref;if(l===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(t===null||t.ref!==l)&&(i.flags|=4194816)}}function Qs(t,i,l,r,f){return On(i),l=Ns(t,i,l,r,void 0,f),r=Ds(),t!==null&&!Ye?(Us(t,i,f),Zt(t,i,f)):(Ce&&r&&rs(i),i.flags|=1,je(t,i,l,f),i.child)}function Pf(t,i,l,r,f,m){return On(i),i.updateQueue=null,l=Jc(i,r,l,f),Fc(t),r=Ds(),t!==null&&!Ye?(Us(t,i,m),Zt(t,i,m)):(Ce&&r&&rs(i),i.flags|=1,je(t,i,l,m),i.child)}function Ff(t,i,l,r,f){if(On(i),i.stateNode===null){var m=yi,T=l.contextType;typeof T=="object"&&T!==null&&(m=We(T)),m=new l(r,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ys,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=r,m.state=i.memoizedState,m.refs={},Cs(i),T=l.contextType,m.context=typeof T=="object"&&T!==null?We(T):yi,m.state=i.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Js(i,l,T,r),m.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Ys.enqueueReplaceState(m,m.state,null),So(i,r,m,f),Co(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(t===null){m=i.stateNode;var E=i.memoizedProps,x=Wn(l,E);m.props=x;var U=m.context,V=l.contextType;T=yi,typeof V=="object"&&V!==null&&(T=We(V));var B=l.getDerivedStateFromProps;V=typeof B=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,V||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||U!==T)&&Df(i,m,r,T),gn=!1;var I=i.memoizedState;m.state=I,So(i,r,m,f),Co(),U=i.memoizedState,E||I!==U||gn?(typeof B=="function"&&(Js(i,l,B,r),U=i.memoizedState),(x=gn||Nf(i,l,x,r,I,U,T))?(V||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=U),m.props=r,m.state=U,m.context=T,r=x):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{m=i.stateNode,Ss(t,i),T=i.memoizedProps,V=Wn(l,T),m.props=V,B=i.pendingProps,I=m.context,U=l.contextType,x=yi,typeof U=="object"&&U!==null&&(x=We(U)),E=l.getDerivedStateFromProps,(U=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==B||I!==x)&&Df(i,m,r,x),gn=!1,I=i.memoizedState,m.state=I,So(i,r,m,f),Co();var w=i.memoizedState;T!==B||I!==w||gn||t!==null&&t.dependencies!==null&&vl(t.dependencies)?(typeof E=="function"&&(Js(i,l,E,r),w=i.memoizedState),(V=gn||Nf(i,l,V,r,I,w,x)||t!==null&&t.dependencies!==null&&vl(t.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(r,w,x),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(r,w,x)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=w),m.props=r,m.state=w,m.context=x,r=V):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=1024),r=!1)}return m=r,ql(t,i),r=(i.flags&128)!==0,m||r?(m=i.stateNode,l=r&&typeof l.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&r?(i.child=$n(i,t.child,null,f),i.child=$n(i,null,l,f)):je(t,i,l,f),i.memoizedState=m.state,t=i.child):t=Zt(t,i,f),t}function Jf(t,i,l,r){return Jn(),i.flags|=256,je(t,i,l,r),i.child}var Xs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $s(t){return{baseLanes:t,cachePool:wc()}}function Zs(t,i,l){return t=t!==null?t.childLanes&~l:0,i&&(t|=St),t}function Yf(t,i,l){var r=i.pendingProps,f=!1,m=(i.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(ze.current&2)!==0),T&&(f=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ce){if(f?Tn(i):Cn(),(t=we)?(t=jd(t,Dt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:dn!==null?{id:Gt,overflow:Ht}:null,retryLane:536870912,hydrationErrors:null},l=_c(t),l.return=i,i.child=l,Ze=i,we=null)):t=null,t===null)throw pn(i);return bu(t)?i.lanes=32:i.lanes=536870912,null}var E=r.children;return r=r.fallback,f?(Cn(),f=i.mode,E=Gl({mode:"hidden",children:E},f),r=Fn(r,f,l,null),E.return=i,r.return=i,E.sibling=r,i.child=E,r=i.child,r.memoizedState=$s(l),r.childLanes=Zs(t,T,l),i.memoizedState=Xs,Mo(null,r)):(Tn(i),Ws(i,E))}var x=t.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(m)i.flags&256?(Tn(i),i.flags&=-257,i=js(t,i,l)):i.memoizedState!==null?(Cn(),i.child=t.child,i.flags|=128,i=null):(Cn(),E=r.fallback,f=i.mode,r=Gl({mode:"visible",children:r.children},f),E=Fn(E,f,l,null),E.flags|=2,r.return=i,E.return=i,r.sibling=E,i.child=r,$n(i,t.child,null,l),r=i.child,r.memoizedState=$s(l),r.childLanes=Zs(t,T,l),i.memoizedState=Xs,i=Mo(null,r));else if(Tn(i),bu(E)){if(T=E.nextSibling&&E.nextSibling.dataset,T)var U=T.dgst;T=U,r=Error(a(419)),r.stack="",r.digest=T,po({value:r,source:null,stack:null}),i=js(t,i,l)}else if(Ye||Si(t,i,l,!1),T=(l&t.childLanes)!==0,Ye||T){if(T=Ie,T!==null&&(r=Ur(T,l),r!==0&&r!==x.retryLane))throw x.retryLane=r,Pn(t,r),dt(T,t,r),Ks;wu(E)||Kl(),i=js(t,i,l)}else wu(E)?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,we=It(E.nextSibling),Ze=i,Ce=!0,mn=null,Dt=!1,t!==null&&Mc(i,t),i=Ws(i,r.children),i.flags|=4096);return i}return f?(Cn(),E=r.fallback,f=i.mode,x=t.child,U=x.sibling,r=Yt(x,{mode:"hidden",children:r.children}),r.subtreeFlags=x.subtreeFlags&65011712,U!==null?E=Yt(U,E):(E=Fn(E,f,l,null),E.flags|=2),E.return=i,r.return=i,r.sibling=E,i.child=r,Mo(null,r),r=i.child,E=t.child.memoizedState,E===null?E=$s(l):(f=E.cachePool,f!==null?(x=Fe._currentValue,f=f.parent!==x?{parent:x,pool:x}:f):f=wc(),E={baseLanes:E.baseLanes|l,cachePool:f}),r.memoizedState=E,r.childLanes=Zs(t,T,l),i.memoizedState=Xs,Mo(t.child,r)):(Tn(i),l=t.child,t=l.sibling,l=Yt(l,{mode:"visible",children:r.children}),l.return=i,l.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=l,i.memoizedState=null,l)}function Ws(t,i){return i=Gl({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Gl(t,i){return t=yt(22,t,null,i),t.lanes=0,t}function js(t,i,l){return $n(i,t.child,null,l),t=Ws(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Of(t,i,l){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i),ps(t.return,i,l)}function eu(t,i,l,r,f,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:l,tailMode:f,treeForkCount:m}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=r,T.tail=l,T.tailMode=f,T.treeForkCount=m)}function Kf(t,i,l){var r=i.pendingProps,f=r.revealOrder,m=r.tail;r=r.children;var T=ze.current,E=(T&2)!==0;if(E?(T=T&1|2,i.flags|=128):T&=1,O(ze,T),je(t,i,r,l),r=Ce?mo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Of(t,l,i);else if(t.tag===19)Of(t,l,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(l=i.child,f=null;l!==null;)t=l.alternate,t!==null&&Ml(t)===null&&(f=l),l=l.sibling;l=f,l===null?(f=i.child,i.child=null):(f=l.sibling,l.sibling=null),eu(i,!1,f,l,m,r);break;case"backwards":case"unstable_legacy-backwards":for(l=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Ml(t)===null){i.child=f;break}t=f.sibling,f.sibling=l,l=f,f=t}eu(i,!0,l,null,m,r);break;case"together":eu(i,!1,null,null,void 0,r);break;default:i.memoizedState=null}return i.child}function Zt(t,i,l){if(t!==null&&(i.dependencies=t.dependencies),_n|=i.lanes,(l&i.childLanes)===0)if(t!==null){if(Si(t,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,l=Yt(t,t.pendingProps),i.child=l,l.return=i;t.sibling!==null;)t=t.sibling,l=l.sibling=Yt(t,t.pendingProps),l.return=i;l.sibling=null}return i.child}function tu(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&vl(t)))}function py(t,i,l){switch(i.tag){case 3:Ve(i,i.stateNode.containerInfo),hn(i,Fe,t.memoizedState.cache),Jn();break;case 27:case 5:Zi(i);break;case 4:Ve(i,i.stateNode.containerInfo);break;case 10:hn(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ms(i),null;break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(Tn(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Yf(t,i,l):(Tn(i),t=Zt(t,i,l),t!==null?t.sibling:null);Tn(i);break;case 19:var f=(t.flags&128)!==0;if(r=(l&i.childLanes)!==0,r||(Si(t,i,l,!1),r=(l&i.childLanes)!==0),f){if(r)return Kf(t,i,l);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),O(ze,ze.current),r)break;return null;case 22:return i.lanes=0,Hf(t,i,l,i.pendingProps);case 24:hn(i,Fe,t.memoizedState.cache)}return Zt(t,i,l)}function Qf(t,i,l){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ye=!0;else{if(!tu(t,l)&&(i.flags&128)===0)return Ye=!1,py(t,i,l);Ye=(t.flags&131072)!==0}else Ye=!1,Ce&&(i.flags&1048576)!==0&&xc(i,mo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var r=i.pendingProps;if(t=Qn(i.elementType),i.type=t,typeof t=="function")as(t)?(r=Wn(t,r),i.tag=1,i=Ff(null,i,t,r,l)):(i.tag=0,i=Qs(null,i,t,r,l));else{if(t!=null){var f=t.$$typeof;if(f===J){i.tag=11,i=kf(null,i,t,r,l);break e}else if(f===Y){i.tag=14,i=qf(null,i,t,r,l);break e}}throw i=tt(t)||t,Error(a(306,i,""))}}return i;case 0:return Qs(t,i,i.type,i.pendingProps,l);case 1:return r=i.type,f=Wn(r,i.pendingProps),Ff(t,i,r,f,l);case 3:e:{if(Ve(i,i.stateNode.containerInfo),t===null)throw Error(a(387));r=i.pendingProps;var m=i.memoizedState;f=m.element,Ss(t,i),So(i,r,null,l);var T=i.memoizedState;if(r=T.cache,hn(i,Fe,r),r!==m.cache&&hs(i,[Fe],l,!0),Co(),r=T.element,m.isDehydrated)if(m={element:r,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=Jf(t,i,r,l);break e}else if(r!==f){f=Mt(Error(a(424)),i),po(f),i=Jf(t,i,r,l);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(we=It(t.firstChild),Ze=i,Ce=!0,mn=null,Dt=!0,l=Gc(i,null,r,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Jn(),r===f){i=Zt(t,i,l);break e}je(t,i,r,l)}i=i.child}return i;case 26:return ql(t,i),t===null?(l=lm(i.type,null,i.pendingProps,null))?i.memoizedState=l:Ce||(l=i.type,t=i.pendingProps,r=ea(ue.current).createElement(l),r[$e]=i,r[at]=t,et(r,l,t),Qe(r),i.stateNode=r):i.memoizedState=lm(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Zi(i),t===null&&Ce&&(r=i.stateNode=nm(i.type,i.pendingProps,ue.current),Ze=i,Dt=!0,f=we,Nn(i.type)?(Lu=f,we=It(r.firstChild)):we=f),je(t,i,i.pendingProps.children,l),ql(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ce&&((f=r=we)&&(r=Jy(r,i.type,i.pendingProps,Dt),r!==null?(i.stateNode=r,Ze=i,we=It(r.firstChild),Dt=!1,f=!0):f=!1),f||pn(i)),Zi(i),f=i.type,m=i.pendingProps,T=t!==null?t.memoizedProps:null,r=m.children,Du(f,m)?r=null:T!==null&&Du(f,T)&&(i.flags|=32),i.memoizedState!==null&&(f=Ns(t,i,ly,null,null,l),zo._currentValue=f),ql(t,i),je(t,i,r,l),i.child;case 6:return t===null&&Ce&&((t=l=we)&&(l=Yy(l,i.pendingProps,Dt),l!==null?(i.stateNode=l,Ze=i,we=null,t=!0):t=!1),t||pn(i)),null;case 13:return Yf(t,i,l);case 4:return Ve(i,i.stateNode.containerInfo),r=i.pendingProps,t===null?i.child=$n(i,null,r,l):je(t,i,r,l),i.child;case 11:return kf(t,i,i.type,i.pendingProps,l);case 7:return je(t,i,i.pendingProps,l),i.child;case 8:return je(t,i,i.pendingProps.children,l),i.child;case 12:return je(t,i,i.pendingProps.children,l),i.child;case 10:return r=i.pendingProps,hn(i,i.type,r.value),je(t,i,r.children,l),i.child;case 9:return f=i.type._context,r=i.pendingProps.children,On(i),f=We(f),r=r(f),i.flags|=1,je(t,i,r,l),i.child;case 14:return qf(t,i,i.type,i.pendingProps,l);case 15:return Gf(t,i,i.type,i.pendingProps,l);case 19:return Kf(t,i,l);case 31:return my(t,i,l);case 22:return Hf(t,i,l,i.pendingProps);case 24:return On(i),r=We(Fe),t===null?(f=vs(),f===null&&(f=Ie,m=gs(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=l),f=m),i.memoizedState={parent:r,cache:f},Cs(i),hn(i,Fe,f)):((t.lanes&l)!==0&&(Ss(t,i),So(i,null,null,l),Co()),f=t.memoizedState,m=i.memoizedState,f.parent!==r?(f={parent:r,cache:r},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),hn(i,Fe,r)):(r=m.cache,hn(i,Fe,r),r!==f.cache&&hs(i,[Fe],l,!0))),je(t,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Wt(t){t.flags|=4}function nu(t,i,l,r,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Sd())t.flags|=8192;else throw Xn=El,Ts}else t.flags&=-16777217}function Xf(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!cm(i))if(Sd())t.flags|=8192;else throw Xn=El,Ts}function Hl(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Rr():536870912,t.lanes|=i,bi|=i)}function Ro(t,i){if(!Ce)switch(t.tailMode){case"hidden":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var r=null;l!==null;)l.alternate!==null&&(r=l),l=l.sibling;r===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function be(t){var i=t.alternate!==null&&t.alternate.child===t.child,l=0,r=0;if(i)for(var f=t.child;f!==null;)l|=f.lanes|f.childLanes,r|=f.subtreeFlags&65011712,r|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)l|=f.lanes|f.childLanes,r|=f.subtreeFlags,r|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=r,t.childLanes=l,i}function hy(t,i,l){var r=i.pendingProps;switch(cs(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(i),null;case 1:return be(i),null;case 3:return l=i.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Qt(Fe),Be(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Ci(i)?Wt(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ds())),be(i),null;case 26:var f=i.type,m=i.memoizedState;return t===null?(Wt(i),m!==null?(be(i),Xf(i,m)):(be(i),nu(i,f,null,r,l))):m?m!==t.memoizedState?(Wt(i),be(i),Xf(i,m)):(be(i),i.flags&=-16777217):(t=t.memoizedProps,t!==r&&Wt(i),be(i),nu(i,f,t,r,l)),null;case 27:if($o(i),l=ue.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==r&&Wt(i);else{if(!r){if(i.stateNode===null)throw Error(a(166));return be(i),null}t=X.current,Ci(i)?Rc(i):(t=nm(f,r,l),i.stateNode=t,Wt(i))}return be(i),null;case 5:if($o(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==r&&Wt(i);else{if(!r){if(i.stateNode===null)throw Error(a(166));return be(i),null}if(m=X.current,Ci(i))Rc(i);else{var T=ea(ue.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof r.is=="string"?T.createElement("select",{is:r.is}):T.createElement("select"),r.multiple?m.multiple=!0:r.size&&(m.size=r.size);break;default:m=typeof r.is=="string"?T.createElement(f,{is:r.is}):T.createElement(f)}}m[$e]=i,m[at]=r;e:for(T=i.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===i)break e;for(;T.sibling===null;){if(T.return===null||T.return===i)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}i.stateNode=m;e:switch(et(m,f,r),f){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Wt(i)}}return be(i),nu(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,l),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==r&&Wt(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(a(166));if(t=ue.current,Ci(i)){if(t=i.stateNode,l=i.memoizedProps,r=null,f=Ze,f!==null)switch(f.tag){case 27:case 5:r=f.memoizedProps}t[$e]=i,t=!!(t.nodeValue===l||r!==null&&r.suppressHydrationWarning===!0||Yd(t.nodeValue,l)),t||pn(i,!0)}else t=ea(t).createTextNode(r),t[$e]=i,i.stateNode=t}return be(i),null;case 31:if(l=i.memoizedState,t===null||t.memoizedState!==null){if(r=Ci(i),l!==null){if(t===null){if(!r)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[$e]=i}else Jn(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;be(i),t=!1}else l=ds(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),t=!0;if(!t)return i.flags&256?(Tt(i),i):(Tt(i),null);if((i.flags&128)!==0)throw Error(a(558))}return be(i),null;case 13:if(r=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ci(i),r!==null&&r.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[$e]=i}else Jn(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;be(i),f=!1}else f=ds(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Tt(i),i):(Tt(i),null)}return Tt(i),(i.flags&128)!==0?(i.lanes=l,i):(l=r!==null,t=t!==null&&t.memoizedState!==null,l&&(r=i.child,f=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(f=r.alternate.memoizedState.cachePool.pool),m=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(m=r.memoizedState.cachePool.pool),m!==f&&(r.flags|=2048)),l!==t&&l&&(i.child.flags|=8192),Hl(i,i.updateQueue),be(i),null);case 4:return Be(),t===null&&Au(i.stateNode.containerInfo),be(i),null;case 10:return Qt(i.type),be(i),null;case 19:if(k(ze),r=i.memoizedState,r===null)return be(i),null;if(f=(i.flags&128)!==0,m=r.rendering,m===null)if(f)Ro(r,!1);else{if(He!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=Ml(t),m!==null){for(i.flags|=128,Ro(r,!1),t=m.updateQueue,i.updateQueue=t,Hl(i,t),i.subtreeFlags=0,t=l,l=i.child;l!==null;)Ec(l,t),l=l.sibling;return O(ze,ze.current&1|2),Ce&&Ot(i,r.treeForkCount),i.child}t=t.sibling}r.tail!==null&&mt()>Jl&&(i.flags|=128,f=!0,Ro(r,!1),i.lanes=4194304)}else{if(!f)if(t=Ml(m),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Hl(i,t),Ro(r,!0),r.tail===null&&r.tailMode==="hidden"&&!m.alternate&&!Ce)return be(i),null}else 2*mt()-r.renderingStartTime>Jl&&l!==536870912&&(i.flags|=128,f=!0,Ro(r,!1),i.lanes=4194304);r.isBackwards?(m.sibling=i.child,i.child=m):(t=r.last,t!==null?t.sibling=m:i.child=m,r.last=m)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=mt(),t.sibling=null,l=ze.current,O(ze,f?l&1|2:l&1),Ce&&Ot(i,r.treeForkCount),t):(be(i),null);case 22:case 23:return Tt(i),xs(),r=i.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(l&536870912)!==0&&(i.flags&128)===0&&(be(i),i.subtreeFlags&6&&(i.flags|=8192)):be(i),l=i.updateQueue,l!==null&&Hl(i,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(i.flags|=2048),t!==null&&k(Kn),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Qt(Fe),be(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function gy(t,i){switch(cs(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Qt(Fe),Be(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return $o(i),null;case 31:if(i.memoizedState!==null){if(Tt(i),i.alternate===null)throw Error(a(340));Jn()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tt(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Jn()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return k(ze),null;case 4:return Be(),null;case 10:return Qt(i.type),null;case 22:case 23:return Tt(i),xs(),t!==null&&k(Kn),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Qt(Fe),null;case 25:return null;default:return null}}function $f(t,i){switch(cs(i),i.tag){case 3:Qt(Fe),Be();break;case 26:case 27:case 5:$o(i);break;case 4:Be();break;case 31:i.memoizedState!==null&&Tt(i);break;case 13:Tt(i);break;case 19:k(ze);break;case 10:Qt(i.type);break;case 22:case 23:Tt(i),xs(),t!==null&&k(Kn);break;case 24:Qt(Fe)}}function No(t,i){try{var l=i.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var f=r.next;l=f;do{if((l.tag&t)===t){r=void 0;var m=l.create,T=l.inst;r=m(),T.destroy=r}l=l.next}while(l!==f)}}catch(E){Re(i,i.return,E)}}function Sn(t,i,l){try{var r=i.updateQueue,f=r!==null?r.lastEffect:null;if(f!==null){var m=f.next;r=m;do{if((r.tag&t)===t){var T=r.inst,E=T.destroy;if(E!==void 0){T.destroy=void 0,f=i;var x=l,U=E;try{U()}catch(V){Re(f,x,V)}}}r=r.next}while(r!==m)}}catch(V){Re(i,i.return,V)}}function Zf(t){var i=t.updateQueue;if(i!==null){var l=t.stateNode;try{Bc(i,l)}catch(r){Re(t,t.return,r)}}}function Wf(t,i,l){l.props=Wn(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(r){Re(t,i,r)}}function Do(t,i){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof l=="function"?t.refCleanup=l(r):l.current=r}}catch(f){Re(t,i,f)}}function Bt(t,i){var l=t.ref,r=t.refCleanup;if(l!==null)if(typeof r=="function")try{r()}catch(f){Re(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){Re(t,i,f)}else l.current=null}function jf(t){var i=t.type,l=t.memoizedProps,r=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break e;case"img":l.src?r.src=l.src:l.srcSet&&(r.srcset=l.srcSet)}}catch(f){Re(t,t.return,f)}}function iu(t,i,l){try{var r=t.stateNode;Gy(r,t.type,l,i),r[at]=i}catch(f){Re(t,t.return,f)}}function ed(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Nn(t.type)||t.tag===4}function ou(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ed(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Nn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lu(t,i,l){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(t),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Ft));else if(r!==4&&(r===27&&Nn(t.type)&&(l=t.stateNode,i=null),t=t.child,t!==null))for(lu(t,i,l),t=t.sibling;t!==null;)lu(t,i,l),t=t.sibling}function Bl(t,i,l){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?l.insertBefore(t,i):l.appendChild(t);else if(r!==4&&(r===27&&Nn(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Bl(t,i,l),t=t.sibling;t!==null;)Bl(t,i,l),t=t.sibling}function td(t){var i=t.stateNode,l=t.memoizedProps;try{for(var r=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);et(i,r,l),i[$e]=t,i[at]=l}catch(m){Re(t,t.return,m)}}var jt=!1,Oe=!1,au=!1,nd=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function yy(t,i){if(t=t.containerInfo,Ru=sa,t=mc(t),ja(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var r=l.getSelection&&l.getSelection();if(r&&r.rangeCount!==0){l=r.anchorNode;var f=r.anchorOffset,m=r.focusNode;r=r.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var T=0,E=-1,x=-1,U=0,V=0,B=t,I=null;t:for(;;){for(var w;B!==l||f!==0&&B.nodeType!==3||(E=T+f),B!==m||r!==0&&B.nodeType!==3||(x=T+r),B.nodeType===3&&(T+=B.nodeValue.length),(w=B.firstChild)!==null;)I=B,B=w;for(;;){if(B===t)break t;if(I===l&&++U===f&&(E=T),I===m&&++V===r&&(x=T),(w=B.nextSibling)!==null)break;B=I,I=B.parentNode}B=w}l=E===-1||x===-1?null:{start:E,end:x}}else l=null}l=l||{start:0,end:0}}else l=null;for(Nu={focusedElem:t,selectionRange:l},sa=!1,Xe=i;Xe!==null;)if(i=Xe,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Xe=t;else for(;Xe!==null;){switch(i=Xe,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(l=0;l<t.length;l++)f=t[l],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,l=i,f=m.memoizedProps,m=m.memoizedState,r=l.stateNode;try{var Z=Wn(l.type,f);t=r.getSnapshotBeforeUpdate(Z,m),r.__reactInternalSnapshotBeforeUpdate=t}catch(le){Re(l,l.return,le)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,l=t.nodeType,l===9)Iu(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Iu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Xe=t;break}Xe=i.return}}function id(t,i,l){var r=l.flags;switch(l.tag){case 0:case 11:case 15:tn(t,l),r&4&&No(5,l);break;case 1:if(tn(t,l),r&4)if(t=l.stateNode,i===null)try{t.componentDidMount()}catch(T){Re(l,l.return,T)}else{var f=Wn(l.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Re(l,l.return,T)}}r&64&&Zf(l),r&512&&Do(l,l.return);break;case 3:if(tn(t,l),r&64&&(t=l.updateQueue,t!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Bc(t,i)}catch(T){Re(l,l.return,T)}}break;case 27:i===null&&r&4&&td(l);case 26:case 5:tn(t,l),i===null&&r&4&&jf(l),r&512&&Do(l,l.return);break;case 12:tn(t,l);break;case 31:tn(t,l),r&4&&ad(t,l);break;case 13:tn(t,l),r&4&&sd(t,l),r&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=My.bind(null,l),Oy(t,l))));break;case 22:if(r=l.memoizedState!==null||jt,!r){i=i!==null&&i.memoizedState!==null||Oe,f=jt;var m=Oe;jt=r,(Oe=i)&&!m?nn(t,l,(l.subtreeFlags&8772)!==0):tn(t,l),jt=f,Oe=m}break;case 30:break;default:tn(t,l)}}function od(t){var i=t.alternate;i!==null&&(t.alternate=null,od(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ka(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ke=null,ut=!1;function en(t,i,l){for(l=l.child;l!==null;)ld(t,i,l),l=l.sibling}function ld(t,i,l){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Wi,l)}catch{}switch(l.tag){case 26:Oe||Bt(l,i),en(t,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Oe||Bt(l,i);var r=ke,f=ut;Nn(l.type)&&(ke=l.stateNode,ut=!1),en(t,i,l),Go(l.stateNode),ke=r,ut=f;break;case 5:Oe||Bt(l,i);case 6:if(r=ke,f=ut,ke=null,en(t,i,l),ke=r,ut=f,ke!==null)if(ut)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(l.stateNode)}catch(m){Re(l,i,m)}else try{ke.removeChild(l.stateNode)}catch(m){Re(l,i,m)}break;case 18:ke!==null&&(ut?(t=ke,Zd(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),zi(t)):Zd(ke,l.stateNode));break;case 4:r=ke,f=ut,ke=l.stateNode.containerInfo,ut=!0,en(t,i,l),ke=r,ut=f;break;case 0:case 11:case 14:case 15:Sn(2,l,i),Oe||Sn(4,l,i),en(t,i,l);break;case 1:Oe||(Bt(l,i),r=l.stateNode,typeof r.componentWillUnmount=="function"&&Wf(l,i,r)),en(t,i,l);break;case 21:en(t,i,l);break;case 22:Oe=(r=Oe)||l.memoizedState!==null,en(t,i,l),Oe=r;break;default:en(t,i,l)}}function ad(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{zi(t)}catch(l){Re(i,i.return,l)}}}function sd(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zi(t)}catch(l){Re(i,i.return,l)}}function vy(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new nd),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new nd),i;default:throw Error(a(435,t.tag))}}function zl(t,i){var l=vy(t);i.forEach(function(r){if(!l.has(r)){l.add(r);var f=Ry.bind(null,t,r);r.then(f,f)}})}function rt(t,i){var l=i.deletions;if(l!==null)for(var r=0;r<l.length;r++){var f=l[r],m=t,T=i,E=T;e:for(;E!==null;){switch(E.tag){case 27:if(Nn(E.type)){ke=E.stateNode,ut=!1;break e}break;case 5:ke=E.stateNode,ut=!1;break e;case 3:case 4:ke=E.stateNode.containerInfo,ut=!0;break e}E=E.return}if(ke===null)throw Error(a(160));ld(m,T,f),ke=null,ut=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)ud(i,t),i=i.sibling}var Vt=null;function ud(t,i){var l=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rt(i,t),ct(t),r&4&&(Sn(3,t,t.return),No(3,t),Sn(5,t,t.return));break;case 1:rt(i,t),ct(t),r&512&&(Oe||l===null||Bt(l,l.return)),r&64&&jt&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?r:l.concat(r))));break;case 26:var f=Vt;if(rt(i,t),ct(t),r&512&&(Oe||l===null||Bt(l,l.return)),r&4){var m=l!==null?l.memoizedState:null;if(r=t.memoizedState,l===null)if(r===null)if(t.stateNode===null){e:{r=t.type,l=t.memoizedProps,f=f.ownerDocument||f;t:switch(r){case"title":m=f.getElementsByTagName("title")[0],(!m||m[to]||m[$e]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(r),f.head.insertBefore(m,f.querySelector("head > title"))),et(m,r,l),m[$e]=t,Qe(m),r=m;break e;case"link":var T=um("link","href",f).get(r+(l.href||""));if(T){for(var E=0;E<T.length;E++)if(m=T[E],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(E,1);break t}}m=f.createElement(r),et(m,r,l),f.head.appendChild(m);break;case"meta":if(T=um("meta","content",f).get(r+(l.content||""))){for(E=0;E<T.length;E++)if(m=T[E],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(E,1);break t}}m=f.createElement(r),et(m,r,l),f.head.appendChild(m);break;default:throw Error(a(468,r))}m[$e]=t,Qe(m),r=m}t.stateNode=r}else rm(f,t.type,t.stateNode);else t.stateNode=sm(f,r,t.memoizedProps);else m!==r?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,r===null?rm(f,t.type,t.stateNode):sm(f,r,t.memoizedProps)):r===null&&t.stateNode!==null&&iu(t,t.memoizedProps,l.memoizedProps)}break;case 27:rt(i,t),ct(t),r&512&&(Oe||l===null||Bt(l,l.return)),l!==null&&r&4&&iu(t,t.memoizedProps,l.memoizedProps);break;case 5:if(rt(i,t),ct(t),r&512&&(Oe||l===null||Bt(l,l.return)),t.flags&32){f=t.stateNode;try{ci(f,"")}catch(Z){Re(t,t.return,Z)}}r&4&&t.stateNode!=null&&(f=t.memoizedProps,iu(t,f,l!==null?l.memoizedProps:f)),r&1024&&(au=!0);break;case 6:if(rt(i,t),ct(t),r&4){if(t.stateNode===null)throw Error(a(162));r=t.memoizedProps,l=t.stateNode;try{l.nodeValue=r}catch(Z){Re(t,t.return,Z)}}break;case 3:if(ia=null,f=Vt,Vt=ta(i.containerInfo),rt(i,t),Vt=f,ct(t),r&4&&l!==null&&l.memoizedState.isDehydrated)try{zi(i.containerInfo)}catch(Z){Re(t,t.return,Z)}au&&(au=!1,rd(t));break;case 4:r=Vt,Vt=ta(t.stateNode.containerInfo),rt(i,t),ct(t),Vt=r;break;case 12:rt(i,t),ct(t);break;case 31:rt(i,t),ct(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,zl(t,r)));break;case 13:rt(i,t),ct(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Fl=mt()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,zl(t,r)));break;case 22:f=t.memoizedState!==null;var x=l!==null&&l.memoizedState!==null,U=jt,V=Oe;if(jt=U||f,Oe=V||x,rt(i,t),Oe=V,jt=U,ct(t),r&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(l===null||x||jt||Oe||jn(t)),l=null,i=t;;){if(i.tag===5||i.tag===26){if(l===null){x=l=i;try{if(m=x.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{E=x.stateNode;var B=x.memoizedProps.style,I=B!=null&&B.hasOwnProperty("display")?B.display:null;E.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(Z){Re(x,x.return,Z)}}}else if(i.tag===6){if(l===null){x=i;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(Z){Re(x,x.return,Z)}}}else if(i.tag===18){if(l===null){x=i;try{var w=x.stateNode;f?Wd(w,!0):Wd(x.stateNode,!1)}catch(Z){Re(x,x.return,Z)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=t.updateQueue,r!==null&&(l=r.retryQueue,l!==null&&(r.retryQueue=null,zl(t,l))));break;case 19:rt(i,t),ct(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,zl(t,r)));break;case 30:break;case 21:break;default:rt(i,t),ct(t)}}function ct(t){var i=t.flags;if(i&2){try{for(var l,r=t.return;r!==null;){if(ed(r)){l=r;break}r=r.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var f=l.stateNode,m=ou(t);Bl(t,m,f);break;case 5:var T=l.stateNode;l.flags&32&&(ci(T,""),l.flags&=-33);var E=ou(t);Bl(t,E,T);break;case 3:case 4:var x=l.stateNode.containerInfo,U=ou(t);lu(t,U,x);break;default:throw Error(a(161))}}catch(V){Re(t,t.return,V)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function rd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;rd(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function tn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)id(t,i.alternate,i),i=i.sibling}function jn(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Sn(4,i,i.return),jn(i);break;case 1:Bt(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Wf(i,i.return,l),jn(i);break;case 27:Go(i.stateNode);case 26:case 5:Bt(i,i.return),jn(i);break;case 22:i.memoizedState===null&&jn(i);break;case 30:jn(i);break;default:jn(i)}t=t.sibling}}function nn(t,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,f=t,m=i,T=m.flags;switch(m.tag){case 0:case 11:case 15:nn(f,m,l),No(4,m);break;case 1:if(nn(f,m,l),r=m,f=r.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){Re(r,r.return,U)}if(r=m,f=r.updateQueue,f!==null){var E=r.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)Hc(x[f],E)}catch(U){Re(r,r.return,U)}}l&&T&64&&Zf(m),Do(m,m.return);break;case 27:td(m);case 26:case 5:nn(f,m,l),l&&r===null&&T&4&&jf(m),Do(m,m.return);break;case 12:nn(f,m,l);break;case 31:nn(f,m,l),l&&T&4&&ad(f,m);break;case 13:nn(f,m,l),l&&T&4&&sd(f,m);break;case 22:m.memoizedState===null&&nn(f,m,l),Do(m,m.return);break;case 30:break;default:nn(f,m,l)}i=i.sibling}}function su(t,i){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&ho(l))}function uu(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ho(t))}function kt(t,i,l,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)cd(t,i,l,r),i=i.sibling}function cd(t,i,l,r){var f=i.flags;switch(i.tag){case 0:case 11:case 15:kt(t,i,l,r),f&2048&&No(9,i);break;case 1:kt(t,i,l,r);break;case 3:kt(t,i,l,r),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ho(t)));break;case 12:if(f&2048){kt(t,i,l,r),t=i.stateNode;try{var m=i.memoizedProps,T=m.id,E=m.onPostCommit;typeof E=="function"&&E(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Re(i,i.return,x)}}else kt(t,i,l,r);break;case 31:kt(t,i,l,r);break;case 13:kt(t,i,l,r);break;case 23:break;case 22:m=i.stateNode,T=i.alternate,i.memoizedState!==null?m._visibility&2?kt(t,i,l,r):Uo(t,i):m._visibility&2?kt(t,i,l,r):(m._visibility|=2,Ui(t,i,l,r,(i.subtreeFlags&10256)!==0||!1)),f&2048&&su(T,i);break;case 24:kt(t,i,l,r),f&2048&&uu(i.alternate,i);break;default:kt(t,i,l,r)}}function Ui(t,i,l,r,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,T=i,E=l,x=r,U=T.flags;switch(T.tag){case 0:case 11:case 15:Ui(m,T,E,x,f),No(8,T);break;case 23:break;case 22:var V=T.stateNode;T.memoizedState!==null?V._visibility&2?Ui(m,T,E,x,f):Uo(m,T):(V._visibility|=2,Ui(m,T,E,x,f)),f&&U&2048&&su(T.alternate,T);break;case 24:Ui(m,T,E,x,f),f&&U&2048&&uu(T.alternate,T);break;default:Ui(m,T,E,x,f)}i=i.sibling}}function Uo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=t,r=i,f=r.flags;switch(r.tag){case 22:Uo(l,r),f&2048&&su(r.alternate,r);break;case 24:Uo(l,r),f&2048&&uu(r.alternate,r);break;default:Uo(l,r)}i=i.sibling}}var Io=8192;function Ii(t,i,l){if(t.subtreeFlags&Io)for(t=t.child;t!==null;)fd(t,i,l),t=t.sibling}function fd(t,i,l){switch(t.tag){case 26:Ii(t,i,l),t.flags&Io&&t.memoizedState!==null&&ov(l,Vt,t.memoizedState,t.memoizedProps);break;case 5:Ii(t,i,l);break;case 3:case 4:var r=Vt;Vt=ta(t.stateNode.containerInfo),Ii(t,i,l),Vt=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Io,Io=16777216,Ii(t,i,l),Io=r):Ii(t,i,l));break;default:Ii(t,i,l)}}function dd(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function wo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var r=i[l];Xe=r,pd(r,t)}dd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)md(t),t=t.sibling}function md(t){switch(t.tag){case 0:case 11:case 15:wo(t),t.flags&2048&&Sn(9,t,t.return);break;case 3:wo(t);break;case 12:wo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Pl(t)):wo(t);break;default:wo(t)}}function Pl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var r=i[l];Xe=r,pd(r,t)}dd(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Sn(8,i,i.return),Pl(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Pl(i));break;default:Pl(i)}t=t.sibling}}function pd(t,i){for(;Xe!==null;){var l=Xe;switch(l.tag){case 0:case 11:case 15:Sn(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var r=l.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ho(l.memoizedState.cache)}if(r=l.child,r!==null)r.return=l,Xe=r;else e:for(l=t;Xe!==null;){r=Xe;var f=r.sibling,m=r.return;if(od(r),r===l){Xe=null;break e}if(f!==null){f.return=m,Xe=f;break e}Xe=m}}}var Ty={getCacheForType:function(t){var i=We(Fe),l=i.data.get(t);return l===void 0&&(l=t(),i.data.set(t,l)),l},cacheSignal:function(){return We(Fe).controller.signal}},Cy=typeof WeakMap=="function"?WeakMap:Map,xe=0,Ie=null,ge=null,ve=0,Me=0,Ct=null,En=!1,wi=!1,ru=!1,on=0,He=0,_n=0,ei=0,cu=0,St=0,bi=0,bo=null,ft=null,fu=!1,Fl=0,hd=0,Jl=1/0,Yl=null,An=null,Ke=0,xn=null,Li=null,ln=0,du=0,mu=null,gd=null,Lo=0,pu=null;function Et(){return(xe&2)!==0&&ve!==0?ve&-ve:L.T!==null?Cu():Ir()}function yd(){if(St===0)if((ve&536870912)===0||Ce){var t=jo;jo<<=1,(jo&3932160)===0&&(jo=262144),St=t}else St=536870912;return t=vt.current,t!==null&&(t.flags|=32),St}function dt(t,i,l){(t===Ie&&(Me===2||Me===9)||t.cancelPendingCommit!==null)&&(Vi(t,0),Mn(t,ve,St,!1)),eo(t,l),((xe&2)===0||t!==Ie)&&(t===Ie&&((xe&2)===0&&(ei|=l),He===4&&Mn(t,ve,St,!1)),zt(t))}function vd(t,i,l){if((xe&6)!==0)throw Error(a(327));var r=!l&&(i&127)===0&&(i&t.expiredLanes)===0||ji(t,i),f=r?_y(t,i):gu(t,i,!0),m=r;do{if(f===0){wi&&!r&&Mn(t,i,0,!1);break}else{if(l=t.current.alternate,m&&!Sy(l)){f=gu(t,i,!1),m=!1;continue}if(f===2){if(m=i,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var E=t;f=bo;var x=E.current.memoizedState.isDehydrated;if(x&&(Vi(E,T).flags|=256),T=gu(E,T,!1),T!==2){if(ru&&!x){E.errorRecoveryDisabledLanes|=m,ei|=m,f=4;break e}m=ft,ft=f,m!==null&&(ft===null?ft=m:ft.push.apply(ft,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){Vi(t,0),Mn(t,i,0,!0);break}e:{switch(r=t,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Mn(r,i,St,!En);break e;case 2:ft=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=Fl+300-mt(),10<f)){if(Mn(r,i,St,!En),tl(r,0,!0)!==0)break e;ln=i,r.timeoutHandle=Xd(Td.bind(null,r,l,ft,Yl,fu,i,St,ei,bi,En,m,"Throttled",-0,0),f);break e}Td(r,l,ft,Yl,fu,i,St,ei,bi,En,m,null,-0,0)}}break}while(!0);zt(t)}function Td(t,i,l,r,f,m,T,E,x,U,V,B,I,w){if(t.timeoutHandle=-1,B=i.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ft},fd(i,m,B);var Z=(m&62914560)===m?Fl-mt():(m&4194048)===m?hd-mt():0;if(Z=lv(B,Z),Z!==null){ln=m,t.cancelPendingCommit=Z(Rd.bind(null,t,i,m,l,r,f,T,E,x,V,B,null,I,w)),Mn(t,m,T,!U);return}}Rd(t,i,m,l,r,f,T,E,x)}function Sy(t){for(var i=t;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var r=0;r<l.length;r++){var f=l[r],m=f.getSnapshot;f=f.value;try{if(!gt(m(),f))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Mn(t,i,l,r){i&=~cu,i&=~ei,t.suspendedLanes|=i,t.pingedLanes&=~i,r&&(t.warmLanes|=i),r=t.expirationTimes;for(var f=i;0<f;){var m=31-ht(f),T=1<<m;r[m]=-1,f&=~T}l!==0&&Nr(t,l,i)}function Ol(){return(xe&6)===0?(Vo(0),!1):!0}function hu(){if(ge!==null){if(Me===0)var t=ge.return;else t=ge,Kt=Yn=null,Is(t),xi=null,yo=0,t=ge;for(;t!==null;)$f(t.alternate,t),t=t.return;ge=null}}function Vi(t,i){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,zy(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),ln=0,hu(),Ie=t,ge=l=Yt(t.current,null),ve=i,Me=0,Ct=null,En=!1,wi=ji(t,i),ru=!1,bi=St=cu=ei=_n=He=0,ft=bo=null,fu=!1,(i&8)!==0&&(i|=i&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=i;0<r;){var f=31-ht(r),m=1<<f;i|=t[f],r&=~m}return on=i,ml(),l}function Cd(t,i){fe=null,L.H=xo,i===Ai||i===Sl?(i=Vc(),Me=3):i===Ts?(i=Vc(),Me=4):Me=i===Ks?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ct=i,ge===null&&(He=1,Vl(t,Mt(i,t.current)))}function Sd(){var t=vt.current;return t===null?!0:(ve&4194048)===ve?Ut===null:(ve&62914560)===ve||(ve&536870912)!==0?t===Ut:!1}function Ed(){var t=L.H;return L.H=xo,t===null?xo:t}function _d(){var t=L.A;return L.A=Ty,t}function Kl(){He=4,En||(ve&4194048)!==ve&&vt.current!==null||(wi=!0),(_n&134217727)===0&&(ei&134217727)===0||Ie===null||Mn(Ie,ve,St,!1)}function gu(t,i,l){var r=xe;xe|=2;var f=Ed(),m=_d();(Ie!==t||ve!==i)&&(Yl=null,Vi(t,i)),i=!1;var T=He;e:do try{if(Me!==0&&ge!==null){var E=ge,x=Ct;switch(Me){case 8:hu(),T=6;break e;case 3:case 2:case 9:case 6:vt.current===null&&(i=!0);var U=Me;if(Me=0,Ct=null,ki(t,E,x,U),l&&wi){T=0;break e}break;default:U=Me,Me=0,Ct=null,ki(t,E,x,U)}}Ey(),T=He;break}catch(V){Cd(t,V)}while(!0);return i&&t.shellSuspendCounter++,Kt=Yn=null,xe=r,L.H=f,L.A=m,ge===null&&(Ie=null,ve=0,ml()),T}function Ey(){for(;ge!==null;)Ad(ge)}function _y(t,i){var l=xe;xe|=2;var r=Ed(),f=_d();Ie!==t||ve!==i?(Yl=null,Jl=mt()+500,Vi(t,i)):wi=ji(t,i);e:do try{if(Me!==0&&ge!==null){i=ge;var m=Ct;t:switch(Me){case 1:Me=0,Ct=null,ki(t,i,m,1);break;case 2:case 9:if(bc(m)){Me=0,Ct=null,xd(i);break}i=function(){Me!==2&&Me!==9||Ie!==t||(Me=7),zt(t)},m.then(i,i);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:bc(m)?(Me=0,Ct=null,xd(i)):(Me=0,Ct=null,ki(t,i,m,7));break;case 5:var T=null;switch(ge.tag){case 26:T=ge.memoizedState;case 5:case 27:var E=ge;if(T?cm(T):E.stateNode.complete){Me=0,Ct=null;var x=E.sibling;if(x!==null)ge=x;else{var U=E.return;U!==null?(ge=U,Ql(U)):ge=null}break t}}Me=0,Ct=null,ki(t,i,m,5);break;case 6:Me=0,Ct=null,ki(t,i,m,6);break;case 8:hu(),He=6;break e;default:throw Error(a(462))}}Ay();break}catch(V){Cd(t,V)}while(!0);return Kt=Yn=null,L.H=r,L.A=f,xe=l,ge!==null?0:(Ie=null,ve=0,ml(),He)}function Ay(){for(;ge!==null&&!Kh();)Ad(ge)}function Ad(t){var i=Qf(t.alternate,t,on);t.memoizedProps=t.pendingProps,i===null?Ql(t):ge=i}function xd(t){var i=t,l=i.alternate;switch(i.tag){case 15:case 0:i=Pf(l,i,i.pendingProps,i.type,void 0,ve);break;case 11:i=Pf(l,i,i.pendingProps,i.type.render,i.ref,ve);break;case 5:Is(i);default:$f(l,i),i=ge=Ec(i,on),i=Qf(l,i,on)}t.memoizedProps=t.pendingProps,i===null?Ql(t):ge=i}function ki(t,i,l,r){Kt=Yn=null,Is(i),xi=null,yo=0;var f=i.return;try{if(dy(t,f,i,l,ve)){He=1,Vl(t,Mt(l,t.current)),ge=null;return}}catch(m){if(f!==null)throw ge=f,m;He=1,Vl(t,Mt(l,t.current)),ge=null;return}i.flags&32768?(Ce||r===1?t=!0:wi||(ve&536870912)!==0?t=!1:(En=t=!0,(r===2||r===9||r===3||r===6)&&(r=vt.current,r!==null&&r.tag===13&&(r.flags|=16384))),Md(i,t)):Ql(i)}function Ql(t){var i=t;do{if((i.flags&32768)!==0){Md(i,En);return}t=i.return;var l=hy(i.alternate,i,on);if(l!==null){ge=l;return}if(i=i.sibling,i!==null){ge=i;return}ge=i=t}while(i!==null);He===0&&(He=5)}function Md(t,i){do{var l=gy(t.alternate,t);if(l!==null){l.flags&=32767,ge=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(t=t.sibling,t!==null)){ge=t;return}ge=t=l}while(t!==null);He=6,ge=null}function Rd(t,i,l,r,f,m,T,E,x){t.cancelPendingCommit=null;do Xl();while(Ke!==0);if((xe&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=os,ig(t,l,m,T,E,x),t===Ie&&(ge=Ie=null,ve=0),Li=i,xn=t,ln=l,du=m,mu=f,gd=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ny(Zo,function(){return wd(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=L.T,L.T=null,f=K.p,K.p=2,T=xe,xe|=4;try{yy(t,i,l)}finally{xe=T,K.p=f,L.T=r}}Ke=1,Nd(),Dd(),Ud()}}function Nd(){if(Ke===1){Ke=0;var t=xn,i=Li,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=L.T,L.T=null;var r=K.p;K.p=2;var f=xe;xe|=4;try{ud(i,t);var m=Nu,T=mc(t.containerInfo),E=m.focusedElem,x=m.selectionRange;if(T!==E&&E&&E.ownerDocument&&dc(E.ownerDocument.documentElement,E)){if(x!==null&&ja(E)){var U=x.start,V=x.end;if(V===void 0&&(V=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(V,E.value.length);else{var B=E.ownerDocument||document,I=B&&B.defaultView||window;if(I.getSelection){var w=I.getSelection(),Z=E.textContent.length,le=Math.min(x.start,Z),Ue=x.end===void 0?le:Math.min(x.end,Z);!w.extend&&le>Ue&&(T=Ue,Ue=le,le=T);var N=fc(E,le),R=fc(E,Ue);if(N&&R&&(w.rangeCount!==1||w.anchorNode!==N.node||w.anchorOffset!==N.offset||w.focusNode!==R.node||w.focusOffset!==R.offset)){var D=B.createRange();D.setStart(N.node,N.offset),w.removeAllRanges(),le>Ue?(w.addRange(D),w.extend(R.node,R.offset)):(D.setEnd(R.node,R.offset),w.addRange(D))}}}}for(B=[],w=E;w=w.parentNode;)w.nodeType===1&&B.push({element:w,left:w.scrollLeft,top:w.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<B.length;E++){var H=B[E];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}sa=!!Ru,Nu=Ru=null}finally{xe=f,K.p=r,L.T=l}}t.current=i,Ke=2}}function Dd(){if(Ke===2){Ke=0;var t=xn,i=Li,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=L.T,L.T=null;var r=K.p;K.p=2;var f=xe;xe|=4;try{id(t,i.alternate,i)}finally{xe=f,K.p=r,L.T=l}}Ke=3}}function Ud(){if(Ke===4||Ke===3){Ke=0,Qh();var t=xn,i=Li,l=ln,r=gd;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ke=5:(Ke=0,Li=xn=null,Id(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(An=null),La(l),i=i.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Wi,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=L.T,f=K.p,K.p=2,L.T=null;try{for(var m=t.onRecoverableError,T=0;T<r.length;T++){var E=r[T];m(E.value,{componentStack:E.stack})}}finally{L.T=i,K.p=f}}(ln&3)!==0&&Xl(),zt(t),f=t.pendingLanes,(l&261930)!==0&&(f&42)!==0?t===pu?Lo++:(Lo=0,pu=t):Lo=0,Vo(0)}}function Id(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ho(i)))}function Xl(){return Nd(),Dd(),Ud(),wd()}function wd(){if(Ke!==5)return!1;var t=xn,i=du;du=0;var l=La(ln),r=L.T,f=K.p;try{K.p=32>l?32:l,L.T=null,l=mu,mu=null;var m=xn,T=ln;if(Ke=0,Li=xn=null,ln=0,(xe&6)!==0)throw Error(a(331));var E=xe;if(xe|=4,md(m.current),cd(m,m.current,T,l),xe=E,Vo(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Wi,m)}catch{}return!0}finally{K.p=f,L.T=r,Id(t,i)}}function bd(t,i,l){i=Mt(l,i),i=Os(t.stateNode,i,2),t=vn(t,i,2),t!==null&&(eo(t,2),zt(t))}function Re(t,i,l){if(t.tag===3)bd(t,t,l);else for(;i!==null;){if(i.tag===3){bd(i,t,l);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(An===null||!An.has(r))){t=Mt(l,t),l=Lf(2),r=vn(i,l,2),r!==null&&(Vf(l,r,i,t),eo(r,2),zt(r));break}}i=i.return}}function yu(t,i,l){var r=t.pingCache;if(r===null){r=t.pingCache=new Cy;var f=new Set;r.set(i,f)}else f=r.get(i),f===void 0&&(f=new Set,r.set(i,f));f.has(l)||(ru=!0,f.add(l),t=xy.bind(null,t,i,l),i.then(t,t))}function xy(t,i,l){var r=t.pingCache;r!==null&&r.delete(i),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Ie===t&&(ve&l)===l&&(He===4||He===3&&(ve&62914560)===ve&&300>mt()-Fl?(xe&2)===0&&Vi(t,0):cu|=l,bi===ve&&(bi=0)),zt(t)}function Ld(t,i){i===0&&(i=Rr()),t=Pn(t,i),t!==null&&(eo(t,i),zt(t))}function My(t){var i=t.memoizedState,l=0;i!==null&&(l=i.retryLane),Ld(t,l)}function Ry(t,i){var l=0;switch(t.tag){case 31:case 13:var r=t.stateNode,f=t.memoizedState;f!==null&&(l=f.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(a(314))}r!==null&&r.delete(i),Ld(t,l)}function Ny(t,i){return Ua(t,i)}var $l=null,qi=null,vu=!1,Zl=!1,Tu=!1,Rn=0;function zt(t){t!==qi&&t.next===null&&(qi===null?$l=qi=t:qi=qi.next=t),Zl=!0,vu||(vu=!0,Uy())}function Vo(t,i){if(!Tu&&Zl){Tu=!0;do for(var l=!1,r=$l;r!==null;){if(t!==0){var f=r.pendingLanes;if(f===0)var m=0;else{var T=r.suspendedLanes,E=r.pingedLanes;m=(1<<31-ht(42|t)+1)-1,m&=f&~(T&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,Gd(r,m))}else m=ve,m=tl(r,r===Ie?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(m&3)===0||ji(r,m)||(l=!0,Gd(r,m));r=r.next}while(l);Tu=!1}}function Dy(){Vd()}function Vd(){Zl=vu=!1;var t=0;Rn!==0&&By()&&(t=Rn);for(var i=mt(),l=null,r=$l;r!==null;){var f=r.next,m=kd(r,i);m===0?(r.next=null,l===null?$l=f:l.next=f,f===null&&(qi=l)):(l=r,(t!==0||(m&3)!==0)&&(Zl=!0)),r=f}Ke!==0&&Ke!==5||Vo(t),Rn!==0&&(Rn=0)}function kd(t,i){for(var l=t.suspendedLanes,r=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-ht(m),E=1<<T,x=f[T];x===-1?((E&l)===0||(E&r)!==0)&&(f[T]=ng(E,i)):x<=i&&(t.expiredLanes|=E),m&=~E}if(i=Ie,l=ve,l=tl(t,t===i?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,l===0||t===i&&(Me===2||Me===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Ia(r),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||ji(t,l)){if(i=l&-l,i===t.callbackPriority)return i;switch(r!==null&&Ia(r),La(l)){case 2:case 8:l=xr;break;case 32:l=Zo;break;case 268435456:l=Mr;break;default:l=Zo}return r=qd.bind(null,t),l=Ua(l,r),t.callbackPriority=i,t.callbackNode=l,i}return r!==null&&r!==null&&Ia(r),t.callbackPriority=2,t.callbackNode=null,2}function qd(t,i){if(Ke!==0&&Ke!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(Xl()&&t.callbackNode!==l)return null;var r=ve;return r=tl(t,t===Ie?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(vd(t,r,i),kd(t,mt()),t.callbackNode!=null&&t.callbackNode===l?qd.bind(null,t):null)}function Gd(t,i){if(Xl())return null;vd(t,i,!0)}function Uy(){Py(function(){(xe&6)!==0?Ua(Ar,Dy):Vd()})}function Cu(){if(Rn===0){var t=Ei;t===0&&(t=Wo,Wo<<=1,(Wo&261888)===0&&(Wo=256)),Rn=t}return Rn}function Hd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ll(""+t)}function Bd(t,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,t.id&&l.setAttribute("form",t.id),i.parentNode.insertBefore(l,i),t=new FormData(t),l.parentNode.removeChild(l),t}function Iy(t,i,l,r,f){if(i==="submit"&&l&&l.stateNode===f){var m=Hd((f[at]||null).action),T=r.submitter;T&&(i=(i=T[at]||null)?Hd(i.formAction):T.getAttribute("formAction"),i!==null&&(m=i,T=null));var E=new rl("action","action",null,r,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Rn!==0){var x=T?Bd(f,T):new FormData(f);Bs(l,{pending:!0,data:x,method:f.method,action:m},null,x)}}else typeof m=="function"&&(E.preventDefault(),x=T?Bd(f,T):new FormData(f),Bs(l,{pending:!0,data:x,method:f.method,action:m},m,x))},currentTarget:f}]})}}for(var Su=0;Su<is.length;Su++){var Eu=is[Su],wy=Eu.toLowerCase(),by=Eu[0].toUpperCase()+Eu.slice(1);Lt(wy,"on"+by)}Lt(gc,"onAnimationEnd"),Lt(yc,"onAnimationIteration"),Lt(vc,"onAnimationStart"),Lt("dblclick","onDoubleClick"),Lt("focusin","onFocus"),Lt("focusout","onBlur"),Lt(Xg,"onTransitionRun"),Lt($g,"onTransitionStart"),Lt(Zg,"onTransitionCancel"),Lt(Tc,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ly=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ko));function zd(t,i){i=(i&4)!==0;for(var l=0;l<t.length;l++){var r=t[l],f=r.event;r=r.listeners;e:{var m=void 0;if(i)for(var T=r.length-1;0<=T;T--){var E=r[T],x=E.instance,U=E.currentTarget;if(E=E.listener,x!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=U;try{m(f)}catch(V){dl(V)}f.currentTarget=null,m=x}else for(T=0;T<r.length;T++){if(E=r[T],x=E.instance,U=E.currentTarget,E=E.listener,x!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=U;try{m(f)}catch(V){dl(V)}f.currentTarget=null,m=x}}}}function ye(t,i){var l=i[Va];l===void 0&&(l=i[Va]=new Set);var r=t+"__bubble";l.has(r)||(Pd(i,t,2,!1),l.add(r))}function _u(t,i,l){var r=0;i&&(r|=4),Pd(l,t,r,i)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function Au(t){if(!t[Wl]){t[Wl]=!0,Lr.forEach(function(l){l!=="selectionchange"&&(Ly.has(l)||_u(l,!1,t),_u(l,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Wl]||(i[Wl]=!0,_u("selectionchange",!1,i))}}function Pd(t,i,l,r){switch(ym(i)){case 2:var f=uv;break;case 8:f=rv;break;default:f=Hu}l=f.bind(null,i,l,t),f=void 0,!Ja||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),r?f!==void 0?t.addEventListener(i,l,{capture:!0,passive:f}):t.addEventListener(i,l,!0):f!==void 0?t.addEventListener(i,l,{passive:f}):t.addEventListener(i,l,!1)}function xu(t,i,l,r,f){var m=r;if((i&1)===0&&(i&2)===0&&r!==null)e:for(;;){if(r===null)return;var T=r.tag;if(T===3||T===4){var E=r.stateNode.containerInfo;if(E===f)break;if(T===4)for(T=r.return;T!==null;){var x=T.tag;if((x===3||x===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;E!==null;){if(T=li(E),T===null)return;if(x=T.tag,x===5||x===6||x===26||x===27){r=m=T;continue e}E=E.parentNode}}r=r.return}Or(function(){var U=m,V=Pa(l),B=[];e:{var I=Cc.get(t);if(I!==void 0){var w=rl,Z=t;switch(t){case"keypress":if(sl(l)===0)break e;case"keydown":case"keyup":w=Rg;break;case"focusin":Z="focus",w=Qa;break;case"focusout":Z="blur",w=Qa;break;case"beforeblur":case"afterblur":w=Qa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Xr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=hg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Ug;break;case gc:case yc:case vc:w=vg;break;case Tc:w=wg;break;case"scroll":case"scrollend":w=mg;break;case"wheel":w=Lg;break;case"copy":case"cut":case"paste":w=Cg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Zr;break;case"toggle":case"beforetoggle":w=kg}var le=(i&4)!==0,Ue=!le&&(t==="scroll"||t==="scrollend"),N=le?I!==null?I+"Capture":null:I;le=[];for(var R=U,D;R!==null;){var H=R;if(D=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||D===null||N===null||(H=io(R,N),H!=null&&le.push(qo(R,H,D))),Ue)break;R=R.return}0<le.length&&(I=new w(I,Z,null,l,V),B.push({event:I,listeners:le}))}}if((i&7)===0){e:{if(I=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",I&&l!==za&&(Z=l.relatedTarget||l.fromElement)&&(li(Z)||Z[oi]))break e;if((w||I)&&(I=V.window===V?V:(I=V.ownerDocument)?I.defaultView||I.parentWindow:window,w?(Z=l.relatedTarget||l.toElement,w=U,Z=Z?li(Z):null,Z!==null&&(Ue=d(Z),le=Z.tag,Z!==Ue||le!==5&&le!==27&&le!==6)&&(Z=null)):(w=null,Z=U),w!==Z)){if(le=Xr,H="onMouseLeave",N="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(le=Zr,H="onPointerLeave",N="onPointerEnter",R="pointer"),Ue=w==null?I:no(w),D=Z==null?I:no(Z),I=new le(H,R+"leave",w,l,V),I.target=Ue,I.relatedTarget=D,H=null,li(V)===U&&(le=new le(N,R+"enter",Z,l,V),le.target=D,le.relatedTarget=Ue,H=le),Ue=H,w&&Z)t:{for(le=Vy,N=w,R=Z,D=0,H=N;H;H=le(H))D++;H=0;for(var oe=R;oe;oe=le(oe))H++;for(;0<D-H;)N=le(N),D--;for(;0<H-D;)R=le(R),H--;for(;D--;){if(N===R||R!==null&&N===R.alternate){le=N;break t}N=le(N),R=le(R)}le=null}else le=null;w!==null&&Fd(B,I,w,le,!1),Z!==null&&Ue!==null&&Fd(B,Ue,Z,le,!0)}}e:{if(I=U?no(U):window,w=I.nodeName&&I.nodeName.toLowerCase(),w==="select"||w==="input"&&I.type==="file")var Ee=lc;else if(ic(I))if(ac)Ee=Og;else{Ee=Jg;var ee=Fg}else w=I.nodeName,!w||w.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?U&&Ba(U.elementType)&&(Ee=lc):Ee=Yg;if(Ee&&(Ee=Ee(t,U))){oc(B,Ee,l,V);break e}ee&&ee(t,I,U),t==="focusout"&&U&&I.type==="number"&&U.memoizedProps.value!=null&&Ha(I,"number",I.value)}switch(ee=U?no(U):window,t){case"focusin":(ic(ee)||ee.contentEditable==="true")&&(pi=ee,es=U,fo=null);break;case"focusout":fo=es=pi=null;break;case"mousedown":ts=!0;break;case"contextmenu":case"mouseup":case"dragend":ts=!1,pc(B,l,V);break;case"selectionchange":if(Qg)break;case"keydown":case"keyup":pc(B,l,V)}var me;if($a)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else mi?tc(t,l)&&(Te="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(Wr&&l.locale!=="ko"&&(mi||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&mi&&(me=Kr()):(fn=V,Ya="value"in fn?fn.value:fn.textContent,mi=!0)),ee=jl(U,Te),0<ee.length&&(Te=new $r(Te,t,null,l,V),B.push({event:Te,listeners:ee}),me?Te.data=me:(me=nc(l),me!==null&&(Te.data=me)))),(me=Gg?Hg(t,l):Bg(t,l))&&(Te=jl(U,"onBeforeInput"),0<Te.length&&(ee=new $r("onBeforeInput","beforeinput",null,l,V),B.push({event:ee,listeners:Te}),ee.data=me)),Iy(B,t,U,l,V)}zd(B,i)})}function qo(t,i,l){return{instance:t,listener:i,currentTarget:l}}function jl(t,i){for(var l=i+"Capture",r=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=io(t,l),f!=null&&r.unshift(qo(t,f,m)),f=io(t,i),f!=null&&r.push(qo(t,f,m))),t.tag===3)return r;t=t.return}return[]}function Vy(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Fd(t,i,l,r,f){for(var m=i._reactName,T=[];l!==null&&l!==r;){var E=l,x=E.alternate,U=E.stateNode;if(E=E.tag,x!==null&&x===r)break;E!==5&&E!==26&&E!==27||U===null||(x=U,f?(U=io(l,m),U!=null&&T.unshift(qo(l,U,x))):f||(U=io(l,m),U!=null&&T.push(qo(l,U,x)))),l=l.return}T.length!==0&&t.push({event:i,listeners:T})}var ky=/\r\n?/g,qy=/\u0000|\uFFFD/g;function Jd(t){return(typeof t=="string"?t:""+t).replace(ky,`
`).replace(qy,"")}function Yd(t,i){return i=Jd(i),Jd(t)===i}function De(t,i,l,r,f,m){switch(l){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||ci(t,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&ci(t,""+r);break;case"className":il(t,"class",r);break;case"tabIndex":il(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":il(t,l,r);break;case"style":Jr(t,r,m);break;case"data":if(i!=="object"){il(t,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||l!=="href")){t.removeAttribute(l);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(l);break}r=ll(""+r),t.setAttribute(l,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(i!=="input"&&De(t,i,"name",f.name,f,null),De(t,i,"formEncType",f.formEncType,f,null),De(t,i,"formMethod",f.formMethod,f,null),De(t,i,"formTarget",f.formTarget,f,null)):(De(t,i,"encType",f.encType,f,null),De(t,i,"method",f.method,f,null),De(t,i,"target",f.target,f,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(l);break}r=ll(""+r),t.setAttribute(l,r);break;case"onClick":r!=null&&(t.onclick=Ft);break;case"onScroll":r!=null&&ye("scroll",t);break;case"onScrollEnd":r!=null&&ye("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(l=r.__html,l!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=l}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}l=ll(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(l,""+r):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":r===!0?t.setAttribute(l,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(l,r):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(l,r):t.removeAttribute(l);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(l):t.setAttribute(l,r);break;case"popover":ye("beforetoggle",t),ye("toggle",t),nl(t,"popover",r);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":nl(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=fg.get(l)||l,nl(t,l,r))}}function Mu(t,i,l,r,f,m){switch(l){case"style":Jr(t,r,m);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(l=r.__html,l!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=l}}break;case"children":typeof r=="string"?ci(t,r):(typeof r=="number"||typeof r=="bigint")&&ci(t,""+r);break;case"onScroll":r!=null&&ye("scroll",t);break;case"onScrollEnd":r!=null&&ye("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Ft);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),i=l.slice(2,f?l.length-7:void 0),m=t[at]||null,m=m!=null?m[l]:null,typeof m=="function"&&t.removeEventListener(i,m,f),typeof r=="function")){typeof m!="function"&&m!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(i,r,f);break e}l in t?t[l]=r:r===!0?t.setAttribute(l,""):nl(t,l,r)}}}function et(t,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",t),ye("load",t);var r=!1,f=!1,m;for(m in l)if(l.hasOwnProperty(m)){var T=l[m];if(T!=null)switch(m){case"src":r=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:De(t,i,m,T,l,null)}}f&&De(t,i,"srcSet",l.srcSet,l,null),r&&De(t,i,"src",l.src,l,null);return;case"input":ye("invalid",t);var E=m=T=f=null,x=null,U=null;for(r in l)if(l.hasOwnProperty(r)){var V=l[r];if(V!=null)switch(r){case"name":f=V;break;case"type":T=V;break;case"checked":x=V;break;case"defaultChecked":U=V;break;case"value":m=V;break;case"defaultValue":E=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,i));break;default:De(t,i,r,V,l,null)}}Br(t,m,E,x,U,T,f,!1);return;case"select":ye("invalid",t),r=T=m=null;for(f in l)if(l.hasOwnProperty(f)&&(E=l[f],E!=null))switch(f){case"value":m=E;break;case"defaultValue":T=E;break;case"multiple":r=E;default:De(t,i,f,E,l,null)}i=m,l=T,t.multiple=!!r,i!=null?ri(t,!!r,i,!1):l!=null&&ri(t,!!r,l,!0);return;case"textarea":ye("invalid",t),m=f=r=null;for(T in l)if(l.hasOwnProperty(T)&&(E=l[T],E!=null))switch(T){case"value":r=E;break;case"defaultValue":f=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:De(t,i,T,E,l,null)}Pr(t,r,f,m);return;case"option":for(x in l)if(l.hasOwnProperty(x)&&(r=l[x],r!=null))switch(x){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:De(t,i,x,r,l,null)}return;case"dialog":ye("beforetoggle",t),ye("toggle",t),ye("cancel",t),ye("close",t);break;case"iframe":case"object":ye("load",t);break;case"video":case"audio":for(r=0;r<ko.length;r++)ye(ko[r],t);break;case"image":ye("error",t),ye("load",t);break;case"details":ye("toggle",t);break;case"embed":case"source":case"link":ye("error",t),ye("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in l)if(l.hasOwnProperty(U)&&(r=l[U],r!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:De(t,i,U,r,l,null)}return;default:if(Ba(i)){for(V in l)l.hasOwnProperty(V)&&(r=l[V],r!==void 0&&Mu(t,i,V,r,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(r=l[E],r!=null&&De(t,i,E,r,l,null))}function Gy(t,i,l,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,E=null,x=null,U=null,V=null;for(w in l){var B=l[w];if(l.hasOwnProperty(w)&&B!=null)switch(w){case"checked":break;case"value":break;case"defaultValue":x=B;default:r.hasOwnProperty(w)||De(t,i,w,null,r,B)}}for(var I in r){var w=r[I];if(B=l[I],r.hasOwnProperty(I)&&(w!=null||B!=null))switch(I){case"type":m=w;break;case"name":f=w;break;case"checked":U=w;break;case"defaultChecked":V=w;break;case"value":T=w;break;case"defaultValue":E=w;break;case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(137,i));break;default:w!==B&&De(t,i,I,w,r,B)}}Ga(t,T,E,x,U,V,m,f);return;case"select":w=T=E=I=null;for(m in l)if(x=l[m],l.hasOwnProperty(m)&&x!=null)switch(m){case"value":break;case"multiple":w=x;default:r.hasOwnProperty(m)||De(t,i,m,null,r,x)}for(f in r)if(m=r[f],x=l[f],r.hasOwnProperty(f)&&(m!=null||x!=null))switch(f){case"value":I=m;break;case"defaultValue":E=m;break;case"multiple":T=m;default:m!==x&&De(t,i,f,m,r,x)}i=E,l=T,r=w,I!=null?ri(t,!!l,I,!1):!!r!=!!l&&(i!=null?ri(t,!!l,i,!0):ri(t,!!l,l?[]:"",!1));return;case"textarea":w=I=null;for(E in l)if(f=l[E],l.hasOwnProperty(E)&&f!=null&&!r.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:De(t,i,E,null,r,f)}for(T in r)if(f=r[T],m=l[T],r.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":I=f;break;case"defaultValue":w=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&De(t,i,T,f,r,m)}zr(t,I,w);return;case"option":for(var Z in l)if(I=l[Z],l.hasOwnProperty(Z)&&I!=null&&!r.hasOwnProperty(Z))switch(Z){case"selected":t.selected=!1;break;default:De(t,i,Z,null,r,I)}for(x in r)if(I=r[x],w=l[x],r.hasOwnProperty(x)&&I!==w&&(I!=null||w!=null))switch(x){case"selected":t.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:De(t,i,x,I,r,w)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in l)I=l[le],l.hasOwnProperty(le)&&I!=null&&!r.hasOwnProperty(le)&&De(t,i,le,null,r,I);for(U in r)if(I=r[U],w=l[U],r.hasOwnProperty(U)&&I!==w&&(I!=null||w!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,i));break;default:De(t,i,U,I,r,w)}return;default:if(Ba(i)){for(var Ue in l)I=l[Ue],l.hasOwnProperty(Ue)&&I!==void 0&&!r.hasOwnProperty(Ue)&&Mu(t,i,Ue,void 0,r,I);for(V in r)I=r[V],w=l[V],!r.hasOwnProperty(V)||I===w||I===void 0&&w===void 0||Mu(t,i,V,I,r,w);return}}for(var N in l)I=l[N],l.hasOwnProperty(N)&&I!=null&&!r.hasOwnProperty(N)&&De(t,i,N,null,r,I);for(B in r)I=r[B],w=l[B],!r.hasOwnProperty(B)||I===w||I==null&&w==null||De(t,i,B,I,r,w)}function Od(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hy(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,l=performance.getEntriesByType("resource"),r=0;r<l.length;r++){var f=l[r],m=f.transferSize,T=f.initiatorType,E=f.duration;if(m&&E&&Od(T)){for(T=0,E=f.responseEnd,r+=1;r<l.length;r++){var x=l[r],U=x.startTime;if(U>E)break;var V=x.transferSize,B=x.initiatorType;V&&Od(B)&&(x=x.responseEnd,T+=V*(x<E?1:(E-U)/(x-U)))}if(--r,i+=8*(m+T)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ru=null,Nu=null;function ea(t){return t.nodeType===9?t:t.ownerDocument}function Kd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qd(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Du(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Uu=null;function By(){var t=window.event;return t&&t.type==="popstate"?t===Uu?!1:(Uu=t,!0):(Uu=null,!1)}var Xd=typeof setTimeout=="function"?setTimeout:void 0,zy=typeof clearTimeout=="function"?clearTimeout:void 0,$d=typeof Promise=="function"?Promise:void 0,Py=typeof queueMicrotask=="function"?queueMicrotask:typeof $d<"u"?function(t){return $d.resolve(null).then(t).catch(Fy)}:Xd;function Fy(t){setTimeout(function(){throw t})}function Nn(t){return t==="head"}function Zd(t,i){var l=i,r=0;do{var f=l.nextSibling;if(t.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"||l==="/&"){if(r===0){t.removeChild(f),zi(i);return}r--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")r++;else if(l==="html")Go(t.ownerDocument.documentElement);else if(l==="head"){l=t.ownerDocument.head,Go(l);for(var m=l.firstChild;m;){var T=m.nextSibling,E=m.nodeName;m[to]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=T}}else l==="body"&&Go(t.ownerDocument.body);l=f}while(l);zi(i)}function Wd(t,i){var l=t;t=0;do{var r=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),r&&r.nodeType===8)if(l=r.data,l==="/$"){if(t===0)break;t--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||t++;l=r}while(l)}function Iu(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Iu(l),ka(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function Jy(t,i,l,r){for(;t.nodeType===1;){var f=l;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[to])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=It(t.nextSibling),t===null)break}return null}function Yy(t,i,l){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=It(t.nextSibling),t===null))return null;return t}function jd(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=It(t.nextSibling),t===null))return null;return t}function wu(t){return t.data==="$?"||t.data==="$~"}function bu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Oy(t,i){var l=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||l.readyState!=="loading")i();else{var r=function(){i(),l.removeEventListener("DOMContentLoaded",r)};l.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function It(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Lu=null;function em(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"||l==="/&"){if(i===0)return It(t.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}t=t.nextSibling}return null}function tm(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return t;i--}else l!=="/$"&&l!=="/&"||i++}t=t.previousSibling}return null}function nm(t,i,l){switch(i=ea(l),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Go(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ka(t)}var wt=new Map,im=new Set;function ta(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var an=K.d;K.d={f:Ky,r:Qy,D:Xy,C:$y,L:Zy,m:Wy,X:ev,S:jy,M:tv};function Ky(){var t=an.f(),i=Ol();return t||i}function Qy(t){var i=ai(t);i!==null&&i.tag===5&&i.type==="form"?Cf(i):an.r(t)}var Gi=typeof document>"u"?null:document;function om(t,i,l){var r=Gi;if(r&&typeof i=="string"&&i){var f=At(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),im.has(f)||(im.add(f),t={rel:t,crossOrigin:l,href:i},r.querySelector(f)===null&&(i=r.createElement("link"),et(i,"link",t),Qe(i),r.head.appendChild(i)))}}function Xy(t){an.D(t),om("dns-prefetch",t,null)}function $y(t,i){an.C(t,i),om("preconnect",t,i)}function Zy(t,i,l){an.L(t,i,l);var r=Gi;if(r&&t&&i){var f='link[rel="preload"][as="'+At(i)+'"]';i==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+At(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+At(l.imageSizes)+'"]')):f+='[href="'+At(t)+'"]';var m=f;switch(i){case"style":m=Hi(t);break;case"script":m=Bi(t)}wt.has(m)||(t=C({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:t,as:i},l),wt.set(m,t),r.querySelector(f)!==null||i==="style"&&r.querySelector(Ho(m))||i==="script"&&r.querySelector(Bo(m))||(i=r.createElement("link"),et(i,"link",t),Qe(i),r.head.appendChild(i)))}}function Wy(t,i){an.m(t,i);var l=Gi;if(l&&t){var r=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+At(r)+'"][href="'+At(t)+'"]',m=f;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Bi(t)}if(!wt.has(m)&&(t=C({rel:"modulepreload",href:t},i),wt.set(m,t),l.querySelector(f)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Bo(m)))return}r=l.createElement("link"),et(r,"link",t),Qe(r),l.head.appendChild(r)}}}function jy(t,i,l){an.S(t,i,l);var r=Gi;if(r&&t){var f=si(r).hoistableStyles,m=Hi(t);i=i||"default";var T=f.get(m);if(!T){var E={loading:0,preload:null};if(T=r.querySelector(Ho(m)))E.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":i},l),(l=wt.get(m))&&Vu(t,l);var x=T=r.createElement("link");Qe(x),et(x,"link",t),x._p=new Promise(function(U,V){x.onload=U,x.onerror=V}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,na(T,i,r)}T={type:"stylesheet",instance:T,count:1,state:E},f.set(m,T)}}}function ev(t,i){an.X(t,i);var l=Gi;if(l&&t){var r=si(l).hoistableScripts,f=Bi(t),m=r.get(f);m||(m=l.querySelector(Bo(f)),m||(t=C({src:t,async:!0},i),(i=wt.get(f))&&ku(t,i),m=l.createElement("script"),Qe(m),et(m,"link",t),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},r.set(f,m))}}function tv(t,i){an.M(t,i);var l=Gi;if(l&&t){var r=si(l).hoistableScripts,f=Bi(t),m=r.get(f);m||(m=l.querySelector(Bo(f)),m||(t=C({src:t,async:!0,type:"module"},i),(i=wt.get(f))&&ku(t,i),m=l.createElement("script"),Qe(m),et(m,"link",t),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},r.set(f,m))}}function lm(t,i,l,r){var f=(f=ue.current)?ta(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Hi(l.href),l=si(f).hoistableStyles,r=l.get(i),r||(r={type:"style",instance:null,count:0,state:null},l.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=Hi(l.href);var m=si(f).hoistableStyles,T=m.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=f.querySelector(Ho(t)))&&!m._p&&(T.instance=m,T.state.loading=5),wt.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},wt.set(t,l),m||nv(f,t,l,T.state))),i&&r===null)throw Error(a(528,""));return T}if(i&&r!==null)throw Error(a(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Bi(l),l=si(f).hoistableScripts,r=l.get(i),r||(r={type:"script",instance:null,count:0,state:null},l.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Hi(t){return'href="'+At(t)+'"'}function Ho(t){return'link[rel="stylesheet"]['+t+"]"}function am(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function nv(t,i,l,r){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=t.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),et(i,"link",l),Qe(i),t.head.appendChild(i))}function Bi(t){return'[src="'+At(t)+'"]'}function Bo(t){return"script[async]"+t}function sm(t,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var r=t.querySelector('style[data-href~="'+At(l.href)+'"]');if(r)return i.instance=r,Qe(r),r;var f=C({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Qe(r),et(r,"style",f),na(r,l.precedence,t),i.instance=r;case"stylesheet":f=Hi(l.href);var m=t.querySelector(Ho(f));if(m)return i.state.loading|=4,i.instance=m,Qe(m),m;r=am(l),(f=wt.get(f))&&Vu(r,f),m=(t.ownerDocument||t).createElement("link"),Qe(m);var T=m;return T._p=new Promise(function(E,x){T.onload=E,T.onerror=x}),et(m,"link",r),i.state.loading|=4,na(m,l.precedence,t),i.instance=m;case"script":return m=Bi(l.src),(f=t.querySelector(Bo(m)))?(i.instance=f,Qe(f),f):(r=l,(f=wt.get(m))&&(r=C({},l),ku(r,f)),t=t.ownerDocument||t,f=t.createElement("script"),Qe(f),et(f,"link",r),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,na(r,l.precedence,t));return i.instance}function na(t,i,l){for(var r=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=r.length?r[r.length-1]:null,m=f,T=0;T<r.length;T++){var E=r[T];if(E.dataset.precedence===i)m=E;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(t,i.firstChild))}function Vu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function ku(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ia=null;function um(t,i,l){if(ia===null){var r=new Map,f=ia=new Map;f.set(l,r)}else f=ia,r=f.get(l),r||(r=new Map,f.set(l,r));if(r.has(t))return r;for(r.set(t,null),l=l.getElementsByTagName(t),f=0;f<l.length;f++){var m=l[f];if(!(m[to]||m[$e]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(i)||"";T=t+T;var E=r.get(T);E?E.push(m):r.set(T,[m])}}return r}function rm(t,i,l){t=t.ownerDocument||t,t.head.insertBefore(l,i==="title"?t.querySelector("head > title"):null)}function iv(t,i,l){if(l===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function cm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ov(t,i,l,r){if(l.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=Hi(r.href),m=i.querySelector(Ho(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=oa.bind(t),i.then(t,t)),l.state.loading|=4,l.instance=m,Qe(m);return}m=i.ownerDocument||i,r=am(r),(f=wt.get(f))&&Vu(r,f),m=m.createElement("link"),Qe(m);var T=m;T._p=new Promise(function(E,x){T.onload=E,T.onerror=x}),et(m,"link",r),l.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(t.count++,l=oa.bind(t),i.addEventListener("load",l),i.addEventListener("error",l))}}var qu=0;function lv(t,i){return t.stylesheets&&t.count===0&&aa(t,t.stylesheets),0<t.count||0<t.imgCount?function(l){var r=setTimeout(function(){if(t.stylesheets&&aa(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&qu===0&&(qu=62500*Hy());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&aa(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>qu?50:800)+i);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(f)}}:null}function oa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)aa(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var la=null;function aa(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,la=new Map,i.forEach(av,t),la=null,oa.call(t))}function av(t,i){if(!(i.state.loading&4)){var l=la.get(t);if(l)var r=l.get(null);else{l=new Map,la.set(t,l);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),r=T)}r&&l.set(null,r)}f=i.instance,T=f.getAttribute("data-precedence"),m=l.get(T)||r,m===r&&l.set(null,f),l.set(T,f),this.count++,r=oa.bind(this),f.addEventListener("load",r),f.addEventListener("error",r),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var zo={$$typeof:P,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function sv(t,i,l,r,f,m,T,E,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.hiddenUpdates=wa(null),this.identifierPrefix=r,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function fm(t,i,l,r,f,m,T,E,x,U,V,B){return t=new sv(t,i,l,T,x,U,V,B,E),i=1,m===!0&&(i|=24),m=yt(3,null,null,i),t.current=m,m.stateNode=t,i=gs(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:r,isDehydrated:l,cache:i},Cs(m),t}function dm(t){return t?(t=yi,t):yi}function mm(t,i,l,r,f,m){f=dm(f),r.context===null?r.context=f:r.pendingContext=f,r=yn(i),r.payload={element:l},m=m===void 0?null:m,m!==null&&(r.callback=m),l=vn(t,r,i),l!==null&&(dt(l,t,i),To(l,t,i))}function pm(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<i?l:i}}function Gu(t,i){pm(t,i),(t=t.alternate)&&pm(t,i)}function hm(t){if(t.tag===13||t.tag===31){var i=Pn(t,67108864);i!==null&&dt(i,t,67108864),Gu(t,67108864)}}function gm(t){if(t.tag===13||t.tag===31){var i=Et();i=ba(i);var l=Pn(t,i);l!==null&&dt(l,t,i),Gu(t,i)}}var sa=!0;function uv(t,i,l,r){var f=L.T;L.T=null;var m=K.p;try{K.p=2,Hu(t,i,l,r)}finally{K.p=m,L.T=f}}function rv(t,i,l,r){var f=L.T;L.T=null;var m=K.p;try{K.p=8,Hu(t,i,l,r)}finally{K.p=m,L.T=f}}function Hu(t,i,l,r){if(sa){var f=Bu(r);if(f===null)xu(t,i,r,ua,l),vm(t,r);else if(fv(f,t,i,l,r))r.stopPropagation();else if(vm(t,r),i&4&&-1<cv.indexOf(t)){for(;f!==null;){var m=ai(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=qn(m.pendingLanes);if(T!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;T;){var x=1<<31-ht(T);E.entanglements[1]|=x,T&=~x}zt(m),(xe&6)===0&&(Jl=mt()+500,Vo(0))}}break;case 31:case 13:E=Pn(m,2),E!==null&&dt(E,m,2),Ol(),Gu(m,2)}if(m=Bu(r),m===null&&xu(t,i,r,ua,l),m===f)break;f=m}f!==null&&r.stopPropagation()}else xu(t,i,r,null,l)}}function Bu(t){return t=Pa(t),zu(t)}var ua=null;function zu(t){if(ua=null,t=li(t),t!==null){var i=d(t);if(i===null)t=null;else{var l=i.tag;if(l===13){if(t=p(i),t!==null)return t;t=null}else if(l===31){if(t=g(i),t!==null)return t;t=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return ua=t,null}function ym(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xh()){case Ar:return 2;case xr:return 8;case Zo:case $h:return 32;case Mr:return 268435456;default:return 32}default:return 32}}var Pu=!1,Dn=null,Un=null,In=null,Po=new Map,Fo=new Map,wn=[],cv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vm(t,i){switch(t){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":Po.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(i.pointerId)}}function Jo(t,i,l,r,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:l,eventSystemFlags:r,nativeEvent:m,targetContainers:[f]},i!==null&&(i=ai(i),i!==null&&hm(i)),t):(t.eventSystemFlags|=r,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function fv(t,i,l,r,f){switch(i){case"focusin":return Dn=Jo(Dn,t,i,l,r,f),!0;case"dragenter":return Un=Jo(Un,t,i,l,r,f),!0;case"mouseover":return In=Jo(In,t,i,l,r,f),!0;case"pointerover":var m=f.pointerId;return Po.set(m,Jo(Po.get(m)||null,t,i,l,r,f)),!0;case"gotpointercapture":return m=f.pointerId,Fo.set(m,Jo(Fo.get(m)||null,t,i,l,r,f)),!0}return!1}function Tm(t){var i=li(t.target);if(i!==null){var l=d(i);if(l!==null){if(i=l.tag,i===13){if(i=p(l),i!==null){t.blockedOn=i,wr(t.priority,function(){gm(l)});return}}else if(i===31){if(i=g(l),i!==null){t.blockedOn=i,wr(t.priority,function(){gm(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ra(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var l=Bu(t.nativeEvent);if(l===null){l=t.nativeEvent;var r=new l.constructor(l.type,l);za=r,l.target.dispatchEvent(r),za=null}else return i=ai(l),i!==null&&hm(i),t.blockedOn=l,!1;i.shift()}return!0}function Cm(t,i,l){ra(t)&&l.delete(i)}function dv(){Pu=!1,Dn!==null&&ra(Dn)&&(Dn=null),Un!==null&&ra(Un)&&(Un=null),In!==null&&ra(In)&&(In=null),Po.forEach(Cm),Fo.forEach(Cm)}function ca(t,i){t.blockedOn===i&&(t.blockedOn=null,Pu||(Pu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,dv)))}var fa=null;function Sm(t){fa!==t&&(fa=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){fa===t&&(fa=null);for(var i=0;i<t.length;i+=3){var l=t[i],r=t[i+1],f=t[i+2];if(typeof r!="function"){if(zu(r||l)===null)continue;break}var m=ai(l);m!==null&&(t.splice(i,3),i-=3,Bs(m,{pending:!0,data:f,method:l.method,action:r},r,f))}}))}function zi(t){function i(x){return ca(x,t)}Dn!==null&&ca(Dn,t),Un!==null&&ca(Un,t),In!==null&&ca(In,t),Po.forEach(i),Fo.forEach(i);for(var l=0;l<wn.length;l++){var r=wn[l];r.blockedOn===t&&(r.blockedOn=null)}for(;0<wn.length&&(l=wn[0],l.blockedOn===null);)Tm(l),l.blockedOn===null&&wn.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(r=0;r<l.length;r+=3){var f=l[r],m=l[r+1],T=f[at]||null;if(typeof m=="function")T||Sm(l);else if(T){var E=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[at]||null)E=T.formAction;else if(zu(f)!==null)continue}else E=T.action;typeof E=="function"?l[r+1]=E:(l.splice(r,3),r-=3),Sm(l)}}}function Em(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),r||setTimeout(l,20)}function l(){if(!r&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Fu(t){this._internalRoot=t}da.prototype.render=Fu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var l=i.current,r=Et();mm(l,r,t,i,null,null)},da.prototype.unmount=Fu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;mm(t.current,2,null,t,null,null),Ol(),i[oi]=null}};function da(t){this._internalRoot=t}da.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ir();t={blockedOn:null,target:t,priority:i};for(var l=0;l<wn.length&&i!==0&&i<wn[l].priority;l++);wn.splice(l,0,t),l===0&&Tm(t)}};var _m=e.version;if(_m!=="19.2.0")throw Error(a(527,_m,"19.2.0"));K.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=h(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var mv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ma.isDisabled&&ma.supportsFiber)try{Wi=ma.inject(mv),pt=ma}catch{}}return Oo.createRoot=function(t,i){if(!c(t))throw Error(a(299));var l=!1,r="",f=Uf,m=If,T=wf;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=fm(t,1,!1,null,null,l,r,null,f,m,T,Em),t[oi]=i.current,Au(t),new Fu(i)},Oo.hydrateRoot=function(t,i,l){if(!c(t))throw Error(a(299));var r=!1,f="",m=Uf,T=If,E=wf,x=null;return l!=null&&(l.unstable_strictMode===!0&&(r=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.formState!==void 0&&(x=l.formState)),i=fm(t,1,!0,i,l??null,r,f,x,m,T,E,Em),i.context=dm(null),l=i.current,r=Et(),r=ba(r),f=yn(r),f.callback=null,vn(l,f,r),l=r,i.current.lanes=l,eo(i,l),zt(i),t[oi]=i.current,Au(t),new da(i)},Oo.version="19.2.0",Oo}var bm;function _v(){if(bm)return Ou.exports;bm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ou.exports=Ev(),Ou.exports}var Av=_v();const xv=sh(Av),Mv=new Set(["CONTENTS","TABLE OF CONTENTS","COVER","TITLE","AUTHOR","COPYRIGHT","DEDICATION","PUBLISHING HISTORY","ACKNOWLEDGMENTS","EPIGRAPH"]);function Rv(n){if(!n)return"Untitled Book";const e=n.split(`
`);for(const o of e){const a=o.trim();if(a.length>0)return a.substring(0,100)}return"Untitled Book"}function Nv(n){const e=[];if(!n)return e;const a=(`



`+n).split(`
`);let c=null;for(let d=0;d<a.length;d++){const p=a[d],g=p.trim(),y=g.length>0&&g.length<50&&g===g.toUpperCase()&&/[A-Z]/.test(g)&&!/^[0-9\s.,!?-]+$/.test(g)&&!Mv.has(g),h=d>=4&&a[d-1].trim()===""&&a[d-2].trim()===""&&a[d-3].trim()===""&&a[d-4].trim()==="";y&&h?(c&&e.push({...c,content:c.content.trim()}),c={title:g,content:""}):c&&(c.content+=p+`
`)}return c&&c.content.trim()&&e.push({...c,content:c.content.trim()}),e}function Lm(n){const e=new Set(["P","DIV","H1","H2","H3","H4","H5","H6","LI","BLOCKQUOTE","SECTION","ARTICLE"]),o=[];function a(g){if(g.nodeType===Node.TEXT_NODE){const h=(g.textContent||"").replace(/\s+/g," ");h.trim().length>0&&o.push(h)}else if(g.nodeType===Node.ELEMENT_NODE){const y=g,h=y.tagName;if(h==="BR"){o.push(`
`);return}for(let v=0;v<y.childNodes.length;v++)a(y.childNodes[v]);e.has(h)&&o.push(`

`)}}a(n);let c=o.join("");c=c.replace(/ +/g," ");const d=c.split(`
`).map(g=>g.trim()),p=[];for(let g=0;g<d.length;g++){const y=d[g];y.length>0?p.push(y):p.length>0&&g<d.length-1&&d[g+1].length>0&&p[p.length-1]!==""&&p.push("")}return c=p.join(`
`),c=c.replace(/\n{3,}/g,`

`),c.trim()}async function Dv(n){var o,a,c;const e=[];try{const d=ePub(n);await d.ready;const p=((a=(o=d.packaging)==null?void 0:o.metadata)==null?void 0:a.title)||"Untitled Book";console.log("EPUB loaded successfully"),console.log("Book title:",p),console.log("Spine items:",d.spine.items.length),console.log("TOC items:",d.navigation.toc.length);const g=d.navigation.toc;for(const y of d.spine.items)if(y.href)try{const h=await d.load(y.href);let v;typeof h=="string"?v=new DOMParser().parseFromString(h,"text/html"):h instanceof Document?v=h:v=h.documentElement?h:new DOMParser().parseFromString(String(h),"text/html");const C=Lm(v.body);if(console.log(`Section ${y.href}: ${C.length} chars, preview: "${C.substring(0,100)}"`),C.length>50){const S=g.find(b=>d.path.resolve(b.href)===d.path.resolve(y.href)),M=((c=S==null?void 0:S.label)==null?void 0:c.trim().replace(/\s+/g," "))||`Chapter ${e.length+1}`;e.push({title:M,content:C})}}catch(h){console.warn(`Failed to load section ${y.href}:`,h)}if(e.length===0&&g.length>0){console.warn("Could not parse chapters from EPUB spine, trying TOC directly.");for(const y of g)if(y.href)try{const h=await d.load(y.href);let v;typeof h=="string"?v=new DOMParser().parseFromString(h,"text/html"):h instanceof Document?v=h:v=h.documentElement?h:new DOMParser().parseFromString(String(h),"text/html");const C=Lm(v.body);console.log(`TOC ${y.href}: ${C.length} chars`),C.length>50&&e.push({title:y.label.trim().replace(/\s+/g," "),content:C})}catch(h){console.warn(`Failed to load TOC section ${y.href}:`,h)}}return console.log(`Successfully parsed ${e.length} chapters`),{title:p,chapters:e}}catch(d){throw console.error("EPUB parsing error:",d),new Error(`Failed to parse EPUB: ${d instanceof Error?d.message:"Unknown error"}`)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Uv,Iv;function wv(){return{geminiUrl:Uv,vertexUrl:Iv}}function bv(n,e,o,a){var c,d;if(!(n!=null&&n.baseUrl)){const p=wv();return e?(c=p.vertexUrl)!==null&&c!==void 0?c:o:(d=p.geminiUrl)!==null&&d!==void 0?d:a}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ni{}function W(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(a,c)=>{if(Object.prototype.hasOwnProperty.call(e,c)){const d=e[c];return d!=null?String(d):""}else throw new Error(`Key '${c}' not found in valueMap.`)})}function u(n,e,o){for(let d=0;d<e.length-1;d++){const p=e[d];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in n))if(Array.isArray(o))n[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(n[g])){const y=n[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const v=y[h];u(v,e.slice(d+1),o[h])}else for(const h of y)u(h,e.slice(d+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in n||(n[g]=[{}]);const y=n[g];u(y[0],e.slice(d+1),o);return}(!n[p]||typeof n[p]!="object")&&(n[p]={}),n=n[p]}const a=e[e.length-1],c=n[a];if(c!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===c)return;if(typeof c=="object"&&typeof o=="object"&&c!==null&&o!==null)Object.assign(c,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(n,o):n[a]=o}function s(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return;const a=e[o];if(a.endsWith("[]")){const c=a.slice(0,-2);if(c in n){const d=n[c];return Array.isArray(d)?d.map(p=>s(p,e.slice(o+1))):void 0}else return}else n=n[a]}return n}catch(o){if(o instanceof TypeError)return;throw o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fr(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lv(n){const e={},o=s(n,["operationName"]);o!=null&&u(e,["operationName"],o);const a=s(n,["resourceName"]);return a!=null&&u(e,["_url","resourceName"],a),e}function Vv(n){const e={},o=s(n,["name"]);o!=null&&u(e,["name"],o);const a=s(n,["metadata"]);a!=null&&u(e,["metadata"],a);const c=s(n,["done"]);c!=null&&u(e,["done"],c);const d=s(n,["error"]);d!=null&&u(e,["error"],d);const p=s(n,["response","generateVideoResponse"]);return p!=null&&u(e,["response"],qv(p)),e}function kv(n){const e={},o=s(n,["name"]);o!=null&&u(e,["name"],o);const a=s(n,["metadata"]);a!=null&&u(e,["metadata"],a);const c=s(n,["done"]);c!=null&&u(e,["done"],c);const d=s(n,["error"]);d!=null&&u(e,["error"],d);const p=s(n,["response"]);return p!=null&&u(e,["response"],Gv(p)),e}function qv(n){const e={},o=s(n,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>Hv(p))),u(e,["generatedVideos"],d)}const a=s(n,["raiMediaFilteredCount"]);a!=null&&u(e,["raiMediaFilteredCount"],a);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&u(e,["raiMediaFilteredReasons"],c),e}function Gv(n){const e={},o=s(n,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>Bv(p))),u(e,["generatedVideos"],d)}const a=s(n,["raiMediaFilteredCount"]);a!=null&&u(e,["raiMediaFilteredCount"],a);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&u(e,["raiMediaFilteredReasons"],c),e}function Hv(n){const e={},o=s(n,["_self"]);return o!=null&&u(e,["video"],Fv(o)),e}function Bv(n){const e={},o=s(n,["_self"]);return o!=null&&u(e,["video"],Jv(o)),e}function zv(n){const e={},o=s(n,["operationName"]);return o!=null&&u(e,["_url","operationName"],o),e}function Pv(n){const e={},o=s(n,["operationName"]);return o!=null&&u(e,["_url","operationName"],o),e}function Fv(n){const e={},o=s(n,["video","uri"]);o!=null&&u(e,["uri"],o);const a=s(n,["video","encodedVideo"]);a!=null&&u(e,["videoBytes"],fr(a));const c=s(n,["encoding"]);return c!=null&&u(e,["mimeType"],c),e}function Jv(n){const e={},o=s(n,["gcsUri"]);o!=null&&u(e,["uri"],o);const a=s(n,["bytesBase64Encoded"]);a!=null&&u(e,["videoBytes"],fr(a));const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Vm||(Vm={}));var km;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(km||(km={}));var Ln;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Ln||(Ln={}));var qm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(qm||(qm={}));var Gm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Gm||(Gm={}));var Hm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Hm||(Hm={}));var Bm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Bm||(Bm={}));var zm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(zm||(zm={}));var Pm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Pm||(Pm={}));var Fm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Fm||(Fm={}));var Jm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT"})(Jm||(Jm={}));var Ym;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Ym||(Ym={}));var Om;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Om||(Om={}));var Km;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(Km||(Km={}));var Qm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Qm||(Qm={}));var va;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(va||(va={}));var Xm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Xm||(Xm={}));var er;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(er||(er={}));var $m;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})($m||($m={}));var Zm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Zm||(Zm={}));var Wm;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V"})(Wm||(Wm={}));var jm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(jm||(jm={}));var ep;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(ep||(ep={}));var tp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(tp||(tp={}));var np;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(np||(np={}));var ip;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(ip||(ip={}));var op;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(op||(op={}));var lp;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(lp||(lp={}));var ap;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(ap||(ap={}));var sp;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(sp||(sp={}));var up;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(up||(up={}));var rp;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(rp||(rp={}));var cp;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(cp||(cp={}));var fp;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(fp||(fp={}));var dp;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(dp||(dp={}));var mp;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(mp||(mp={}));var pp;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(pp||(pp={}));var hp;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(hp||(hp={}));var gp;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(gp||(gp={}));var yp;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(yp||(yp={}));var vp;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(vp||(vp={}));var Tp;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Tp||(Tp={}));var Cp;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Cp||(Cp={}));var Sp;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Sp||(Sp={}));var Ep;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ep||(Ep={}));var _p;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(_p||(_p={}));var Ap;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ap||(Ap={}));var xp;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(xp||(xp={}));var Fi;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Fi||(Fi={}));class tr{constructor(e){const o={};for(const a of e.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ko{get text(){var e,o,a,c,d,p,g,y;if(((c=(a=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const C=[];for(const S of(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[M,b]of Object.entries(S))M!=="text"&&M!=="thought"&&(b!==null||b!==void 0)&&C.push(M);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,h+=S.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var e,o,a,c,d,p,g,y;if(((c=(a=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const C of(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[S,M]of Object.entries(C))S!=="inlineData"&&(M!==null||M!==void 0)&&v.push(S);C.inlineData&&typeof C.inlineData.data=="string"&&(h+=atob(C.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,o,a,c,d,p,g,y;if(((c=(a=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,o,a,c,d,p,g,y,h;if(((c=(a=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,o,a,c,d,p,g,y,h;if(((c=(a=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class Mp{}class Rp{}class Yv{}class Ov{}class Kv{}class Qv{}class Np{}class Dp{}class Up{}class Xv{}class Ta{_fromAPIResponse({apiResponse:e,isVertexAI:o}){const a=new Ta;let c;const d=e;return o?c=kv(d):c=Vv(d),Object.assign(a,c),a}}class Ip{}class wp{}class bp{}class $v{}class Zv{}class Wv{}class Lp{}class jv{get text(){var e,o,a;let c="",d=!1;const p=[];for(const g of(a=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,c+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,o,a;let c="";const d=[];for(const p of(a=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&d.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}}class eT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ae(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function rh(n,e){const o=Ae(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function ch(n){return Array.isArray(n)?n.map(e=>Ca(e)):[Ca(n)]}function Ca(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function fh(n){const e=Ca(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function dh(n){const e=Ca(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Vp(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function mh(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Vp(e)):[Vp(n)]}function nr(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function kp(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function qp(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function ot(n){if(n==null)throw new Error("ContentUnion is required");return nr(n)?n:{role:"user",parts:mh(n)}}function dr(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const a=ot(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(n.isVertexAI()){const o=ot(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>ot(o)):[ot(e)]}function bt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(kp(n)||qp(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ot(n)]}const e=[],o=[],a=nr(n[0]);for(const c of n){const d=nr(c);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)e.push(c);else{if(kp(c)||qp(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(c)}}return a||e.push({role:"user",parts:mh(o)}),e}function tT(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(a=>a!=="null");if(o.length===1)e.type=Object.values(Ln).includes(o[0].toUpperCase())?o[0].toUpperCase():Ln.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const a of o)e.anyOf.push({type:Object.values(Ln).includes(a.toUpperCase())?a.toUpperCase():Ln.TYPE_UNSPECIFIED})}}function Ji(n){const e={},o=["items"],a=["anyOf"],c=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=n.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(e.nullable=!0,n=d[1]):d[1].type==="null"&&(e.nullable=!0,n=d[0])),n.type instanceof Array&&tT(n.type,e);for(const[p,g]of Object.entries(n))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(Ln).includes(g.toUpperCase())?g.toUpperCase():Ln.TYPE_UNSPECIFIED}else if(o.includes(p))e[p]=Ji(g);else if(a.includes(p)){const y=[];for(const h of g){if(h.type=="null"){e.nullable=!0;continue}y.push(Ji(h))}e[p]=y}else if(c.includes(p)){const y={};for(const[h,v]of Object.entries(g))y[h]=Ji(v);e[p]=y}else{if(p==="additionalProperties")continue;e[p]=g}return e}function mr(n){return Ji(n)}function pr(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function hr(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Ki(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ji(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ji(e.response));return n}function Qi(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function nT(n,e,o,a=1){const c=!e.startsWith(`${o}/`)&&e.split("/").length===a;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:c?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:c?`${o}/${e}`:e}function un(n,e){if(typeof e!="string")throw new Error("name must be a string");return nT(n,e,"cachedContents")}function ph(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function ii(n){return fr(n)}function iT(n){return n!=null&&typeof n=="object"&&"name"in n}function oT(n){return n!=null&&typeof n=="object"&&"video"in n}function lT(n){return n!=null&&typeof n=="object"&&"uri"in n}function hh(n){var e;let o;if(iT(n)&&(o=n.name),!(lT(n)&&(o=n.uri,o===void 0))&&!(oT(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const c=o.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${o}`);o=c[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function gh(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function yh(n){for(const e of["models","tunedModels","publisherModels"])if(aT(n,e))return n[e];return[]}function aT(n,e){return n!==null&&typeof n=="object"&&e in n}function sT(n,e={}){const o=n,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),e.behavior&&(a.behavior=e.behavior),{functionDeclarations:[a]}}function uT(n,e={}){const o=[],a=new Set;for(const c of n){const d=c.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const p=sT(c,e);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function vh(n,e){let o;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,c=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(n.isVertexAI()){if(c>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||c!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function rT(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Th(n){if(typeof n!="object"||n===null)return{};const e=n,o=e.inlinedResponses;if(typeof o!="object"||o===null)return n;const c=o.inlinedResponses;if(!Array.isArray(c)||c.length===0)return n;let d=!1;for(const p of c){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Xi(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Ch(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cT(n){const e={},o=s(n,["responsesFile"]);o!=null&&u(e,["fileName"],o);const a=s(n,["inlinedResponses","inlinedResponses"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>WT(p))),u(e,["inlinedResponses"],d)}const c=s(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>$T(p))),u(e,["inlinedEmbedContentResponses"],d)}return e}function fT(n){const e={},o=s(n,["predictionsFormat"]);o!=null&&u(e,["format"],o);const a=s(n,["gcsDestination","outputUriPrefix"]);a!=null&&u(e,["gcsUri"],a);const c=s(n,["bigqueryDestination","outputUri"]);return c!=null&&u(e,["bigqueryUri"],c),e}function dT(n){const e={},o=s(n,["format"]);o!=null&&u(e,["predictionsFormat"],o);const a=s(n,["gcsUri"]);a!=null&&u(e,["gcsDestination","outputUriPrefix"],a);const c=s(n,["bigqueryUri"]);if(c!=null&&u(e,["bigqueryDestination","outputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Pi(n){const e={},o=s(n,["name"]);o!=null&&u(e,["name"],o);const a=s(n,["metadata","displayName"]);a!=null&&u(e,["displayName"],a);const c=s(n,["metadata","state"]);c!=null&&u(e,["state"],Ch(c));const d=s(n,["metadata","createTime"]);d!=null&&u(e,["createTime"],d);const p=s(n,["metadata","endTime"]);p!=null&&u(e,["endTime"],p);const g=s(n,["metadata","updateTime"]);g!=null&&u(e,["updateTime"],g);const y=s(n,["metadata","model"]);y!=null&&u(e,["model"],y);const h=s(n,["metadata","output"]);return h!=null&&u(e,["dest"],cT(Th(h))),e}function ir(n){const e={},o=s(n,["name"]);o!=null&&u(e,["name"],o);const a=s(n,["displayName"]);a!=null&&u(e,["displayName"],a);const c=s(n,["state"]);c!=null&&u(e,["state"],Ch(c));const d=s(n,["error"]);d!=null&&u(e,["error"],Eh(d));const p=s(n,["createTime"]);p!=null&&u(e,["createTime"],p);const g=s(n,["startTime"]);g!=null&&u(e,["startTime"],g);const y=s(n,["endTime"]);y!=null&&u(e,["endTime"],y);const h=s(n,["updateTime"]);h!=null&&u(e,["updateTime"],h);const v=s(n,["model"]);v!=null&&u(e,["model"],v);const C=s(n,["inputConfig"]);C!=null&&u(e,["src"],mT(C));const S=s(n,["outputConfig"]);return S!=null&&u(e,["dest"],fT(Th(S))),e}function mT(n){const e={},o=s(n,["instancesFormat"]);o!=null&&u(e,["format"],o);const a=s(n,["gcsSource","uris"]);a!=null&&u(e,["gcsUri"],a);const c=s(n,["bigquerySource","inputUri"]);return c!=null&&u(e,["bigqueryUri"],c),e}function pT(n,e){const o={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=s(e,["fileName"]);a!=null&&u(o,["fileName"],a);const c=s(e,["inlinedRequests"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>ZT(n,p))),u(o,["requests","requests"],d)}return o}function hT(n){const e={},o=s(n,["format"]);o!=null&&u(e,["instancesFormat"],o);const a=s(n,["gcsUri"]);a!=null&&u(e,["gcsSource","uris"],a);const c=s(n,["bigqueryUri"]);if(c!=null&&u(e,["bigquerySource","inputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function gT(n){const e={},o=s(n,["data"]);o!=null&&u(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function yT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&u(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function vT(n,e){const o={},a=s(e,["name"]);return a!=null&&u(o,["_url","name"],Xi(n,a)),o}function TT(n,e){const o={},a=s(e,["name"]);return a!=null&&u(o,["_url","name"],Xi(n,a)),o}function CT(n){const e={},o=s(n,["content"]);o!=null&&u(e,["content"],AT(o));const a=s(n,["citationMetadata"]);a!=null&&u(e,["citationMetadata"],ST(a));const c=s(n,["tokenCount"]);c!=null&&u(e,["tokenCount"],c);const d=s(n,["finishReason"]);d!=null&&u(e,["finishReason"],d);const p=s(n,["urlContextMetadata"]);p!=null&&u(e,["urlContextMetadata"],C0(p));const g=s(n,["avgLogprobs"]);g!=null&&u(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const h=s(n,["index"]);h!=null&&u(e,["index"],h);const v=s(n,["logprobsResult"]);v!=null&&u(e,["logprobsResult"],v);const C=s(n,["safetyRatings"]);return C!=null&&u(e,["safetyRatings"],C),e}function ST(n){const e={},o=s(n,["citationSources"]);return o!=null&&u(e,["citations"],o),e}function ET(n){const e={},o=s(n,["environment"]);o!=null&&u(e,["environment"],o);const a=s(n,["excludedPredefinedFunctions"]);return a!=null&&u(e,["excludedPredefinedFunctions"],a),e}function _T(n){const e={},o=s(n,["values"]);return o!=null&&u(e,["values"],o),e}function AT(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>u0(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function Sh(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>r0(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function xT(n,e){const o={},a=s(n,["displayName"]);if(e!==void 0&&a!=null&&u(e,["batch","displayName"],a),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function MT(n,e){const o={},a=s(n,["displayName"]);e!==void 0&&a!=null&&u(e,["displayName"],a);const c=s(n,["dest"]);return e!==void 0&&c!=null&&u(e,["outputConfig"],dT(rT(c))),o}function $u(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],Ae(n,a));const c=s(e,["src"]);c!=null&&u(o,["batch","inputConfig"],pT(n,vh(n,c)));const d=s(e,["config"]);return d!=null&&xT(d,o),o}function RT(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["model"],Ae(n,a));const c=s(e,["src"]);c!=null&&u(o,["inputConfig"],hT(vh(n,c)));const d=s(e,["config"]);return d!=null&&MT(d,o),o}function NT(n,e){const o={},a=s(n,["displayName"]);return e!==void 0&&a!=null&&u(e,["batch","displayName"],a),o}function Zu(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],Ae(n,a));const c=s(e,["src"]);c!=null&&u(o,["batch","inputConfig"],kT(n,c));const d=s(e,["config"]);return d!=null&&NT(d,o),o}function DT(n,e){const o={},a=s(e,["name"]);return a!=null&&u(o,["_url","name"],Xi(n,a)),o}function UT(n,e){const o={},a=s(e,["name"]);return a!=null&&u(o,["_url","name"],Xi(n,a)),o}function IT(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["name"]);a!=null&&u(e,["name"],a);const c=s(n,["done"]);c!=null&&u(e,["done"],c);const d=s(n,["error"]);return d!=null&&u(e,["error"],gr(d)),e}function wT(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["name"]);a!=null&&u(e,["name"],a);const c=s(n,["done"]);c!=null&&u(e,["done"],c);const d=s(n,["error"]);return d!=null&&u(e,["error"],Eh(d)),e}function bT(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&u(e,["dynamicThreshold"],a),e}function LT(n,e){const o={},a=s(e,["contents"]);a!=null&&u(o,["requests[]","request","content"],dr(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],VT(c,o)),o}function VT(n,e){const o={},a=s(n,["taskType"]);e!==void 0&&a!=null&&u(e,["requests[]","taskType"],a);const c=s(n,["title"]);e!==void 0&&c!=null&&u(e,["requests[]","title"],c);const d=s(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&u(e,["requests[]","outputDimensionality"],d),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function kT(n,e){const o={},a=s(e,["fileName"]);a!=null&&u(o,["file_name"],a);const c=s(e,["inlinedRequests"]);return c!=null&&u(o,["requests"],LT(n,c)),o}function qT(n){const e={},o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function GT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function HT(n){const e={},o=s(n,["id"]);o!=null&&u(e,["id"],o);const a=s(n,["args"]);a!=null&&u(e,["args"],a);const c=s(n,["name"]);return c!=null&&u(e,["name"],c),e}function BT(n){const e={},o=s(n,["id"]);o!=null&&u(e,["id"],o);const a=s(n,["args"]);a!=null&&u(e,["args"],a);const c=s(n,["name"]);return c!=null&&u(e,["name"],c),e}function zT(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["allowedFunctionNames"]);return a!=null&&u(e,["allowedFunctionNames"],a),e}function PT(n){const e={},o=s(n,["behavior"]);o!=null&&u(e,["behavior"],o);const a=s(n,["description"]);a!=null&&u(e,["description"],a);const c=s(n,["name"]);c!=null&&u(e,["name"],c);const d=s(n,["parameters"]);d!=null&&u(e,["parameters"],d);const p=s(n,["parametersJsonSchema"]);p!=null&&u(e,["parametersJsonSchema"],p);const g=s(n,["response"]);g!=null&&u(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function FT(n,e,o){const a={},c=s(e,["systemInstruction"]);o!==void 0&&c!=null&&u(o,["systemInstruction"],Sh(ot(c)));const d=s(e,["temperature"]);d!=null&&u(a,["temperature"],d);const p=s(e,["topP"]);p!=null&&u(a,["topP"],p);const g=s(e,["topK"]);g!=null&&u(a,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&u(a,["candidateCount"],y);const h=s(e,["maxOutputTokens"]);h!=null&&u(a,["maxOutputTokens"],h);const v=s(e,["stopSequences"]);v!=null&&u(a,["stopSequences"],v);const C=s(e,["responseLogprobs"]);C!=null&&u(a,["responseLogprobs"],C);const S=s(e,["logprobs"]);S!=null&&u(a,["logprobs"],S);const M=s(e,["presencePenalty"]);M!=null&&u(a,["presencePenalty"],M);const b=s(e,["frequencyPenalty"]);b!=null&&u(a,["frequencyPenalty"],b);const q=s(e,["seed"]);q!=null&&u(a,["seed"],q);const z=s(e,["responseMimeType"]);z!=null&&u(a,["responseMimeType"],z);const G=s(e,["responseSchema"]);G!=null&&u(a,["responseSchema"],m0(mr(G)));const F=s(e,["responseJsonSchema"]);if(F!=null&&u(a,["responseJsonSchema"],F),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=s(e,["safetySettings"]);if(o!==void 0&&P!=null){let pe=P;Array.isArray(pe)&&(pe=pe.map(qe=>d0(qe))),u(o,["safetySettings"],pe)}const J=s(e,["tools"]);if(o!==void 0&&J!=null){let pe=Qi(J);Array.isArray(pe)&&(pe=pe.map(qe=>T0(Ki(qe)))),u(o,["tools"],pe)}const $=s(e,["toolConfig"]);if(o!==void 0&&$!=null&&u(o,["toolConfig"],v0($)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=s(e,["cachedContent"]);o!==void 0&&Q!=null&&u(o,["cachedContent"],un(n,Q));const Y=s(e,["responseModalities"]);Y!=null&&u(a,["responseModalities"],Y);const ae=s(e,["mediaResolution"]);ae!=null&&u(a,["mediaResolution"],ae);const j=s(e,["speechConfig"]);if(j!=null&&u(a,["speechConfig"],g0(pr(j))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=s(e,["thinkingConfig"]);de!=null&&u(a,["thinkingConfig"],y0(de));const Se=s(e,["imageConfig"]);return Se!=null&&u(a,["imageConfig"],XT(Se)),a}function JT(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>CT(h))),u(e,["candidates"],y)}const c=s(n,["modelVersion"]);c!=null&&u(e,["modelVersion"],c);const d=s(n,["promptFeedback"]);d!=null&&u(e,["promptFeedback"],d);const p=s(n,["responseId"]);p!=null&&u(e,["responseId"],p);const g=s(n,["usageMetadata"]);return g!=null&&u(e,["usageMetadata"],g),e}function YT(n,e){const o={},a=s(e,["name"]);return a!=null&&u(o,["_url","name"],Xi(n,a)),o}function OT(n,e){const o={},a=s(e,["name"]);return a!=null&&u(o,["_url","name"],Xi(n,a)),o}function KT(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&u(e,["dynamicRetrievalConfig"],bT(o)),e}function QT(n){const e={},o=s(n,["timeRangeFilter"]);if(o!=null&&u(e,["timeRangeFilter"],jT(o)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function XT(n){const e={},o=s(n,["aspectRatio"]);return o!=null&&u(e,["aspectRatio"],o),e}function $T(n){const e={},o=s(n,["response"]);o!=null&&u(e,["response"],p0(o));const a=s(n,["error"]);return a!=null&&u(e,["error"],gr(a)),e}function ZT(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["request","model"],Ae(n,a));const c=s(e,["contents"]);if(c!=null){let p=bt(c);Array.isArray(p)&&(p=p.map(g=>Sh(g))),u(o,["request","contents"],p)}const d=s(e,["config"]);return d!=null&&u(o,["request","generationConfig"],FT(n,d,o)),o}function WT(n){const e={},o=s(n,["response"]);o!=null&&u(e,["response"],JT(o));const a=s(n,["error"]);return a!=null&&u(e,["error"],gr(a)),e}function jT(n){const e={},o=s(n,["startTime"]);o!=null&&u(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&u(e,["endTime"],a),e}function gr(n){const e={},o=s(n,["details"]);o!=null&&u(e,["details"],o);const a=s(n,["code"]);a!=null&&u(e,["code"],a);const c=s(n,["message"]);return c!=null&&u(e,["message"],c),e}function Eh(n){const e={},o=s(n,["details"]);o!=null&&u(e,["details"],o);const a=s(n,["code"]);a!=null&&u(e,["code"],a);const c=s(n,["message"]);return c!=null&&u(e,["message"],c),e}function e0(n){const e={},o=s(n,["latitude"]);o!=null&&u(e,["latitude"],o);const a=s(n,["longitude"]);return a!=null&&u(e,["longitude"],a),e}function t0(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&u(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);if(e!==void 0&&c!=null&&u(e,["_query","pageToken"],c),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function n0(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&u(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&u(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&u(e,["_query","filter"],d),o}function i0(n){const e={},o=s(n,["config"]);return o!=null&&t0(o,e),e}function o0(n){const e={},o=s(n,["config"]);return o!=null&&n0(o,e),e}function l0(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const c=s(n,["operations"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>Pi(p))),u(e,["batchJobs"],d)}return e}function a0(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const c=s(n,["batchPredictionJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>ir(p))),u(e,["batchJobs"],d)}return e}function s0(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>h0(c))),u(e,["speakerVoiceConfigs"],a)}return e}function u0(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],_0(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],gT(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],qT(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],HT(g));const y=s(n,["codeExecutionResult"]);y!=null&&u(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&u(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function r0(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],A0(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],yT(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],GT(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],BT(g));const y=s(n,["codeExecutionResult"]);y!=null&&u(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&u(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function c0(n){const e={},o=s(n,["voiceName"]);return o!=null&&u(e,["voiceName"],o),e}function f0(n){const e={},o=s(n,["latLng"]);o!=null&&u(e,["latLng"],e0(o));const a=s(n,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function d0(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(n,["category"]);o!=null&&u(e,["category"],o);const a=s(n,["threshold"]);return a!=null&&u(e,["threshold"],a),e}function m0(n){const e={},o=s(n,["anyOf"]);o!=null&&u(e,["anyOf"],o);const a=s(n,["default"]);a!=null&&u(e,["default"],a);const c=s(n,["description"]);c!=null&&u(e,["description"],c);const d=s(n,["enum"]);d!=null&&u(e,["enum"],d);const p=s(n,["example"]);p!=null&&u(e,["example"],p);const g=s(n,["format"]);g!=null&&u(e,["format"],g);const y=s(n,["items"]);y!=null&&u(e,["items"],y);const h=s(n,["maxItems"]);h!=null&&u(e,["maxItems"],h);const v=s(n,["maxLength"]);v!=null&&u(e,["maxLength"],v);const C=s(n,["maxProperties"]);C!=null&&u(e,["maxProperties"],C);const S=s(n,["maximum"]);S!=null&&u(e,["maximum"],S);const M=s(n,["minItems"]);M!=null&&u(e,["minItems"],M);const b=s(n,["minLength"]);b!=null&&u(e,["minLength"],b);const q=s(n,["minProperties"]);q!=null&&u(e,["minProperties"],q);const z=s(n,["minimum"]);z!=null&&u(e,["minimum"],z);const G=s(n,["nullable"]);G!=null&&u(e,["nullable"],G);const F=s(n,["pattern"]);F!=null&&u(e,["pattern"],F);const P=s(n,["properties"]);P!=null&&u(e,["properties"],P);const J=s(n,["propertyOrdering"]);J!=null&&u(e,["propertyOrdering"],J);const $=s(n,["required"]);$!=null&&u(e,["required"],$);const Q=s(n,["title"]);Q!=null&&u(e,["title"],Q);const Y=s(n,["type"]);return Y!=null&&u(e,["type"],Y),e}function p0(n){const e={},o=s(n,["embedding"]);o!=null&&u(e,["embedding"],_T(o));const a=s(n,["tokenCount"]);return a!=null&&u(e,["tokenCount"],a),e}function h0(n){const e={},o=s(n,["speaker"]);o!=null&&u(e,["speaker"],o);const a=s(n,["voiceConfig"]);return a!=null&&u(e,["voiceConfig"],_h(a)),e}function g0(n){const e={},o=s(n,["voiceConfig"]);o!=null&&u(e,["voiceConfig"],_h(o));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&u(e,["multiSpeakerVoiceConfig"],s0(a));const c=s(n,["languageCode"]);return c!=null&&u(e,["languageCode"],c),e}function y0(n){const e={},o=s(n,["includeThoughts"]);o!=null&&u(e,["includeThoughts"],o);const a=s(n,["thinkingBudget"]);return a!=null&&u(e,["thinkingBudget"],a),e}function v0(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&u(e,["functionCallingConfig"],zT(o));const a=s(n,["retrievalConfig"]);return a!=null&&u(e,["retrievalConfig"],f0(a)),e}function T0(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>PT(h))),u(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&u(e,["googleSearch"],QT(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&u(e,["googleSearchRetrieval"],KT(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&u(e,["urlContext"],S0());const p=s(n,["computerUse"]);p!=null&&u(e,["computerUse"],ET(p));const g=s(n,["codeExecution"]);return g!=null&&u(e,["codeExecution"],g),e}function C0(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>E0(c))),u(e,["urlMetadata"],a)}return e}function S0(){return{}}function E0(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&u(e,["retrievedUrl"],o);const a=s(n,["urlRetrievalStatus"]);return a!=null&&u(e,["urlRetrievalStatus"],a),e}function _0(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function A0(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function _h(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&u(e,["prebuiltVoiceConfig"],c0(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ti;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ti||(ti={}));class Xo{constructor(e,o,a,c){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,a,c)}init(e,o,a){var c,d;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(d=(c=p.config)===null||c===void 0?void 0:c.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x0 extends ni{constructor(e){super(),this.apiClient=e,this.create=async o=>{var a,c;if(this.apiClient.isVertexAI())return o.config=this.formatDestination(o.src,o.config),this.createInternal(o);const d=o.src;if(!(Array.isArray(o.src)||d.inlinedRequests!==void 0))return this.createInternal(o);const g=this.createInlinedGenerateContentRequest(o),y=g.path,h=g.body,v=$u(this.apiClient,o)._query||{};return this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=o.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()).then(S=>Pi(S))},this.createEmbeddings=async o=>{var a,c;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(o.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(o);const g=this.createInlinedEmbedContentRequest(o),y=g.path,h=g.body,v=Zu(this.apiClient,o)._query||{};return this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=o.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()).then(S=>Pi(S))},this.list=async(o={})=>new Xo(ti.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o)}createInlinedGenerateContentRequest(e){const o=$u(this.apiClient,e),a=o._url,c=W("{model}:batchGenerateContent",a),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const C=Object.assign({},v);if(C.systemInstruction){const S=C.systemInstruction;delete C.systemInstruction;const M=C.request;M.systemInstruction=S,C.request=M}h.push(C)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:c,body:o}}createInlinedEmbedContentRequest(e){const o=Zu(this.apiClient,e),a=o._url,c=W("{model}:asyncBatchEmbedContent",a),g=o.batch.inputConfig.requests,y=g.requests,h=[];delete g.config;for(const v of y){const C=Object.assign({},v),S=C.request;for(const M in C)M!=="request"&&(S[M]=C[M],delete C[M]);h.push(C)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:c,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const a=o?Object.assign({},o):{},c=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${c}`),a.dest===void 0){const d=this.getGcsUri(e),p=this.getBigqueryUri(e);if(d)d.endsWith(".jsonl")?a.dest=`${d.slice(0,-6)}/dest`:a.dest=`${d}_dest_${c}`;else if(p)a.dest=`${p}_dest_${c}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=RT(this.apiClient,e);return g=W("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>ir(v))}else{const h=$u(this.apiClient,e);return g=W("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>Pi(v))}}async createEmbeddingsInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Zu(this.apiClient,e);return d=W("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Pi(y))}}async get(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=OT(this.apiClient,e);return g=W("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>ir(v))}else{const h=YT(this.apiClient,e);return g=W("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>Pi(v))}}async cancel(e){var o,a,c,d;let p="",g={};if(this.apiClient.isVertexAI()){const y=TT(this.apiClient,e);p=W("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=vT(this.apiClient,e);p=W("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=o0(e);return g=W("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=a0(v),S=new Lp;return Object.assign(S,C),S})}else{const h=i0(e);return g=W("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=l0(v),S=new Lp;return Object.assign(S,C),S})}}async delete(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=UT(this.apiClient,e);return g=W("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>wT(v))}else{const h=DT(this.apiClient,e);return g=W("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>IT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M0(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&u(e,["apiKeyString"],o),e}function R0(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&u(e,["apiKeyConfig"],M0(o));const a=s(n,["authType"]);a!=null&&u(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&u(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&u(e,["httpBasicAuthConfig"],d);const p=s(n,["oauthConfig"]);p!=null&&u(e,["oauthConfig"],p);const g=s(n,["oidcConfig"]);return g!=null&&u(e,["oidcConfig"],g),e}function N0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&u(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function D0(n){const e={},o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=s(n,["data"]);a!=null&&u(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function ga(n){const e={},o=s(n,["name"]);o!=null&&u(e,["name"],o);const a=s(n,["displayName"]);a!=null&&u(e,["displayName"],a);const c=s(n,["model"]);c!=null&&u(e,["model"],c);const d=s(n,["createTime"]);d!=null&&u(e,["createTime"],d);const p=s(n,["updateTime"]);p!=null&&u(e,["updateTime"],p);const g=s(n,["expireTime"]);g!=null&&u(e,["expireTime"],g);const y=s(n,["usageMetadata"]);return y!=null&&u(e,["usageMetadata"],y),e}function ya(n){const e={},o=s(n,["name"]);o!=null&&u(e,["name"],o);const a=s(n,["displayName"]);a!=null&&u(e,["displayName"],a);const c=s(n,["model"]);c!=null&&u(e,["model"],c);const d=s(n,["createTime"]);d!=null&&u(e,["createTime"],d);const p=s(n,["updateTime"]);p!=null&&u(e,["updateTime"],p);const g=s(n,["expireTime"]);g!=null&&u(e,["expireTime"],g);const y=s(n,["usageMetadata"]);return y!=null&&u(e,["usageMetadata"],y),e}function U0(n){const e={},o=s(n,["environment"]);o!=null&&u(e,["environment"],o);const a=s(n,["excludedPredefinedFunctions"]);return a!=null&&u(e,["excludedPredefinedFunctions"],a),e}function I0(n){const e={},o=s(n,["environment"]);o!=null&&u(e,["environment"],o);const a=s(n,["excludedPredefinedFunctions"]);return a!=null&&u(e,["excludedPredefinedFunctions"],a),e}function Gp(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>pC(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function Hp(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>hC(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function w0(n,e){const o={},a=s(n,["ttl"]);e!==void 0&&a!=null&&u(e,["ttl"],a);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&u(e,["expireTime"],c);const d=s(n,["displayName"]);e!==void 0&&d!=null&&u(e,["displayName"],d);const p=s(n,["contents"]);if(e!==void 0&&p!=null){let v=bt(p);Array.isArray(v)&&(v=v.map(C=>Gp(C))),u(e,["contents"],v)}const g=s(n,["systemInstruction"]);e!==void 0&&g!=null&&u(e,["systemInstruction"],Gp(ot(g)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(C=>CC(C))),u(e,["tools"],v)}const h=s(n,["toolConfig"]);if(e!==void 0&&h!=null&&u(e,["toolConfig"],vC(h)),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function b0(n,e){const o={},a=s(n,["ttl"]);e!==void 0&&a!=null&&u(e,["ttl"],a);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&u(e,["expireTime"],c);const d=s(n,["displayName"]);e!==void 0&&d!=null&&u(e,["displayName"],d);const p=s(n,["contents"]);if(e!==void 0&&p!=null){let C=bt(p);Array.isArray(C)&&(C=C.map(S=>Hp(S))),u(e,["contents"],C)}const g=s(n,["systemInstruction"]);e!==void 0&&g!=null&&u(e,["systemInstruction"],Hp(ot(g)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let C=y;Array.isArray(C)&&(C=C.map(S=>SC(S))),u(e,["tools"],C)}const h=s(n,["toolConfig"]);e!==void 0&&h!=null&&u(e,["toolConfig"],TC(h));const v=s(n,["kmsKeyName"]);return e!==void 0&&v!=null&&u(e,["encryption_spec","kmsKeyName"],v),o}function L0(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["model"],rh(n,a));const c=s(e,["config"]);return c!=null&&w0(c,o),o}function V0(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["model"],rh(n,a));const c=s(e,["config"]);return c!=null&&b0(c,o),o}function k0(n,e){const o={},a=s(e,["name"]);return a!=null&&u(o,["_url","name"],un(n,a)),o}function q0(n,e){const o={},a=s(e,["name"]);return a!=null&&u(o,["_url","name"],un(n,a)),o}function G0(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&u(e,["sdkHttpResponse"],o),e}function H0(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&u(e,["sdkHttpResponse"],o),e}function B0(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&u(e,["dynamicThreshold"],a),e}function z0(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&u(e,["dynamicThreshold"],a),e}function P0(n){const e={},o=s(n,["excludeDomains"]);return o!=null&&u(e,["excludeDomains"],o),e}function F0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function J0(n){const e={},o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=s(n,["fileUri"]);a!=null&&u(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function Y0(n){const e={},o=s(n,["id"]);o!=null&&u(e,["id"],o);const a=s(n,["args"]);a!=null&&u(e,["args"],a);const c=s(n,["name"]);return c!=null&&u(e,["name"],c),e}function O0(n){const e={},o=s(n,["id"]);o!=null&&u(e,["id"],o);const a=s(n,["args"]);a!=null&&u(e,["args"],a);const c=s(n,["name"]);return c!=null&&u(e,["name"],c),e}function K0(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["allowedFunctionNames"]);return a!=null&&u(e,["allowedFunctionNames"],a),e}function Q0(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["allowedFunctionNames"]);return a!=null&&u(e,["allowedFunctionNames"],a),e}function X0(n){const e={},o=s(n,["behavior"]);o!=null&&u(e,["behavior"],o);const a=s(n,["description"]);a!=null&&u(e,["description"],a);const c=s(n,["name"]);c!=null&&u(e,["name"],c);const d=s(n,["parameters"]);d!=null&&u(e,["parameters"],d);const p=s(n,["parametersJsonSchema"]);p!=null&&u(e,["parametersJsonSchema"],p);const g=s(n,["response"]);g!=null&&u(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function $0(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&u(e,["description"],o);const a=s(n,["name"]);a!=null&&u(e,["name"],a);const c=s(n,["parameters"]);c!=null&&u(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const p=s(n,["response"]);p!=null&&u(e,["response"],p);const g=s(n,["responseJsonSchema"]);return g!=null&&u(e,["responseJsonSchema"],g),e}function Z0(n,e){const o={},a=s(e,["name"]);return a!=null&&u(o,["_url","name"],un(n,a)),o}function W0(n,e){const o={},a=s(e,["name"]);return a!=null&&u(o,["_url","name"],un(n,a)),o}function j0(n){const e={},o=s(n,["authConfig"]);return o!=null&&u(e,["authConfig"],R0(o)),e}function eC(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&u(e,["dynamicRetrievalConfig"],B0(o)),e}function tC(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&u(e,["dynamicRetrievalConfig"],z0(o)),e}function nC(n){const e={},o=s(n,["timeRangeFilter"]);if(o!=null&&u(e,["timeRangeFilter"],oC(o)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function iC(n){const e={},o=s(n,["timeRangeFilter"]);o!=null&&u(e,["timeRangeFilter"],lC(o));const a=s(n,["excludeDomains"]);return a!=null&&u(e,["excludeDomains"],a),e}function oC(n){const e={},o=s(n,["startTime"]);o!=null&&u(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&u(e,["endTime"],a),e}function lC(n){const e={},o=s(n,["startTime"]);o!=null&&u(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&u(e,["endTime"],a),e}function aC(n){const e={},o=s(n,["latitude"]);o!=null&&u(e,["latitude"],o);const a=s(n,["longitude"]);return a!=null&&u(e,["longitude"],a),e}function sC(n){const e={},o=s(n,["latitude"]);o!=null&&u(e,["latitude"],o);const a=s(n,["longitude"]);return a!=null&&u(e,["longitude"],a),e}function uC(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&u(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&u(e,["_query","pageToken"],c),o}function rC(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&u(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&u(e,["_query","pageToken"],c),o}function cC(n){const e={},o=s(n,["config"]);return o!=null&&uC(o,e),e}function fC(n){const e={},o=s(n,["config"]);return o!=null&&rC(o,e),e}function dC(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const c=s(n,["cachedContents"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>ga(p))),u(e,["cachedContents"],d)}return e}function mC(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const c=s(n,["cachedContents"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>ya(p))),u(e,["cachedContents"],d)}return e}function pC(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],NC(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],N0(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],F0(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],Y0(g));const y=s(n,["codeExecutionResult"]);y!=null&&u(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&u(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function hC(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],DC(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],D0(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],J0(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],O0(g));const y=s(n,["codeExecutionResult"]);y!=null&&u(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&u(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function gC(n){const e={},o=s(n,["latLng"]);o!=null&&u(e,["latLng"],aC(o));const a=s(n,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function yC(n){const e={},o=s(n,["latLng"]);o!=null&&u(e,["latLng"],sC(o));const a=s(n,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function vC(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&u(e,["functionCallingConfig"],K0(o));const a=s(n,["retrievalConfig"]);return a!=null&&u(e,["retrievalConfig"],gC(a)),e}function TC(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&u(e,["functionCallingConfig"],Q0(o));const a=s(n,["retrievalConfig"]);return a!=null&&u(e,["retrievalConfig"],yC(a)),e}function CC(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>X0(h))),u(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&u(e,["googleSearch"],nC(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&u(e,["googleSearchRetrieval"],eC(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&u(e,["urlContext"],MC());const p=s(n,["computerUse"]);p!=null&&u(e,["computerUse"],U0(p));const g=s(n,["codeExecution"]);return g!=null&&u(e,["codeExecution"],g),e}function SC(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(S=>$0(S))),u(e,["functionDeclarations"],C)}const a=s(n,["retrieval"]);a!=null&&u(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&u(e,["googleSearch"],iC(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&u(e,["googleSearchRetrieval"],tC(d));const p=s(n,["enterpriseWebSearch"]);p!=null&&u(e,["enterpriseWebSearch"],P0(p));const g=s(n,["googleMaps"]);g!=null&&u(e,["googleMaps"],j0(g)),s(n,["urlContext"])!=null&&u(e,["urlContext"],RC());const h=s(n,["computerUse"]);h!=null&&u(e,["computerUse"],I0(h));const v=s(n,["codeExecution"]);return v!=null&&u(e,["codeExecution"],v),e}function EC(n,e){const o={},a=s(n,["ttl"]);e!==void 0&&a!=null&&u(e,["ttl"],a);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&u(e,["expireTime"],c),o}function _C(n,e){const o={},a=s(n,["ttl"]);e!==void 0&&a!=null&&u(e,["ttl"],a);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&u(e,["expireTime"],c),o}function AC(n,e){const o={},a=s(e,["name"]);a!=null&&u(o,["_url","name"],un(n,a));const c=s(e,["config"]);return c!=null&&EC(c,o),o}function xC(n,e){const o={},a=s(e,["name"]);a!=null&&u(o,["_url","name"],un(n,a));const c=s(e,["config"]);return c!=null&&_C(c,o),o}function MC(){return{}}function RC(){return{}}function NC(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function DC(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UC extends ni{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Xo(ti.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=V0(this.apiClient,e);return g=W("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>ya(v))}else{const h=L0(this.apiClient,e);return g=W("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>ga(v))}}async get(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=W0(this.apiClient,e);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>ya(v))}else{const h=Z0(this.apiClient,e);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>ga(v))}}async delete(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=q0(this.apiClient,e);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=H0(v),S=new wp;return Object.assign(S,C),S})}else{const h=k0(this.apiClient,e);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=G0(v),S=new wp;return Object.assign(S,C),S})}}async update(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=xC(this.apiClient,e);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>ya(v))}else{const h=AC(this.apiClient,e);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>ga(v))}}async listInternal(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=fC(e);return g=W("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=mC(v),S=new bp;return Object.assign(S,C),S})}else{const h=cC(e);return g=W("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=dC(v),S=new bp;return Object.assign(S,C),S})}}}function Bp(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],a=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Le(n){return this instanceof Le?(this.v=n,this):new Le(n)}function Yi(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(n,e||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),c[Symbol.asyncIterator]=function(){return this},c;function p(M){return function(b){return Promise.resolve(b).then(M,C)}}function g(M,b){a[M]&&(c[M]=function(q){return new Promise(function(z,G){d.push([M,q,z,G])>1||y(M,q)})},b&&(c[M]=b(c[M])))}function y(M,b){try{h(a[M](b))}catch(q){S(d[0][3],q)}}function h(M){M.value instanceof Le?Promise.resolve(M.value.v).then(v,C):S(d[0][2],M)}function v(M){y("next",M)}function C(M){y("throw",M)}function S(M,b){M(b),d.shift(),d.length&&y(d[0][0],d[0][1])}}function Qo(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof Bp=="function"?Bp(n):n[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(d){o[d]=n[d]&&function(p){return new Promise(function(g,y){p=n[d](p),c(g,y,p.done,p.value)})}}function c(d,p,g,y){Promise.resolve(y).then(function(h){d({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IC(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:Ah(o)}function Ah(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function wC(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function zp(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let a=0;for(;a<o;)if(n[a].role==="user")e.push(n[a]),a++;else{const c=[];let d=!0;for(;a<o&&n[a].role==="model";)c.push(n[a]),d&&!Ah(n[a])&&(d=!1),a++;d?e.push(...c):e.pop()}return e}class bC{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new LC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class LC{constructor(e,o,a,c={},d=[]){this.apiClient=e,this.modelsModule=o,this.model=a,this.config=c,this.history=d,this.sendPromise=Promise.resolve(),wC(d)}async sendMessage(e){var o;await this.sendPromise;const a=ot(e.message),c=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,p,g;const y=await c,h=(p=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let S=[];v!=null&&(S=(g=v.slice(C))!==null&&g!==void 0?g:[]);const M=h?[h]:[];this.recordHistory(a,M,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),c}async sendMessageStream(e){var o;await this.sendPromise;const a=ot(e.message),c=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=c.then(()=>{}).catch(()=>{});const d=await c;return this.processStreamResponse(d,a)}getHistory(e=!1){const o=e?zp(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){var a,c;return Yi(this,arguments,function*(){var p,g,y,h;const v=[];try{for(var C=!0,S=Qo(e),M;M=yield Le(S.next()),p=M.done,!p;C=!0){h=M.value,C=!1;const b=h;if(IC(b)){const q=(c=(a=b.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content;q!==void 0&&v.push(q)}yield yield Le(b)}}catch(b){g={error:b}}finally{try{!C&&!p&&(y=S.return)&&(yield Le(y.call(S)))}finally{if(g)throw g.error}}this.recordHistory(o,v)})}recordHistory(e,o,a){let c=[];o.length>0&&o.every(d=>d.role!==void 0)?c=o:c.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...zp(a)):this.history.push(e),this.history.push(...c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _a extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,_a.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VC(n){const e={},o=s(n,["file"]);return o!=null&&u(e,["file"],zC(o)),e}function kC(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&u(e,["sdkHttpResponse"],o),e}function qC(n){const e={},o=s(n,["name"]);return o!=null&&u(e,["_url","file"],hh(o)),e}function GC(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&u(e,["sdkHttpResponse"],o),e}function or(n){const e={},o=s(n,["name"]);o!=null&&u(e,["name"],o);const a=s(n,["displayName"]);a!=null&&u(e,["displayName"],a);const c=s(n,["mimeType"]);c!=null&&u(e,["mimeType"],c);const d=s(n,["sizeBytes"]);d!=null&&u(e,["sizeBytes"],d);const p=s(n,["createTime"]);p!=null&&u(e,["createTime"],p);const g=s(n,["expirationTime"]);g!=null&&u(e,["expirationTime"],g);const y=s(n,["updateTime"]);y!=null&&u(e,["updateTime"],y);const h=s(n,["sha256Hash"]);h!=null&&u(e,["sha256Hash"],h);const v=s(n,["uri"]);v!=null&&u(e,["uri"],v);const C=s(n,["downloadUri"]);C!=null&&u(e,["downloadUri"],C);const S=s(n,["state"]);S!=null&&u(e,["state"],S);const M=s(n,["source"]);M!=null&&u(e,["source"],M);const b=s(n,["videoMetadata"]);b!=null&&u(e,["videoMetadata"],b);const q=s(n,["error"]);return q!=null&&u(e,["error"],HC(q)),e}function HC(n){const e={},o=s(n,["details"]);o!=null&&u(e,["details"],o);const a=s(n,["message"]);a!=null&&u(e,["message"],a);const c=s(n,["code"]);return c!=null&&u(e,["code"],c),e}function BC(n){const e={},o=s(n,["details"]);o!=null&&u(e,["details"],o);const a=s(n,["message"]);a!=null&&u(e,["message"],a);const c=s(n,["code"]);return c!=null&&u(e,["code"],c),e}function zC(n){const e={},o=s(n,["name"]);o!=null&&u(e,["name"],o);const a=s(n,["displayName"]);a!=null&&u(e,["displayName"],a);const c=s(n,["mimeType"]);c!=null&&u(e,["mimeType"],c);const d=s(n,["sizeBytes"]);d!=null&&u(e,["sizeBytes"],d);const p=s(n,["createTime"]);p!=null&&u(e,["createTime"],p);const g=s(n,["expirationTime"]);g!=null&&u(e,["expirationTime"],g);const y=s(n,["updateTime"]);y!=null&&u(e,["updateTime"],y);const h=s(n,["sha256Hash"]);h!=null&&u(e,["sha256Hash"],h);const v=s(n,["uri"]);v!=null&&u(e,["uri"],v);const C=s(n,["downloadUri"]);C!=null&&u(e,["downloadUri"],C);const S=s(n,["state"]);S!=null&&u(e,["state"],S);const M=s(n,["source"]);M!=null&&u(e,["source"],M);const b=s(n,["videoMetadata"]);b!=null&&u(e,["videoMetadata"],b);const q=s(n,["error"]);return q!=null&&u(e,["error"],BC(q)),e}function PC(n){const e={},o=s(n,["name"]);return o!=null&&u(e,["_url","file"],hh(o)),e}function FC(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&u(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&u(e,["_query","pageToken"],c),o}function JC(n){const e={},o=s(n,["config"]);return o!=null&&FC(o,e),e}function YC(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const c=s(n,["files"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>or(p))),u(e,["files"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OC extends ni{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Xo(ti.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>or(o))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=JC(e);return d=W("files",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const h=YC(y),v=new $v;return Object.assign(v,h),v})}}async createInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=VC(e);return d=W("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const h=kC(y),v=new Zv;return Object.assign(v,h),v})}}async get(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=PC(e);return d=W("files/{file}",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>or(y))}}async delete(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=qC(e);return d=W("files/{file}",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const h=GC(y),v=new Wv;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KC(){return{}}function QC(){return{}}function XC(){return{}}function $C(){return{}}function ZC(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&u(e,["apiKeyString"],o),e}function WC(n){const e={},o=s(n,["data"]);o!=null&&u(e,["data"],o);const a=s(n,["mimeType"]);a!=null&&u(e,["mimeType"],a);const c=s(n,["sourceMetadata"]);return c!=null&&u(e,["sourceMetadata"],JS(c)),e}function Pp(){return{}}function Fp(){return{}}function jC(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&u(e,["apiKeyConfig"],ZC(o));const a=s(n,["authType"]);a!=null&&u(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&u(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&u(e,["httpBasicAuthConfig"],d);const p=s(n,["oauthConfig"]);p!=null&&u(e,["oauthConfig"],p);const g=s(n,["oidcConfig"]);return g!=null&&u(e,["oidcConfig"],g),e}function eS(n){const e={},o=s(n,["disabled"]);o!=null&&u(e,["disabled"],o);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&u(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&u(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&u(e,["prefixPaddingMs"],d);const p=s(n,["silenceDurationMs"]);return p!=null&&u(e,["silenceDurationMs"],p),e}function tS(n){const e={},o=s(n,["disabled"]);o!=null&&u(e,["disabled"],o);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&u(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&u(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&u(e,["prefixPaddingMs"],d);const p=s(n,["silenceDurationMs"]);return p!=null&&u(e,["silenceDurationMs"],p),e}function nS(n){const e={},o=s(n,["data"]);o!=null&&u(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function iS(n){const e={},o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=s(n,["data"]);a!=null&&u(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function oS(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&u(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function lS(n){const e={},o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=s(n,["data"]);a!=null&&u(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function aS(n){const e={},o=s(n,["environment"]);o!=null&&u(e,["environment"],o);const a=s(n,["excludedPredefinedFunctions"]);return a!=null&&u(e,["excludedPredefinedFunctions"],a),e}function sS(n){const e={},o=s(n,["environment"]);o!=null&&u(e,["environment"],o);const a=s(n,["excludedPredefinedFunctions"]);return a!=null&&u(e,["excludedPredefinedFunctions"],a),e}function uS(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>uE(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function rS(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>rE(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function cS(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>cE(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function fS(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>fE(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function dS(n){const e={},o=s(n,["triggerTokens"]);o!=null&&u(e,["triggerTokens"],o);const a=s(n,["slidingWindow"]);return a!=null&&u(e,["slidingWindow"],CE(a)),e}function mS(n){const e={},o=s(n,["triggerTokens"]);o!=null&&u(e,["triggerTokens"],o);const a=s(n,["slidingWindow"]);return a!=null&&u(e,["slidingWindow"],SE(a)),e}function pS(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&u(e,["dynamicThreshold"],a),e}function hS(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&u(e,["dynamicThreshold"],a),e}function gS(n){const e={},o=s(n,["excludeDomains"]);return o!=null&&u(e,["excludeDomains"],o),e}function yS(n){const e={},o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function vS(n){const e={},o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=s(n,["fileUri"]);a!=null&&u(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function TS(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function CS(n){const e={},o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=s(n,["fileUri"]);a!=null&&u(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function xh(n){const e={},o=s(n,["id"]);o!=null&&u(e,["id"],o);const a=s(n,["args"]);a!=null&&u(e,["args"],a);const c=s(n,["name"]);return c!=null&&u(e,["name"],c),e}function Mh(n){const e={},o=s(n,["id"]);o!=null&&u(e,["id"],o);const a=s(n,["args"]);a!=null&&u(e,["args"],a);const c=s(n,["name"]);return c!=null&&u(e,["name"],c),e}function SS(n){const e={},o=s(n,["id"]);o!=null&&u(e,["id"],o);const a=s(n,["args"]);a!=null&&u(e,["args"],a);const c=s(n,["name"]);return c!=null&&u(e,["name"],c),e}function ES(n){const e={},o=s(n,["id"]);o!=null&&u(e,["id"],o);const a=s(n,["args"]);a!=null&&u(e,["args"],a);const c=s(n,["name"]);return c!=null&&u(e,["name"],c),e}function _S(n){const e={},o=s(n,["behavior"]);o!=null&&u(e,["behavior"],o);const a=s(n,["description"]);a!=null&&u(e,["description"],a);const c=s(n,["name"]);c!=null&&u(e,["name"],c);const d=s(n,["parameters"]);d!=null&&u(e,["parameters"],d);const p=s(n,["parametersJsonSchema"]);p!=null&&u(e,["parametersJsonSchema"],p);const g=s(n,["response"]);g!=null&&u(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function AS(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&u(e,["description"],o);const a=s(n,["name"]);a!=null&&u(e,["name"],a);const c=s(n,["parameters"]);c!=null&&u(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const p=s(n,["response"]);p!=null&&u(e,["response"],p);const g=s(n,["responseJsonSchema"]);return g!=null&&u(e,["responseJsonSchema"],g),e}function xS(n){const e={},o=s(n,["authConfig"]);return o!=null&&u(e,["authConfig"],jC(o)),e}function MS(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&u(e,["dynamicRetrievalConfig"],pS(o)),e}function RS(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&u(e,["dynamicRetrievalConfig"],hS(o)),e}function NS(n){const e={},o=s(n,["timeRangeFilter"]);if(o!=null&&u(e,["timeRangeFilter"],US(o)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function DS(n){const e={},o=s(n,["timeRangeFilter"]);o!=null&&u(e,["timeRangeFilter"],IS(o));const a=s(n,["excludeDomains"]);return a!=null&&u(e,["excludeDomains"],a),e}function US(n){const e={},o=s(n,["startTime"]);o!=null&&u(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&u(e,["endTime"],a),e}function IS(n){const e={},o=s(n,["startTime"]);o!=null&&u(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&u(e,["endTime"],a),e}function wS(n,e){const o={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","temperature"],d);const p=s(n,["topP"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","topP"],p);const g=s(n,["topK"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const h=s(n,["mediaResolution"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","mediaResolution"],h);const v=s(n,["seed"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","seed"],v);const C=s(n,["speechConfig"]);e!==void 0&&C!=null&&u(e,["setup","generationConfig","speechConfig"],_E(hr(C)));const S=s(n,["thinkingConfig"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","thinkingConfig"],xE(S));const M=s(n,["enableAffectiveDialog"]);e!==void 0&&M!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],M);const b=s(n,["systemInstruction"]);e!==void 0&&b!=null&&u(e,["setup","systemInstruction"],cS(ot(b)));const q=s(n,["tools"]);if(e!==void 0&&q!=null){let Q=Qi(q);Array.isArray(Q)&&(Q=Q.map(Y=>RE(Ki(Y)))),u(e,["setup","tools"],Q)}const z=s(n,["sessionResumption"]);e!==void 0&&z!=null&&u(e,["setup","sessionResumption"],vE(z));const G=s(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&u(e,["setup","inputAudioTranscription"],Pp());const F=s(n,["outputAudioTranscription"]);e!==void 0&&F!=null&&u(e,["setup","outputAudioTranscription"],Pp());const P=s(n,["realtimeInputConfig"]);e!==void 0&&P!=null&&u(e,["setup","realtimeInputConfig"],gE(P));const J=s(n,["contextWindowCompression"]);e!==void 0&&J!=null&&u(e,["setup","contextWindowCompression"],dS(J));const $=s(n,["proactivity"]);return e!==void 0&&$!=null&&u(e,["setup","proactivity"],pE($)),o}function bS(n,e){const o={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","temperature"],d);const p=s(n,["topP"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","topP"],p);const g=s(n,["topK"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const h=s(n,["mediaResolution"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","mediaResolution"],h);const v=s(n,["seed"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","seed"],v);const C=s(n,["speechConfig"]);e!==void 0&&C!=null&&u(e,["setup","generationConfig","speechConfig"],AE(hr(C)));const S=s(n,["thinkingConfig"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","thinkingConfig"],ME(S));const M=s(n,["enableAffectiveDialog"]);e!==void 0&&M!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],M);const b=s(n,["systemInstruction"]);e!==void 0&&b!=null&&u(e,["setup","systemInstruction"],fS(ot(b)));const q=s(n,["tools"]);if(e!==void 0&&q!=null){let Q=Qi(q);Array.isArray(Q)&&(Q=Q.map(Y=>NE(Ki(Y)))),u(e,["setup","tools"],Q)}const z=s(n,["sessionResumption"]);e!==void 0&&z!=null&&u(e,["setup","sessionResumption"],TE(z));const G=s(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&u(e,["setup","inputAudioTranscription"],Fp());const F=s(n,["outputAudioTranscription"]);e!==void 0&&F!=null&&u(e,["setup","outputAudioTranscription"],Fp());const P=s(n,["realtimeInputConfig"]);e!==void 0&&P!=null&&u(e,["setup","realtimeInputConfig"],yE(P));const J=s(n,["contextWindowCompression"]);e!==void 0&&J!=null&&u(e,["setup","contextWindowCompression"],mS(J));const $=s(n,["proactivity"]);return e!==void 0&&$!=null&&u(e,["setup","proactivity"],hE($)),o}function LS(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["setup","model"],Ae(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],wS(c,o)),o}function VS(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["setup","model"],Ae(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],bS(c,o)),o}function kS(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>BE(c))),u(e,["weightedPrompts"],a)}return e}function Rh(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Ih(c))),u(e,["weightedPrompts"],a)}return e}function lr(n){const e={},o=s(n,["setup"]);o!=null&&u(e,["setup"],Nh(o));const a=s(n,["clientContent"]);a!=null&&u(e,["clientContent"],Rh(a));const c=s(n,["musicGenerationConfig"]);c!=null&&u(e,["musicGenerationConfig"],Dh(c));const d=s(n,["playbackControl"]);return d!=null&&u(e,["playbackControl"],d),e}function Nh(n){const e={},o=s(n,["model"]);return o!=null&&u(e,["model"],o),e}function qS(n){const e={},o=s(n,["text"]);o!=null&&u(e,["text"],o);const a=s(n,["filteredReason"]);return a!=null&&u(e,["filteredReason"],a),e}function GS(n){const e={},o=s(n,["temperature"]);o!=null&&u(e,["temperature"],o);const a=s(n,["topK"]);a!=null&&u(e,["topK"],a);const c=s(n,["seed"]);c!=null&&u(e,["seed"],c);const d=s(n,["guidance"]);d!=null&&u(e,["guidance"],d);const p=s(n,["bpm"]);p!=null&&u(e,["bpm"],p);const g=s(n,["density"]);g!=null&&u(e,["density"],g);const y=s(n,["brightness"]);y!=null&&u(e,["brightness"],y);const h=s(n,["scale"]);h!=null&&u(e,["scale"],h);const v=s(n,["muteBass"]);v!=null&&u(e,["muteBass"],v);const C=s(n,["muteDrums"]);C!=null&&u(e,["muteDrums"],C);const S=s(n,["onlyBassAndDrums"]);S!=null&&u(e,["onlyBassAndDrums"],S);const M=s(n,["musicGenerationMode"]);return M!=null&&u(e,["musicGenerationMode"],M),e}function Dh(n){const e={},o=s(n,["temperature"]);o!=null&&u(e,["temperature"],o);const a=s(n,["topK"]);a!=null&&u(e,["topK"],a);const c=s(n,["seed"]);c!=null&&u(e,["seed"],c);const d=s(n,["guidance"]);d!=null&&u(e,["guidance"],d);const p=s(n,["bpm"]);p!=null&&u(e,["bpm"],p);const g=s(n,["density"]);g!=null&&u(e,["density"],g);const y=s(n,["brightness"]);y!=null&&u(e,["brightness"],y);const h=s(n,["scale"]);h!=null&&u(e,["scale"],h);const v=s(n,["muteBass"]);v!=null&&u(e,["muteBass"],v);const C=s(n,["muteDrums"]);C!=null&&u(e,["muteDrums"],C);const S=s(n,["onlyBassAndDrums"]);S!=null&&u(e,["onlyBassAndDrums"],S);const M=s(n,["musicGenerationMode"]);return M!=null&&u(e,["musicGenerationMode"],M),e}function HS(n){const e={},o=s(n,["audioChunks"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>WC(c))),u(e,["audioChunks"],a)}return e}function BS(n){const e={};s(n,["setupComplete"])!=null&&u(e,["setupComplete"],zS());const a=s(n,["serverContent"]);a!=null&&u(e,["serverContent"],HS(a));const c=s(n,["filteredPrompt"]);return c!=null&&u(e,["filteredPrompt"],qS(c)),e}function zS(){return{}}function PS(n){const e={},o=s(n,["musicGenerationConfig"]);return o!=null&&u(e,["musicGenerationConfig"],Dh(o)),e}function FS(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Ih(c))),u(e,["weightedPrompts"],a)}return e}function JS(n){const e={},o=s(n,["clientContent"]);o!=null&&u(e,["clientContent"],kS(o));const a=s(n,["musicGenerationConfig"]);return a!=null&&u(e,["musicGenerationConfig"],GS(a)),e}function YS(n){const e={},o=s(n,["media"]);if(o!=null){let h=ch(o);Array.isArray(h)&&(h=h.map(v=>v)),u(e,["mediaChunks"],h)}const a=s(n,["audio"]);a!=null&&u(e,["audio"],dh(a));const c=s(n,["audioStreamEnd"]);c!=null&&u(e,["audioStreamEnd"],c);const d=s(n,["video"]);d!=null&&u(e,["video"],fh(d));const p=s(n,["text"]);return p!=null&&u(e,["text"],p),s(n,["activityStart"])!=null&&u(e,["activityStart"],XC()),s(n,["activityEnd"])!=null&&u(e,["activityEnd"],KC()),e}function OS(n){const e={},o=s(n,["media"]);if(o!=null){let h=ch(o);Array.isArray(h)&&(h=h.map(v=>v)),u(e,["mediaChunks"],h)}const a=s(n,["audio"]);a!=null&&u(e,["audio"],dh(a));const c=s(n,["audioStreamEnd"]);c!=null&&u(e,["audioStreamEnd"],c);const d=s(n,["video"]);d!=null&&u(e,["video"],fh(d));const p=s(n,["text"]);return p!=null&&u(e,["text"],p),s(n,["activityStart"])!=null&&u(e,["activityStart"],$C()),s(n,["activityEnd"])!=null&&u(e,["activityEnd"],QC()),e}function KS(n){const e={},o=s(n,["modelTurn"]);o!=null&&u(e,["modelTurn"],uS(o));const a=s(n,["turnComplete"]);a!=null&&u(e,["turnComplete"],a);const c=s(n,["interrupted"]);c!=null&&u(e,["interrupted"],c);const d=s(n,["groundingMetadata"]);d!=null&&u(e,["groundingMetadata"],d);const p=s(n,["generationComplete"]);p!=null&&u(e,["generationComplete"],p);const g=s(n,["inputTranscription"]);g!=null&&u(e,["inputTranscription"],Jp(g));const y=s(n,["outputTranscription"]);y!=null&&u(e,["outputTranscription"],Jp(y));const h=s(n,["urlContextMetadata"]);h!=null&&u(e,["urlContextMetadata"],DE(h));const v=s(n,["turnCompleteReason"]);v!=null&&u(e,["turnCompleteReason"],v);const C=s(n,["waitingForInput"]);return C!=null&&u(e,["waitingForInput"],C),e}function QS(n){const e={},o=s(n,["modelTurn"]);o!=null&&u(e,["modelTurn"],rS(o));const a=s(n,["turnComplete"]);a!=null&&u(e,["turnComplete"],a);const c=s(n,["interrupted"]);c!=null&&u(e,["interrupted"],c);const d=s(n,["groundingMetadata"]);d!=null&&u(e,["groundingMetadata"],d);const p=s(n,["generationComplete"]);p!=null&&u(e,["generationComplete"],p);const g=s(n,["inputTranscription"]);g!=null&&u(e,["inputTranscription"],Yp(g));const y=s(n,["outputTranscription"]);y!=null&&u(e,["outputTranscription"],Yp(y));const h=s(n,["turnCompleteReason"]);h!=null&&u(e,["turnCompleteReason"],h);const v=s(n,["waitingForInput"]);return v!=null&&u(e,["waitingForInput"],v),e}function XS(n){const e={},o=s(n,["timeLeft"]);return o!=null&&u(e,["timeLeft"],o),e}function $S(n){const e={},o=s(n,["timeLeft"]);return o!=null&&u(e,["timeLeft"],o),e}function ZS(n){const e={};s(n,["setupComplete"])!=null&&u(e,["setupComplete"],tE());const a=s(n,["serverContent"]);a!=null&&u(e,["serverContent"],KS(a));const c=s(n,["toolCall"]);c!=null&&u(e,["toolCall"],lE(c));const d=s(n,["toolCallCancellation"]);d!=null&&u(e,["toolCallCancellation"],iE(d));const p=s(n,["usageMetadata"]);p!=null&&u(e,["usageMetadata"],bE(p));const g=s(n,["goAway"]);g!=null&&u(e,["goAway"],XS(g));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&u(e,["sessionResumptionUpdate"],jS(y)),e}function WS(n){const e={},o=s(n,["setupComplete"]);o!=null&&u(e,["setupComplete"],nE(o));const a=s(n,["serverContent"]);a!=null&&u(e,["serverContent"],QS(a));const c=s(n,["toolCall"]);c!=null&&u(e,["toolCall"],aE(c));const d=s(n,["toolCallCancellation"]);d!=null&&u(e,["toolCallCancellation"],oE(d));const p=s(n,["usageMetadata"]);p!=null&&u(e,["usageMetadata"],LE(p));const g=s(n,["goAway"]);g!=null&&u(e,["goAway"],$S(g));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&u(e,["sessionResumptionUpdate"],eE(y)),e}function jS(n){const e={},o=s(n,["newHandle"]);o!=null&&u(e,["newHandle"],o);const a=s(n,["resumable"]);a!=null&&u(e,["resumable"],a);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&u(e,["lastConsumedClientMessageIndex"],c),e}function eE(n){const e={},o=s(n,["newHandle"]);o!=null&&u(e,["newHandle"],o);const a=s(n,["resumable"]);a!=null&&u(e,["resumable"],a);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&u(e,["lastConsumedClientMessageIndex"],c),e}function tE(){return{}}function nE(n){const e={},o=s(n,["sessionId"]);return o!=null&&u(e,["sessionId"],o),e}function iE(n){const e={},o=s(n,["ids"]);return o!=null&&u(e,["ids"],o),e}function oE(n){const e={},o=s(n,["ids"]);return o!=null&&u(e,["ids"],o),e}function lE(n){const e={},o=s(n,["functionCalls"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>xh(c))),u(e,["functionCalls"],a)}return e}function aE(n){const e={},o=s(n,["functionCalls"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Mh(c))),u(e,["functionCalls"],a)}return e}function pa(n){const e={},o=s(n,["modality"]);o!=null&&u(e,["modality"],o);const a=s(n,["tokenCount"]);return a!=null&&u(e,["tokenCount"],a),e}function ha(n){const e={},o=s(n,["modality"]);o!=null&&u(e,["modality"],o);const a=s(n,["tokenCount"]);return a!=null&&u(e,["tokenCount"],a),e}function sE(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>EE(c))),u(e,["speakerVoiceConfigs"],a)}return e}function uE(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],VE(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],nS(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],yS(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],xh(g));const y=s(n,["codeExecutionResult"]);y!=null&&u(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&u(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function rE(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],kE(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],iS(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],vS(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],Mh(g));const y=s(n,["codeExecutionResult"]);y!=null&&u(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&u(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function cE(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],qE(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],oS(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],TS(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],SS(g));const y=s(n,["codeExecutionResult"]);y!=null&&u(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&u(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function fE(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],GE(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],lS(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],CS(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],ES(g));const y=s(n,["codeExecutionResult"]);y!=null&&u(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&u(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function dE(n){const e={},o=s(n,["voiceName"]);return o!=null&&u(e,["voiceName"],o),e}function mE(n){const e={},o=s(n,["voiceName"]);return o!=null&&u(e,["voiceName"],o),e}function pE(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&u(e,["proactiveAudio"],o),e}function hE(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&u(e,["proactiveAudio"],o),e}function gE(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&u(e,["automaticActivityDetection"],eS(o));const a=s(n,["activityHandling"]);a!=null&&u(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&u(e,["turnCoverage"],c),e}function yE(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&u(e,["automaticActivityDetection"],tS(o));const a=s(n,["activityHandling"]);a!=null&&u(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&u(e,["turnCoverage"],c),e}function vE(n){const e={},o=s(n,["handle"]);if(o!=null&&u(e,["handle"],o),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function TE(n){const e={},o=s(n,["handle"]);o!=null&&u(e,["handle"],o);const a=s(n,["transparent"]);return a!=null&&u(e,["transparent"],a),e}function CE(n){const e={},o=s(n,["targetTokens"]);return o!=null&&u(e,["targetTokens"],o),e}function SE(n){const e={},o=s(n,["targetTokens"]);return o!=null&&u(e,["targetTokens"],o),e}function EE(n){const e={},o=s(n,["speaker"]);o!=null&&u(e,["speaker"],o);const a=s(n,["voiceConfig"]);return a!=null&&u(e,["voiceConfig"],Uh(a)),e}function _E(n){const e={},o=s(n,["voiceConfig"]);o!=null&&u(e,["voiceConfig"],Uh(o));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&u(e,["multiSpeakerVoiceConfig"],sE(a));const c=s(n,["languageCode"]);return c!=null&&u(e,["languageCode"],c),e}function AE(n){const e={},o=s(n,["voiceConfig"]);if(o!=null&&u(e,["voiceConfig"],HE(o)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=s(n,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function xE(n){const e={},o=s(n,["includeThoughts"]);o!=null&&u(e,["includeThoughts"],o);const a=s(n,["thinkingBudget"]);return a!=null&&u(e,["thinkingBudget"],a),e}function ME(n){const e={},o=s(n,["includeThoughts"]);o!=null&&u(e,["includeThoughts"],o);const a=s(n,["thinkingBudget"]);return a!=null&&u(e,["thinkingBudget"],a),e}function RE(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>_S(h))),u(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&u(e,["googleSearch"],NS(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&u(e,["googleSearchRetrieval"],MS(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&u(e,["urlContext"],UE());const p=s(n,["computerUse"]);p!=null&&u(e,["computerUse"],aS(p));const g=s(n,["codeExecution"]);return g!=null&&u(e,["codeExecution"],g),e}function NE(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(S=>AS(S))),u(e,["functionDeclarations"],C)}const a=s(n,["retrieval"]);a!=null&&u(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&u(e,["googleSearch"],DS(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&u(e,["googleSearchRetrieval"],RS(d));const p=s(n,["enterpriseWebSearch"]);p!=null&&u(e,["enterpriseWebSearch"],gS(p));const g=s(n,["googleMaps"]);g!=null&&u(e,["googleMaps"],xS(g)),s(n,["urlContext"])!=null&&u(e,["urlContext"],IE());const h=s(n,["computerUse"]);h!=null&&u(e,["computerUse"],sS(h));const v=s(n,["codeExecution"]);return v!=null&&u(e,["codeExecution"],v),e}function Jp(n){const e={},o=s(n,["text"]);o!=null&&u(e,["text"],o);const a=s(n,["finished"]);return a!=null&&u(e,["finished"],a),e}function Yp(n){const e={},o=s(n,["text"]);o!=null&&u(e,["text"],o);const a=s(n,["finished"]);return a!=null&&u(e,["finished"],a),e}function DE(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>wE(c))),u(e,["urlMetadata"],a)}return e}function UE(){return{}}function IE(){return{}}function wE(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&u(e,["retrievedUrl"],o);const a=s(n,["urlRetrievalStatus"]);return a!=null&&u(e,["urlRetrievalStatus"],a),e}function bE(n){const e={},o=s(n,["promptTokenCount"]);o!=null&&u(e,["promptTokenCount"],o);const a=s(n,["cachedContentTokenCount"]);a!=null&&u(e,["cachedContentTokenCount"],a);const c=s(n,["responseTokenCount"]);c!=null&&u(e,["responseTokenCount"],c);const d=s(n,["toolUsePromptTokenCount"]);d!=null&&u(e,["toolUsePromptTokenCount"],d);const p=s(n,["thoughtsTokenCount"]);p!=null&&u(e,["thoughtsTokenCount"],p);const g=s(n,["totalTokenCount"]);g!=null&&u(e,["totalTokenCount"],g);const y=s(n,["promptTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(M=>pa(M))),u(e,["promptTokensDetails"],S)}const h=s(n,["cacheTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(M=>pa(M))),u(e,["cacheTokensDetails"],S)}const v=s(n,["responseTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(M=>pa(M))),u(e,["responseTokensDetails"],S)}const C=s(n,["toolUsePromptTokensDetails"]);if(C!=null){let S=C;Array.isArray(S)&&(S=S.map(M=>pa(M))),u(e,["toolUsePromptTokensDetails"],S)}return e}function LE(n){const e={},o=s(n,["promptTokenCount"]);o!=null&&u(e,["promptTokenCount"],o);const a=s(n,["cachedContentTokenCount"]);a!=null&&u(e,["cachedContentTokenCount"],a);const c=s(n,["candidatesTokenCount"]);c!=null&&u(e,["responseTokenCount"],c);const d=s(n,["toolUsePromptTokenCount"]);d!=null&&u(e,["toolUsePromptTokenCount"],d);const p=s(n,["thoughtsTokenCount"]);p!=null&&u(e,["thoughtsTokenCount"],p);const g=s(n,["totalTokenCount"]);g!=null&&u(e,["totalTokenCount"],g);const y=s(n,["promptTokensDetails"]);if(y!=null){let M=y;Array.isArray(M)&&(M=M.map(b=>ha(b))),u(e,["promptTokensDetails"],M)}const h=s(n,["cacheTokensDetails"]);if(h!=null){let M=h;Array.isArray(M)&&(M=M.map(b=>ha(b))),u(e,["cacheTokensDetails"],M)}const v=s(n,["candidatesTokensDetails"]);if(v!=null){let M=v;Array.isArray(M)&&(M=M.map(b=>ha(b))),u(e,["responseTokensDetails"],M)}const C=s(n,["toolUsePromptTokensDetails"]);if(C!=null){let M=C;Array.isArray(M)&&(M=M.map(b=>ha(b))),u(e,["toolUsePromptTokensDetails"],M)}const S=s(n,["trafficType"]);return S!=null&&u(e,["trafficType"],S),e}function VE(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function kE(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function qE(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function GE(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function Uh(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&u(e,["prebuiltVoiceConfig"],dE(o)),e}function HE(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&u(e,["prebuiltVoiceConfig"],mE(o)),e}function BE(n){const e={},o=s(n,["text"]);o!=null&&u(e,["text"],o);const a=s(n,["weight"]);return a!=null&&u(e,["weight"],a),e}function Ih(n){const e={},o=s(n,["text"]);o!=null&&u(e,["text"],o);const a=s(n,["weight"]);return a!=null&&u(e,["weight"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zE(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&u(e,["apiKeyString"],o),e}function PE(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&u(e,["apiKeyConfig"],zE(o));const a=s(n,["authType"]);a!=null&&u(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&u(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&u(e,["httpBasicAuthConfig"],d);const p=s(n,["oauthConfig"]);p!=null&&u(e,["oauthConfig"],p);const g=s(n,["oidcConfig"]);return g!=null&&u(e,["oidcConfig"],g),e}function FE(n){const e={},o=s(n,["data"]);o!=null&&u(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function JE(n){const e={},o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=s(n,["data"]);a!=null&&u(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function YE(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&u(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function OE(n){const e={},o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=s(n,["data"]);a!=null&&u(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function KE(n){const e={},o=s(n,["content"]);o!=null&&u(e,["content"],l_(o));const a=s(n,["citationMetadata"]);a!=null&&u(e,["citationMetadata"],$E(a));const c=s(n,["tokenCount"]);c!=null&&u(e,["tokenCount"],c);const d=s(n,["finishReason"]);d!=null&&u(e,["finishReason"],d);const p=s(n,["urlContextMetadata"]);p!=null&&u(e,["urlContextMetadata"],xx(p));const g=s(n,["avgLogprobs"]);g!=null&&u(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const h=s(n,["index"]);h!=null&&u(e,["index"],h);const v=s(n,["logprobsResult"]);v!=null&&u(e,["logprobsResult"],v);const C=s(n,["safetyRatings"]);return C!=null&&u(e,["safetyRatings"],C),e}function QE(n){const e={},o=s(n,["content"]);o!=null&&u(e,["content"],a_(o));const a=s(n,["citationMetadata"]);a!=null&&u(e,["citationMetadata"],ZE(a));const c=s(n,["finishMessage"]);c!=null&&u(e,["finishMessage"],c);const d=s(n,["finishReason"]);d!=null&&u(e,["finishReason"],d);const p=s(n,["urlContextMetadata"]);p!=null&&u(e,["urlContextMetadata"],Mx(p));const g=s(n,["avgLogprobs"]);g!=null&&u(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const h=s(n,["index"]);h!=null&&u(e,["index"],h);const v=s(n,["logprobsResult"]);v!=null&&u(e,["logprobsResult"],v);const C=s(n,["safetyRatings"]);return C!=null&&u(e,["safetyRatings"],C),e}function XE(n){const e={},o=s(n,["checkpointId"]);o!=null&&u(e,["checkpointId"],o);const a=s(n,["epoch"]);a!=null&&u(e,["epoch"],a);const c=s(n,["step"]);return c!=null&&u(e,["step"],c),e}function $E(n){const e={},o=s(n,["citationSources"]);return o!=null&&u(e,["citations"],o),e}function ZE(n){const e={},o=s(n,["citations"]);return o!=null&&u(e,["citations"],o),e}function WE(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],Ae(n,a));const c=s(e,["contents"]);if(c!=null){let d=bt(c);Array.isArray(d)&&(d=d.map(p=>$i(p))),u(o,["contents"],d)}return o}function jE(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["tokensInfo"]);return a!=null&&u(e,["tokensInfo"],a),e}function e_(n){const e={},o=s(n,["environment"]);o!=null&&u(e,["environment"],o);const a=s(n,["excludedPredefinedFunctions"]);return a!=null&&u(e,["excludedPredefinedFunctions"],a),e}function t_(n){const e={},o=s(n,["environment"]);o!=null&&u(e,["environment"],o);const a=s(n,["excludedPredefinedFunctions"]);return a!=null&&u(e,["excludedPredefinedFunctions"],a),e}function n_(n){const e={},o=s(n,["values"]);return o!=null&&u(e,["values"],o),e}function i_(n){const e={},o=s(n,["values"]);o!=null&&u(e,["values"],o);const a=s(n,["statistics"]);return a!=null&&u(e,["statistics"],o_(a)),e}function o_(n){const e={},o=s(n,["truncated"]);o!=null&&u(e,["truncated"],o);const a=s(n,["token_count"]);return a!=null&&u(e,["tokenCount"],a),e}function l_(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>qA(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function a_(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>GA(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function Aa(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>HA(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function $i(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>BA(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function s_(n){const e={},o=s(n,["controlType"]);o!=null&&u(e,["controlType"],o);const a=s(n,["enableControlImageComputation"]);return a!=null&&u(e,["computeControl"],a),e}function u_(n){const e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function r_(n,e){const o={},a=s(n,["systemInstruction"]);e!==void 0&&a!=null&&u(e,["systemInstruction"],$i(ot(a)));const c=s(n,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>kh(g))),u(e,["tools"],p)}const d=s(n,["generationConfig"]);return e!==void 0&&d!=null&&u(e,["generationConfig"],d),o}function c_(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],Ae(n,a));const c=s(e,["contents"]);if(c!=null){let p=bt(c);Array.isArray(p)&&(p=p.map(g=>Aa(g))),u(o,["contents"],p)}const d=s(e,["config"]);return d!=null&&u_(d),o}function f_(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],Ae(n,a));const c=s(e,["contents"]);if(c!=null){let p=bt(c);Array.isArray(p)&&(p=p.map(g=>$i(g))),u(o,["contents"],p)}const d=s(e,["config"]);return d!=null&&r_(d,o),o}function d_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["totalTokens"]);a!=null&&u(e,["totalTokens"],a);const c=s(n,["cachedContentTokenCount"]);return c!=null&&u(e,["cachedContentTokenCount"],c),e}function m_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["totalTokens"]);return a!=null&&u(e,["totalTokens"],a),e}function p_(n,e){const o={},a=s(e,["model"]);return a!=null&&u(o,["_url","name"],Ae(n,a)),o}function h_(n,e){const o={},a=s(e,["model"]);return a!=null&&u(o,["_url","name"],Ae(n,a)),o}function g_(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&u(e,["sdkHttpResponse"],o),e}function y_(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&u(e,["sdkHttpResponse"],o),e}function v_(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&u(e,["dynamicThreshold"],a),e}function T_(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&u(e,["dynamicThreshold"],a),e}function C_(n,e){const o={},a=s(n,["outputGcsUri"]);e!==void 0&&a!=null&&u(e,["parameters","storageUri"],a);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&u(e,["parameters","negativePrompt"],c);const d=s(n,["numberOfImages"]);e!==void 0&&d!=null&&u(e,["parameters","sampleCount"],d);const p=s(n,["aspectRatio"]);e!==void 0&&p!=null&&u(e,["parameters","aspectRatio"],p);const g=s(n,["guidanceScale"]);e!==void 0&&g!=null&&u(e,["parameters","guidanceScale"],g);const y=s(n,["seed"]);e!==void 0&&y!=null&&u(e,["parameters","seed"],y);const h=s(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&u(e,["parameters","safetySetting"],h);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&u(e,["parameters","personGeneration"],v);const C=s(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&u(e,["parameters","includeSafetyAttributes"],C);const S=s(n,["includeRaiReason"]);e!==void 0&&S!=null&&u(e,["parameters","includeRaiReason"],S);const M=s(n,["language"]);e!==void 0&&M!=null&&u(e,["parameters","language"],M);const b=s(n,["outputMimeType"]);e!==void 0&&b!=null&&u(e,["parameters","outputOptions","mimeType"],b);const q=s(n,["outputCompressionQuality"]);e!==void 0&&q!=null&&u(e,["parameters","outputOptions","compressionQuality"],q);const z=s(n,["addWatermark"]);e!==void 0&&z!=null&&u(e,["parameters","addWatermark"],z);const G=s(n,["editMode"]);e!==void 0&&G!=null&&u(e,["parameters","editMode"],G);const F=s(n,["baseSteps"]);return e!==void 0&&F!=null&&u(e,["parameters","editConfig","baseSteps"],F),o}function S_(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],Ae(n,a));const c=s(e,["prompt"]);c!=null&&u(o,["instances[0]","prompt"],c);const d=s(e,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>QA(y))),u(o,["instances[0]","referenceImages"],g)}const p=s(e,["config"]);return p!=null&&C_(p,o),o}function E_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>xa(d))),u(e,["generatedImages"],c)}return e}function __(n,e){const o={},a=s(n,["taskType"]);e!==void 0&&a!=null&&u(e,["requests[]","taskType"],a);const c=s(n,["title"]);e!==void 0&&c!=null&&u(e,["requests[]","title"],c);const d=s(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&u(e,["requests[]","outputDimensionality"],d),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function A_(n,e){const o={},a=s(n,["taskType"]);e!==void 0&&a!=null&&u(e,["instances[]","task_type"],a);const c=s(n,["title"]);e!==void 0&&c!=null&&u(e,["instances[]","title"],c);const d=s(n,["outputDimensionality"]);e!==void 0&&d!=null&&u(e,["parameters","outputDimensionality"],d);const p=s(n,["mimeType"]);e!==void 0&&p!=null&&u(e,["instances[]","mimeType"],p);const g=s(n,["autoTruncate"]);return e!==void 0&&g!=null&&u(e,["parameters","autoTruncate"],g),o}function x_(){return{}}function M_(n){const e={},o=s(n,["billableCharacterCount"]);return o!=null&&u(e,["billableCharacterCount"],o),e}function R_(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],Ae(n,a));const c=s(e,["contents"]);c!=null&&u(o,["requests[]","content"],dr(n,c));const d=s(e,["config"]);d!=null&&__(d,o);const p=s(e,["model"]);return p!==void 0&&u(o,["requests[]","model"],Ae(n,p)),o}function N_(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],Ae(n,a));const c=s(e,["contents"]);c!=null&&u(o,["instances[]","content"],dr(n,c));const d=s(e,["config"]);return d!=null&&A_(d,o),o}function D_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>n_(p))),u(e,["embeddings"],d)}return s(n,["metadata"])!=null&&u(e,["metadata"],x_()),e}function U_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>i_(p))),u(e,["embeddings"],d)}const c=s(n,["metadata"]);return c!=null&&u(e,["metadata"],M_(c)),e}function I_(n){const e={},o=s(n,["endpoint"]);o!=null&&u(e,["name"],o);const a=s(n,["deployedModelId"]);return a!=null&&u(e,["deployedModelId"],a),e}function w_(n){const e={},o=s(n,["excludeDomains"]);return o!=null&&u(e,["excludeDomains"],o),e}function b_(n){const e={},o=s(n,["label"]);o!=null&&u(e,["label"],o);const a=s(n,["score"]);return a!=null&&u(e,["score"],a),e}function L_(n){const e={},o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function V_(n){const e={},o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=s(n,["fileUri"]);a!=null&&u(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function k_(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function q_(n){const e={},o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=s(n,["fileUri"]);a!=null&&u(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function G_(n){const e={},o=s(n,["id"]);o!=null&&u(e,["id"],o);const a=s(n,["args"]);a!=null&&u(e,["args"],a);const c=s(n,["name"]);return c!=null&&u(e,["name"],c),e}function H_(n){const e={},o=s(n,["id"]);o!=null&&u(e,["id"],o);const a=s(n,["args"]);a!=null&&u(e,["args"],a);const c=s(n,["name"]);return c!=null&&u(e,["name"],c),e}function B_(n){const e={},o=s(n,["id"]);o!=null&&u(e,["id"],o);const a=s(n,["args"]);a!=null&&u(e,["args"],a);const c=s(n,["name"]);return c!=null&&u(e,["name"],c),e}function z_(n){const e={},o=s(n,["id"]);o!=null&&u(e,["id"],o);const a=s(n,["args"]);a!=null&&u(e,["args"],a);const c=s(n,["name"]);return c!=null&&u(e,["name"],c),e}function P_(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["allowedFunctionNames"]);return a!=null&&u(e,["allowedFunctionNames"],a),e}function F_(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["allowedFunctionNames"]);return a!=null&&u(e,["allowedFunctionNames"],a),e}function J_(n){const e={},o=s(n,["behavior"]);o!=null&&u(e,["behavior"],o);const a=s(n,["description"]);a!=null&&u(e,["description"],a);const c=s(n,["name"]);c!=null&&u(e,["name"],c);const d=s(n,["parameters"]);d!=null&&u(e,["parameters"],d);const p=s(n,["parametersJsonSchema"]);p!=null&&u(e,["parametersJsonSchema"],p);const g=s(n,["response"]);g!=null&&u(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function Y_(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&u(e,["description"],o);const a=s(n,["name"]);a!=null&&u(e,["name"],a);const c=s(n,["parameters"]);c!=null&&u(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const p=s(n,["response"]);p!=null&&u(e,["response"],p);const g=s(n,["responseJsonSchema"]);return g!=null&&u(e,["responseJsonSchema"],g),e}function O_(n,e,o){const a={},c=s(e,["systemInstruction"]);o!==void 0&&c!=null&&u(o,["systemInstruction"],Aa(ot(c)));const d=s(e,["temperature"]);d!=null&&u(a,["temperature"],d);const p=s(e,["topP"]);p!=null&&u(a,["topP"],p);const g=s(e,["topK"]);g!=null&&u(a,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&u(a,["candidateCount"],y);const h=s(e,["maxOutputTokens"]);h!=null&&u(a,["maxOutputTokens"],h);const v=s(e,["stopSequences"]);v!=null&&u(a,["stopSequences"],v);const C=s(e,["responseLogprobs"]);C!=null&&u(a,["responseLogprobs"],C);const S=s(e,["logprobs"]);S!=null&&u(a,["logprobs"],S);const M=s(e,["presencePenalty"]);M!=null&&u(a,["presencePenalty"],M);const b=s(e,["frequencyPenalty"]);b!=null&&u(a,["frequencyPenalty"],b);const q=s(e,["seed"]);q!=null&&u(a,["seed"],q);const z=s(e,["responseMimeType"]);z!=null&&u(a,["responseMimeType"],z);const G=s(e,["responseSchema"]);G!=null&&u(a,["responseSchema"],jA(mr(G)));const F=s(e,["responseJsonSchema"]);if(F!=null&&u(a,["responseJsonSchema"],F),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=s(e,["safetySettings"]);if(o!==void 0&&P!=null){let pe=P;Array.isArray(pe)&&(pe=pe.map(qe=>ZA(qe))),u(o,["safetySettings"],pe)}const J=s(e,["tools"]);if(o!==void 0&&J!=null){let pe=Qi(J);Array.isArray(pe)&&(pe=pe.map(qe=>hx(Ki(qe)))),u(o,["tools"],pe)}const $=s(e,["toolConfig"]);if(o!==void 0&&$!=null&&u(o,["toolConfig"],mx($)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=s(e,["cachedContent"]);o!==void 0&&Q!=null&&u(o,["cachedContent"],un(n,Q));const Y=s(e,["responseModalities"]);Y!=null&&u(a,["responseModalities"],Y);const ae=s(e,["mediaResolution"]);ae!=null&&u(a,["mediaResolution"],ae);const j=s(e,["speechConfig"]);if(j!=null&&u(a,["speechConfig"],sx(pr(j))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=s(e,["thinkingConfig"]);de!=null&&u(a,["thinkingConfig"],fx(de));const Se=s(e,["imageConfig"]);return Se!=null&&u(a,["imageConfig"],SA(Se)),a}function K_(n,e,o){const a={},c=s(e,["systemInstruction"]);o!==void 0&&c!=null&&u(o,["systemInstruction"],$i(ot(c)));const d=s(e,["temperature"]);d!=null&&u(a,["temperature"],d);const p=s(e,["topP"]);p!=null&&u(a,["topP"],p);const g=s(e,["topK"]);g!=null&&u(a,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&u(a,["candidateCount"],y);const h=s(e,["maxOutputTokens"]);h!=null&&u(a,["maxOutputTokens"],h);const v=s(e,["stopSequences"]);v!=null&&u(a,["stopSequences"],v);const C=s(e,["responseLogprobs"]);C!=null&&u(a,["responseLogprobs"],C);const S=s(e,["logprobs"]);S!=null&&u(a,["logprobs"],S);const M=s(e,["presencePenalty"]);M!=null&&u(a,["presencePenalty"],M);const b=s(e,["frequencyPenalty"]);b!=null&&u(a,["frequencyPenalty"],b);const q=s(e,["seed"]);q!=null&&u(a,["seed"],q);const z=s(e,["responseMimeType"]);z!=null&&u(a,["responseMimeType"],z);const G=s(e,["responseSchema"]);G!=null&&u(a,["responseSchema"],ex(mr(G)));const F=s(e,["responseJsonSchema"]);F!=null&&u(a,["responseJsonSchema"],F);const P=s(e,["routingConfig"]);P!=null&&u(a,["routingConfig"],P);const J=s(e,["modelSelectionConfig"]);J!=null&&u(a,["modelConfig"],VA(J));const $=s(e,["safetySettings"]);if(o!==void 0&&$!=null){let L=$;Array.isArray(L)&&(L=L.map(K=>WA(K))),u(o,["safetySettings"],L)}const Q=s(e,["tools"]);if(o!==void 0&&Q!=null){let L=Qi(Q);Array.isArray(L)&&(L=L.map(K=>kh(Ki(K)))),u(o,["tools"],L)}const Y=s(e,["toolConfig"]);o!==void 0&&Y!=null&&u(o,["toolConfig"],px(Y));const ae=s(e,["labels"]);o!==void 0&&ae!=null&&u(o,["labels"],ae);const j=s(e,["cachedContent"]);o!==void 0&&j!=null&&u(o,["cachedContent"],un(n,j));const de=s(e,["responseModalities"]);de!=null&&u(a,["responseModalities"],de);const Se=s(e,["mediaResolution"]);Se!=null&&u(a,["mediaResolution"],Se);const pe=s(e,["speechConfig"]);pe!=null&&u(a,["speechConfig"],ux(pr(pe)));const qe=s(e,["audioTimestamp"]);qe!=null&&u(a,["audioTimestamp"],qe);const tt=s(e,["thinkingConfig"]);tt!=null&&u(a,["thinkingConfig"],dx(tt));const nt=s(e,["imageConfig"]);return nt!=null&&u(a,["imageConfig"],EA(nt)),a}function Op(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],Ae(n,a));const c=s(e,["contents"]);if(c!=null){let p=bt(c);Array.isArray(p)&&(p=p.map(g=>Aa(g))),u(o,["contents"],p)}const d=s(e,["config"]);return d!=null&&u(o,["generationConfig"],O_(n,d,o)),o}function Kp(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],Ae(n,a));const c=s(e,["contents"]);if(c!=null){let p=bt(c);Array.isArray(p)&&(p=p.map(g=>$i(g))),u(o,["contents"],p)}const d=s(e,["config"]);return d!=null&&u(o,["generationConfig"],K_(n,d,o)),o}function Qp(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>KE(h))),u(e,["candidates"],y)}const c=s(n,["modelVersion"]);c!=null&&u(e,["modelVersion"],c);const d=s(n,["promptFeedback"]);d!=null&&u(e,["promptFeedback"],d);const p=s(n,["responseId"]);p!=null&&u(e,["responseId"],p);const g=s(n,["usageMetadata"]);return g!=null&&u(e,["usageMetadata"],g),e}function Xp(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(v=>QE(v))),u(e,["candidates"],h)}const c=s(n,["createTime"]);c!=null&&u(e,["createTime"],c);const d=s(n,["modelVersion"]);d!=null&&u(e,["modelVersion"],d);const p=s(n,["promptFeedback"]);p!=null&&u(e,["promptFeedback"],p);const g=s(n,["responseId"]);g!=null&&u(e,["responseId"],g);const y=s(n,["usageMetadata"]);return y!=null&&u(e,["usageMetadata"],y),e}function Q_(n,e){const o={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=s(n,["numberOfImages"]);e!==void 0&&a!=null&&u(e,["parameters","sampleCount"],a);const c=s(n,["aspectRatio"]);e!==void 0&&c!=null&&u(e,["parameters","aspectRatio"],c);const d=s(n,["guidanceScale"]);if(e!==void 0&&d!=null&&u(e,["parameters","guidanceScale"],d),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&u(e,["parameters","safetySetting"],p);const g=s(n,["personGeneration"]);e!==void 0&&g!=null&&u(e,["parameters","personGeneration"],g);const y=s(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&u(e,["parameters","includeSafetyAttributes"],y);const h=s(n,["includeRaiReason"]);e!==void 0&&h!=null&&u(e,["parameters","includeRaiReason"],h);const v=s(n,["language"]);e!==void 0&&v!=null&&u(e,["parameters","language"],v);const C=s(n,["outputMimeType"]);e!==void 0&&C!=null&&u(e,["parameters","outputOptions","mimeType"],C);const S=s(n,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&u(e,["parameters","outputOptions","compressionQuality"],S),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const M=s(n,["imageSize"]);if(e!==void 0&&M!=null&&u(e,["parameters","sampleImageSize"],M),s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function X_(n,e){const o={},a=s(n,["outputGcsUri"]);e!==void 0&&a!=null&&u(e,["parameters","storageUri"],a);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&u(e,["parameters","negativePrompt"],c);const d=s(n,["numberOfImages"]);e!==void 0&&d!=null&&u(e,["parameters","sampleCount"],d);const p=s(n,["aspectRatio"]);e!==void 0&&p!=null&&u(e,["parameters","aspectRatio"],p);const g=s(n,["guidanceScale"]);e!==void 0&&g!=null&&u(e,["parameters","guidanceScale"],g);const y=s(n,["seed"]);e!==void 0&&y!=null&&u(e,["parameters","seed"],y);const h=s(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&u(e,["parameters","safetySetting"],h);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&u(e,["parameters","personGeneration"],v);const C=s(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&u(e,["parameters","includeSafetyAttributes"],C);const S=s(n,["includeRaiReason"]);e!==void 0&&S!=null&&u(e,["parameters","includeRaiReason"],S);const M=s(n,["language"]);e!==void 0&&M!=null&&u(e,["parameters","language"],M);const b=s(n,["outputMimeType"]);e!==void 0&&b!=null&&u(e,["parameters","outputOptions","mimeType"],b);const q=s(n,["outputCompressionQuality"]);e!==void 0&&q!=null&&u(e,["parameters","outputOptions","compressionQuality"],q);const z=s(n,["addWatermark"]);e!==void 0&&z!=null&&u(e,["parameters","addWatermark"],z);const G=s(n,["imageSize"]);e!==void 0&&G!=null&&u(e,["parameters","sampleImageSize"],G);const F=s(n,["enhancePrompt"]);return e!==void 0&&F!=null&&u(e,["parameters","enhancePrompt"],F),o}function $_(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],Ae(n,a));const c=s(e,["prompt"]);c!=null&&u(o,["instances[0]","prompt"],c);const d=s(e,["config"]);return d!=null&&Q_(d,o),o}function Z_(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],Ae(n,a));const c=s(e,["prompt"]);c!=null&&u(o,["instances[0]","prompt"],c);const d=s(e,["config"]);return d!=null&&X_(d,o),o}function W_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>cA(p))),u(e,["generatedImages"],d)}const c=s(n,["positivePromptSafetyAttributes"]);return c!=null&&u(e,["positivePromptSafetyAttributes"],Lh(c)),e}function j_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>xa(p))),u(e,["generatedImages"],d)}const c=s(n,["positivePromptSafetyAttributes"]);return c!=null&&u(e,["positivePromptSafetyAttributes"],Vh(c)),e}function eA(n,e){const o={},a=s(n,["numberOfVideos"]);if(e!==void 0&&a!=null&&u(e,["parameters","sampleCount"],a),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=s(n,["durationSeconds"]);if(e!==void 0&&c!=null&&u(e,["parameters","durationSeconds"],c),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=s(n,["aspectRatio"]);e!==void 0&&d!=null&&u(e,["parameters","aspectRatio"],d);const p=s(n,["resolution"]);e!==void 0&&p!=null&&u(e,["parameters","resolution"],p);const g=s(n,["personGeneration"]);if(e!==void 0&&g!=null&&u(e,["parameters","personGeneration"],g),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=s(n,["negativePrompt"]);e!==void 0&&y!=null&&u(e,["parameters","negativePrompt"],y);const h=s(n,["enhancePrompt"]);if(e!==void 0&&h!=null&&u(e,["parameters","enhancePrompt"],h),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(n,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(s(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function tA(n,e){const o={},a=s(n,["numberOfVideos"]);e!==void 0&&a!=null&&u(e,["parameters","sampleCount"],a);const c=s(n,["outputGcsUri"]);e!==void 0&&c!=null&&u(e,["parameters","storageUri"],c);const d=s(n,["fps"]);e!==void 0&&d!=null&&u(e,["parameters","fps"],d);const p=s(n,["durationSeconds"]);e!==void 0&&p!=null&&u(e,["parameters","durationSeconds"],p);const g=s(n,["seed"]);e!==void 0&&g!=null&&u(e,["parameters","seed"],g);const y=s(n,["aspectRatio"]);e!==void 0&&y!=null&&u(e,["parameters","aspectRatio"],y);const h=s(n,["resolution"]);e!==void 0&&h!=null&&u(e,["parameters","resolution"],h);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&u(e,["parameters","personGeneration"],v);const C=s(n,["pubsubTopic"]);e!==void 0&&C!=null&&u(e,["parameters","pubsubTopic"],C);const S=s(n,["negativePrompt"]);e!==void 0&&S!=null&&u(e,["parameters","negativePrompt"],S);const M=s(n,["enhancePrompt"]);e!==void 0&&M!=null&&u(e,["parameters","enhancePrompt"],M);const b=s(n,["generateAudio"]);e!==void 0&&b!=null&&u(e,["parameters","generateAudio"],b);const q=s(n,["lastFrame"]);e!==void 0&&q!=null&&u(e,["instances[0]","lastFrame"],qt(q));const z=s(n,["referenceImages"]);if(e!==void 0&&z!=null){let P=z;Array.isArray(P)&&(P=P.map(J=>Lx(J))),u(e,["instances[0]","referenceImages"],P)}const G=s(n,["mask"]);e!==void 0&&G!=null&&u(e,["instances[0]","mask"],bx(G));const F=s(n,["compressionQuality"]);return e!==void 0&&F!=null&&u(e,["parameters","compressionQuality"],F),o}function nA(n){const e={},o=s(n,["name"]);o!=null&&u(e,["name"],o);const a=s(n,["metadata"]);a!=null&&u(e,["metadata"],a);const c=s(n,["done"]);c!=null&&u(e,["done"],c);const d=s(n,["error"]);d!=null&&u(e,["error"],d);const p=s(n,["response","generateVideoResponse"]);return p!=null&&u(e,["response"],aA(p)),e}function iA(n){const e={},o=s(n,["name"]);o!=null&&u(e,["name"],o);const a=s(n,["metadata"]);a!=null&&u(e,["metadata"],a);const c=s(n,["done"]);c!=null&&u(e,["done"],c);const d=s(n,["error"]);d!=null&&u(e,["error"],d);const p=s(n,["response"]);return p!=null&&u(e,["response"],sA(p)),e}function oA(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],Ae(n,a));const c=s(e,["prompt"]);c!=null&&u(o,["instances[0]","prompt"],c);const d=s(e,["image"]);if(d!=null&&u(o,["instances[0]","image"],bh(d)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const p=s(e,["source"]);p!=null&&uA(p,o);const g=s(e,["config"]);return g!=null&&eA(g,o),o}function lA(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],Ae(n,a));const c=s(e,["prompt"]);c!=null&&u(o,["instances[0]","prompt"],c);const d=s(e,["image"]);d!=null&&u(o,["instances[0]","image"],qt(d));const p=s(e,["video"]);p!=null&&u(o,["instances[0]","video"],qh(p));const g=s(e,["source"]);g!=null&&rA(g,o);const y=s(e,["config"]);return y!=null&&tA(y,o),o}function aA(n){const e={},o=s(n,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>dA(p))),u(e,["generatedVideos"],d)}const a=s(n,["raiMediaFilteredCount"]);a!=null&&u(e,["raiMediaFilteredCount"],a);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&u(e,["raiMediaFilteredReasons"],c),e}function sA(n){const e={},o=s(n,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>mA(p))),u(e,["generatedVideos"],d)}const a=s(n,["raiMediaFilteredCount"]);a!=null&&u(e,["raiMediaFilteredCount"],a);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&u(e,["raiMediaFilteredReasons"],c),e}function uA(n,e){const o={},a=s(n,["prompt"]);e!==void 0&&a!=null&&u(e,["instances[0]","prompt"],a);const c=s(n,["image"]);if(e!==void 0&&c!=null&&u(e,["instances[0]","image"],bh(c)),s(n,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return o}function rA(n,e){const o={},a=s(n,["prompt"]);e!==void 0&&a!=null&&u(e,["instances[0]","prompt"],a);const c=s(n,["image"]);e!==void 0&&c!=null&&u(e,["instances[0]","image"],qt(c));const d=s(n,["video"]);return e!==void 0&&d!=null&&u(e,["instances[0]","video"],qh(d)),o}function cA(n){const e={},o=s(n,["_self"]);o!=null&&u(e,["image"],_A(o));const a=s(n,["raiFilteredReason"]);a!=null&&u(e,["raiFilteredReason"],a);const c=s(n,["_self"]);return c!=null&&u(e,["safetyAttributes"],Lh(c)),e}function xa(n){const e={},o=s(n,["_self"]);o!=null&&u(e,["image"],wh(o));const a=s(n,["raiFilteredReason"]);a!=null&&u(e,["raiFilteredReason"],a);const c=s(n,["_self"]);c!=null&&u(e,["safetyAttributes"],Vh(c));const d=s(n,["prompt"]);return d!=null&&u(e,["enhancedPrompt"],d),e}function fA(n){const e={},o=s(n,["_self"]);o!=null&&u(e,["mask"],wh(o));const a=s(n,["labels"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>b_(d))),u(e,["labels"],c)}return e}function dA(n){const e={},o=s(n,["_self"]);return o!=null&&u(e,["video"],Ix(o)),e}function mA(n){const e={},o=s(n,["_self"]);return o!=null&&u(e,["video"],wx(o)),e}function pA(n,e){const o={},a=s(e,["model"]);return a!=null&&u(o,["_url","name"],Ae(n,a)),o}function hA(n,e){const o={},a=s(e,["model"]);return a!=null&&u(o,["_url","name"],Ae(n,a)),o}function gA(n){const e={},o=s(n,["authConfig"]);return o!=null&&u(e,["authConfig"],PE(o)),e}function yA(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&u(e,["dynamicRetrievalConfig"],v_(o)),e}function vA(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&u(e,["dynamicRetrievalConfig"],T_(o)),e}function TA(n){const e={},o=s(n,["timeRangeFilter"]);if(o!=null&&u(e,["timeRangeFilter"],AA(o)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function CA(n){const e={},o=s(n,["timeRangeFilter"]);o!=null&&u(e,["timeRangeFilter"],xA(o));const a=s(n,["excludeDomains"]);return a!=null&&u(e,["excludeDomains"],a),e}function SA(n){const e={},o=s(n,["aspectRatio"]);return o!=null&&u(e,["aspectRatio"],o),e}function EA(n){const e={},o=s(n,["aspectRatio"]);return o!=null&&u(e,["aspectRatio"],o),e}function _A(n){const e={},o=s(n,["bytesBase64Encoded"]);o!=null&&u(e,["imageBytes"],ii(o));const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function wh(n){const e={},o=s(n,["gcsUri"]);o!=null&&u(e,["gcsUri"],o);const a=s(n,["bytesBase64Encoded"]);a!=null&&u(e,["imageBytes"],ii(a));const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function bh(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=s(n,["imageBytes"]);o!=null&&u(e,["bytesBase64Encoded"],ii(o));const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function qt(n){const e={},o=s(n,["gcsUri"]);o!=null&&u(e,["gcsUri"],o);const a=s(n,["imageBytes"]);a!=null&&u(e,["bytesBase64Encoded"],ii(a));const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function AA(n){const e={},o=s(n,["startTime"]);o!=null&&u(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&u(e,["endTime"],a),e}function xA(n){const e={},o=s(n,["startTime"]);o!=null&&u(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&u(e,["endTime"],a),e}function MA(n){const e={},o=s(n,["latitude"]);o!=null&&u(e,["latitude"],o);const a=s(n,["longitude"]);return a!=null&&u(e,["longitude"],a),e}function RA(n){const e={},o=s(n,["latitude"]);o!=null&&u(e,["latitude"],o);const a=s(n,["longitude"]);return a!=null&&u(e,["longitude"],a),e}function NA(n,e,o){const a={},c=s(e,["pageSize"]);o!==void 0&&c!=null&&u(o,["_query","pageSize"],c);const d=s(e,["pageToken"]);o!==void 0&&d!=null&&u(o,["_query","pageToken"],d);const p=s(e,["filter"]);o!==void 0&&p!=null&&u(o,["_query","filter"],p);const g=s(e,["queryBase"]);return o!==void 0&&g!=null&&u(o,["_url","models_url"],gh(n,g)),a}function DA(n,e,o){const a={},c=s(e,["pageSize"]);o!==void 0&&c!=null&&u(o,["_query","pageSize"],c);const d=s(e,["pageToken"]);o!==void 0&&d!=null&&u(o,["_query","pageToken"],d);const p=s(e,["filter"]);o!==void 0&&p!=null&&u(o,["_query","filter"],p);const g=s(e,["queryBase"]);return o!==void 0&&g!=null&&u(o,["_url","models_url"],gh(n,g)),a}function UA(n,e){const o={},a=s(e,["config"]);return a!=null&&NA(n,a,o),o}function IA(n,e){const o={},a=s(e,["config"]);return a!=null&&DA(n,a,o),o}function wA(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const c=s(n,["_self"]);if(c!=null){let d=yh(c);Array.isArray(d)&&(d=d.map(p=>ar(p))),u(e,["models"],d)}return e}function bA(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const c=s(n,["_self"]);if(c!=null){let d=yh(c);Array.isArray(d)&&(d=d.map(p=>sr(p))),u(e,["models"],d)}return e}function LA(n){const e={},o=s(n,["maskMode"]);o!=null&&u(e,["maskMode"],o);const a=s(n,["segmentationClasses"]);a!=null&&u(e,["maskClasses"],a);const c=s(n,["maskDilation"]);return c!=null&&u(e,["dilation"],c),e}function ar(n){const e={},o=s(n,["name"]);o!=null&&u(e,["name"],o);const a=s(n,["displayName"]);a!=null&&u(e,["displayName"],a);const c=s(n,["description"]);c!=null&&u(e,["description"],c);const d=s(n,["version"]);d!=null&&u(e,["version"],d);const p=s(n,["_self"]);p!=null&&u(e,["tunedModelInfo"],gx(p));const g=s(n,["inputTokenLimit"]);g!=null&&u(e,["inputTokenLimit"],g);const y=s(n,["outputTokenLimit"]);y!=null&&u(e,["outputTokenLimit"],y);const h=s(n,["supportedGenerationMethods"]);return h!=null&&u(e,["supportedActions"],h),e}function sr(n){const e={},o=s(n,["name"]);o!=null&&u(e,["name"],o);const a=s(n,["displayName"]);a!=null&&u(e,["displayName"],a);const c=s(n,["description"]);c!=null&&u(e,["description"],c);const d=s(n,["versionId"]);d!=null&&u(e,["version"],d);const p=s(n,["deployedModels"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(S=>I_(S))),u(e,["endpoints"],C)}const g=s(n,["labels"]);g!=null&&u(e,["labels"],g);const y=s(n,["_self"]);y!=null&&u(e,["tunedModelInfo"],yx(y));const h=s(n,["defaultCheckpointId"]);h!=null&&u(e,["defaultCheckpointId"],h);const v=s(n,["checkpoints"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(S=>XE(S))),u(e,["checkpoints"],C)}return e}function VA(n){const e={},o=s(n,["featureSelectionPreference"]);return o!=null&&u(e,["featureSelectionPreference"],o),e}function kA(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>ax(c))),u(e,["speakerVoiceConfigs"],a)}return e}function qA(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],Vx(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],FE(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],L_(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],G_(g));const y=s(n,["codeExecutionResult"]);y!=null&&u(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&u(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function GA(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],kx(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],JE(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],V_(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],H_(g));const y=s(n,["codeExecutionResult"]);y!=null&&u(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&u(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function HA(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],qx(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],YE(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],k_(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],B_(g));const y=s(n,["codeExecutionResult"]);y!=null&&u(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&u(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function BA(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],Gx(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],OE(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],q_(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],z_(g));const y=s(n,["codeExecutionResult"]);y!=null&&u(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&u(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function zA(n){const e={},o=s(n,["voiceName"]);return o!=null&&u(e,["voiceName"],o),e}function PA(n){const e={},o=s(n,["voiceName"]);return o!=null&&u(e,["voiceName"],o),e}function FA(n){const e={},o=s(n,["productImage"]);return o!=null&&u(e,["image"],qt(o)),e}function JA(n,e){const o={},a=s(n,["numberOfImages"]);e!==void 0&&a!=null&&u(e,["parameters","sampleCount"],a);const c=s(n,["baseSteps"]);e!==void 0&&c!=null&&u(e,["parameters","editConfig","baseSteps"],c);const d=s(n,["outputGcsUri"]);e!==void 0&&d!=null&&u(e,["parameters","storageUri"],d);const p=s(n,["seed"]);e!==void 0&&p!=null&&u(e,["parameters","seed"],p);const g=s(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&u(e,["parameters","safetySetting"],g);const y=s(n,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const h=s(n,["addWatermark"]);e!==void 0&&h!=null&&u(e,["parameters","addWatermark"],h);const v=s(n,["outputMimeType"]);e!==void 0&&v!=null&&u(e,["parameters","outputOptions","mimeType"],v);const C=s(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&u(e,["parameters","outputOptions","compressionQuality"],C);const S=s(n,["enhancePrompt"]);return e!==void 0&&S!=null&&u(e,["parameters","enhancePrompt"],S),o}function YA(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],Ae(n,a));const c=s(e,["source"]);c!=null&&KA(c,o);const d=s(e,["config"]);return d!=null&&JA(d,o),o}function OA(n){const e={},o=s(n,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>xa(c))),u(e,["generatedImages"],a)}return e}function KA(n,e){const o={},a=s(n,["prompt"]);e!==void 0&&a!=null&&u(e,["instances[0]","prompt"],a);const c=s(n,["personImage"]);e!==void 0&&c!=null&&u(e,["instances[0]","personImage","image"],qt(c));const d=s(n,["productImages"]);if(e!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>FA(g))),u(e,["instances[0]","productImages"],p)}return o}function QA(n){const e={},o=s(n,["referenceImage"]);o!=null&&u(e,["referenceImage"],qt(o));const a=s(n,["referenceId"]);a!=null&&u(e,["referenceId"],a);const c=s(n,["referenceType"]);c!=null&&u(e,["referenceType"],c);const d=s(n,["maskImageConfig"]);d!=null&&u(e,["maskImageConfig"],LA(d));const p=s(n,["controlImageConfig"]);p!=null&&u(e,["controlImageConfig"],s_(p));const g=s(n,["styleImageConfig"]);g!=null&&u(e,["styleImageConfig"],rx(g));const y=s(n,["subjectImageConfig"]);return y!=null&&u(e,["subjectImageConfig"],cx(y)),e}function XA(n){const e={},o=s(n,["latLng"]);o!=null&&u(e,["latLng"],MA(o));const a=s(n,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function $A(n){const e={},o=s(n,["latLng"]);o!=null&&u(e,["latLng"],RA(o));const a=s(n,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function Lh(n){const e={},o=s(n,["safetyAttributes","categories"]);o!=null&&u(e,["categories"],o);const a=s(n,["safetyAttributes","scores"]);a!=null&&u(e,["scores"],a);const c=s(n,["contentType"]);return c!=null&&u(e,["contentType"],c),e}function Vh(n){const e={},o=s(n,["safetyAttributes","categories"]);o!=null&&u(e,["categories"],o);const a=s(n,["safetyAttributes","scores"]);a!=null&&u(e,["scores"],a);const c=s(n,["contentType"]);return c!=null&&u(e,["contentType"],c),e}function ZA(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(n,["category"]);o!=null&&u(e,["category"],o);const a=s(n,["threshold"]);return a!=null&&u(e,["threshold"],a),e}function WA(n){const e={},o=s(n,["method"]);o!=null&&u(e,["method"],o);const a=s(n,["category"]);a!=null&&u(e,["category"],a);const c=s(n,["threshold"]);return c!=null&&u(e,["threshold"],c),e}function jA(n){const e={},o=s(n,["anyOf"]);o!=null&&u(e,["anyOf"],o);const a=s(n,["default"]);a!=null&&u(e,["default"],a);const c=s(n,["description"]);c!=null&&u(e,["description"],c);const d=s(n,["enum"]);d!=null&&u(e,["enum"],d);const p=s(n,["example"]);p!=null&&u(e,["example"],p);const g=s(n,["format"]);g!=null&&u(e,["format"],g);const y=s(n,["items"]);y!=null&&u(e,["items"],y);const h=s(n,["maxItems"]);h!=null&&u(e,["maxItems"],h);const v=s(n,["maxLength"]);v!=null&&u(e,["maxLength"],v);const C=s(n,["maxProperties"]);C!=null&&u(e,["maxProperties"],C);const S=s(n,["maximum"]);S!=null&&u(e,["maximum"],S);const M=s(n,["minItems"]);M!=null&&u(e,["minItems"],M);const b=s(n,["minLength"]);b!=null&&u(e,["minLength"],b);const q=s(n,["minProperties"]);q!=null&&u(e,["minProperties"],q);const z=s(n,["minimum"]);z!=null&&u(e,["minimum"],z);const G=s(n,["nullable"]);G!=null&&u(e,["nullable"],G);const F=s(n,["pattern"]);F!=null&&u(e,["pattern"],F);const P=s(n,["properties"]);P!=null&&u(e,["properties"],P);const J=s(n,["propertyOrdering"]);J!=null&&u(e,["propertyOrdering"],J);const $=s(n,["required"]);$!=null&&u(e,["required"],$);const Q=s(n,["title"]);Q!=null&&u(e,["title"],Q);const Y=s(n,["type"]);return Y!=null&&u(e,["type"],Y),e}function ex(n){const e={},o=s(n,["anyOf"]);o!=null&&u(e,["anyOf"],o);const a=s(n,["default"]);a!=null&&u(e,["default"],a);const c=s(n,["description"]);c!=null&&u(e,["description"],c);const d=s(n,["enum"]);d!=null&&u(e,["enum"],d);const p=s(n,["example"]);p!=null&&u(e,["example"],p);const g=s(n,["format"]);g!=null&&u(e,["format"],g);const y=s(n,["items"]);y!=null&&u(e,["items"],y);const h=s(n,["maxItems"]);h!=null&&u(e,["maxItems"],h);const v=s(n,["maxLength"]);v!=null&&u(e,["maxLength"],v);const C=s(n,["maxProperties"]);C!=null&&u(e,["maxProperties"],C);const S=s(n,["maximum"]);S!=null&&u(e,["maximum"],S);const M=s(n,["minItems"]);M!=null&&u(e,["minItems"],M);const b=s(n,["minLength"]);b!=null&&u(e,["minLength"],b);const q=s(n,["minProperties"]);q!=null&&u(e,["minProperties"],q);const z=s(n,["minimum"]);z!=null&&u(e,["minimum"],z);const G=s(n,["nullable"]);G!=null&&u(e,["nullable"],G);const F=s(n,["pattern"]);F!=null&&u(e,["pattern"],F);const P=s(n,["properties"]);P!=null&&u(e,["properties"],P);const J=s(n,["propertyOrdering"]);J!=null&&u(e,["propertyOrdering"],J);const $=s(n,["required"]);$!=null&&u(e,["required"],$);const Q=s(n,["title"]);Q!=null&&u(e,["title"],Q);const Y=s(n,["type"]);return Y!=null&&u(e,["type"],Y),e}function tx(n){const e={},o=s(n,["image"]);return o!=null&&u(e,["image"],qt(o)),e}function nx(n,e){const o={},a=s(n,["mode"]);e!==void 0&&a!=null&&u(e,["parameters","mode"],a);const c=s(n,["maxPredictions"]);e!==void 0&&c!=null&&u(e,["parameters","maxPredictions"],c);const d=s(n,["confidenceThreshold"]);e!==void 0&&d!=null&&u(e,["parameters","confidenceThreshold"],d);const p=s(n,["maskDilation"]);e!==void 0&&p!=null&&u(e,["parameters","maskDilation"],p);const g=s(n,["binaryColorThreshold"]);return e!==void 0&&g!=null&&u(e,["parameters","binaryColorThreshold"],g),o}function ix(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],Ae(n,a));const c=s(e,["source"]);c!=null&&lx(c,o);const d=s(e,["config"]);return d!=null&&nx(d,o),o}function ox(n){const e={},o=s(n,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>fA(c))),u(e,["generatedMasks"],a)}return e}function lx(n,e){const o={},a=s(n,["prompt"]);e!==void 0&&a!=null&&u(e,["instances[0]","prompt"],a);const c=s(n,["image"]);e!==void 0&&c!=null&&u(e,["instances[0]","image"],qt(c));const d=s(n,["scribbleImage"]);return e!==void 0&&d!=null&&u(e,["instances[0]","scribble"],tx(d)),o}function ax(n){const e={},o=s(n,["speaker"]);o!=null&&u(e,["speaker"],o);const a=s(n,["voiceConfig"]);return a!=null&&u(e,["voiceConfig"],Gh(a)),e}function sx(n){const e={},o=s(n,["voiceConfig"]);o!=null&&u(e,["voiceConfig"],Gh(o));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&u(e,["multiSpeakerVoiceConfig"],kA(a));const c=s(n,["languageCode"]);return c!=null&&u(e,["languageCode"],c),e}function ux(n){const e={},o=s(n,["voiceConfig"]);if(o!=null&&u(e,["voiceConfig"],Hx(o)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=s(n,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function rx(n){const e={},o=s(n,["styleDescription"]);return o!=null&&u(e,["styleDescription"],o),e}function cx(n){const e={},o=s(n,["subjectType"]);o!=null&&u(e,["subjectType"],o);const a=s(n,["subjectDescription"]);return a!=null&&u(e,["subjectDescription"],a),e}function fx(n){const e={},o=s(n,["includeThoughts"]);o!=null&&u(e,["includeThoughts"],o);const a=s(n,["thinkingBudget"]);return a!=null&&u(e,["thinkingBudget"],a),e}function dx(n){const e={},o=s(n,["includeThoughts"]);o!=null&&u(e,["includeThoughts"],o);const a=s(n,["thinkingBudget"]);return a!=null&&u(e,["thinkingBudget"],a),e}function mx(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&u(e,["functionCallingConfig"],P_(o));const a=s(n,["retrievalConfig"]);return a!=null&&u(e,["retrievalConfig"],XA(a)),e}function px(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&u(e,["functionCallingConfig"],F_(o));const a=s(n,["retrievalConfig"]);return a!=null&&u(e,["retrievalConfig"],$A(a)),e}function hx(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>J_(h))),u(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&u(e,["googleSearch"],TA(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&u(e,["googleSearchRetrieval"],yA(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&u(e,["urlContext"],Rx());const p=s(n,["computerUse"]);p!=null&&u(e,["computerUse"],e_(p));const g=s(n,["codeExecution"]);return g!=null&&u(e,["codeExecution"],g),e}function kh(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(S=>Y_(S))),u(e,["functionDeclarations"],C)}const a=s(n,["retrieval"]);a!=null&&u(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&u(e,["googleSearch"],CA(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&u(e,["googleSearchRetrieval"],vA(d));const p=s(n,["enterpriseWebSearch"]);p!=null&&u(e,["enterpriseWebSearch"],w_(p));const g=s(n,["googleMaps"]);g!=null&&u(e,["googleMaps"],gA(g)),s(n,["urlContext"])!=null&&u(e,["urlContext"],Nx());const h=s(n,["computerUse"]);h!=null&&u(e,["computerUse"],t_(h));const v=s(n,["codeExecution"]);return v!=null&&u(e,["codeExecution"],v),e}function gx(n){const e={},o=s(n,["baseModel"]);o!=null&&u(e,["baseModel"],o);const a=s(n,["createTime"]);a!=null&&u(e,["createTime"],a);const c=s(n,["updateTime"]);return c!=null&&u(e,["updateTime"],c),e}function yx(n){const e={},o=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&u(e,["baseModel"],o);const a=s(n,["createTime"]);a!=null&&u(e,["createTime"],a);const c=s(n,["updateTime"]);return c!=null&&u(e,["updateTime"],c),e}function vx(n,e){const o={},a=s(n,["displayName"]);e!==void 0&&a!=null&&u(e,["displayName"],a);const c=s(n,["description"]);e!==void 0&&c!=null&&u(e,["description"],c);const d=s(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&u(e,["defaultCheckpointId"],d),o}function Tx(n,e){const o={},a=s(n,["displayName"]);e!==void 0&&a!=null&&u(e,["displayName"],a);const c=s(n,["description"]);e!==void 0&&c!=null&&u(e,["description"],c);const d=s(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&u(e,["defaultCheckpointId"],d),o}function Cx(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","name"],Ae(n,a));const c=s(e,["config"]);return c!=null&&vx(c,o),o}function Sx(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],Ae(n,a));const c=s(e,["config"]);return c!=null&&Tx(c,o),o}function Ex(n,e){const o={},a=s(n,["outputGcsUri"]);e!==void 0&&a!=null&&u(e,["parameters","storageUri"],a);const c=s(n,["includeRaiReason"]);e!==void 0&&c!=null&&u(e,["parameters","includeRaiReason"],c);const d=s(n,["outputMimeType"]);e!==void 0&&d!=null&&u(e,["parameters","outputOptions","mimeType"],d);const p=s(n,["outputCompressionQuality"]);e!==void 0&&p!=null&&u(e,["parameters","outputOptions","compressionQuality"],p);const g=s(n,["enhanceInputImage"]);e!==void 0&&g!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],g);const y=s(n,["imagePreservationFactor"]);e!==void 0&&y!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const h=s(n,["numberOfImages"]);e!==void 0&&h!=null&&u(e,["parameters","sampleCount"],h);const v=s(n,["mode"]);return e!==void 0&&v!=null&&u(e,["parameters","mode"],v),o}function _x(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["_url","model"],Ae(n,a));const c=s(e,["image"]);c!=null&&u(o,["instances[0]","image"],qt(c));const d=s(e,["upscaleFactor"]);d!=null&&u(o,["parameters","upscaleConfig","upscaleFactor"],d);const p=s(e,["config"]);return p!=null&&Ex(p,o),o}function Ax(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>xa(d))),u(e,["generatedImages"],c)}return e}function xx(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Dx(c))),u(e,["urlMetadata"],a)}return e}function Mx(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Ux(c))),u(e,["urlMetadata"],a)}return e}function Rx(){return{}}function Nx(){return{}}function Dx(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&u(e,["retrievedUrl"],o);const a=s(n,["urlRetrievalStatus"]);return a!=null&&u(e,["urlRetrievalStatus"],a),e}function Ux(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&u(e,["retrievedUrl"],o);const a=s(n,["urlRetrievalStatus"]);return a!=null&&u(e,["urlRetrievalStatus"],a),e}function Ix(n){const e={},o=s(n,["video","uri"]);o!=null&&u(e,["uri"],o);const a=s(n,["video","encodedVideo"]);a!=null&&u(e,["videoBytes"],ii(a));const c=s(n,["encoding"]);return c!=null&&u(e,["mimeType"],c),e}function wx(n){const e={},o=s(n,["gcsUri"]);o!=null&&u(e,["uri"],o);const a=s(n,["bytesBase64Encoded"]);a!=null&&u(e,["videoBytes"],ii(a));const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function bx(n){const e={},o=s(n,["image"]);o!=null&&u(e,["_self"],qt(o));const a=s(n,["maskMode"]);return a!=null&&u(e,["maskMode"],a),e}function Lx(n){const e={},o=s(n,["image"]);o!=null&&u(e,["image"],qt(o));const a=s(n,["referenceType"]);return a!=null&&u(e,["referenceType"],a),e}function Vx(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function kx(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function qx(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function Gx(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function qh(n){const e={},o=s(n,["uri"]);o!=null&&u(e,["gcsUri"],o);const a=s(n,["videoBytes"]);a!=null&&u(e,["bytesBase64Encoded"],ii(a));const c=s(n,["mimeType"]);return c!=null&&u(e,["mimeType"],c),e}function Gh(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&u(e,["prebuiltVoiceConfig"],zA(o)),e}function Hx(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&u(e,["prebuiltVoiceConfig"],PA(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bx="Content-Type",zx="X-Server-Timeout",Px="User-Agent",ur="x-goog-api-client",Fx="1.22.0",Jx=`google-genai-sdk/${Fx}`,Yx="v1beta1",Ox="v1beta",$p=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Kx{constructor(e){var o,a;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const c={};this.clientOptions.vertexai?(c.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:Yx,c.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(c.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:Ox,c.baseUrl="https://generativelanguage.googleapis.com/"),c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&a.push(e.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,a){const c=[this.getRequestUrlInternal(o)];return a&&c.push(this.getBaseResourcePath()),e!==""&&c.push(e),new URL(`${c.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,o,a);if(e.queryParams)for(const[p,g]of Object.entries(e.queryParams))c.searchParams.append(p,String(g));let d={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=e.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,e.abortSignal),this.unaryApiCall(c,d,e.httpMethod)}patchHttpOptions(e,o){const a=JSON.parse(JSON.stringify(e));for(const[c,d]of Object.entries(o))typeof d=="object"?a[c]=Object.assign(Object.assign({},a[c]),d):d!==void 0&&(a[c]=d);return a}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,o,a);(!c.searchParams.has("alt")||c.searchParams.get("alt")!=="sse")&&c.searchParams.set("alt","sse");let d={};return d.body=e.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,e.abortSignal),this.streamApiCall(c,d,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,a){if(o&&o.timeout||a){const c=new AbortController,d=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const p=setTimeout(()=>c.abort(),o.timeout);p&&typeof p.unref=="function"&&p.unref()}a&&a.addEventListener("abort",()=>{c.abort()}),e.signal=d}return o&&o.extraBody!==null&&Qx(e,o.extraBody),e.headers=await this.getHeadersInternal(o),e}async unaryApiCall(e,o,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:a})).then(async c=>(await Zp(c),new tr(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}async streamApiCall(e,o,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:a})).then(async c=>(await Zp(c),this.processStreamResponse(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}processStreamResponse(e){var o;return Yi(this,arguments,function*(){const c=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),d=new TextDecoder("utf-8");if(!c)throw new Error("Response body is empty");try{let p="";for(;;){const{done:g,value:y}=yield Le(c.read());if(g){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=d.decode(y,{stream:!0});try{const C=JSON.parse(h);if("error"in C){const S=JSON.parse(JSON.stringify(C.error)),M=S.status,b=S.code,q=`got status: ${M}. ${JSON.stringify(C)}`;if(b>=400&&b<600)throw new _a({message:q,status:b})}}catch(C){if(C.name==="ApiError")throw C}p+=h;let v=p.match($p);for(;v;){const C=v[1];try{const S=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Le(new tr(S)),p=p.slice(v[0].length),v=p.match($p)}catch(S){throw new Error(`exception parsing stream chunk ${C}. ${S}`)}}}}finally{c.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const e={},o=Jx+" "+this.clientOptions.userAgentExtra;return e[Px]=o,e[ur]=o,e[Bx]="application/json",e}async getHeadersInternal(e){const o=new Headers;if(e&&e.headers){for(const[a,c]of Object.entries(e.headers))o.append(a,c);e.timeout&&e.timeout>0&&o.append(zx,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o),o}async uploadFile(e,o){var a;const c={};o!=null&&(c.mimeType=o.mimeType,c.name=o.name,c.displayName=o.displayName),c.name&&!c.name.startsWith("files/")&&(c.name=`files/${c.name}`);const d=this.clientOptions.uploader,p=await d.stat(e);c.sizeBytes=String(p.size);const g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");c.mimeType=g;const y=await this.fetchUploadUrl(c,o);return d.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o){var a;let c={};o!=null&&o.httpOptions?c=o.httpOptions:c={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const d={file:e},p=await this.request({path:W("upload/v1beta/files",d._url),body:JSON.stringify(d),httpMethod:"POST",httpOptions:c});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(a=p==null?void 0:p.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function Zp(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let a;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?a=await n.json():a={error:{message:await n.text(),code:n.status,status:n.statusText}};const c=JSON.stringify(a);throw o>=400&&o<600?new _a({message:c,status:o}):new Error(c)}}function Qx(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const d=JSON.parse(n.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,p){const g=Object.assign({},d);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const c=a(o,e);n.body=JSON.stringify(c)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xx="mcp_used/unknown";let $x=!1;function Hh(n){for(const e of n)if(Zx(e)||typeof e=="object"&&"inputSchema"in e)return!0;return $x}function Bh(n){var e;const o=(e=n[ur])!==null&&e!==void 0?e:"";n[ur]=(o+` ${Xx}`).trimStart()}function Zx(n){return n!==null&&typeof n=="object"&&n instanceof yr}function Wx(n,e=100){return Yi(this,arguments,function*(){let a,c=0;for(;c<e;){const d=yield Le(n.listTools({cursor:a}));for(const p of d.tools)yield yield Le(p),c++;if(!d.nextCursor)break;a=d.nextCursor}})}class yr{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new yr(e,o)}async initialize(){var e,o,a,c;if(this.mcpTools.length>0)return;const d={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,Qo(Wx(v))),h;h=await y.next(),e=h.done,!e;g=!0){c=h.value,g=!1;const C=c;p.push(C);const S=C.name;if(d[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);d[S]=v}}catch(C){o={error:C}}finally{try{!g&&!e&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),uT(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const a of e)if(a.name in this.functionNameToMcpClient){const c=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const p=await c.callTool({name:a.name,arguments:a.args},void 0,d);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function jx(n,e,o){const a=new eT;let c;o.data instanceof Blob?c=JSON.parse(await o.data.text()):c=JSON.parse(o.data);const d=BS(c);Object.assign(a,d),e(a)}class eM{constructor(e,o,a){this.apiClient=e,this.auth=o,this.webSocketFactory=a}async connect(e){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),p=iM(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(P=>{h=P}),C=e.callbacks,S=function(){h({})},M=this.apiClient,b={onopen:S,onmessage:P=>{jx(M,C.onmessage,P)},onerror:(o=C==null?void 0:C.onerror)!==null&&o!==void 0?o:function(P){},onclose:(a=C==null?void 0:C.onclose)!==null&&a!==void 0?a:function(P){}},q=this.webSocketFactory.create(y,nM(p),b);q.connect(),await v;const z=Ae(this.apiClient,e.model),G=Nh({model:z}),F=lr({setup:G});return q.send(JSON.stringify(F)),new tM(q,this.apiClient)}}class tM{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=FS(e),a=Rh(o);this.conn.send(JSON.stringify({clientContent:a}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=PS(e),a=lr(o);this.conn.send(JSON.stringify(a))}sendPlaybackControl(e){const o=lr({playbackControl:e});this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Fi.PLAY)}pause(){this.sendPlaybackControl(Fi.PAUSE)}stop(){this.sendPlaybackControl(Fi.STOP)}resetContext(){this.sendPlaybackControl(Fi.RESET_CONTEXT)}close(){this.conn.close()}}function nM(n){const e={};return n.forEach((o,a)=>{e[a]=o}),e}function iM(n){const e=new Headers;for(const[o,a]of Object.entries(n))e.append(o,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function lM(n,e,o){const a=new jv;let c;o.data instanceof Blob?c=await o.data.text():o.data instanceof ArrayBuffer?c=new TextDecoder().decode(o.data):c=o.data;const d=JSON.parse(c);if(n.isVertexAI()){const p=WS(d);Object.assign(a,p)}else{const p=ZS(d);Object.assign(a,p)}e(a)}class aM{constructor(e,o,a){this.apiClient=e,this.auth=o,this.webSocketFactory=a,this.music=new eM(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,a,c,d,p,g;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const C=this.apiClient.getHeaders();e.config&&e.config.tools&&Hh(e.config.tools)&&Bh(C);const S=cM(C);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const j=this.apiClient.getApiKey();let de="BidiGenerateContent",Se="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),de="BidiGenerateContentConstrained",Se="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${de}?${Se}=${j}`}let M=()=>{};const b=new Promise(j=>{M=j}),q=e.callbacks,z=function(){var j;(j=q==null?void 0:q.onopen)===null||j===void 0||j.call(q),M({})},G=this.apiClient,F={onopen:z,onmessage:j=>{lM(G,q.onmessage,j)},onerror:(o=q==null?void 0:q.onerror)!==null&&o!==void 0?o:function(j){},onclose:(a=q==null?void 0:q.onclose)!==null&&a!==void 0?a:function(j){}},P=this.webSocketFactory.create(v,rM(S),F);P.connect(),await b;let J=Ae(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const j=this.apiClient.getProject(),de=this.apiClient.getLocation();J=`projects/${j}/locations/${de}/`+J}let $={};this.apiClient.isVertexAI()&&((c=e.config)===null||c===void 0?void 0:c.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[va.AUDIO]}:e.config.responseModalities=[va.AUDIO]),!((d=e.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Q=(g=(p=e.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],Y=[];for(const j of Q)if(this.isCallableTool(j)){const de=j;Y.push(await de.tool())}else Y.push(j);Y.length>0&&(e.config.tools=Y);const ae={model:J,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?$=VS(this.apiClient,ae):$=LS(this.apiClient,ae),delete $.config,P.send(JSON.stringify($)),new uM(P,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const sM={turnComplete:!0};class uM{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=bt(o.turns),e.isVertexAI()?a=a.map(c=>$i(c)):a=a.map(c=>Aa(c))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!e.isVertexAI()&&!("id"in d))throw new Error(oM)}return{toolResponse:{functionResponses:a}}}sendClientContent(e){e=Object.assign(Object.assign({},sM),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:OS(e)}:o={realtimeInput:YS(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function rM(n){const e={};return n.forEach((o,a)=>{e[a]=o}),e}function cM(n){const e=new Headers;for(const[o,a]of Object.entries(n))e.append(o,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wp=10;function jp(n){var e,o,a;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let c=!1;for(const p of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(Oi(p)){c=!0;break}if(!c)return!0;const d=(a=n==null?void 0:n.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Oi(n){return"callTool"in n&&typeof n.callTool=="function"}function fM(n){var e,o,a;return(a=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(c=>Oi(c)))!==null&&a!==void 0?a:!1}function dM(n){var e,o,a;return(a=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(c=>!Oi(c)))!==null&&a!==void 0?a:!1}function eh(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mM extends ni{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var a,c,d,p,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!fM(o)||jp(o.config))return await this.generateContentInternal(y);if(dM(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,v;const C=bt(y.contents),S=(d=(c=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||c===void 0?void 0:c.maximumRemoteCalls)!==null&&d!==void 0?d:Wp;let M=0;for(;M<S&&(h=await this.generateContentInternal(y),!(!h.functionCalls||h.functionCalls.length===0));){const b=h.candidates[0].content,q=[];for(const z of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(Oi(z)){const F=await z.callTool(h.functionCalls);q.push(...F)}M++,v={role:"user",parts:q},y.contents=bt(y.contents),y.contents.push(b),y.contents.push(v),eh(y.config)&&(C.push(b),C.push(v))}return eh(y.config)&&(h.automaticFunctionCallingHistory=C),h},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),jp(o.config)){const a=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(a)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var c;let d;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((c=y==null?void 0:y.safetyAttributes)===null||c===void 0?void 0:c.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:p.push(y);let g;return d?g={generatedImages:p,positivePromptSafetyAttributes:d,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new Xo(ti.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(c=>c.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const c={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(c)},this.generateVideos=async o=>{if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,a,c;const d=(o=e.config)===null||o===void 0?void 0:o.tools;if(!d)return e;const p=await Promise.all(d.map(async y=>Oi(y)?await y.tool():y)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:p})};if(g.config.tools=p,e.config&&e.config.tools&&Hh(e.config.tools)){const y=(c=(a=e.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&c!==void 0?c:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Bh(h),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(e){var o,a,c;const d=new Map;for(const p of(a=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(Oi(p)){const g=p,y=await g.tool();for(const h of(c=y.functionDeclarations)!==null&&c!==void 0?c:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,g)}}return d}async processAfcStream(e){var o,a,c;const d=(c=(a=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&c!==void 0?c:Wp;let p=!1,g=0;const y=await this.initAfcToolsMap(e);return(function(h,v,C){var S,M;return Yi(this,arguments,function*(){for(var b,q,z,G;g<d;){p&&(g++,p=!1);const $=yield Le(h.processParamsMaybeAddMcpUsage(C)),Q=yield Le(h.generateContentStreamInternal($)),Y=[],ae=[];try{for(var F=!0,P=(q=void 0,Qo(Q)),J;J=yield Le(P.next()),b=J.done,!b;F=!0){G=J.value,F=!1;const j=G;if(yield yield Le(j),j.candidates&&(!((S=j.candidates[0])===null||S===void 0)&&S.content)){ae.push(j.candidates[0].content);for(const de of(M=j.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(g<d&&de.functionCall){if(!de.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(de.functionCall.name)){const Se=yield Le(v.get(de.functionCall.name).callTool([de.functionCall]));Y.push(...Se)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${de.functionCall.name}`)}}}}catch(j){q={error:j}}finally{try{!F&&!b&&(z=P.return)&&(yield Le(z.call(P)))}finally{if(q)throw q.error}}if(Y.length>0){p=!0;const j=new Ko;j.candidates=[{content:{role:"user",parts:Y}}],yield yield Le(j);const de=[];de.push(...ae),de.push({role:"user",parts:Y});const Se=bt(C.contents).concat(de);C.contents=Se}else break}})})(this,y,e)}async generateContentInternal(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Kp(this.apiClient,e);return g=W("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=Xp(v),S=new Ko;return Object.assign(S,C),S})}else{const h=Op(this.apiClient,e);return g=W("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=Qp(v),S=new Ko;return Object.assign(S,C),S})}}async generateContentStreamInternal(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Kp(this.apiClient,e);return g=W("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(C){return Yi(this,arguments,function*(){var S,M,b,q;try{for(var z=!0,G=Qo(C),F;F=yield Le(G.next()),S=F.done,!S;z=!0){q=F.value,z=!1;const P=q,J=Xp(yield Le(P.json()));J.sdkHttpResponse={headers:P.headers};const $=new Ko;Object.assign($,J),yield yield Le($)}}catch(P){M={error:P}}finally{try{!z&&!S&&(b=G.return)&&(yield Le(b.call(G)))}finally{if(M)throw M.error}}})})}else{const h=Op(this.apiClient,e);return g=W("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}),p.then(function(C){return Yi(this,arguments,function*(){var S,M,b,q;try{for(var z=!0,G=Qo(C),F;F=yield Le(G.next()),S=F.done,!S;z=!0){q=F.value,z=!1;const P=q,J=Qp(yield Le(P.json()));J.sdkHttpResponse={headers:P.headers};const $=new Ko;Object.assign($,J),yield yield Le($)}}catch(P){M={error:P}}finally{try{!z&&!S&&(b=G.return)&&(yield Le(b.call(G)))}finally{if(M)throw M.error}}})})}}async embedContent(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=N_(this.apiClient,e);return g=W("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=U_(v),S=new Mp;return Object.assign(S,C),S})}else{const h=R_(this.apiClient,e);return g=W("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=D_(v),S=new Mp;return Object.assign(S,C),S})}}async generateImagesInternal(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Z_(this.apiClient,e);return g=W("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=j_(v),S=new Rp;return Object.assign(S,C),S})}else{const h=$_(this.apiClient,e);return g=W("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=W_(v),S=new Rp;return Object.assign(S,C),S})}}async editImageInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI()){const g=S_(this.apiClient,e);return d=W("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const h=E_(y),v=new Yv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI()){const g=_x(this.apiClient,e);return d=W("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const h=Ax(y),v=new Ov;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI()){const g=YA(this.apiClient,e);return d=W("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const h=OA(y),v=new Kv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI()){const g=ix(this.apiClient,e);return d=W("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const h=ox(y),v=new Qv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=hA(this.apiClient,e);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>sr(v))}else{const h=pA(this.apiClient,e);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>ar(v))}}async listInternal(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=IA(this.apiClient,e);return g=W("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=bA(v),S=new Np;return Object.assign(S,C),S})}else{const h=UA(this.apiClient,e);return g=W("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=wA(v),S=new Np;return Object.assign(S,C),S})}}async update(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Sx(this.apiClient,e);return g=W("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>sr(v))}else{const h=Cx(this.apiClient,e);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>ar(v))}}async delete(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=h_(this.apiClient,e);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=y_(v),S=new Dp;return Object.assign(S,C),S})}else{const h=p_(this.apiClient,e);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=g_(v),S=new Dp;return Object.assign(S,C),S})}}async countTokens(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=f_(this.apiClient,e);return g=W("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=m_(v),S=new Up;return Object.assign(S,C),S})}else{const h=c_(this.apiClient,e);return g=W("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=d_(v),S=new Up;return Object.assign(S,C),S})}}async computeTokens(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI()){const g=WE(this.apiClient,e);return d=W("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const h=jE(y),v=new Xv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=lA(this.apiClient,e);return g=W("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const C=iA(v),S=new Ta;return Object.assign(S,C),S})}else{const h=oA(this.apiClient,e);return g=W("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>{const C=nA(v),S=new Ta;return Object.assign(S,C),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pM extends ni{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,a=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:c,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async get(e){const o=e.operation,a=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:c,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async getVideosOperationInternal(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Pv(e);return g=W("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const h=zv(e);return g=W("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI()){const g=Lv(e);return d=W("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function th(){return{}}function hM(n){const e={},o=s(n,["name"]);return o!=null&&u(e,["name"],o),e}function gM(n){const e={},o=s(n,["disabled"]);o!=null&&u(e,["disabled"],o);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&u(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&u(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&u(e,["prefixPaddingMs"],d);const p=s(n,["silenceDurationMs"]);return p!=null&&u(e,["silenceDurationMs"],p),e}function yM(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&u(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function vM(n){const e={},o=s(n,["environment"]);o!=null&&u(e,["environment"],o);const a=s(n,["excludedPredefinedFunctions"]);return a!=null&&u(e,["excludedPredefinedFunctions"],a),e}function TM(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>bM(d))),u(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&u(e,["role"],a),e}function CM(n){const e={},o=s(n,["triggerTokens"]);o!=null&&u(e,["triggerTokens"],o);const a=s(n,["slidingWindow"]);return a!=null&&u(e,["slidingWindow"],GM(a)),e}function SM(n,e,o){const a={},c=s(e,["expireTime"]);o!==void 0&&c!=null&&u(o,["expireTime"],c);const d=s(e,["newSessionExpireTime"]);o!==void 0&&d!=null&&u(o,["newSessionExpireTime"],d);const p=s(e,["uses"]);o!==void 0&&p!=null&&u(o,["uses"],p);const g=s(e,["liveConnectConstraints"]);o!==void 0&&g!=null&&u(o,["bidiGenerateContentSetup"],IM(n,g));const y=s(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&u(o,["fieldMask"],y),a}function EM(n,e){const o={},a=s(e,["config"]);return a!=null&&u(o,["config"],SM(n,a,o)),o}function _M(n){const e={},o=s(n,["mode"]);o!=null&&u(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&u(e,["dynamicThreshold"],a),e}function AM(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function xM(n){const e={},o=s(n,["id"]);o!=null&&u(e,["id"],o);const a=s(n,["args"]);a!=null&&u(e,["args"],a);const c=s(n,["name"]);return c!=null&&u(e,["name"],c),e}function MM(n){const e={},o=s(n,["behavior"]);o!=null&&u(e,["behavior"],o);const a=s(n,["description"]);a!=null&&u(e,["description"],a);const c=s(n,["name"]);c!=null&&u(e,["name"],c);const d=s(n,["parameters"]);d!=null&&u(e,["parameters"],d);const p=s(n,["parametersJsonSchema"]);p!=null&&u(e,["parametersJsonSchema"],p);const g=s(n,["response"]);g!=null&&u(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function RM(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&u(e,["dynamicRetrievalConfig"],_M(o)),e}function NM(n){const e={},o=s(n,["timeRangeFilter"]);if(o!=null&&u(e,["timeRangeFilter"],DM(o)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function DM(n){const e={},o=s(n,["startTime"]);o!=null&&u(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&u(e,["endTime"],a),e}function UM(n,e){const o={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","temperature"],d);const p=s(n,["topP"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","topP"],p);const g=s(n,["topK"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const h=s(n,["mediaResolution"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","mediaResolution"],h);const v=s(n,["seed"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","seed"],v);const C=s(n,["speechConfig"]);e!==void 0&&C!=null&&u(e,["setup","generationConfig","speechConfig"],BM(hr(C)));const S=s(n,["thinkingConfig"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","thinkingConfig"],zM(S));const M=s(n,["enableAffectiveDialog"]);e!==void 0&&M!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],M);const b=s(n,["systemInstruction"]);e!==void 0&&b!=null&&u(e,["setup","systemInstruction"],TM(ot(b)));const q=s(n,["tools"]);if(e!==void 0&&q!=null){let Q=Qi(q);Array.isArray(Q)&&(Q=Q.map(Y=>PM(Ki(Y)))),u(e,["setup","tools"],Q)}const z=s(n,["sessionResumption"]);e!==void 0&&z!=null&&u(e,["setup","sessionResumption"],qM(z));const G=s(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&u(e,["setup","inputAudioTranscription"],th());const F=s(n,["outputAudioTranscription"]);e!==void 0&&F!=null&&u(e,["setup","outputAudioTranscription"],th());const P=s(n,["realtimeInputConfig"]);e!==void 0&&P!=null&&u(e,["setup","realtimeInputConfig"],kM(P));const J=s(n,["contextWindowCompression"]);e!==void 0&&J!=null&&u(e,["setup","contextWindowCompression"],CM(J));const $=s(n,["proactivity"]);return e!==void 0&&$!=null&&u(e,["setup","proactivity"],VM($)),o}function IM(n,e){const o={},a=s(e,["model"]);a!=null&&u(o,["setup","model"],Ae(n,a));const c=s(e,["config"]);return c!=null&&u(o,["config"],UM(c,o)),o}function wM(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>HM(c))),u(e,["speakerVoiceConfigs"],a)}return e}function bM(n){const e={},o=s(n,["videoMetadata"]);o!=null&&u(e,["videoMetadata"],JM(o));const a=s(n,["thought"]);a!=null&&u(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&u(e,["inlineData"],yM(c));const d=s(n,["fileData"]);d!=null&&u(e,["fileData"],AM(d));const p=s(n,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&u(e,["functionCall"],xM(g));const y=s(n,["codeExecutionResult"]);y!=null&&u(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&u(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&u(e,["text"],C),e}function LM(n){const e={},o=s(n,["voiceName"]);return o!=null&&u(e,["voiceName"],o),e}function VM(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&u(e,["proactiveAudio"],o),e}function kM(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&u(e,["automaticActivityDetection"],gM(o));const a=s(n,["activityHandling"]);a!=null&&u(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&u(e,["turnCoverage"],c),e}function qM(n){const e={},o=s(n,["handle"]);if(o!=null&&u(e,["handle"],o),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function GM(n){const e={},o=s(n,["targetTokens"]);return o!=null&&u(e,["targetTokens"],o),e}function HM(n){const e={},o=s(n,["speaker"]);o!=null&&u(e,["speaker"],o);const a=s(n,["voiceConfig"]);return a!=null&&u(e,["voiceConfig"],zh(a)),e}function BM(n){const e={},o=s(n,["voiceConfig"]);o!=null&&u(e,["voiceConfig"],zh(o));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&u(e,["multiSpeakerVoiceConfig"],wM(a));const c=s(n,["languageCode"]);return c!=null&&u(e,["languageCode"],c),e}function zM(n){const e={},o=s(n,["includeThoughts"]);o!=null&&u(e,["includeThoughts"],o);const a=s(n,["thinkingBudget"]);return a!=null&&u(e,["thinkingBudget"],a),e}function PM(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>MM(h))),u(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&u(e,["googleSearch"],NM(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&u(e,["googleSearchRetrieval"],RM(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&u(e,["urlContext"],FM());const p=s(n,["computerUse"]);p!=null&&u(e,["computerUse"],vM(p));const g=s(n,["codeExecution"]);return g!=null&&u(e,["codeExecution"],g),e}function FM(){return{}}function JM(n){const e={},o=s(n,["fps"]);o!=null&&u(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&u(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&u(e,["startOffset"],c),e}function zh(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&u(e,["prebuiltVoiceConfig"],LM(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YM(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const a=n[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const c=Object.keys(a).map(d=>`${o}.${d}`);e.push(...c)}else e.push(o)}return e.join(",")}function OM(n,e){let o=null;const a=n.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(n.bidiGenerateContentSetup=d,o=d):delete n.bidiGenerateContentSetup}else a!==void 0&&delete n.bidiGenerateContentSetup;const c=n.fieldMask;if(o){const d=YM(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)d?n.fieldMask=d:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&c!==null&&Array.isArray(c)&&c.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];c.length>0&&(g=c.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else c!==null&&Array.isArray(c)&&c.length>0?n.fieldMask=c.join(","):delete n.fieldMask;return n}class KM extends ni{constructor(e){super(),this.apiClient=e}async create(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=EM(this.apiClient,e);d=W("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=OM(g,e.config);return c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),c.then(h=>hM(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QM(n){const e={},o=s(n,["name"]);return o!=null&&u(e,["_url","name"],o),e}function XM(n){const e={},o=s(n,["name"]);return o!=null&&u(e,["_url","name"],o),e}function $M(n,e){const o={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=s(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&u(e,["displayName"],a),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=s(n,["epochCount"]);e!==void 0&&c!=null&&u(e,["tuningTask","hyperparameters","epochCount"],c);const d=s(n,["learningRateMultiplier"]);if(d!=null&&u(o,["tuningTask","hyperparameters","learningRateMultiplier"],d),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=s(n,["batchSize"]);e!==void 0&&p!=null&&u(e,["tuningTask","hyperparameters","batchSize"],p);const g=s(n,["learningRate"]);if(e!==void 0&&g!=null&&u(e,["tuningTask","hyperparameters","learningRate"],g),s(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return o}function ZM(n,e){const o={},a=s(n,["validationDataset"]);e!==void 0&&a!=null&&u(e,["supervisedTuningSpec"],hR(a,o));const c=s(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&u(e,["tunedModelDisplayName"],c);const d=s(n,["description"]);e!==void 0&&d!=null&&u(e,["description"],d);const p=s(n,["epochCount"]);e!==void 0&&p!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],p);const g=s(n,["learningRateMultiplier"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g);const y=s(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const h=s(n,["adapterSize"]);if(e!==void 0&&h!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h),s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const v=s(n,["labels"]);return e!==void 0&&v!=null&&u(e,["labels"],v),o}function WM(n){const e={},o=s(n,["baseModel"]);o!=null&&u(e,["baseModel"],o);const a=s(n,["preTunedModel"]);a!=null&&u(e,["preTunedModel"],a);const c=s(n,["trainingDataset"]);c!=null&&u(e,["tuningTask","trainingData"],fR(c));const d=s(n,["config"]);return d!=null&&$M(d,e),e}function jM(n){const e={},o=s(n,["baseModel"]);o!=null&&u(e,["baseModel"],o);const a=s(n,["preTunedModel"]);a!=null&&u(e,["preTunedModel"],a);const c=s(n,["trainingDataset"]);c!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],dR(c,e));const d=s(n,["config"]);return d!=null&&ZM(d,e),e}function eR(n){const e={},o=s(n,["name"]);return o!=null&&u(e,["_url","name"],o),e}function tR(n){const e={},o=s(n,["name"]);return o!=null&&u(e,["_url","name"],o),e}function nR(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&u(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&u(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&u(e,["_query","filter"],d),o}function iR(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&u(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&u(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&u(e,["_query","filter"],d),o}function oR(n){const e={},o=s(n,["config"]);return o!=null&&nR(o,e),e}function lR(n){const e={},o=s(n,["config"]);return o!=null&&iR(o,e),e}function aR(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const c=s(n,["tunedModels"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>Ph(p))),u(e,["tuningJobs"],d)}return e}function sR(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&u(e,["nextPageToken"],a);const c=s(n,["tuningJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>rr(p))),u(e,["tuningJobs"],d)}return e}function uR(n){const e={},o=s(n,["checkpointId"]);o!=null&&u(e,["checkpointId"],o);const a=s(n,["epoch"]);a!=null&&u(e,["epoch"],a);const c=s(n,["step"]);c!=null&&u(e,["step"],c);const d=s(n,["endpoint"]);return d!=null&&u(e,["endpoint"],d),e}function rR(n){const e={},o=s(n,["name"]);o!=null&&u(e,["model"],o);const a=s(n,["name"]);return a!=null&&u(e,["endpoint"],a),e}function cR(n){const e={},o=s(n,["model"]);o!=null&&u(e,["model"],o);const a=s(n,["endpoint"]);a!=null&&u(e,["endpoint"],a);const c=s(n,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>uR(p))),u(e,["checkpoints"],d)}return e}function fR(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(n,["examples"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>mR(c))),u(e,["examples","examples"],a)}return e}function dR(n,e){const o={},a=s(n,["gcsUri"]);e!==void 0&&a!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],a);const c=s(n,["vertexDatasetResource"]);if(e!==void 0&&c!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],c),s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function mR(n){const e={},o=s(n,["textInput"]);o!=null&&u(e,["textInput"],o);const a=s(n,["output"]);return a!=null&&u(e,["output"],a),e}function Ph(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["name"]);a!=null&&u(e,["name"],a);const c=s(n,["state"]);c!=null&&u(e,["state"],ph(c));const d=s(n,["createTime"]);d!=null&&u(e,["createTime"],d);const p=s(n,["tuningTask","startTime"]);p!=null&&u(e,["startTime"],p);const g=s(n,["tuningTask","completeTime"]);g!=null&&u(e,["endTime"],g);const y=s(n,["updateTime"]);y!=null&&u(e,["updateTime"],y);const h=s(n,["description"]);h!=null&&u(e,["description"],h);const v=s(n,["baseModel"]);v!=null&&u(e,["baseModel"],v);const C=s(n,["_self"]);C!=null&&u(e,["tunedModel"],rR(C));const S=s(n,["customBaseModel"]);S!=null&&u(e,["customBaseModel"],S);const M=s(n,["experiment"]);M!=null&&u(e,["experiment"],M);const b=s(n,["labels"]);b!=null&&u(e,["labels"],b);const q=s(n,["outputUri"]);q!=null&&u(e,["outputUri"],q);const z=s(n,["pipelineJob"]);z!=null&&u(e,["pipelineJob"],z);const G=s(n,["serviceAccount"]);G!=null&&u(e,["serviceAccount"],G);const F=s(n,["tunedModelDisplayName"]);F!=null&&u(e,["tunedModelDisplayName"],F);const P=s(n,["veoTuningSpec"]);return P!=null&&u(e,["veoTuningSpec"],P),e}function rr(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["name"]);a!=null&&u(e,["name"],a);const c=s(n,["state"]);c!=null&&u(e,["state"],ph(c));const d=s(n,["createTime"]);d!=null&&u(e,["createTime"],d);const p=s(n,["startTime"]);p!=null&&u(e,["startTime"],p);const g=s(n,["endTime"]);g!=null&&u(e,["endTime"],g);const y=s(n,["updateTime"]);y!=null&&u(e,["updateTime"],y);const h=s(n,["error"]);h!=null&&u(e,["error"],h);const v=s(n,["description"]);v!=null&&u(e,["description"],v);const C=s(n,["baseModel"]);C!=null&&u(e,["baseModel"],C);const S=s(n,["tunedModel"]);S!=null&&u(e,["tunedModel"],cR(S));const M=s(n,["preTunedModel"]);M!=null&&u(e,["preTunedModel"],M);const b=s(n,["supervisedTuningSpec"]);b!=null&&u(e,["supervisedTuningSpec"],b);const q=s(n,["tuningDataStats"]);q!=null&&u(e,["tuningDataStats"],q);const z=s(n,["encryptionSpec"]);z!=null&&u(e,["encryptionSpec"],z);const G=s(n,["partnerModelTuningSpec"]);G!=null&&u(e,["partnerModelTuningSpec"],G);const F=s(n,["customBaseModel"]);F!=null&&u(e,["customBaseModel"],F);const P=s(n,["experiment"]);P!=null&&u(e,["experiment"],P);const J=s(n,["labels"]);J!=null&&u(e,["labels"],J);const $=s(n,["outputUri"]);$!=null&&u(e,["outputUri"],$);const Q=s(n,["pipelineJob"]);Q!=null&&u(e,["pipelineJob"],Q);const Y=s(n,["serviceAccount"]);Y!=null&&u(e,["serviceAccount"],Y);const ae=s(n,["tunedModelDisplayName"]);ae!=null&&u(e,["tunedModelDisplayName"],ae);const j=s(n,["veoTuningSpec"]);return j!=null&&u(e,["veoTuningSpec"],j),e}function pR(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const a=s(n,["name"]);a!=null&&u(e,["name"],a);const c=s(n,["metadata"]);c!=null&&u(e,["metadata"],c);const d=s(n,["done"]);d!=null&&u(e,["done"],d);const p=s(n,["error"]);return p!=null&&u(e,["error"],p),e}function hR(n,e){const o={},a=s(n,["gcsUri"]);a!=null&&u(o,["validationDatasetUri"],a);const c=s(n,["vertexDatasetResource"]);return e!==void 0&&c!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],c),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gR extends ni{constructor(e){super(),this.apiClient=e,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new Xo(ti.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const c={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(c.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:c});return d.baseModel=void 0,await this.tuneInternal(d)}else{const c=Object.assign({},o);return await this.tuneInternal(c)}else{const c=Object.assign({},o),d=await this.tuneMldevInternal(c);let p="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?p=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(p=d.name.split("/operations/")[0]),{name:p,state:er.JOB_STATE_QUEUED}}}}async getInternal(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=tR(e);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>rr(v))}else{const h=eR(e);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>Ph(v))}}async listInternal(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=lR(e);return g=W("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=sR(v),S=new Ip;return Object.assign(S,C),S})}else{const h=oR(e);return g=W("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=aR(v),S=new Ip;return Object.assign(S,C),S})}}async cancel(e){var o,a,c,d;let p="",g={};if(this.apiClient.isVertexAI()){const y=XM(e);p=W("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=QM(e);p=W("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async tuneInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI()){const g=jM(e);return d=W("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>rr(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=WM(e);return d=W("tunedModels",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>pR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yR{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const vR=1024*1024*8,TR=3,CR=1e3,SR=2,Wu="x-goog-upload-status";async function ER(n,e,o){var a,c,d;let p=0,g=0,y=new tr(new Response),h="upload";for(p=n.size;g<p;){const C=Math.min(vR,p-g),S=n.slice(g,g+C);g+C>=p&&(h+=", finalize");let M=0,b=CR;for(;M<TR&&(y=await o.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(g),"Content-Length":String(C)}}}),!(!((a=y==null?void 0:y.headers)===null||a===void 0)&&a[Wu]));)M++,await AR(b),b=b*SR;if(g+=C,((c=y==null?void 0:y.headers)===null||c===void 0?void 0:c[Wu])!=="active")break;if(p<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((d=y==null?void 0:y.headers)===null||d===void 0?void 0:d[Wu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function _R(n){return{size:n.size,type:n.type}}function AR(n){return new Promise(e=>setTimeout(e,n))}class xR{async upload(e,o,a){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ER(e,o,a)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _R(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MR{create(e,o,a){return new RR(e,o,a)}}class RR{constructor(e,o,a){this.url=e,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nh="x-goog-api-key";class NR{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(nh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(nh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DR="gl-node/";class UR{constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const a=bv(e.httpOptions,e.vertexai,void 0,void 0);a&&(e.httpOptions?e.httpOptions.baseUrl=a:e.httpOptions={baseUrl:a}),this.apiVersion=e.apiVersion;const c=new NR(this.apiKey);this.apiClient=new Kx({auth:c,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:DR+"web",uploader:new xR,downloader:new yR}),this.models=new mM(this.apiClient),this.live=new aM(this.apiClient,c,new MR),this.batches=new x0(this.apiClient),this.chats=new bC(this.models,this.apiClient),this.caches=new UC(this.apiClient),this.files=new OC(this.apiClient),this.operations=new pM(this.apiClient),this.authTokens=new KM(this.apiClient),this.tunings=new gR(this.apiClient)}}const vr="saga_auth_credentials";function IR(n){localStorage.setItem(vr,JSON.stringify(n))}function Vn(){const n=localStorage.getItem(vr);if(!n)return null;try{return JSON.parse(n)}catch{return null}}function ih(){localStorage.removeItem(vr)}function wR(){const n=Vn();return!!(n!=null&&n.githubPAT&&(n!=null&&n.geminiApiKey))}function bR(n){return/^(ghp_[a-zA-Z0-9]{36}|github_pat_[a-zA-Z0-9_]{82}|[a-f0-9]{40})$/.test(n)}function LR(n){return/^AI[a-zA-Z0-9_-]{37,}$/.test(n)}function VR(){const n=Vn();if(!(n!=null&&n.geminiApiKey))throw new Error("Gemini API key not found. Please log in again.");return new UR({apiKey:n.geminiApiKey})}async function kR(n){const e=VR(),o=`
You are an expert literary analyst. Your task is to analyze the provided book chapter and generate a concise summary.

The response must be in the following format, with each item on a new line:
- Three separate lines, each starting with "BULLET: ", summarizing a key event.
- One final line, starting with "QUOTE: ", containing a thematically significant or encapsulating quote from the chapter. This quote MUST be at least 15 words long to provide sufficient context. If the quote is spoken by a character, you MUST include who said it (e.g., "Nothing is fair," Jon said.).

Do not include any other text, explanations, or formatting.

Here is the chapter text:
---
${n}
---
`;try{return await e.models.generateContentStream({model:"gemini-2.5-flash",contents:o})}catch(a){console.error("Error summarizing chapter:",a);const c=a instanceof Error?a.message:"An unknown error occurred.";throw new Error(`Could not get a valid summary from the AI model. ${c}`)}}const Fh="SAGA App - Book Library Data",Sa="saga_library_index.json",qR=8e5;async function Tr(n){try{const e=await fetch("https://api.github.com/gists",{headers:{Authorization:`token ${n}`,Accept:"application/vnd.github.v3+json"}});if(!e.ok)throw new Error(`GitHub API error: ${e.status}`);const a=(await e.json()).find(c=>c.description===Fh);return(a==null?void 0:a.id)||null}catch(e){throw console.error("Error finding SAGA gist:",e),e}}async function GR(n,e){try{const o=Jh(e),a={};console.log(`Creating gist with ${Object.keys(o).length} files:`,Object.keys(o)),Object.entries(o).forEach(([g,y])=>{a[g]={content:y},console.log(`  ${g}: ${y.length} bytes`)});const c=JSON.stringify({description:Fh,public:!1,files:a});console.log(`Total payload size: ${c.length} bytes`);const d=await fetch("https://api.github.com/gists",{method:"POST",headers:{Authorization:`token ${n}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json"},body:c});if(!d.ok){const g=await d.text();throw console.error("Gist creation failed:",d.status,g),new Error(`Failed to create gist: ${d.status} - ${g}`)}const p=await d.json();return console.log(`Gist created successfully: ${p.id}`),p.id}catch(o){throw console.error("Error creating SAGA gist:",o),o}}async function HR(n,e,o){try{const a=Jh(o),c={};Object.entries(a).forEach(([p,g])=>{c[p]={content:g}});const d=await fetch(`https://api.github.com/gists/${e}`,{method:"PATCH",headers:{Authorization:`token ${n}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json"},body:JSON.stringify({files:c})});if(!d.ok)throw new Error(`Failed to update gist: ${d.status}`)}catch(a){throw console.error("Error updating gist:",a),a}}function Jh(n){const e={},o=n.map(a=>({id:a.id,title:a.title,chapterCount:a.chapters.length,summaries:a.summaries,images:a.images,lastAccessed:a.lastAccessed}));return e[Sa]=JSON.stringify(o,null,2),n.forEach(a=>{if(!a.id)return;const c=JSON.stringify(a,null,2);if(c.length<=qR)e[`book_${a.id}.json`]=c;else{console.log(`Book ${a.id} is too large (${c.length} bytes), splitting into chunks`);const d=10,p=[];for(let g=0;g<a.chapters.length;g+=d){const y=a.chapters.slice(g,g+d),h={},v={};y.forEach((C,S)=>{const M=g+S;a.summaries[M]&&(h[S]=a.summaries[M]),a.images[M]&&(v[S]=a.images[M])}),p.push({id:a.id,title:a.title,chapters:y,summaries:h,images:v,lastAccessed:a.lastAccessed})}e[`book_${a.id}_meta.json`]=JSON.stringify({id:a.id,title:a.title,totalChapters:a.chapters.length,chunkCount:p.length,lastAccessed:a.lastAccessed},null,2),p.forEach((g,y)=>{e[`book_${a.id}_chunk_${y}.json`]=JSON.stringify(g,null,2)})}}),e}async function sn(n){if(!n)return null;if(n.truncated&&n.raw_url)try{console.log(`Fetching truncated file from raw_url: ${n.raw_url}`);const e=await fetch(n.raw_url);if(e.ok){const o=await e.text();return console.log(`Fetched ${o.length} bytes from raw_url`),o}else console.error(`Failed to fetch raw content: ${e.status}`)}catch(e){console.error("Failed to fetch raw content:",e)}if(n.content)return n.content;if(n.raw_url)try{const e=await fetch(n.raw_url);if(e.ok)return await e.text()}catch(e){console.error("Failed to fetch raw content:",e)}return null}async function BR(n){try{const e=await Tr(n);if(!e)return console.log("No SAGA gist found"),[];const o=await fetch(`https://api.github.com/gists/${e}`,{headers:{Authorization:`token ${n}`,Accept:"application/vnd.github.v3+json"}});if(!o.ok)throw new Error(`Failed to load gist: ${o.status}`);const a=await o.json(),c=a.files[Sa],d=await sn(c);if(d)return JSON.parse(d).map(y=>({id:y.id,title:y.title,chapters:new Array(y.chapterCount).fill(null),summaries:y.summaries,images:y.images,lastAccessed:y.lastAccessed}));const p=[];for(const g of Object.keys(a.files)){const y=g.match(/^book_(\d+)_meta\.json$/);if(y){const h=parseInt(y[1]),v=await sn(a.files[g]);if(v){const C=JSON.parse(v);p.push({id:C.id,title:C.title,chapters:new Array(C.totalChapters).fill(null),summaries:{},images:{},lastAccessed:C.lastAccessed})}}}return p}catch(e){throw console.error("Error loading books metadata:",e),e}}async function zR(n){var e;try{const o=await Tr(n);if(!o)return console.log("No SAGA gist found"),[];const a=await fetch(`https://api.github.com/gists/${o}`,{headers:{Authorization:`token ${n}`,Accept:"application/vnd.github.v3+json"}});if(!a.ok)throw new Error(`Failed to load gist: ${a.status}`);const c=await a.json();console.log("Files in gist:",Object.keys(c.files)),console.log("Looking for index file:",Sa);const d=c.files[Sa],p=await sn(d);if(p){console.log("Loading books from new format (index + book files)"),console.log("Index content:",p);const v=JSON.parse(p);if(console.log("Parsed index:",v),v.length===0)console.log("Index is empty, falling through to reconstruction");else{const C=[];for(const S of v){const M=S.id,b=`book_${M}_meta.json`,q=await sn(c.files[b]);if(q)try{const z=JSON.parse(q),G=[],F={},P={};for(let J=0;J<z.chunkCount;J++){const $=`book_${M}_chunk_${J}.json`,Q=c.files[$],Y=await sn(Q);if(Y)try{const ae=JSON.parse(Y),j=G.length;ae.chapters.forEach(de=>{G.push(de)}),Object.entries(ae.summaries).forEach(([de,Se])=>{F[j+parseInt(de)]=Se}),Object.entries(ae.images).forEach(([de,Se])=>{P[j+parseInt(de)]=Se})}catch(ae){console.error(`Failed to parse chunk ${J} for book ${M}:`,ae)}}C.push({id:z.id,title:z.title,chapters:G,summaries:F,images:P,lastAccessed:z.lastAccessed}),console.log(`Loaded chunked book ${M} from ${z.chunkCount} chunks`)}catch(z){console.error(`Failed to load chunked book ${M}:`,z)}else console.log(`No metadata found for book ${M}, checking for regular file`);if(!q){const z=`book_${M}.json`,G=await sn(c.files[z]);if(G)try{const F=JSON.parse(G);C.push(F),console.log(`Loaded regular book ${M}`)}catch(F){console.error(`Failed to parse book ${M}:`,F)}}}return console.log(`Returning ${C.length} books from new format`),C}}const g=(e=c.files["saga_library.json"])==null?void 0:e.content;if(g){console.log("Loading books from old format (single file)");try{const v=JSON.parse(g);return console.log(`Loaded ${v.length} books from old format`),v}catch(v){return console.error("Failed to parse old format:",v),[]}}console.log("No index found, checking for individual book files...");const y=[],h=new Set;for(const v of Object.keys(c.files)){const C=v.match(/^book_(\d+)_chunk_(\d+)\.json$/);if(C){const S=parseInt(C[1]);if(!h.has(S)){h.add(S);const M=await sn(c.files[`book_${S}_meta.json`]);if(M)try{const b=JSON.parse(M),q=[],z={},G={};for(let F=0;F<b.chunkCount;F++){const P=`book_${S}_chunk_${F}.json`,J=c.files[P];console.log(`Loading chunk ${F}: truncated=${J==null?void 0:J.truncated}, size=${J==null?void 0:J.size}`);const $=await sn(J);if($)try{const Q=JSON.parse($),Y=q.length;Q.chapters.forEach(ae=>{q.push(ae)}),Object.entries(Q.summaries).forEach(([ae,j])=>{z[Y+parseInt(ae)]=j}),Object.entries(Q.images).forEach(([ae,j])=>{G[Y+parseInt(ae)]=j}),console.log(`Successfully loaded chunk ${F}`)}catch(Q){console.error(`Failed to parse chunk ${F}:`,Q)}else console.warn(`No content for chunk ${F}`)}y.push({id:b.id,title:b.title,chapters:q,summaries:z,images:G,lastAccessed:b.lastAccessed}),console.log(`Reconstructed chunked book ${S} from ${b.chunkCount} chunks`)}catch(b){console.error(`Failed to load chunked book ${S}:`,b)}}continue}if(v.startsWith("book_")&&v.endsWith(".json")&&!v.includes("_meta")&&!v.includes("_chunk_")){const S=await sn(c.files[v]);if(S)try{const M=JSON.parse(S);M.id&&!h.has(M.id)&&(h.add(M.id),y.push(M),console.log(`Found book from file: ${v}`))}catch(M){console.error(`Failed to parse ${v}:`,M)}}}return y.length>0?(console.log(`Loaded ${y.length} books from individual files (no index)`),y):(console.log("No book data found in gist"),[])}catch(o){throw console.error("Error loading books from gist:",o),new Error("Failed to load library from GitHub. Please check your PAT and try again.")}}async function Cr(n,e){try{const o=await Tr(n);o?await HR(n,o,e):await GR(n,e)}catch(o){throw console.error("Error saving books to gist:",o),new Error("Failed to save library to GitHub. Please check your PAT and try again.")}}async function PR(n){try{return(await fetch("https://api.github.com/user",{headers:{Authorization:`token ${n}`,Accept:"application/vnd.github.v3+json"}})).ok}catch{return!1}}async function oh(){return Promise.resolve()}function FR(n){const e=n.chapters.filter(o=>o!=null);if(e.length!==n.chapters.length){console.warn(`Book ${n.id} had ${n.chapters.length-e.length} null chapters, cleaning up`);const o=new Map;let a=0;n.chapters.forEach((p,g)=>{p!=null&&(o.set(g,a),a++)});const c={},d={};return Object.entries(n.summaries).forEach(([p,g])=>{const y=o.get(parseInt(p));y!==void 0&&(c[y]=g)}),Object.entries(n.images).forEach(([p,g])=>{const y=o.get(parseInt(p));y!==void 0&&(d[y]=g)}),{...n,chapters:e,summaries:c,images:d}}return n}async function lh(){const n=Vn();if(!(n!=null&&n.githubPAT))throw new Error("GitHub PAT not found");try{return await BR(n.githubPAT)}catch(e){throw console.error("Error loading books metadata:",e),e}}async function Sr(){const n=Vn();if(!(n!=null&&n.githubPAT))throw new Error("GitHub PAT not found");try{return(await zR(n.githubPAT)).map(FR)}catch(e){throw console.error("Error loading books:",e),e}}async function JR(n){return(await Sr()).find(o=>o.id===n)||null}async function YR(n){const e=Vn();if(!(e!=null&&e.githubPAT))throw new Error("GitHub PAT not found");const o=await Sr(),c=o.reduce((g,y)=>Math.max(g,y.id||0),0)+1,p=[{...n,id:c},...o];return await Cr(e.githubPAT,p),await new Promise(g=>setTimeout(g,1e3)),c}async function ju(n){const e=Vn();if(!(e!=null&&e.githubPAT))throw new Error("GitHub PAT not found");const a=(await Sr()).map(c=>c.id===n.id?n:c);await Cr(e.githubPAT,a)}async function OR(){const n=Vn();if(!(n!=null&&n.githubPAT))throw new Error("GitHub PAT not found");await Cr(n.githubPAT,[])}const Ea="/saga-book-summarizer/assets/logo-CrjB4bHl.png",KR=({onLogin:n,error:e})=>{const[o,a]=re.useState(""),[c,d]=re.useState(""),[p,g]=re.useState(!1),[y,h]=re.useState(!1),[v,C]=re.useState(!1),[S,M]=re.useState(null),[b,q]=re.useState(!1),[z,G]=re.useState(""),F=async P=>{P.preventDefault(),M(null);let J=o,$=c;if(b&&z)try{const Q=atob(z),[Y,ae]=Q.split(":::");if(!Y||!ae){M("Invalid quick login code");return}J=Y,$=ae}catch{M("Invalid quick login code");return}if(!bR(J)){M("Invalid GitHub Personal Access Token format");return}if(!LR($)){M("Invalid Gemini API key format");return}C(!0);try{if(!await PR(J)){M("GitHub PAT is invalid or expired. Please check your token."),C(!1);return}n(J,$)}catch{M("Failed to validate credentials. Please check your internet connection."),C(!1)}};return _.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-900",children:_.jsxs("div",{className:"max-w-md w-full p-8 space-y-8",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"flex justify-center mb-6",children:_.jsx("img",{src:Ea,alt:"SAGA Logo",className:"w-24 h-24"})}),_.jsx("h1",{className:"text-5xl font-extrabold mb-3 tracking-wide",children:_.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-amber-400 via-orange-400 to-amber-500",children:"SAGA"})}),_.jsx("p",{className:"text-xl text-amber-400/80 mb-2 font-semibold tracking-wider",children:"Your Story Companion"}),_.jsx("p",{className:"text-sm text-gray-400 mb-8",children:"Enter your credentials to access your library across all devices"})]}),_.jsx("div",{className:"flex justify-center mb-6",children:_.jsx("button",{type:"button",onClick:()=>q(!b),className:"text-sm text-amber-400 hover:text-amber-300 underline",children:b?"Use individual keys":"Have a quick login code?"})}),_.jsxs("form",{onSubmit:F,className:"space-y-6",children:[b?_.jsxs("div",{children:[_.jsx("label",{htmlFor:"quick-login",className:"block text-sm font-medium text-gray-300 mb-2",children:"Quick Login Code"}),_.jsx("input",{id:"quick-login",type:"text",value:z,onChange:P=>G(P.target.value),placeholder:"Paste your login code here",required:!0,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),_.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Enter the code you copied from another device"})]}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"github-pat",className:"block text-sm font-medium text-gray-300 mb-2",children:"GitHub Personal Access Token"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{id:"github-pat",type:p?"text":"password",value:o,onChange:P=>a(P.target.value),placeholder:"ghp_xxxxxxxxxxxx",required:!0,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),_.jsx("button",{type:"button",onClick:()=>g(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-amber-400 text-sm",children:p?"Hide":"Show"})]}),_.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:["Need a token? ",_.jsx("a",{href:"https://github.com/settings/tokens/new?scopes=gist",target:"_blank",rel:"noopener noreferrer",className:"text-amber-400 hover:text-amber-300 underline",children:"Create one here"})," with 'gist' scope"]})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"gemini-key",className:"block text-sm font-medium text-gray-300 mb-2",children:"Gemini API Key"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{id:"gemini-key",type:y?"text":"password",value:c,onChange:P=>d(P.target.value),placeholder:"AIzaSyxxxxxxxxxx",required:!0,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),_.jsx("button",{type:"button",onClick:()=>h(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-amber-400 text-sm",children:y?"Hide":"Show"})]}),_.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:["Need a key? ",_.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-amber-400 hover:text-amber-300 underline",children:"Get one here"})]})]})]}),(S||e)&&_.jsx("div",{className:"bg-red-900/50 border border-red-700 text-red-300 px-4 py-3 rounded-lg",children:_.jsx("span",{className:"block text-sm",children:S||e})}),_.jsx("button",{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-amber-600 to-orange-600 text-white font-bold py-3 px-4 rounded-lg hover:from-amber-700 hover:to-orange-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:v?"Validating...":"Enter SAGA"})]}),_.jsx("div",{className:"text-center",children:_.jsx("p",{className:"text-xs text-gray-500",children:"Your credentials are stored locally and never sent to our servers"})})]})})},QR=n=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[_.jsx("path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}),_.jsx("path",{d:"M12 12v9"}),_.jsx("path",{d:"m16 16-4-4-4 4"})]}),XR=n=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[_.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),_.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),$R=n=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[_.jsx("path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 2v6c0 7 4 8 8 8Z"}),_.jsx("path",{d:"M14 21c3 0 7-1 7-8V5c0-1.25-.75-2.017-2-2h-4c-1.25 0-2 .75-2 2v6c0 7 4 8 8 8Z"})]}),ZR=n=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[_.jsx("line",{x1:"8",x2:"21",y1:"6",y2:"6"}),_.jsx("line",{x1:"8",x2:"21",y1:"12",y2:"12"}),_.jsx("line",{x1:"8",x2:"21",y1:"18",y2:"18"}),_.jsx("line",{x1:"3",x2:"3.01",y1:"6",y2:"6"}),_.jsx("line",{x1:"3",x2:"3.01",y1:"12",y2:"12"}),_.jsx("line",{x1:"3",x2:"3.01",y1:"18",y2:"18"})]}),WR=n=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`animate-spin ${n.className||""}`,...n,children:_.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),jR=n=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[_.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),_.jsx("polyline",{points:"14 2 14 8 20 8"}),_.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),_.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),_.jsx("line",{x1:"10",y1:"9",x2:"8",y2:"9"})]}),ah=n=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[_.jsx("path",{d:"M19 12H5"}),_.jsx("polyline",{points:"12 19 5 12 12 5"})]}),eN=n=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[_.jsx("polyline",{points:"3 6 5 6 21 6"}),_.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),_.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),_.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),tN=n=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[_.jsx("path",{d:"m16 6 4 14"}),_.jsx("path",{d:"M12 6v14"}),_.jsx("path",{d:"M8 8v12"}),_.jsx("path",{d:"M4 4v16"})]}),nN=n=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[_.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),_.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),_.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),iN=n=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[_.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),oN=({onFileUpload:n,error:e,history:o,onLoadFromHistory:a,onClearHistory:c,onLogout:d})=>{const[p,g]=re.useState(!1),[y,h]=re.useState(!1),v=()=>{const G=Vn();return G?btoa(`${G.githubPAT}:::${G.geminiApiKey}`):""},C=()=>{const G=v();navigator.clipboard.writeText(G),alert("Quick login code copied! You can now paste this on another device to log in quickly.")},S=G=>{G.target.files&&G.target.files.length>0&&n(G.target.files[0])},M=re.useCallback(G=>{G.preventDefault(),G.stopPropagation(),g(!0)},[]),b=re.useCallback(G=>{G.preventDefault(),G.stopPropagation(),g(!1)},[]),q=re.useCallback(G=>{G.preventDefault(),G.stopPropagation()},[]),z=re.useCallback(G=>{G.preventDefault(),G.stopPropagation(),g(!1),G.dataTransfer.files&&G.dataTransfer.files.length>0&&(n(G.dataTransfer.files[0]),G.dataTransfer.clearData())},[n]);return _.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-900",children:[d&&_.jsxs("div",{className:"hidden md:flex absolute top-4 right-4 gap-2",children:[_.jsx("button",{onClick:C,className:"text-xs px-3 py-1 bg-amber-600/20 text-amber-400 hover:bg-amber-600/30 rounded transition-colors",title:"Copy quick login code",children:"Copy Login Code"}),_.jsx("button",{onClick:d,className:"text-sm text-gray-400 hover:text-amber-400 transition-colors",children:"Logout"})]}),_.jsxs("div",{className:"max-w-4xl w-full p-8 space-y-12",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"flex justify-center mb-6",children:_.jsx("img",{src:Ea,alt:"SAGA Logo",className:"w-24 h-24"})}),_.jsx("h1",{className:"text-5xl font-extrabold text-white sm:text-6xl md:text-7xl mb-3 tracking-wide",children:_.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-amber-400 via-orange-400 to-amber-500",children:"SAGA"})}),_.jsx("p",{className:"text-xl text-amber-400/80 mb-2 font-semibold tracking-wider",children:"Your Story Companion"}),_.jsxs("p",{className:"text-base text-gray-400 mb-8 max-w-lg mx-auto",children:["Upload a book as ",_.jsx("code",{className:"bg-gray-800/50 text-amber-400/90 rounded px-2 py-0.5 text-sm",children:".txt"})," or ",_.jsx("code",{className:"bg-gray-800/50 text-amber-400/90 rounded px-2 py-0.5 text-sm",children:".epub"})," to generate chapter summaries"]}),_.jsxs("label",{onDragEnter:M,onDragLeave:b,onDragOver:q,onDrop:z,className:`relative block w-full rounded-lg border-2 border-dashed p-12 text-center hover:border-amber-500/50 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 focus:ring-offset-gray-900 cursor-pointer transition-colors ${p?"border-amber-500 bg-gray-800/50":"border-gray-600"}`,children:[_.jsx(QR,{className:"mx-auto h-12 w-12 text-gray-500"}),_.jsx("span",{className:"mt-2 block text-sm font-medium text-gray-300",children:p?"Drop the file here":"Drag & Drop a file or click to upload"}),_.jsx("input",{id:"file-upload",name:"file-upload",type:"file",accept:".txt,.epub",className:"sr-only",onChange:S})]}),e&&_.jsxs("div",{className:"mt-6 bg-red-900/50 border border-red-700 text-red-300 px-4 py-3 rounded-lg relative",role:"alert",children:[_.jsx("strong",{className:"font-bold",children:"Oh no! "}),_.jsx("span",{className:"block sm:inline",children:e})]})]}),o.length>0&&_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(tN,{className:"w-8 h-8 text-amber-400"}),_.jsx("h2",{className:"text-3xl font-bold text-white",children:"My Library"})]}),_.jsxs("button",{onClick:c,className:"flex items-center gap-2 text-sm text-gray-400 hover:text-red-400 transition-colors",children:[_.jsx(eN,{className:"w-4 h-4"}),"Clear History"]})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(G=>_.jsxs("button",{onClick:()=>a(G.id),className:"bg-gray-800/50 p-4 rounded-lg text-left hover:bg-gray-700/50 transform hover:-translate-y-1 transition-all shadow-lg",children:[_.jsx("h3",{className:"font-bold text-lg text-gray-100 truncate",children:G.title}),_.jsxs("p",{className:"text-sm text-gray-400",children:[G.chapters.length," chapters"]})]},G.id))})]})]})]})},lN=({chapters:n,summarizedChapters:e,selectedIndex:o,onSelectChapter:a,processingChapterIndex:c})=>_.jsx("nav",{className:"flex-1 overflow-y-auto pr-2 -mr-2 space-y-1",children:n.map((d,p)=>{if(d==null)return null;const g=e[p]!==void 0,y=c===p,h=p===o;return _.jsxs("button",{onClick:()=>a(p),className:`w-full text-left flex items-center p-3 text-sm font-medium rounded-md transition-colors duration-150 ${h?"bg-gradient-to-r from-amber-600/30 to-orange-600/30 text-amber-100 border-l-2 border-amber-500":"text-gray-300 hover:bg-gray-700/50 hover:text-white"}`,children:[_.jsx("span",{className:"flex-1 truncate",children:d.title}),_.jsx("div",{className:"ml-3 w-5 h-5 flex-shrink-0 flex items-center justify-center",children:y?_.jsx("div",{className:"w-5 h-5 border-2 border-amber-400 border-t-transparent rounded-full animate-spin"}):g?_.jsx(XR,{className:"w-5 h-5 text-amber-500"}):null})]},p)})}),aN=()=>_.jsx("div",{className:"flex justify-center items-center",children:_.jsx("div",{className:"w-12 h-12 border-4 border-indigo-400 border-t-transparent rounded-full animate-spin"})}),sN=({chapter:n,summary:e,isProcessing:o,onPreviousChapter:a,onNextChapter:c,hasPrevious:d,hasNext:p})=>{const[g,y]=re.useState(!1),[h,v]=re.useState("medium"),[C,S]=re.useState("dark"),[M,b]=re.useState("serif"),[q,z]=re.useState(!1);if(!n)return _.jsx("div",{className:"flex items-center justify-center h-full",children:_.jsx("p",{className:"text-gray-400",children:"Select a chapter to view its summary."})});const G=e&&(e.bullets.length>0||e.quote),F={small:"text-sm md:text-base",medium:"text-base md:text-lg",large:"text-lg md:text-xl"},P={serif:"font-serif",sans:"font-sans",mono:"font-mono"},J={light:"bg-gray-100 text-gray-900",dark:"bg-gray-800/50 text-gray-300"};return _.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsx("h2",{className:"text-2xl md:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-orange-400 tracking-tight mb-4 pb-4 border-b-2 border-amber-900/30",children:n.title}),!G&&o&&_.jsxs("div",{className:"text-center bg-gray-800/50 p-12 rounded-lg mt-8",children:[_.jsx(aN,{}),_.jsx("p",{className:"text-lg text-gray-400 mt-4",children:"Generating summary..."})]}),!G&&!o&&_.jsxs("div",{className:"text-center bg-gray-800/50 p-12 rounded-lg mt-8",children:[_.jsx("p",{className:"text-lg text-gray-400 mt-4",children:"This chapter has not been summarized yet."}),_.jsx("p",{className:"text-sm text-gray-500",children:"Click its title in the sidebar to generate a summary."})]}),G&&_.jsxs("div",{className:"space-y-12 animate-fade-in",children:[e.bullets.length>0&&_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[_.jsx(ZR,{className:"w-6 h-6 md:w-7 md:h-7 text-amber-400"}),_.jsx("h3",{className:"text-xl md:text-2xl font-bold text-amber-100",children:"Summary"})]}),_.jsx("ul",{className:"space-y-3 list-disc list-inside text-base md:text-lg text-gray-300 pl-2",children:e.bullets.map(($,Q)=>_.jsx("li",{className:"leading-relaxed",children:$},Q))})]}),e.quote&&_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[_.jsx($R,{className:"w-6 h-6 md:w-7 md:h-7 text-amber-400"}),_.jsx("h3",{className:"text-xl md:text-2xl font-bold text-amber-100",children:"Key Quote"})]}),_.jsx("blockquote",{className:"relative p-4 md:p-6 bg-gradient-to-r from-amber-900/20 to-orange-900/20 border-l-4 border-amber-500 rounded-r-lg",children:_.jsxs("p",{className:"text-base md:text-xl italic text-amber-50 leading-relaxed",children:['"',e.quote,'"']})})]})]}),_.jsxs("div",{className:"mt-8 md:mt-12 pt-6 md:pt-8 border-t-2 border-amber-900/30",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4 flex-wrap gap-2",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(jR,{className:"w-6 h-6 md:w-7 md:h-7 text-amber-400"}),_.jsx("h3",{className:"text-xl md:text-2xl font-bold text-amber-100",children:"Full Chapter Text"})]}),_.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:_.jsx("button",{onClick:()=>y(!0),className:"text-xs md:text-sm px-3 py-1 bg-amber-600/20 text-amber-400 hover:bg-amber-600/30 rounded transition-colors",title:"Full screen reader",children:"Full Screen"})})]}),_.jsx("div",{className:`${J[C]} ${F[h]} ${P[M]} p-4 md:p-6 rounded-lg leading-relaxed whitespace-pre-wrap max-h-[60vh] overflow-y-auto`,children:n.content})]}),g&&_.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden flex flex-col",children:[_.jsx("button",{onClick:()=>z(!q),className:"fixed top-4 right-4 z-50 w-10 h-10 md:w-12 md:h-12 bg-gray-800/90 hover:bg-gray-700 text-amber-400 rounded-full shadow-lg flex items-center justify-center transition-all","aria-label":"Settings",children:_.jsxs("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),_.jsx("button",{onClick:()=>y(!1),className:"fixed top-4 left-4 z-50 w-10 h-10 md:w-12 md:h-12 bg-gray-800/90 hover:bg-red-600/90 text-gray-400 hover:text-white rounded-full shadow-lg flex items-center justify-center transition-all","aria-label":"Close",children:_.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),q&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>z(!1)}),_.jsxs("div",{className:"fixed top-0 right-0 h-full w-72 md:w-80 bg-gray-800 shadow-2xl z-50 p-6 overflow-y-auto",children:[_.jsxs("div",{className:"flex items-center justify-between mb-6",children:[_.jsx("h3",{className:"text-lg font-bold text-amber-400",children:"Reading Settings"}),_.jsx("button",{onClick:()=>z(!1),className:"text-gray-400 hover:text-white",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Font Size"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>v("small"),className:`flex-1 px-3 py-2 text-xs rounded ${h==="small"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"A"}),_.jsx("button",{onClick:()=>v("medium"),className:`flex-1 px-3 py-2 text-sm rounded ${h==="medium"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"A"}),_.jsx("button",{onClick:()=>v("large"),className:`flex-1 px-3 py-2 text-base rounded ${h==="large"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"A"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Theme"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>S("dark"),className:`flex-1 px-4 py-2 text-sm rounded ${C==="dark"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Night"}),_.jsx("button",{onClick:()=>S("light"),className:`flex-1 px-4 py-2 text-sm rounded ${C==="light"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Day"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Font Family"}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("button",{onClick:()=>b("serif"),className:`w-full px-4 py-2 text-sm rounded font-serif text-left ${M==="serif"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Serif"}),_.jsx("button",{onClick:()=>b("sans"),className:`w-full px-4 py-2 text-sm rounded font-sans text-left ${M==="sans"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sans Serif"}),_.jsx("button",{onClick:()=>b("mono"),className:`w-full px-4 py-2 text-sm rounded font-mono text-left ${M==="mono"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Monospace"})]})]})]})]})]}),d&&a&&_.jsx("button",{onClick:a,className:"md:hidden fixed bottom-20 left-4 z-50 w-12 h-12 bg-gray-800/90 hover:bg-gray-700 text-amber-400 rounded-full shadow-lg flex items-center justify-center transition-all","aria-label":"Previous Chapter",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),p&&c&&_.jsx("button",{onClick:c,className:"md:hidden fixed bottom-20 right-4 z-50 w-12 h-12 bg-gray-800/90 hover:bg-gray-700 text-amber-400 rounded-full shadow-lg flex items-center justify-center transition-all","aria-label":"Next Chapter",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),_.jsx("div",{className:"flex-1 overflow-y-auto",children:_.jsx("div",{className:`${J[C]} min-h-full`,children:_.jsx("div",{className:`max-w-4xl mx-auto p-6 md:p-12 ${F[h]} ${P[M]} leading-relaxed whitespace-pre-wrap`,children:n.content})})})]}),_.jsx("style",{children:`
          @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
          }
          .animate-fade-in {
            animation: fade-in 0.5s ease-out forwards;
          }
        `})]})};function uN(){const[n,e]=re.useState(!1),[o,a]=re.useState(null),[c,d]=re.useState([]),[p,g]=re.useState(!0),[y,h]=re.useState(null),[v,C]=re.useState({}),[S,M]=re.useState(null),[b,q]=re.useState(!1),[z,G]=re.useState(0),[F,P]=re.useState(null),[J,$]=re.useState(!1),Q=uh.useRef(null);re.useEffect(()=>((async()=>{const ie=wR();if(e(ie),ie)try{await oh();const A=await lh();d(A)}catch{P("Could not load library from GitHub Gist.")}g(!1)})(),()=>{Q.current!==null&&clearTimeout(Q.current)}),[]);const Y=re.useCallback(async(te,ie)=>{h(null),g(!0);try{IR({githubPAT:te,geminiApiKey:ie}),await oh();const A=await lh();d(A),e(!0)}catch(A){const k=A instanceof Error?A.message:"Failed to load library";h(k),ih()}finally{g(!1)}},[]),ae=re.useCallback(()=>{ih(),e(!1),a(null),d([]),P(null),h(null)},[]);re.useCallback(te=>{a(ie=>{if(!ie)return null;const A={...ie,...te};return Q.current!==null&&clearTimeout(Q.current),Q.current=window.setTimeout(()=>{ju(A).catch(k=>{console.error("Failed to update book in storage:",k),P("Could not save progress to GitHub Gist. Changes may be lost.")})},2e3),A})},[]);const j=re.useCallback(async te=>{P(null),g(!0);try{let ie,A=te.name;if(te.type==="text/plain"){const ne=await te.text();ie=Nv(ne),A=Rv(ne)}else if(te.name.endsWith(".epub")){const ne=await te.arrayBuffer(),ue=await Dv(ne);ie=ue.chapters,A=ue.title}else throw new Error("Unsupported file type. Please use .txt or .epub.");if(ie.length===0)throw new Error("Could not find any chapters in the uploaded file.");const k={title:A,chapters:ie,summaries:{},images:{},lastAccessed:Date.now()},O=await YR(k),X={...k,id:O};a(X),d(ne=>[X,...ne.filter(ue=>ue.id!==O)]),G(0),C({})}catch(ie){const A=ie instanceof Error?ie.message:"An unknown error occurred.";P(A)}finally{g(!1)}},[]),de=re.useCallback(async te=>{P(null),g(!0);try{const ie=await JR(te);ie?(ie.lastAccessed=Date.now(),await ju(ie),a(ie),G(0),C({}),d(A=>{const k=A.filter(O=>O.id!==te);return[ie,...k]})):P("Could not load the selected book from history.")}finally{g(!1)}},[]),Se=re.useCallback(async()=>{window.confirm("Are you sure you want to delete all your books from GitHub Gist? This action cannot be undone.")&&(await OR(),d([]))},[]),pe=re.useCallback(()=>{a(null),P(null)},[]),qe=re.useCallback(async te=>{if(!o||o.summaries[te]||S===te)return;const ie=o.chapters[te];if(ie){M(te),P(null),C(A=>({...A,[te]:{bullets:[],quote:""}}));try{const A=await kR(ie.content);let k="",O=null;for await(const X of A){k+=X.text;const ne={bullets:[],quote:""};k.split(`
`).forEach(he=>{if(he.startsWith("BULLET: "))ne.bullets.push(he.substring(8).trim());else if(he.startsWith("QUOTE: ")){let Ve=he.substring(7).trim();for(;Ve.startsWith('"')&&Ve.endsWith('"')||Ve.startsWith("'")&&Ve.endsWith("'");)Ve=Ve.substring(1,Ve.length-1).trim();ne.quote=Ve}}),O=ne,C(he=>({...he,[te]:O}))}O&&a(X=>{if(!X)return null;const ne={...X,summaries:{...X.summaries,[te]:O}};return Q.current!==null&&clearTimeout(Q.current),Q.current=window.setTimeout(()=>{ju(ne).catch(ue=>{console.error("Failed to update book in storage:",ue),P("Could not save progress to GitHub Gist. Changes may be lost.")})},2e3),ne})}catch(A){const k=A instanceof Error?A.message:"An unknown error occurred.";P(`Failed to summarize chapter: ${ie.title}. ${k}`)}finally{M(A=>A===te?null:A)}}},[o,S]),tt=re.useCallback(async te=>{G(te),$(!1),await qe(te)},[qe]),nt=re.useCallback(async()=>{if(!o)return;q(!0);const te=[];for(let A=0;A<o.chapters.length;A++)o.summaries[A]||te.push(A);if(te.length===0){q(!1);return}const ie=te.slice(0,5);for(const A of ie)await qe(A);q(!1)},[o,qe]),L=re.useMemo(()=>o==null?void 0:o.chapters[z],[o,z]),K=re.useMemo(()=>(o==null?void 0:o.summaries[z])||v[z],[o,v,z]),se=re.useMemo(()=>S===z,[S,z]);return p?_.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-900 text-white gap-4",children:[_.jsx(WR,{className:"w-12 h-12 text-amber-400 animate-spin"}),_.jsx("p",{className:"text-gray-400",children:"Loading..."})]}):n?o?_.jsxs("div",{className:"flex flex-col md:flex-row h-screen font-sans bg-gray-900 text-gray-100",children:[_.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-gray-800/50 border-b border-amber-900/20",children:[_.jsx("button",{onClick:()=>$(!0),className:"p-2 text-amber-400 hover:text-amber-300","aria-label":"Open menu",children:_.jsx(nN,{className:"w-6 h-6"})}),_.jsx("h1",{className:"text-lg font-bold text-amber-400/90 truncate flex-1 mx-4",title:o.title,children:o.title}),_.jsx("button",{onClick:pe,className:"p-2 text-gray-400 hover:text-amber-400","aria-label":"Back to library",children:_.jsx(ah,{className:"w-6 h-6"})})]}),_.jsxs("aside",{className:`
        ${J?"translate-x-0":"-translate-x-full"}
        md:translate-x-0
        fixed md:relative
        inset-y-0 left-0
        z-50
        w-80 md:w-1/4 md:min-w-[300px] md:max-w-[400px]
        bg-gray-800/95 md:bg-gray-800/50
        border-r border-amber-900/20
        flex flex-col p-4
        transition-transform duration-300 ease-in-out
      `,children:[_.jsxs("div",{className:"hidden md:flex items-start justify-between gap-3 mb-4 p-2",children:[_.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[_.jsx("img",{src:Ea,alt:"SAGA Logo",className:"w-10 h-10 flex-shrink-0"}),_.jsx("h1",{className:"text-xl font-bold tracking-tight text-amber-400/90 break-words",title:o.title,children:o.title})]}),_.jsx("button",{onClick:pe,className:"p-1 flex-shrink-0 text-gray-400 hover:text-amber-400 transition-colors","aria-label":"Back to library",children:_.jsx(ah,{className:"w-6 h-6"})})]}),_.jsxs("div",{className:"md:hidden flex items-center justify-between mb-4 p-2",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("img",{src:Ea,alt:"SAGA Logo",className:"w-10 h-10"}),_.jsx("h2",{className:"text-lg font-bold text-amber-400/90",children:"Chapters"})]}),_.jsx("button",{onClick:()=>$(!1),className:"p-2 text-gray-400 hover:text-amber-400","aria-label":"Close menu",children:_.jsx(iN,{className:"w-6 h-6"})})]}),_.jsx(lN,{chapters:o.chapters,summarizedChapters:o.summaries,selectedIndex:z,onSelectChapter:tt,processingChapterIndex:S}),_.jsxs("div",{className:"mt-auto pt-4 border-t border-amber-900/20 space-y-2",children:[_.jsx("button",{onClick:nt,disabled:b||Object.keys(o.summaries).length===o.chapters.length,className:"w-full bg-gradient-to-r from-amber-600 to-orange-600 text-white font-bold py-2 px-4 rounded-md hover:from-amber-700 hover:to-orange-700 transition-all disabled:bg-gray-600 disabled:cursor-not-allowed disabled:opacity-50 shadow-lg",children:b?"Processing...":"Summarize Next 5"}),_.jsxs("p",{className:"text-sm text-center text-gray-400",children:[Object.keys(o.summaries).length," / ",o.chapters.length," chapters summarized"]}),F&&_.jsx("p",{className:"text-red-400 text-sm mt-2 text-center px-2",children:F}),_.jsx("button",{onClick:ae,className:"w-full text-sm text-gray-400 hover:text-amber-400 transition-colors py-2",children:"Logout"})]})]}),J&&_.jsx("div",{className:"md:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>$(!1)}),_.jsx("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto",children:_.jsx(sN,{chapter:L,summary:K,isProcessing:se,onPreviousChapter:()=>{z>0&&tt(z-1)},onNextChapter:()=>{o&&z<o.chapters.length-1&&tt(z+1)},hasPrevious:z>0,hasNext:o?z<o.chapters.length-1:!1})})]}):_.jsx(oN,{onFileUpload:j,error:F,history:c,onLoadFromHistory:de,onClearHistory:Se,onLogout:ae}):_.jsx(KR,{onLogin:Y,error:y})}const Yh=document.getElementById("root");if(!Yh)throw new Error("Could not find root element to mount to");const rN=xv.createRoot(Yh);rN.render(_.jsx(uh.StrictMode,{children:_.jsx(uN,{})}));
