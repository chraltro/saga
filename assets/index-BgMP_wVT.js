const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/firebase-auth-BNvlAL8s.js","assets/react-vendor-B_uAldPx.js","assets/FileUploadScreen-DOk_44CQ.js","assets/SummaryDisplay-0yShPbHw.js","assets/ChatBot-Bs_Chdmd.js","assets/markdown-BVW4aYY-.js"])))=>i.map(i=>d[i]);
import{initializeApp as e}from"https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";import{signInWithPopup as t,GoogleAuthProvider as n,getAuth as r}from"https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";import{setDoc as o,getDoc as i,doc as l,getFirestore as a}from"https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";import{r as s,g as u,a as c}from"./react-vendor-B_uAldPx.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}(),window.__firebaseImports={initializeApp:e,getAuth:r,GoogleAuthProvider:n,signInWithPopup:t,getFirestore:a,doc:l,getDoc:i,setDoc:o};var d,p,f={exports:{}},h={};var m=(p||(p=1,f.exports=function(){if(d)return h;d=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==n.key&&(o=""+n.key),"key"in n)for(var i in r={},n)"key"!==i&&(r[i]=n[i]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:o,ref:void 0!==n?n:null,props:r}}return h.Fragment=t,h.jsx=n,h.jsxs=n,h}()),f.exports),g=s();const y=u(g);var v,b,E,S,w={exports:{}},C={},T={exports:{}},_={};function k(){return b||(b=1,T.exports=(v||(v=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,l=i>>>1;r<l;){var a=2*(r+1)-1,s=e[a],u=a+1,c=e[u];if(0>o(s,n))u<i&&0>o(c,s)?(e[r]=c,e[u]=n,r=u):(e[r]=s,e[a]=n,r=a);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,a=l.now();e.unstable_now=function(){return l.now()-a}}var s=[],u=[],c=1,d=null,p=3,f=!1,h=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function E(e){for(var o=n(u);null!==o;){if(null===o.callback)r(u);else{if(!(o.startTime<=e))break;r(u),o.sortIndex=o.expirationTime,t(s,o)}o=n(u)}}function S(e){if(m=!1,E(e),!h)if(null!==n(s))h=!0,C||(C=!0,w());else{var t=n(u);null!==t&&N(S,t.startTime-e)}}var w,C=!1,T=-1,_=5,k=-1;function A(){return!(!g&&e.unstable_now()-k<_)}function I(){if(g=!1,C){var t=e.unstable_now();k=t;var o=!0;try{e:{h=!1,m&&(m=!1,v(T),T=-1),f=!0;var i=p;try{t:{for(E(t),d=n(s);null!==d&&!(d.expirationTime>t&&A());){var l=d.callback;if("function"==typeof l){d.callback=null,p=d.priorityLevel;var a=l(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof a){d.callback=a,E(t),o=!0;break t}d===n(s)&&r(s),E(t)}else r(s);d=n(s)}if(null!==d)o=!0;else{var c=n(u);null!==c&&N(S,c.startTime-t),o=!1}}break e}finally{d=null,p=i,f=!1}o=void 0}}finally{o?w():C=!1}}}if("function"==typeof b)w=function(){b(I)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,x=O.port2;O.port1.onmessage=I,w=function(){x.postMessage(null)}}else w=function(){y(I,0)};function N(t,n){T=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(_=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_scheduleCallback=function(r,o,i){var l=e.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?l+i:l,r){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return r={id:c++,callback:o,priorityLevel:r,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>l?(r.sortIndex=i,t(u,r),null===n(s)&&r===n(u)&&(m?(v(T),T=-1):m=!0,N(S,i-l))):(r.sortIndex=a,t(s,r),h||f||(h=!0,C||(C=!0,w()))),r},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}}(_)),_)),T.exports}
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function A(){if(E)return C;E=1;var e=k(),t=s(),n=c();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function i(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function a(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(i(e)!==e)throw Error(r(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var p=Object.assign,f=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),S=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=N&&e[N]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function M(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case T:return"Suspense";case _:return"SuspenseList";case O:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case m:return"Portal";case S:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:M(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return M(e(t))}catch(n){}}return null}var D=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},F=[],q=-1;function z(e){return{current:e}}function H(e){0>q||(e.current=F[q],F[q]=null,q--)}function G(e,t){q++,F[q]=e.current,e.current=t}var V,B,J=z(null),W=z(null),$=z(null),Y=z(null);function K(e,t){switch(G($,t),G(W,e),G(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=Ed(t=bd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(J),G(J,e)}function Q(){H(J),H(W),H($)}function X(e){null!==e.memoizedState&&G(Y,e);var t=J.current,n=Ed(t,e.type);t!==n&&(G(W,e),G(J,n))}function Z(e){W.current===e&&(H(J),H(W)),Y.current===e&&(H(Y),pp._currentValue=j)}function ee(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||"",B=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+V+e+B}var te=!1;function ne(e,t){if(!e||te)return"";te=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(l){r=l}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"==typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),l=i[0],a=i[1];if(l&&a){var s=l.split("\n"),u=a.split("\n");for(o=r=0;r<s.length&&!s[r].includes("DetermineComponentFrameRoot");)r++;for(;o<u.length&&!u[o].includes("DetermineComponentFrameRoot");)o++;if(r===s.length||o===u.length)for(r=s.length-1,o=u.length-1;1<=r&&0<=o&&s[r]!==u[o];)o--;for(;1<=r&&0<=o;r--,o--)if(s[r]!==u[o]){if(1!==r||1!==o)do{if(r--,0>--o||s[r]!==u[o]){var c="\n"+s[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=o);break}}}finally{te=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ee(n):""}function re(e,t){switch(e.tag){case 26:case 27:case 5:return ee(e.type);case 16:return ee("Lazy");case 13:return e.child!==t&&null!==t?ee("Suspense Fallback"):ee("Suspense");case 19:return ee("SuspenseList");case 0:case 15:return ne(e.type,!1);case 11:return ne(e.type.render,!1);case 1:return ne(e.type,!0);case 31:return ee("Activity");default:return""}}function oe(e){try{var t="",n=null;do{t+=re(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var ie=Object.prototype.hasOwnProperty,le=e.unstable_scheduleCallback,ae=e.unstable_cancelCallback,se=e.unstable_shouldYield,ue=e.unstable_requestPaint,ce=e.unstable_now,de=e.unstable_getCurrentPriorityLevel,pe=e.unstable_ImmediatePriority,fe=e.unstable_UserBlockingPriority,he=e.unstable_NormalPriority,me=e.unstable_LowPriority,ge=e.unstable_IdlePriority,ye=e.log,ve=e.unstable_setDisableYieldValue,be=null,Ee=null;function Se(e){if("function"==typeof ye&&ve(e),Ee&&"function"==typeof Ee.setStrictMode)try{Ee.setStrictMode(be,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Ce(e)/Te|0)|0},Ce=Math.log,Te=Math.LN2;var _e=256,ke=262144,Ae=4194304;function Ie(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Oe(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,i=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~i)?o=Ie(r):0!==(l&=a)?o=Ie(l):n||0!==(n=a&~e)&&(o=Ie(n)):0!==(a=r&~i)?o=Ie(a):0!==l?o=Ie(l):n||0!==(n=r&~e)&&(o=Ie(n)),0===o?0:0!==t&&t!==o&&0===(t&i)&&((i=o&-o)>=(n=t&-t)||32===i&&4194048&n)?t:o}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ne(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=Ae;return!(62914560&(Ae<<=1))&&(Ae=4194304),e}function Re(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Me(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function De(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Le(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Ue(e,t){var n=t&-t;return 0!==((n=42&n?1:je(n))&(e.suspendedLanes|t))?0:n}function je(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fe(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function qe(){var e=U.p;return 0!==e?e:void 0===(e=window.event)?32:Ip(e.type)}function ze(e,t){var n=U.p;try{return U.p=e,t()}finally{U.p=n}}var He=Math.random().toString(36).slice(2),Ge="__reactFiber$"+He,Ve="__reactProps$"+He,Be="__reactContainer$"+He,Je="__reactEvents$"+He,We="__reactListeners$"+He,$e="__reactHandles$"+He,Ye="__reactResources$"+He,Ke="__reactMarker$"+He;function Qe(e){delete e[Ge],delete e[Ve],delete e[Je],delete e[We],delete e[$e]}function Xe(e){var t=e[Ge];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Be]||n[Ge]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=jd(e);null!==e;){if(n=e[Ge])return n;e=jd(e)}return t}n=(e=n).parentNode}return null}function Ze(e){if(e=e[Ge]||e[Be]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function et(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function tt(e){var t=e[Ye];return t||(t=e[Ye]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[Ke]=!0}var rt=new Set,ot={};function it(e,t){lt(e,t),lt(e+"Capture",t)}function lt(e,t){for(ot[e]=t,e=0;e<t.length;e++)rt.add(t[e])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},ut={};function ct(e,t,n){if(o=t,ie.call(ut,o)||!ie.call(st,o)&&(at.test(o)?ut[o]=!0:(st[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function dt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function pt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function mt(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function gt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function yt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var vt=/[\n"\\]/g;function bt(e){return e.replace(vt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Et(e,t,n,r,o,i,l,a){e.name="",null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ft(t)):e.value!==""+ft(t)&&(e.value=""+ft(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?wt(e,l,ft(t)):null!=n?wt(e,l,ft(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!=typeof o&&"symbol"!=typeof o),null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.name=""+ft(a):e.removeAttribute("name")}function St(e,t,n,r,o,i,l,a){if(null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.type=i),null!=t||null!=n){if(("submit"===i||"reset"===i)&&null==t)return void mt(e);n=null!=n?""+ft(n):"",t=null!=t?""+ft(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:o)&&"symbol"!=typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l&&(e.name=l),mt(e)}function wt(e,t,n){"number"===t&&yt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ct(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ft(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Tt(e,t,n){null==t||((t=""+ft(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ft(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function _t(e,t,n,o){if(null==t){if(null!=o){if(null!=n)throw Error(r(92));if(D(o)){if(1<o.length)throw Error(r(93));o=o[0]}n=o}null==n&&(n=""),t=n}n=ft(t),e.defaultValue=n,(o=e.textContent)===n&&""!==o&&null!==o&&(e.value=o),mt(e)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var At=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function It(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||At.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ot(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var o in n)!n.hasOwnProperty(o)||null!=t&&t.hasOwnProperty(o)||(0===o.indexOf("--")?e.setProperty(o,""):"float"===o?e.cssFloat="":e[o]="");for(var i in t)o=t[i],t.hasOwnProperty(i)&&n[i]!==o&&It(e,i,o)}else for(var l in t)t.hasOwnProperty(l)&&It(e,l,t[l])}function xt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Mt(){}var Dt=null;function Lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ut=null,jt=null;function Ft(e){var t=Ze(e);if(t&&(e=t.stateNode)){var n=e[Ve]||null;e:switch(e=t.stateNode,t.type){case"input":if(Et(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+bt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var i=o[Ve]||null;if(!i)throw Error(r(90));Et(o,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(o=n[t]).form===e.form&&gt(o)}break e;case"textarea":Tt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&Ct(e,!!n.multiple,t,!1)}}}var qt=!1;function zt(e,t,n){if(qt)return e(t,n);qt=!0;try{return e(t)}finally{if(qt=!1,(null!==Ut||null!==jt)&&(tc(),Ut&&(t=Ut,e=jt,jt=Ut=null,Ft(t),e)))for(t=0;t<e.length;t++)Ft(e[t])}}function Ht(e,t){var n=e.stateNode;if(null===n)return null;var o=n[Ve]||null;if(null===o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Gt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Vt=!1;if(Gt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Zp){Vt=!1}var Jt=null,Wt=null,$t=null;function Yt(){if($t)return $t;var e,t,n=Wt,r=n.length,o="value"in Jt?Jt.value:Jt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===o[i-t];t++);return $t=o.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Qt(){return!0}function Xt(){return!1}function Zt(e){function t(t,n,r,o,i){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(o):o[l]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Qt:Xt,this.isPropagationStopped=Xt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qt)},persist:function(){},isPersistent:Qt}),t}var en,tn,nn,rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},on=Zt(rn),ln=p({},rn,{view:0,detail:0}),an=Zt(ln),sn=p({},ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nn&&(nn&&"mousemove"===e.type?(en=e.screenX-nn.screenX,tn=e.screenY-nn.screenY):tn=en=0,nn=e),en)},movementY:function(e){return"movementY"in e?e.movementY:tn}}),un=Zt(sn),cn=Zt(p({},sn,{dataTransfer:0})),dn=Zt(p({},ln,{relatedTarget:0})),pn=Zt(p({},rn,{animationName:0,elapsedTime:0,pseudoElement:0})),fn=Zt(p({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Zt(p({},rn,{data:0})),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=yn[e])&&!!t[e]}function bn(){return vn}var En=Zt(p({},ln,{key:function(e){if(e.key){var t=mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?gn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Sn=Zt(p({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=Zt(p({},ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn})),Cn=Zt(p({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=Zt(p({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),_n=Zt(p({},rn,{newState:0,oldState:0})),kn=[9,13,27,32],An=Gt&&"CompositionEvent"in window,In=null;Gt&&"documentMode"in document&&(In=document.documentMode);var On=Gt&&"TextEvent"in window&&!In,xn=Gt&&(!An||In&&8<In&&11>=In),Nn=String.fromCharCode(32),Pn=!1;function Rn(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Dn=!1;var Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ln[e.type]:"textarea"===t}function jn(e,t,n,r){Ut?jt?jt.push(r):jt=[r]:Ut=r,0<(t=id(t,"onChange")).length&&(n=new on("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fn=null,qn=null;function zn(e){Qc(e,0)}function Hn(e){if(gt(et(e)))return e}function Gn(e,t){if("change"===e)return t}var Vn=!1;if(Gt){var Bn;if(Gt){var Jn="oninput"in document;if(!Jn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),Jn="function"==typeof Wn.oninput}Bn=Jn}else Bn=!1;Vn=Bn&&(!document.documentMode||9<document.documentMode)}function $n(){Fn&&(Fn.detachEvent("onpropertychange",Yn),qn=Fn=null)}function Yn(e){if("value"===e.propertyName&&Hn(qn)){var t=[];jn(t,qn,e,Lt(e)),zt(zn,t)}}function Kn(e,t,n){"focusin"===e?($n(),qn=n,(Fn=t).attachEvent("onpropertychange",Yn)):"focusout"===e&&$n()}function Qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Hn(qn)}function Xn(e,t){if("click"===e)return Hn(t)}function Zn(e,t){if("input"===e||"change"===e)return Hn(t)}var er="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function tr(e,t){if(er(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ie.call(t,o)||!er(e[o],t[o]))return!1}return!0}function nr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rr(e,t){var n,r=nr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nr(r)}}function or(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?or(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ir(e){for(var t=yt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=yt((e=t.contentWindow).document)}return t}function lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ar=Gt&&"documentMode"in document&&11>=document.documentMode,sr=null,ur=null,cr=null,dr=!1;function pr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;dr||null==sr||sr!==yt(r)||("selectionStart"in(r=sr)&&lr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},cr&&tr(cr,r)||(cr=r,0<(r=id(ur,"onSelect")).length&&(t=new on("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function fr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:fr("Animation","AnimationEnd"),animationiteration:fr("Animation","AnimationIteration"),animationstart:fr("Animation","AnimationStart"),transitionrun:fr("Transition","TransitionRun"),transitionstart:fr("Transition","TransitionStart"),transitioncancel:fr("Transition","TransitionCancel"),transitionend:fr("Transition","TransitionEnd")},mr={},gr={};function yr(e){if(mr[e])return mr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in gr)return mr[e]=n[t];return e}Gt&&(gr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var vr=yr("animationend"),br=yr("animationiteration"),Er=yr("animationstart"),Sr=yr("transitionrun"),wr=yr("transitionstart"),Cr=yr("transitioncancel"),Tr=yr("transitionend"),_r=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){_r.set(e,t),it(t,[e])}kr.push("scrollEnd");var Ir="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},Or=[],xr=0,Nr=0;function Pr(){for(var e=xr,t=Nr=xr=0;t<e;){var n=Or[t];Or[t++]=null;var r=Or[t];Or[t++]=null;var o=Or[t];Or[t++]=null;var i=Or[t];if(Or[t++]=null,null!==r&&null!==o){var l=r.pending;null===l?o.next=o:(o.next=l.next,l.next=o),r.pending=o}0!==i&&Lr(n,o,i)}}function Rr(e,t,n,r){Or[xr++]=e,Or[xr++]=t,Or[xr++]=n,Or[xr++]=r,Nr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Mr(e,t,n,r){return Rr(e,t,n,r),Ur(e)}function Dr(e,t){return Rr(e,null,null,t),Ur(e)}function Lr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,o&&null!==t&&(o=31-we(n),null===(r=(e=i.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),i):null}function Ur(e){if(50<Ju)throw Ju=0,Wu=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var jr={};function Fr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(e,t,n,r){return new Fr(e,t,n,r)}function zr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hr(e,t){var n=e.alternate;return null===n?((n=qr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Gr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,o,i,l){var a=0;if(o=e,"function"==typeof e)zr(e)&&(a=1);else if("string"==typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,J.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case O:return(e=qr(31,n,t,i)).elementType=O,e.lanes=l,e;case g:return Br(n.children,i,l,t);case y:a=8,i|=24;break;case v:return(e=qr(12,n,t,2|i)).elementType=v,e.lanes=l,e;case T:return(e=qr(13,n,t,i)).elementType=T,e.lanes=l,e;case _:return(e=qr(19,n,t,i)).elementType=_,e.lanes=l,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case S:a=10;break e;case b:a=9;break e;case w:a=11;break e;case A:a=14;break e;case I:a=16,o=null;break e}a=29,n=Error(r(130,null===e?"null":typeof e,"")),o=null}return(t=qr(a,n,t,i)).elementType=e,t.type=o,t.lanes=l,t}function Br(e,t,n,r){return(e=qr(7,e,r,t)).lanes=n,e}function Jr(e,t,n){return(e=qr(6,e,null,t)).lanes=n,e}function Wr(e){var t=qr(18,null,null,0);return t.stateNode=e,t}function $r(e,t,n){return(t=qr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Yr=new WeakMap;function Kr(e,t){if("object"==typeof e&&null!==e){var n=Yr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:oe(t)},Yr.set(e,t),t)}return{value:e,source:t,stack:oe(t)}}var Qr=[],Xr=0,Zr=null,eo=0,to=[],no=0,ro=null,oo=1,io="";function lo(e,t){Qr[Xr++]=eo,Qr[Xr++]=Zr,Zr=e,eo=t}function ao(e,t,n){to[no++]=oo,to[no++]=io,to[no++]=ro,ro=e;var r=oo;e=io;var o=32-we(r)-1;r&=~(1<<o),n+=1;var i=32-we(t)+o;if(30<i){var l=o-o%5;i=(r&(1<<l)-1).toString(32),r>>=l,o-=l,oo=1<<32-we(t)+o|n<<o|r,io=i+e}else oo=1<<i|n<<o|r,io=e}function so(e){null!==e.return&&(lo(e,1),ao(e,1,0))}function uo(e){for(;e===Zr;)Zr=Qr[--Xr],Qr[Xr]=null,eo=Qr[--Xr],Qr[Xr]=null;for(;e===ro;)ro=to[--no],to[no]=null,io=to[--no],to[no]=null,oo=to[--no],to[no]=null}function co(e,t){to[no++]=oo,to[no++]=io,to[no++]=ro,oo=t.id,io=t.overflow,ro=e}var po=null,fo=null,ho=!1,mo=null,go=!1,yo=Error(r(519));function vo(e){throw To(Kr(Error(r(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),yo}function bo(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ge]=e,t[Ve]=r,n){case"dialog":Xc("cancel",t),Xc("close",t);break;case"iframe":case"object":case"embed":Xc("load",t);break;case"video":case"audio":for(n=0;n<Yc.length;n++)Xc(Yc[n],t);break;case"source":Xc("error",t);break;case"img":case"image":case"link":Xc("error",t),Xc("load",t);break;case"details":Xc("toggle",t);break;case"input":Xc("invalid",t),St(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Xc("invalid",t);break;case"textarea":Xc("invalid",t),_t(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||dd(t.textContent,n)?(null!=r.popover&&(Xc("beforetoggle",t),Xc("toggle",t)),null!=r.onScroll&&Xc("scroll",t),null!=r.onScrollEnd&&Xc("scrollend",t),null!=r.onClick&&(t.onclick=Mt),t=!0):t=!1,t||vo(e,!0)}function Eo(e){for(po=e.return;po;)switch(po.tag){case 5:case 31:case 13:return void(go=!1);case 27:case 3:return void(go=!0);default:po=po.return}}function So(e){if(e!==po)return!1;if(!ho)return Eo(e),ho=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Sd(e.type,e.memoizedProps)),t=!t),t&&fo&&vo(e),Eo(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));fo=Ud(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));fo=Ud(e)}else 27===n?(n=fo,Id(e.type)?(e=Ld,Ld=null,fo=e):fo=n):fo=po?Dd(e.stateNode.nextSibling):null;return!0}function wo(){fo=po=null,ho=!1}function Co(){var e=mo;return null!==e&&(null===Pu?Pu=e:Pu.push.apply(Pu,e),mo=null),e}function To(e){null===mo?mo=[e]:mo.push(e)}var _o=z(null),ko=null,Ao=null;function Io(e,t,n){G(_o,t._currentValue),t._currentValue=n}function Oo(e){e._currentValue=_o.current,H(_o)}function xo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function No(e,t,n,o){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var l=i.dependencies;if(null!==l){var a=i.child;l=l.firstContext;e:for(;null!==l;){var s=l;l=i;for(var u=0;u<t.length;u++)if(s.context===t[u]){l.lanes|=n,null!==(s=l.alternate)&&(s.lanes|=n),xo(l.return,n,e),o||(a=null);break e}l=s.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(r(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),xo(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Po(e,t,n,o){e=null;for(var i=t,l=!1;null!==i;){if(!l)if(524288&i.flags)l=!0;else if(262144&i.flags)break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(r(387));if(null!==(a=a.memoizedProps)){var s=i.type;er(i.pendingProps.value,a.value)||(null!==e?e.push(s):e=[s])}}else if(i===Y.current){if(null===(a=i.alternate))throw Error(r(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(pp):e=[pp])}i=i.return}null!==e&&No(t,e,n,o),t.flags|=262144}function Ro(e){for(e=e.firstContext;null!==e;){if(!er(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mo(e){ko=e,Ao=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Do(e){return Uo(ko,e)}function Lo(e,t){return null===ko&&Mo(e),Uo(e,t)}function Uo(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ao){if(null===e)throw Error(r(308));Ao=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ao=Ao.next=t;return n}var jo="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Fo=e.unstable_scheduleCallback,qo=e.unstable_NormalPriority,zo={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ho(){return{controller:new jo,data:new Map,refCount:0}}function Go(e){e.refCount--,0===e.refCount&&Fo(qo,function(){e.controller.abort()})}var Vo=null,Bo=0,Jo=0,Wo=null;function $o(){if(0===--Bo&&null!==Vo){null!==Wo&&(Wo.status="fulfilled");var e=Vo;Vo=null,Jo=0,Wo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Yo=L.S;L.S=function(e,t){Du=ce(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Vo){var n=Vo=[];Bo=0,Jo=Vc(),Wo={status:"pending",value:void 0,then:function(e){n.push(e)}}}Bo++,t.then($o,$o)}(0,t),null!==Yo&&Yo(e,t)};var Ko=z(null);function Qo(){var e=Ko.current;return null!==e?e:gu.pooledCache}function Xo(e,t){G(Ko,null===t?Ko.current:t.pool)}function Zo(){var e=Qo();return null===e?null:{parent:zo._currentValue,pool:e}}var ei=Error(r(460)),ti=Error(r(474)),ni=Error(r(542)),ri={then:function(){}};function oi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ii(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Mt,Mt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ui(e=t.reason),e;default:if("string"==typeof t.status)t.then(Mt,Mt);else{if(null!==(e=gu)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ui(e=t.reason),e}throw ai=t,ei}}function li(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw ai=t,ei;throw t}}var ai=null;function si(){if(null===ai)throw Error(r(459));var e=ai;return ai=null,e}function ui(e){if(e===ei||e===ni)throw Error(r(483))}var ci=null,di=0;function pi(e){var t=di;return di+=1,null===ci&&(ci=[]),ii(ci,e,t)}function fi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function hi(e,t){if(t.$$typeof===f)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function o(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Hr(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Jr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===I&&li(o)===t.type)?(fi(t=i(t,n.props),n),t.return=e,t):(fi(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$r(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Br(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Jr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case h:return fi(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=$r(t,e.mode,n)).return=e,t;case I:return p(e,t=li(t),n)}if(D(t)||P(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return p(e,pi(t),n);if(t.$$typeof===S)return p(e,Lo(e,t),n);hi(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==o?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case h:return n.key===o?u(e,t,n,r):null;case m:return n.key===o?c(e,t,n,r):null;case I:return f(e,t,n=li(n),r)}if(D(n)||P(n))return null!==o?null:d(e,t,n,r,null);if("function"==typeof n.then)return f(e,t,pi(n),r);if(n.$$typeof===S)return f(e,t,Lo(e,n),r);hi(e,n)}return null}function y(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return s(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case h:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case I:return y(e,t,n,r=li(r),o)}if(D(r)||P(r))return d(t,e=e.get(n)||null,r,o,null);if("function"==typeof r.then)return y(e,t,n,pi(r),o);if(r.$$typeof===S)return y(e,t,n,Lo(t,r),o);hi(t,r)}return null}function v(s,u,c,d){if("object"==typeof c&&null!==c&&c.type===g&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case h:e:{for(var b=c.key;null!==u;){if(u.key===b){if((b=c.type)===g){if(7===u.tag){n(s,u.sibling),(d=i(u,c.props.children)).return=s,s=d;break e}}else if(u.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===I&&li(b)===u.type){n(s,u.sibling),fi(d=i(u,c.props),c),d.return=s,s=d;break e}n(s,u);break}t(s,u),u=u.sibling}c.type===g?((d=Br(c.props.children,s.mode,d,c.key)).return=s,s=d):(fi(d=Vr(c.type,c.key,c.props,null,s.mode,d),c),d.return=s,s=d)}return a(s);case m:e:{for(b=c.key;null!==u;){if(u.key===b){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(s,u.sibling),(d=i(u,c.children||[])).return=s,s=d;break e}n(s,u);break}t(s,u),u=u.sibling}(d=$r(c,s.mode,d)).return=s,s=d}return a(s);case I:return v(s,u,c=li(c),d)}if(D(c))return function(r,i,a,s){for(var u=null,c=null,d=i,h=i=0,m=null;null!==d&&h<a.length;h++){d.index>h?(m=d,d=null):m=d.sibling;var g=f(r,d,a[h],s);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(r,d),i=l(g,i,h),null===c?u=g:c.sibling=g,c=g,d=m}if(h===a.length)return n(r,d),ho&&lo(r,h),u;if(null===d){for(;h<a.length;h++)null!==(d=p(r,a[h],s))&&(i=l(d,i,h),null===c?u=d:c.sibling=d,c=d);return ho&&lo(r,h),u}for(d=o(d);h<a.length;h++)null!==(m=y(d,r,h,a[h],s))&&(e&&null!==m.alternate&&d.delete(null===m.key?h:m.key),i=l(m,i,h),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach(function(e){return t(r,e)}),ho&&lo(r,h),u}(s,u,c,d);if(P(c)){if("function"!=typeof(b=P(c)))throw Error(r(150));return function(i,a,s,u){if(null==s)throw Error(r(151));for(var c=null,d=null,h=a,m=a=0,g=null,v=s.next();null!==h&&!v.done;m++,v=s.next()){h.index>m?(g=h,h=null):g=h.sibling;var b=f(i,h,v.value,u);if(null===b){null===h&&(h=g);break}e&&h&&null===b.alternate&&t(i,h),a=l(b,a,m),null===d?c=b:d.sibling=b,d=b,h=g}if(v.done)return n(i,h),ho&&lo(i,m),c;if(null===h){for(;!v.done;m++,v=s.next())null!==(v=p(i,v.value,u))&&(a=l(v,a,m),null===d?c=v:d.sibling=v,d=v);return ho&&lo(i,m),c}for(h=o(h);!v.done;m++,v=s.next())null!==(v=y(h,i,m,v.value,u))&&(e&&null!==v.alternate&&h.delete(null===v.key?m:v.key),a=l(v,a,m),null===d?c=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(i,e)}),ho&&lo(i,m),c}(s,u,c=b.call(c),d)}if("function"==typeof c.then)return v(s,u,pi(c),d);if(c.$$typeof===S)return v(s,u,Lo(s,c),d);hi(s,c)}return"string"==typeof c&&""!==c||"number"==typeof c||"bigint"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(s,u.sibling),(d=i(u,c)).return=s,s=d):(n(s,u),(d=Jr(c,s.mode,d)).return=s,s=d),a(s)):n(s,u)}return function(e,t,n,r){try{di=0;var o=v(e,t,n,r);return ci=null,o}catch(l){if(l===ei||l===ni)throw l;var i=qr(29,l,null,e.mode);return i.lanes=r,i.return=e,i}}}var gi=mi(!0),yi=mi(!1),vi=!1;function bi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ei(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Si(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&mu){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Ur(e),Lr(e,null,n),t}return Rr(e,r,t,n),Ur(e)}function Ci(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Le(e,n)}}function Ti(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=l:i=i.next=l,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var _i=!1;function ki(){if(_i){if(null!==Wo)throw Wo}}function Ai(e,t,n,r){_i=!1;var o=e.updateQueue;vi=!1;var i=o.firstBaseUpdate,l=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var s=a,u=s.next;s.next=null,null===l?i=u:l.next=u,l=s;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==l&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=s))}if(null!==i){var d=o.baseState;for(l=0,c=u=s=null,a=i;;){var f=-536870913&a.lane,h=f!==a.lane;if(h?(vu&f)===f:(r&f)===f){0!==f&&f===Jo&&(_i=!0),null!==c&&(c=c.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;f=t;var y=n;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(y,d,f):m))break e;d=p({},d,f);break e;case 2:vi=!0}}null!==(f=a.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=o.callbacks)?o.callbacks=[f]:h.push(f))}else h={lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=h,s=d):c=c.next=h,l|=f;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(h=a).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}null===c&&(s=d),o.baseState=s,o.firstBaseUpdate=u,o.lastBaseUpdate=c,null===i&&(o.shared.lanes=0),ku|=l,e.lanes=l,e.memoizedState=d}}function Ii(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function Oi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ii(n[e],t)}var xi=z(null),Ni=z(0);function Pi(e,t){G(Ni,e=Tu),G(xi,t),Tu=e|t.baseLanes}function Ri(){G(Ni,Tu),G(xi,xi.current)}function Mi(){Tu=Ni.current,H(xi),H(Ni)}var Di=z(null),Li=null;function Ui(e){var t=e.alternate;G(Hi,1&Hi.current),G(Di,e),null===Li&&(null===t||null!==xi.current||null!==t.memoizedState)&&(Li=e)}function ji(e){G(Hi,Hi.current),G(Di,e),null===Li&&(Li=e)}function Fi(e){22===e.tag?(G(Hi,Hi.current),G(Di,e),null===Li&&(Li=e)):qi()}function qi(){G(Hi,Hi.current),G(Di,Di.current)}function zi(e){H(Di),Li===e&&(Li=null),H(Hi)}var Hi=z(0);function Gi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Rd(n)||Md(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vi=0,Bi=null,Ji=null,Wi=null,$i=!1,Yi=!1,Ki=!1,Qi=0,Xi=0,Zi=null,el=0;function tl(){throw Error(r(321))}function nl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!er(e[n],t[n]))return!1;return!0}function rl(e,t,n,r,o,i){return Vi=i,Bi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=null===e||null===e.memoizedState?va:ba,Ki=!1,i=n(r,o),Ki=!1,Yi&&(i=il(t,n,r,o)),ol(e),i}function ol(e){L.H=ya;var t=null!==Ji&&null!==Ji.next;if(Vi=0,Wi=Ji=Bi=null,$i=!1,Xi=0,Zi=null,t)throw Error(r(300));null===e||Da||null!==(e=e.dependencies)&&Ro(e)&&(Da=!0)}function il(e,t,n,o){Bi=e;var i=0;do{if(Yi&&(Zi=null),Xi=0,Yi=!1,25<=i)throw Error(r(301));if(i+=1,Wi=Ji=null,null!=e.updateQueue){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,null!=l.memoCache&&(l.memoCache.index=0)}L.H=Ea,l=t(n,o)}while(Yi);return l}function ll(){var e=L.H,t=e.useState()[0];return t="function"==typeof t.then?pl(t):t,e=e.useState()[0],(null!==Ji?Ji.memoizedState:null)!==e&&(Bi.flags|=1024),t}function al(){var e=0!==Qi;return Qi=0,e}function sl(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ul(e){if($i){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}$i=!1}Vi=0,Wi=Ji=Bi=null,Yi=!1,Xi=Qi=0,Zi=null}function cl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wi?Bi.memoizedState=Wi=e:Wi=Wi.next=e,Wi}function dl(){if(null===Ji){var e=Bi.alternate;e=null!==e?e.memoizedState:null}else e=Ji.next;var t=null===Wi?Bi.memoizedState:Wi.next;if(null!==t)Wi=t,Ji=e;else{if(null===e){if(null===Bi.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(Ji=e).memoizedState,baseState:Ji.baseState,baseQueue:Ji.baseQueue,queue:Ji.queue,next:null},null===Wi?Bi.memoizedState=Wi=e:Wi=Wi.next=e}return Wi}function pl(e){var t=Xi;return Xi+=1,null===Zi&&(Zi=[]),e=ii(Zi,e,t),t=Bi,null===(null===Wi?t.memoizedState:Wi.next)&&(t=t.alternate,L.H=null===t||null===t.memoizedState?va:ba),e}function fl(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return pl(e);if(e.$$typeof===S)return Do(e)}throw Error(r(438,String(e)))}function hl(e){var t=null,n=Bi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Bi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Bi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=x;return t.index++,n}function ml(e,t){return"function"==typeof t?t(e):t}function gl(e){return yl(dl(),Ji,e)}function yl(e,t,n){var o=e.queue;if(null===o)throw Error(r(311));o.lastRenderedReducer=n;var i=e.baseQueue,l=o.pending;if(null!==l){if(null!==i){var a=i.next;i.next=l.next,l.next=a}t.baseQueue=i=l,o.pending=null}if(l=e.baseState,null===i)e.memoizedState=l;else{var s=a=null,u=null,c=t=i.next,d=!1;do{var p=-536870913&c.lane;if(p!==c.lane?(vu&p)===p:(Vi&p)===p){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===Jo&&(d=!0);else{if((Vi&f)===f){c=c.next,f===Jo&&(d=!0);continue}p={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(s=u=p,a=l):u=u.next=p,Bi.lanes|=f,ku|=f}p=c.action,Ki&&n(l,p),l=c.hasEagerState?c.eagerState:n(l,p)}else f={lane:p,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(s=u=f,a=l):u=u.next=f,Bi.lanes|=p,ku|=p;c=c.next}while(null!==c&&c!==t);if(null===u?a=l:u.next=s,!er(l,e.memoizedState)&&(Da=!0,d&&null!==(n=Wo)))throw n;e.memoizedState=l,e.baseState=a,e.baseQueue=u,o.lastRenderedState=l}return null===i&&(o.lanes=0),[e.memoizedState,o.dispatch]}function vl(e){var t=dl(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var o=n.dispatch,i=n.pending,l=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{l=e(l,a.action),a=a.next}while(a!==i);er(l,t.memoizedState)||(Da=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,o]}function bl(e,t,n){var o=Bi,i=dl(),l=ho;if(l){if(void 0===n)throw Error(r(407));n=n()}else n=t();var a=!er((Ji||i).memoizedState,n);if(a&&(i.memoizedState=n,Da=!0),i=i.queue,Vl(wl.bind(null,o,i,e),[e]),i.getSnapshot!==t||a||null!==Wi&&1&Wi.memoizedState.tag){if(o.flags|=2048,Fl(9,{destroy:void 0},Sl.bind(null,o,i,n,t),null),null===gu)throw Error(r(349));l||127&Vi||El(o,t,n)}return n}function El(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Bi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Bi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Sl(e,t,n,r){t.value=n,t.getSnapshot=r,Cl(t)&&Tl(e)}function wl(e,t,n){return n(function(){Cl(t)&&Tl(e)})}function Cl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!er(e,n)}catch(r){return!0}}function Tl(e){var t=Dr(e,2);null!==t&&Ku(t,e,2)}function _l(e){var t=cl();if("function"==typeof e){var n=e;if(e=n(),Ki){Se(!0);try{n()}finally{Se(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:e},t}function kl(e,t,n,r){return e.baseState=n,yl(e,Ji,"function"==typeof r?r:ml)}function Al(e,t,n,o,i){if(ha(e))throw Error(r(485));if(null!==(e=t.action)){var l={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){l.listeners.push(e)}};null!==L.T?n(!0):l.isTransition=!1,o(l),null===(n=t.pending)?(l.next=t.pending=l,Il(t,l)):(l.next=n.next,t.pending=n.next=l)}}function Il(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=L.T,l={};L.T=l;try{var a=n(o,r),s=L.S;null!==s&&s(l,a),Ol(e,t,a)}catch(u){Nl(e,t,u)}finally{null!==i&&null!==l.types&&(i.types=l.types),L.T=i}}else try{Ol(e,t,i=n(o,r))}catch(c){Nl(e,t,c)}}function Ol(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){xl(e,t,n)},function(n){return Nl(e,t,n)}):xl(e,t,n)}function xl(e,t,n){t.status="fulfilled",t.value=n,Pl(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Il(e,n)))}function Nl(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Pl(t),t=t.next}while(t!==r)}e.action=null}function Pl(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Rl(e,t){return t}function Ml(e,t){if(ho){var n=gu.formState;if(null!==n){e:{var r=Bi;if(ho){if(fo){t:{for(var o=fo,i=go;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=Dd(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){fo=Dd(o.nextSibling),r="F!"===o.data;break e}}vo(r)}r=!1}r&&(t=n[0])}}return(n=cl()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:t},n.queue=r,n=da.bind(null,Bi,r),r.dispatch=n,r=_l(!1),i=fa.bind(null,Bi,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=cl()).queue=o,n=Al.bind(null,Bi,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function Dl(e){return Ll(dl(),Ji,e)}function Ll(e,t,n){if(t=yl(e,t,Rl)[0],e=gl(ml)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=pl(t)}catch(l){if(l===ei)throw ni;throw l}else r=t;var o=(t=dl()).queue,i=o.dispatch;return n!==t.memoizedState&&(Bi.flags|=2048,Fl(9,{destroy:void 0},Ul.bind(null,o,n),null)),[r,i,e]}function Ul(e,t){e.action=t}function jl(e){var t=dl(),n=Ji;if(null!==n)return Ll(t,n,e);dl(),t=t.memoizedState;var r=(n=dl()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Fl(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Bi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Bi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ql(){return dl().memoizedState}function zl(e,t,n,r){var o=cl();Bi.flags|=e,o.memoizedState=Fl(1|t,{destroy:void 0},n,void 0===r?null:r)}function Hl(e,t,n,r){var o=dl();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==Ji&&null!==r&&nl(r,Ji.memoizedState.deps)?o.memoizedState=Fl(t,i,n,r):(Bi.flags|=e,o.memoizedState=Fl(1|t,i,n,r))}function Gl(e,t){zl(8390656,8,e,t)}function Vl(e,t){Hl(2048,8,e,t)}function Bl(e){var t=dl().memoizedState;return function(e){Bi.flags|=4;var t=Bi.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Bi.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&mu)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Jl(e,t){return Hl(4,2,e,t)}function Wl(e,t){return Hl(4,4,e,t)}function $l(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Yl(e,t,n){n=null!=n?n.concat([e]):null,Hl(4,4,$l.bind(null,t,e),n)}function Kl(){}function Ql(e,t){var n=dl();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&nl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xl(e,t){var n=dl();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&nl(t,r[1]))return r[0];if(r=e(),Ki){Se(!0);try{e()}finally{Se(!1)}}return n.memoizedState=[r,t],r}function Zl(e,t,n){return void 0===n||1073741824&Vi&&!(261930&vu)?e.memoizedState=t:(e.memoizedState=n,e=Yu(),Bi.lanes|=e,ku|=e,n)}function ea(e,t,n,r){return er(n,t)?n:null!==xi.current?(e=Zl(e,n,r),er(e,t)||(Da=!0),e):42&Vi&&(!(1073741824&Vi)||261930&vu)?(e=Yu(),Bi.lanes|=e,ku|=e,t):(Da=!0,e.memoizedState=n)}function ta(e,t,n,r,o){var i=U.p;U.p=0!==i&&8>i?i:8;var l,a,s,u=L.T,c={};L.T=c,fa(e,!1,t,n);try{var d=o(),p=L.S;if(null!==p&&p(c,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)pa(e,t,(l=r,a=[],s={status:"pending",value:null,reason:null,then:function(e){a.push(e)}},d.then(function(){s.status="fulfilled",s.value=l;for(var e=0;e<a.length;e++)(0,a[e])(l)},function(e){for(s.status="rejected",s.reason=e,e=0;e<a.length;e++)(0,a[e])(void 0)}),s),$u());else pa(e,t,r,$u())}catch(f){pa(e,t,{then:function(){},status:"rejected",reason:f},$u())}finally{U.p=i,null!==u&&null!==c.types&&(u.types=c.types),L.T=u}}function na(){}function ra(e,t,n,o){if(5!==e.tag)throw Error(r(476));var i=oa(e).queue;ta(e,i,t,j,null===n?na:function(){return ia(e),n(o)})}function oa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:j},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ia(e){var t=oa(e);null===t.next&&(t=e.alternate.memoizedState),pa(e,t.next.queue,{},$u())}function la(){return Do(pp)}function aa(){return dl().memoizedState}function sa(){return dl().memoizedState}function ua(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=$u(),r=wi(t,e=Si(n),n);return null!==r&&(Ku(r,t,n),Ci(r,t,n)),t={cache:Ho()},void(e.payload=t)}t=t.return}}function ca(e,t,n){var r=$u();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ha(e)?ma(t,n):null!==(n=Mr(e,t,n,r))&&(Ku(n,e,r),ga(n,t,r))}function da(e,t,n){pa(e,t,n,$u())}function pa(e,t,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ha(e))ma(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var l=t.lastRenderedState,a=i(l,n);if(o.hasEagerState=!0,o.eagerState=a,er(a,l))return Rr(e,t,o,0),null===gu&&Pr(),!1}catch(s){}if(null!==(n=Mr(e,t,o,r)))return Ku(n,e,r),ga(n,t,r),!0}return!1}function fa(e,t,n,o){if(o={lane:2,revertLane:Vc(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ha(e)){if(t)throw Error(r(479))}else null!==(t=Mr(e,n,o,2))&&Ku(t,e,2)}function ha(e){var t=e.alternate;return e===Bi||null!==t&&t===Bi}function ma(e,t){Yi=$i=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ga(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Le(e,n)}}var ya={readContext:Do,use:fl,useCallback:tl,useContext:tl,useEffect:tl,useImperativeHandle:tl,useLayoutEffect:tl,useInsertionEffect:tl,useMemo:tl,useReducer:tl,useRef:tl,useState:tl,useDebugValue:tl,useDeferredValue:tl,useTransition:tl,useSyncExternalStore:tl,useId:tl,useHostTransitionStatus:tl,useFormState:tl,useActionState:tl,useOptimistic:tl,useMemoCache:tl,useCacheRefresh:tl};ya.useEffectEvent=tl;var va={readContext:Do,use:fl,useCallback:function(e,t){return cl().memoizedState=[e,void 0===t?null:t],e},useContext:Do,useEffect:Gl,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,zl(4194308,4,$l.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zl(4194308,4,e,t)},useInsertionEffect:function(e,t){zl(4,2,e,t)},useMemo:function(e,t){var n=cl();t=void 0===t?null:t;var r=e();if(Ki){Se(!0);try{e()}finally{Se(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=cl();if(void 0!==n){var o=n(t);if(Ki){Se(!0);try{n(t)}finally{Se(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=ca.bind(null,Bi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},cl().memoizedState=e},useState:function(e){var t=(e=_l(e)).queue,n=da.bind(null,Bi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Kl,useDeferredValue:function(e,t){return Zl(cl(),e,t)},useTransition:function(){var e=_l(!1);return e=ta.bind(null,Bi,e.queue,!0,!1),cl().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var o=Bi,i=cl();if(ho){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===gu)throw Error(r(349));127&vu||El(o,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,Gl(wl.bind(null,o,l,e),[e]),o.flags|=2048,Fl(9,{destroy:void 0},Sl.bind(null,o,l,n,t),null),n},useId:function(){var e=cl(),t=gu.identifierPrefix;if(ho){var n=io;t="_"+t+"R_"+(n=(oo&~(1<<32-we(oo)-1)).toString(32)+n),0<(n=Qi++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=el++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:la,useFormState:Ml,useActionState:Ml,useOptimistic:function(e){var t=cl();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=fa.bind(null,Bi,!0,n),n.dispatch=t,[e,t]},useMemoCache:hl,useCacheRefresh:function(){return cl().memoizedState=ua.bind(null,Bi)},useEffectEvent:function(e){var t=cl(),n={impl:e};return t.memoizedState=n,function(){if(2&mu)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},ba={readContext:Do,use:fl,useCallback:Ql,useContext:Do,useEffect:Vl,useImperativeHandle:Yl,useInsertionEffect:Jl,useLayoutEffect:Wl,useMemo:Xl,useReducer:gl,useRef:ql,useState:function(){return gl(ml)},useDebugValue:Kl,useDeferredValue:function(e,t){return ea(dl(),Ji.memoizedState,e,t)},useTransition:function(){var e=gl(ml)[0],t=dl().memoizedState;return["boolean"==typeof e?e:pl(e),t]},useSyncExternalStore:bl,useId:aa,useHostTransitionStatus:la,useFormState:Dl,useActionState:Dl,useOptimistic:function(e,t){return kl(dl(),0,e,t)},useMemoCache:hl,useCacheRefresh:sa};ba.useEffectEvent=Bl;var Ea={readContext:Do,use:fl,useCallback:Ql,useContext:Do,useEffect:Vl,useImperativeHandle:Yl,useInsertionEffect:Jl,useLayoutEffect:Wl,useMemo:Xl,useReducer:vl,useRef:ql,useState:function(){return vl(ml)},useDebugValue:Kl,useDeferredValue:function(e,t){var n=dl();return null===Ji?Zl(n,e,t):ea(n,Ji.memoizedState,e,t)},useTransition:function(){var e=vl(ml)[0],t=dl().memoizedState;return["boolean"==typeof e?e:pl(e),t]},useSyncExternalStore:bl,useId:aa,useHostTransitionStatus:la,useFormState:jl,useActionState:jl,useOptimistic:function(e,t){var n=dl();return null!==Ji?kl(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hl,useCacheRefresh:sa};function Sa(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Ea.useEffectEvent=Bl;var wa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$u(),o=Si(r);o.payload=t,null!=n&&(o.callback=n),null!==(t=wi(e,o,r))&&(Ku(t,e,r),Ci(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$u(),o=Si(r);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=wi(e,o,r))&&(Ku(t,e,r),Ci(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$u(),r=Si(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=wi(e,r,n))&&(Ku(t,e,n),Ci(t,e,n))}};function Ca(e,t,n,r,o,i,l){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,l):!t.prototype||!t.prototype.isPureReactComponent||(!tr(n,r)||!tr(o,i))}function Ta(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wa.enqueueReplaceState(t,t.state,null)}function _a(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=p({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}function ka(e){Ir(e)}function Aa(e){}function Ia(e){Ir(e)}function Oa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function xa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Na(e,t,n){return(n=Si(n)).tag=3,n.payload={element:null},n.callback=function(){Oa(e,t)},n}function Pa(e){return(e=Si(e)).tag=3,e}function Ra(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"==typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){xa(t,n,r)}}var l=n.stateNode;null!==l&&"function"==typeof l.componentDidCatch&&(e.callback=function(){xa(t,n,r),"function"!=typeof o&&(null===ju?ju=new Set([this]):ju.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ma=Error(r(461)),Da=!1;function La(e,t,n,r){t.child=null===e?yi(t,null,n,r):gi(t,e.child,n,r)}function Ua(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var l={};for(var a in r)"ref"!==a&&(l[a]=r[a])}else l=r;return Mo(t),r=rl(e,t,n,l,i,o),a=al(),null===e||Da?(ho&&a&&so(t),t.flags|=1,La(e,t,r,o),t.child):(sl(e,t,o),ls(e,t,o))}function ja(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||zr(i)||void 0!==i.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Fa(e,t,i,r,o))}if(i=e.child,!as(e,o)){var l=i.memoizedProps;if((n=null!==(n=n.compare)?n:tr)(l,r)&&e.ref===t.ref)return ls(e,t,o)}return t.flags|=1,(e=Hr(i,r)).ref=t.ref,e.return=t,t.child=e}function Fa(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(tr(i,r)&&e.ref===t.ref){if(Da=!1,t.pendingProps=r=i,!as(e,o))return t.lanes=e.lanes,ls(e,t,o);131072&e.flags&&(Da=!0)}}return Ja(e,t,n,r,o)}function qa(e,t,n,r){var o=r.children,i=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(i=null!==i?i.baseLanes|n:n,null!==e){for(r=t.child=e.child,o=0;null!==r;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~i}else r=0,t.child=null;return Ha(e,t,i,n,r)}if(!(536870912&n))return r=t.lanes=536870912,Ha(e,t,null!==i?i.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xo(0,null!==i?i.cachePool:null),null!==i?Pi(t,i):Ri(),Fi(t)}else null!==i?(Xo(0,i.cachePool),Pi(t,i),qi(),t.memoizedState=null):(null!==e&&Xo(0,null),Ri(),qi());return La(e,t,o,n),t.child}function za(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ha(e,t,n,r,o){var i=Qo();return i=null===i?null:{parent:zo._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Xo(0,null),Ri(),Fi(t),null!==e&&Po(e,t,r,!0),t.childLanes=o,null}function Ga(e,t){return(t=ts({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Va(e,t,n){return gi(t,e.child,null,n),(e=Ga(t,t.pendingProps)).flags|=2,zi(t),t.memoizedState=null,e}function Ba(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ja(e,t,n,r,o){return Mo(t),n=rl(e,t,n,r,void 0,o),r=al(),null===e||Da?(ho&&r&&so(t),t.flags|=1,La(e,t,n,o),t.child):(sl(e,t,o),ls(e,t,o))}function Wa(e,t,n,r,o,i){return Mo(t),t.updateQueue=null,n=il(t,r,n,o),ol(e),r=al(),null===e||Da?(ho&&r&&so(t),t.flags|=1,La(e,t,n,i),t.child):(sl(e,t,i),ls(e,t,i))}function $a(e,t,n,r,o){if(Mo(t),null===t.stateNode){var i=jr,l=n.contextType;"object"==typeof l&&null!==l&&(i=Do(l)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=wa,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},bi(t),l=n.contextType,i.context="object"==typeof l&&null!==l?Do(l):jr,i.state=t.memoizedState,"function"==typeof(l=n.getDerivedStateFromProps)&&(Sa(t,n,l,r),i.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(l=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),l!==i.state&&wa.enqueueReplaceState(i,i.state,null),Ai(t,r,i,o),ki(),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var a=t.memoizedProps,s=_a(n,a);i.props=s;var u=i.context,c=n.contextType;l=jr,"object"==typeof c&&null!==c&&(l=Do(c));var d=n.getDerivedStateFromProps;c="function"==typeof d||"function"==typeof i.getSnapshotBeforeUpdate,a=t.pendingProps!==a,c||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(a||u!==l)&&Ta(t,i,r,l),vi=!1;var p=t.memoizedState;i.state=p,Ai(t,r,i,o),ki(),u=t.memoizedState,a||p!==u||vi?("function"==typeof d&&(Sa(t,n,d,r),u=t.memoizedState),(s=vi||Ca(t,n,s,r,p,u,l))?(c||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=l,r=s):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ei(e,t),c=_a(n,l=t.memoizedProps),i.props=c,d=t.pendingProps,p=i.context,u=n.contextType,s=jr,"object"==typeof u&&null!==u&&(s=Do(u)),(u="function"==typeof(a=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(l!==d||p!==s)&&Ta(t,i,r,s),vi=!1,p=t.memoizedState,i.state=p,Ai(t,r,i,o),ki();var f=t.memoizedState;l!==d||p!==f||vi||null!==e&&null!==e.dependencies&&Ro(e.dependencies)?("function"==typeof a&&(Sa(t,n,a,r),f=t.memoizedState),(c=vi||Ca(t,n,c,r,p,f,s)||null!==e&&null!==e.dependencies&&Ro(e.dependencies))?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,s),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,s)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=s,r=c):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Ba(e,t),r=!!(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=gi(t,e.child,null,o),t.child=gi(t,null,n,o)):La(e,t,n,o),t.memoizedState=i.state,e=t.child):e=ls(e,t,o),e}function Ya(e,t,n,r){return wo(),t.flags|=256,La(e,t,n,r),t.child}var Ka={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qa(e){return{baseLanes:e,cachePool:Zo()}}function Xa(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ou),e}function Za(e,t,n){var o,i=t.pendingProps,l=!1,a=!!(128&t.flags);if((o=a)||(o=(null===e||null!==e.memoizedState)&&!!(2&Hi.current)),o&&(l=!0,t.flags&=-129),o=!!(32&t.flags),t.flags&=-33,null===e){if(ho){if(l?Ui(t):qi(),(e=fo)?null!==(e=null!==(e=Pd(e,go))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ro?{id:oo,overflow:io}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,po=t,fo=null):e=null,null===e)throw vo(t);return Md(e)?t.lanes=32:t.lanes=536870912,null}var s=i.children;return i=i.fallback,l?(qi(),s=ts({mode:"hidden",children:s},l=t.mode),i=Br(i,l,n,null),s.return=t,i.return=t,s.sibling=i,t.child=s,(i=t.child).memoizedState=Qa(n),i.childLanes=Xa(e,o,n),t.memoizedState=Ka,za(null,i)):(Ui(t),es(t,s))}var u=e.memoizedState;if(null!==u&&null!==(s=u.dehydrated)){if(a)256&t.flags?(Ui(t),t.flags&=-257,t=ns(e,t,n)):null!==t.memoizedState?(qi(),t.child=e.child,t.flags|=128,t=null):(qi(),s=i.fallback,l=t.mode,i=ts({mode:"visible",children:i.children},l),(s=Br(s,l,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,gi(t,e.child,null,n),(i=t.child).memoizedState=Qa(n),i.childLanes=Xa(e,o,n),t.memoizedState=Ka,t=za(null,i));else if(Ui(t),Md(s)){if(o=s.nextSibling&&s.nextSibling.dataset)var c=o.dgst;o=c,(i=Error(r(419))).stack="",i.digest=o,To({value:i,source:null,stack:null}),t=ns(e,t,n)}else if(Da||Po(e,t,n,!1),o=0!==(n&e.childLanes),Da||o){if(null!==(o=gu)&&(0!==(i=Ue(o,n))&&i!==u.retryLane))throw u.retryLane=i,Dr(e,i),Ku(o,e,i),Ma;Rd(s)||sc(),t=ns(e,t,n)}else Rd(s)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,fo=Dd(s.nextSibling),po=t,ho=!0,mo=null,go=!1,null!==e&&co(t,e),(t=es(t,i.children)).flags|=4096);return t}return l?(qi(),s=i.fallback,l=t.mode,c=(u=e.child).sibling,(i=Hr(u,{mode:"hidden",children:i.children})).subtreeFlags=65011712&u.subtreeFlags,null!==c?s=Hr(c,s):(s=Br(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,za(null,i),i=t.child,null===(s=e.child.memoizedState)?s=Qa(n):(null!==(l=s.cachePool)?(u=zo._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Zo(),s={baseLanes:s.baseLanes|n,cachePool:l}),i.memoizedState=s,i.childLanes=Xa(e,o,n),t.memoizedState=Ka,za(e.child,i)):(Ui(t),e=(n=e.child).sibling,(n=Hr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(o=t.deletions)?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function es(e,t){return(t=ts({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ts(e,t){return(e=qr(22,e,null,t)).lanes=0,e}function ns(e,t,n){return gi(t,e.child,null,n),(e=es(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function rs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xo(e.return,t,n)}function os(e,t,n,r,o,i){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o,l.treeForkCount=i)}function is(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;r=r.children;var l=Hi.current,a=!!(2&l);if(a?(l=1&l|2,t.flags|=128):l&=1,G(Hi,l),La(e,t,r,n),r=ho?eo:0,!a&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&rs(e,n,t);else if(19===e.tag)rs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Gi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),os(t,!1,o,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Gi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}os(t,!0,n,null,i,r);break;case"together":os(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ls(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ku|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Po(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Hr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function as(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ro(e))}function ss(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Da=!0;else{if(!(as(e,n)||128&t.flags))return Da=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),Io(0,zo,e.memoizedState.cache),wo();break;case 27:case 5:X(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:Io(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,ji(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ui(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Za(e,t,n):(Ui(t),null!==(e=ls(e,t,n))?e.sibling:null);Ui(t);break;case 19:var o=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Po(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return is(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),G(Hi,Hi.current),r)break;return null;case 22:return t.lanes=0,qa(e,t,n,t.pendingProps);case 24:Io(0,zo,e.memoizedState.cache)}return ls(e,t,n)}(e,t,n);Da=!!(131072&e.flags)}else Da=!1,ho&&1048576&t.flags&&ao(t,eo,t.index);switch(t.lanes=0,t.tag){case 16:e:{var o=t.pendingProps;if(e=li(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var i=e.$$typeof;if(i===w){t.tag=11,t=Ua(null,t,e,o,n);break e}if(i===A){t.tag=14,t=ja(null,t,e,o,n);break e}}throw t=M(e)||e,Error(r(306,t,""))}zr(e)?(o=_a(e,o),t.tag=1,t=$a(null,t,e,o,n)):(t.tag=0,t=Ja(null,t,e,o,n))}return t;case 0:return Ja(e,t,t.type,t.pendingProps,n);case 1:return $a(e,t,o=t.type,i=_a(o,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(r(387));o=t.pendingProps;var l=t.memoizedState;i=l.element,Ei(e,t),Ai(t,o,null,n);var a=t.memoizedState;if(o=a.cache,Io(0,zo,o),o!==l.cache&&No(t,[zo],n,!0),ki(),o=a.element,l.isDehydrated){if(l={element:o,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Ya(e,t,o,n);break e}if(o!==i){To(i=Kr(Error(r(424)),t)),t=Ya(e,t,o,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(fo=Dd(e.firstChild),po=t,ho=!0,mo=null,go=!0,n=yi(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(wo(),o===i){t=ls(e,t,n);break e}La(e,t,o,n)}t=t.child}return t;case 26:return Ba(e,t),null===e?(n=Wd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ho||(n=t.type,e=t.pendingProps,(o=vd($.current).createElement(n))[Ge]=t,o[Ve]=e,hd(o,n,e),nt(o),t.stateNode=o):t.memoizedState=Wd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&ho&&(o=t.stateNode=Fd(t.type,t.pendingProps,$.current),po=t,go=!0,i=fo,Id(t.type)?(Ld=i,fo=Dd(o.firstChild)):fo=i),La(e,t,t.pendingProps.children,n),Ba(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ho&&((i=o=fo)&&(null!==(o=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ke])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=Dd(e.nextSibling)))break}return null}(o,t.type,t.pendingProps,go))?(t.stateNode=o,po=t,fo=Dd(o.firstChild),go=!1,i=!0):i=!1),i||vo(t)),X(t),i=t.type,l=t.pendingProps,a=null!==e?e.memoizedProps:null,o=l.children,Sd(i,l)?o=null:null!==a&&Sd(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=rl(e,t,ll,null,null,n),pp._currentValue=i),Ba(e,t),La(e,t,o,n),t.child;case 6:return null===e&&ho&&((e=n=fo)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Dd(e.nextSibling)))return null}return e}(n,t.pendingProps,go))?(t.stateNode=n,po=t,fo=null,e=!0):e=!1),e||vo(t)),null;case 13:return Za(e,t,n);case 4:return K(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=gi(t,null,o,n):La(e,t,o,n),t.child;case 11:return Ua(e,t,t.type,t.pendingProps,n);case 7:return La(e,t,t.pendingProps,n),t.child;case 8:case 12:return La(e,t,t.pendingProps.children,n),t.child;case 10:return o=t.pendingProps,Io(0,t.type,o.value),La(e,t,o.children,n),t.child;case 9:return i=t.type._context,o=t.pendingProps.children,Mo(t),o=o(i=Do(i)),t.flags|=1,La(e,t,o,n),t.child;case 14:return ja(e,t,t.type,t.pendingProps,n);case 15:return Fa(e,t,t.type,t.pendingProps,n);case 19:return is(e,t,n);case 31:return function(e,t,n){var o=t.pendingProps,i=!!(128&t.flags);if(t.flags&=-129,null===e){if(ho){if("hidden"===o.mode)return e=Ga(t,o),t.lanes=536870912,za(null,e);if(ji(t),(e=fo)?null!==(e=null!==(e=Pd(e,go))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ro?{id:oo,overflow:io}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,po=t,fo=null):e=null,null===e)throw vo(t);return t.lanes=536870912,null}return Ga(t,o)}var l=e.memoizedState;if(null!==l){var a=l.dehydrated;if(ji(t),i)if(256&t.flags)t.flags&=-257,t=Va(e,t,n);else{if(null===t.memoizedState)throw Error(r(558));t.child=e.child,t.flags|=128,t=null}else if(Da||Po(e,t,n,!1),i=0!==(n&e.childLanes),Da||i){if(null!==(o=gu)&&0!==(a=Ue(o,n))&&a!==l.retryLane)throw l.retryLane=a,Dr(e,a),Ku(o,e,a),Ma;sc(),t=Va(e,t,n)}else e=l.treeContext,fo=Dd(a.nextSibling),po=t,ho=!0,mo=null,go=!1,null!==e&&co(t,e),(t=Ga(t,o)).flags|=4096;return t}return(e=Hr(e.child,{mode:o.mode,children:o.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return qa(e,t,n,t.pendingProps);case 24:return Mo(t),o=Do(zo),null===e?(null===(i=Qo())&&(i=gu,l=Ho(),i.pooledCache=l,l.refCount++,null!==l&&(i.pooledCacheLanes|=n),i=l),t.memoizedState={parent:o,cache:i},bi(t),Io(0,zo,i)):(0!==(e.lanes&n)&&(Ei(e,t),Ai(t,null,null,n),ki()),i=e.memoizedState,l=t.memoizedState,i.parent!==o?(i={parent:o,cache:o},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Io(0,zo,o)):(o=l.cache,Io(0,zo,o),o!==i.cache&&No(t,[zo],n,!0))),La(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function us(e){e.flags|=4}function cs(e,t,n,r,o){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&o)===o)if(e.stateNode.complete)e.flags|=8192;else{if(!ic())throw ai=ri,ti;e.flags|=8192}}else e.flags&=-16777217}function ds(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!lp(t)){if(!ic())throw ai=ri,ti;e.flags|=8192}}function ps(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,xu|=t)}function fs(e,t){if(!ho)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ms(e,t,n){var o=t.pendingProps;switch(uo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hs(t),null;case 3:return n=t.stateNode,o=null,null!==e&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),Oo(zo),Q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(So(t)?us(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,Co())),hs(t),null;case 26:var i=t.type,l=t.memoizedState;return null===e?(us(t),null!==l?(hs(t),ds(t,l)):(hs(t),cs(t,i,0,0,n))):l?l!==e.memoizedState?(us(t),hs(t),ds(t,l)):(hs(t),t.flags&=-16777217):((e=e.memoizedProps)!==o&&us(t),hs(t),cs(t,i,0,0,n)),null;case 27:if(Z(t),n=$.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==o&&us(t);else{if(!o){if(null===t.stateNode)throw Error(r(166));return hs(t),null}e=J.current,So(t)?bo(t):(e=Fd(i,o,n),t.stateNode=e,us(t))}return hs(t),null;case 5:if(Z(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==o&&us(t);else{if(!o){if(null===t.stateNode)throw Error(r(166));return hs(t),null}if(l=J.current,So(t))bo(t);else{var a=vd($.current);switch(l){case 1:l=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:l=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":l=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":l=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(l=a.createElement("div")).innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l="string"==typeof o.is?a.createElement("select",{is:o.is}):a.createElement("select"),o.multiple?l.multiple=!0:o.size&&(l.size=o.size);break;default:l="string"==typeof o.is?a.createElement(i,{is:o.is}):a.createElement(i)}}l[Ge]=t,l[Ve]=o;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)l.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=l;e:switch(hd(l,i,o),i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&us(t)}}return hs(t),cs(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==o&&us(t);else{if("string"!=typeof o&&null===t.stateNode)throw Error(r(166));if(e=$.current,So(t)){if(e=t.stateNode,n=t.memoizedProps,o=null,null!==(i=po))switch(i.tag){case 27:case 5:o=i.memoizedProps}e[Ge]=t,(e=!!(e.nodeValue===n||null!==o&&!0===o.suppressHydrationWarning||dd(e.nodeValue,n)))||vo(t,!0)}else(e=vd(e).createTextNode(o))[Ge]=t,t.stateNode=e}return hs(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(o=So(t),null!==n){if(null===e){if(!o)throw Error(r(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(r(557));e[Ge]=t}else wo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hs(t),e=!1}else n=Co(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(zi(t),t):(zi(t),null);if(128&t.flags)throw Error(r(558))}return hs(t),null;case 13:if(o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=So(t),null!==o&&null!==o.dehydrated){if(null===e){if(!i)throw Error(r(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(r(317));i[Ge]=t}else wo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hs(t),i=!1}else i=Co(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(zi(t),t):(zi(t),null)}return zi(t),128&t.flags?(t.lanes=n,t):(n=null!==o,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(o=t.child).alternate&&null!==o.alternate.memoizedState&&null!==o.alternate.memoizedState.cachePool&&(i=o.alternate.memoizedState.cachePool.pool),l=null,null!==o.memoizedState&&null!==o.memoizedState.cachePool&&(l=o.memoizedState.cachePool.pool),l!==i&&(o.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ps(t,t.updateQueue),hs(t),null);case 4:return Q(),null===e&&td(t.stateNode.containerInfo),hs(t),null;case 10:return Oo(t.type),hs(t),null;case 19:if(H(Hi),null===(o=t.memoizedState))return hs(t),null;if(i=!!(128&t.flags),null===(l=o.rendering))if(i)fs(o,!1);else{if(0!==_u||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=Gi(e))){for(t.flags|=128,fs(o,!1),e=l.updateQueue,t.updateQueue=e,ps(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Gr(n,e),n=n.sibling;return G(Hi,1&Hi.current|2),ho&&lo(t,o.treeForkCount),t.child}e=e.sibling}null!==o.tail&&ce()>Lu&&(t.flags|=128,i=!0,fs(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Gi(l))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ps(t,e),fs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ho)return hs(t),null}else 2*ce()-o.renderingStartTime>Lu&&536870912!==n&&(t.flags|=128,i=!0,fs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(e=o.last)?e.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ce(),e.sibling=null,n=Hi.current,G(Hi,i?1&n|2:1&n),ho&&lo(t,o.treeForkCount),e):(hs(t),null);case 22:case 23:return zi(t),Mi(),o=null!==t.memoizedState,null!==e?null!==e.memoizedState!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?!!(536870912&n)&&!(128&t.flags)&&(hs(t),6&t.subtreeFlags&&(t.flags|=8192)):hs(t),null!==(n=t.updateQueue)&&ps(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),o=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(o=t.memoizedState.cachePool.pool),o!==n&&(t.flags|=2048),null!==e&&H(Ko),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Oo(zo),hs(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function gs(e,t){switch(uo(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Oo(zo),Q(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Z(t),null;case 31:if(null!==t.memoizedState){if(zi(t),null===t.alternate)throw Error(r(340));wo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(zi(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));wo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return H(Hi),null;case 4:return Q(),null;case 10:return Oo(t.type),null;case 22:case 23:return zi(t),Mi(),null!==e&&H(Ko),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Oo(zo),null;default:return null}}function ys(e,t){switch(uo(t),t.tag){case 3:Oo(zo),Q();break;case 26:case 27:case 5:Z(t);break;case 4:Q();break;case 31:null!==t.memoizedState&&zi(t);break;case 13:zi(t);break;case 19:H(Hi);break;case 10:Oo(t.type);break;case 22:case 23:zi(t),Mi(),null!==e&&H(Ko);break;case 24:Oo(zo)}}function vs(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,l=n.inst;r=i(),l.destroy=r}n=n.next}while(n!==o)}}catch(a){_c(t,t.return,a)}}function bs(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var l=r.inst,a=l.destroy;if(void 0!==a){l.destroy=void 0,o=t;var s=n,u=a;try{u()}catch(c){_c(o,s,c)}}}r=r.next}while(r!==i)}}catch(c){_c(t,t.return,c)}}function Es(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Oi(t,n)}catch(r){_c(e,e.return,r)}}}function Ss(e,t,n){n.props=_a(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){_c(e,t,r)}}function ws(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(o){_c(e,t,o)}}function Cs(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(o){_c(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(i){_c(e,t,i)}else n.current=null}function Ts(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){_c(e,e.return,o)}}function _s(e,t,n){try{var o=e.stateNode;!function(e,t,n,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,l=null,a=null,s=null,u=null,c=null,d=null;for(h in n){var p=n[h];if(n.hasOwnProperty(h)&&null!=p)switch(h){case"checked":case"value":break;case"defaultValue":u=p;default:o.hasOwnProperty(h)||pd(e,t,h,null,o,p)}}for(var f in o){var h=o[f];if(p=n[f],o.hasOwnProperty(f)&&(null!=h||null!=p))switch(f){case"type":l=h;break;case"name":i=h;break;case"checked":c=h;break;case"defaultChecked":d=h;break;case"value":a=h;break;case"defaultValue":s=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(r(137,t));break;default:h!==p&&pd(e,t,f,h,o,p)}}return void Et(e,a,s,u,c,d,l,i);case"select":for(l in h=a=s=f=null,n)if(u=n[l],n.hasOwnProperty(l)&&null!=u)switch(l){case"value":break;case"multiple":h=u;default:o.hasOwnProperty(l)||pd(e,t,l,null,o,u)}for(i in o)if(l=o[i],u=n[i],o.hasOwnProperty(i)&&(null!=l||null!=u))switch(i){case"value":f=l;break;case"defaultValue":s=l;break;case"multiple":a=l;default:l!==u&&pd(e,t,i,l,o,u)}return t=s,n=a,o=h,void(null!=f?Ct(e,!!n,f,!1):!!o!=!!n&&(null!=t?Ct(e,!!n,t,!0):Ct(e,!!n,n?[]:"",!1)));case"textarea":for(s in h=f=null,n)if(i=n[s],n.hasOwnProperty(s)&&null!=i&&!o.hasOwnProperty(s))switch(s){case"value":case"children":break;default:pd(e,t,s,null,o,i)}for(a in o)if(i=o[a],l=n[a],o.hasOwnProperty(a)&&(null!=i||null!=l))switch(a){case"value":f=i;break;case"defaultValue":h=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(r(91));break;default:i!==l&&pd(e,t,a,i,o,l)}return void Tt(e,f,h);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!o.hasOwnProperty(m))if("selected"===m)e.selected=!1;else pd(e,t,m,null,o,f);for(u in o)if(f=o[u],h=n[u],o.hasOwnProperty(u)&&f!==h&&(null!=f||null!=h))if("selected"===u)e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f;else pd(e,t,u,f,o,h);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!o.hasOwnProperty(g)&&pd(e,t,g,null,o,f);for(c in o)if(f=o[c],h=n[c],o.hasOwnProperty(c)&&f!==h&&(null!=f||null!=h))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:pd(e,t,c,f,o,h)}return;default:if(xt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!o.hasOwnProperty(y)&&fd(e,t,y,void 0,o,f);for(d in o)f=o[d],h=n[d],!o.hasOwnProperty(d)||f===h||void 0===f&&void 0===h||fd(e,t,d,f,o,h);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!o.hasOwnProperty(v)&&pd(e,t,v,null,o,f);for(p in o)f=o[p],h=n[p],!o.hasOwnProperty(p)||f===h||null==f&&null==h||pd(e,t,p,f,o,h)}(o,e.type,n,t),o[Ve]=t}catch(i){_c(e,e.return,i)}}function ks(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Id(e.type)||4===e.tag}function As(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ks(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Id(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Is(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Mt));else if(4!==r&&(27===r&&Id(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Is(e,t,n),e=e.sibling;null!==e;)Is(e,t,n),e=e.sibling}function Os(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Id(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Os(e,t,n),e=e.sibling;null!==e;)Os(e,t,n),e=e.sibling}function xs(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);hd(t,r,n),t[Ge]=e,t[Ve]=n}catch(i){_c(e,e.return,i)}}var Ns=!1,Ps=!1,Rs=!1,Ms="function"==typeof WeakSet?WeakSet:Set,Ds=null;function Ls(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ks(e,n),4&r&&vs(5,n);break;case 1:if(Ks(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(l){_c(n,n.return,l)}else{var o=_a(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){_c(n,n.return,a)}}64&r&&Es(n),512&r&&ws(n,n.return);break;case 3:if(Ks(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Oi(e,t)}catch(l){_c(n,n.return,l)}}break;case 27:null===t&&4&r&&xs(n);case 26:case 5:Ks(e,n),null===t&&4&r&&Ts(n),512&r&&ws(n,n.return);break;case 12:Ks(e,n);break;case 31:Ks(e,n),4&r&&Hs(e,n);break;case 13:Ks(e,n),4&r&&Gs(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Oc.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Ns)){t=null!==t&&null!==t.memoizedState||Ps,o=Ns;var i=Ps;Ns=r,(Ps=t)&&!i?Xs(e,n,!!(8772&n.subtreeFlags)):Ks(e,n),Ns=o,Ps=i}break;case 30:break;default:Ks(e,n)}}function Us(e){var t=e.alternate;null!==t&&(e.alternate=null,Us(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var js=null,Fs=!1;function qs(e,t,n){for(n=n.child;null!==n;)zs(e,t,n),n=n.sibling}function zs(e,t,n){if(Ee&&"function"==typeof Ee.onCommitFiberUnmount)try{Ee.onCommitFiberUnmount(be,n)}catch(i){}switch(n.tag){case 26:Ps||Cs(n,t),qs(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Ps||Cs(n,t);var r=js,o=Fs;Id(n.type)&&(js=n.stateNode,Fs=!1),qs(e,t,n),qd(n.stateNode),js=r,Fs=o;break;case 5:Ps||Cs(n,t);case 6:if(r=js,o=Fs,js=null,qs(e,t,n),Fs=o,null!==(js=r))if(Fs)try{(9===js.nodeType?js.body:"HTML"===js.nodeName?js.ownerDocument.body:js).removeChild(n.stateNode)}catch(l){_c(n,t,l)}else try{js.removeChild(n.stateNode)}catch(l){_c(n,t,l)}break;case 18:null!==js&&(Fs?(Od(9===(e=js).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Jp(e)):Od(js,n.stateNode));break;case 4:r=js,o=Fs,js=n.stateNode.containerInfo,Fs=!0,qs(e,t,n),js=r,Fs=o;break;case 0:case 11:case 14:case 15:bs(2,n,t),Ps||bs(4,n,t),qs(e,t,n);break;case 1:Ps||(Cs(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&Ss(n,t,r)),qs(e,t,n);break;case 21:qs(e,t,n);break;case 22:Ps=(r=Ps)||null!==n.memoizedState,qs(e,t,n),Ps=r;break;default:qs(e,t,n)}}function Hs(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Jp(e)}catch(n){_c(t,t.return,n)}}}function Gs(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Jp(e)}catch(n){_c(t,t.return,n)}}function Vs(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ms),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ms),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=xc.bind(null,e,t);t.then(r,r)}})}function Bs(e,t){var n=t.deletions;if(null!==n)for(var o=0;o<n.length;o++){var i=n[o],l=e,a=t,s=a;e:for(;null!==s;){switch(s.tag){case 27:if(Id(s.type)){js=s.stateNode,Fs=!1;break e}break;case 5:js=s.stateNode,Fs=!1;break e;case 3:case 4:js=s.stateNode.containerInfo,Fs=!0;break e}s=s.return}if(null===js)throw Error(r(160));zs(l,a,i),js=null,Fs=!1,null!==(l=i.alternate)&&(l.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Ws(t,e),t=t.sibling}var Js=null;function Ws(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bs(t,e),$s(e),4&o&&(bs(3,e,e.return),vs(3,e),bs(5,e,e.return));break;case 1:Bs(t,e),$s(e),512&o&&(Ps||null===n||Cs(n,n.return)),64&o&&Ns&&(null!==(e=e.updateQueue)&&(null!==(o=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?o:n.concat(o))));break;case 26:var i=Js;if(Bs(t,e),$s(e),512&o&&(Ps||null===n||Cs(n,n.return)),4&o){var l=null!==n?n.memoizedState:null;if(o=e.memoizedState,null===n)if(null===o)if(null===e.stateNode){e:{o=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(o){case"title":(!(l=i.getElementsByTagName("title")[0])||l[Ke]||l[Ge]||"http://www.w3.org/2000/svg"===l.namespaceURI||l.hasAttribute("itemprop"))&&(l=i.createElement(o),i.head.insertBefore(l,i.querySelector("head > title"))),hd(l,o,n),l[Ge]=e,nt(l),o=l;break e;case"link":var a=op("link","href",i).get(o+(n.href||""));if(a)for(var s=0;s<a.length;s++)if((l=a[s]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&l.getAttribute("rel")===(null==n.rel?null:n.rel)&&l.getAttribute("title")===(null==n.title?null:n.title)&&l.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(s,1);break t}hd(l=i.createElement(o),o,n),i.head.appendChild(l);break;case"meta":if(a=op("meta","content",i).get(o+(n.content||"")))for(s=0;s<a.length;s++)if((l=a[s]).getAttribute("content")===(null==n.content?null:""+n.content)&&l.getAttribute("name")===(null==n.name?null:n.name)&&l.getAttribute("property")===(null==n.property?null:n.property)&&l.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&l.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(s,1);break t}hd(l=i.createElement(o),o,n),i.head.appendChild(l);break;default:throw Error(r(468,o))}l[Ge]=e,nt(l),o=l}e.stateNode=o}else ip(i,e.type,e.stateNode);else e.stateNode=Zd(i,o,e.memoizedProps);else l!==o?(null===l?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):l.count--,null===o?ip(i,e.type,e.stateNode):Zd(i,o,e.memoizedProps)):null===o&&null!==e.stateNode&&_s(e,e.memoizedProps,n.memoizedProps)}break;case 27:Bs(t,e),$s(e),512&o&&(Ps||null===n||Cs(n,n.return)),null!==n&&4&o&&_s(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Bs(t,e),$s(e),512&o&&(Ps||null===n||Cs(n,n.return)),32&e.flags){i=e.stateNode;try{kt(i,"")}catch(m){_c(e,e.return,m)}}4&o&&null!=e.stateNode&&_s(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&o&&(Rs=!0);break;case 6:if(Bs(t,e),$s(e),4&o){if(null===e.stateNode)throw Error(r(162));o=e.memoizedProps,n=e.stateNode;try{n.nodeValue=o}catch(m){_c(e,e.return,m)}}break;case 3:if(rp=null,i=Js,Js=Gd(t.containerInfo),Bs(t,e),Js=i,$s(e),4&o&&null!==n&&n.memoizedState.isDehydrated)try{Jp(t.containerInfo)}catch(m){_c(e,e.return,m)}Rs&&(Rs=!1,Ys(e));break;case 4:o=Js,Js=Gd(e.stateNode.containerInfo),Bs(t,e),$s(e),Js=o;break;case 12:default:Bs(t,e),$s(e);break;case 31:case 19:Bs(t,e),$s(e),4&o&&(null!==(o=e.updateQueue)&&(e.updateQueue=null,Vs(e,o)));break;case 13:Bs(t,e),$s(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Mu=ce()),4&o&&(null!==(o=e.updateQueue)&&(e.updateQueue=null,Vs(e,o)));break;case 22:i=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=Ns,d=Ps;if(Ns=c||i,Ps=d||u,Bs(t,e),Ps=d,Ns=c,$s(e),8192&o)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||u||Ns||Ps||Qs(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(l=u.stateNode,i)"function"==typeof(a=l.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{s=u.stateNode;var p=u.memoizedProps.style,f=null!=p&&p.hasOwnProperty("display")?p.display:null;s.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(m){_c(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(m){_c(u,u.return,m)}}}else if(18===t.tag){if(null===n){u=t;try{var h=u.stateNode;i?xd(h,!0):xd(u.stateNode,!1)}catch(m){_c(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&o&&(null!==(o=e.updateQueue)&&(null!==(n=o.retryQueue)&&(o.retryQueue=null,Vs(e,n))));case 30:case 21:}}function $s(e){var t=e.flags;if(2&t){try{for(var n,o=e.return;null!==o;){if(ks(o)){n=o;break}o=o.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var i=n.stateNode;Os(e,As(e),i);break;case 5:var l=n.stateNode;32&n.flags&&(kt(l,""),n.flags&=-33),Os(e,As(e),l);break;case 3:case 4:var a=n.stateNode.containerInfo;Is(e,As(e),a);break;default:throw Error(r(161))}}catch(s){_c(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ys(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ys(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ks(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ls(e,t.alternate,t),t=t.sibling}function Qs(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:bs(4,t,t.return),Qs(t);break;case 1:Cs(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&Ss(t,t.return,n),Qs(t);break;case 27:qd(t.stateNode);case 26:case 5:Cs(t,t.return),Qs(t);break;case 22:null===t.memoizedState&&Qs(t);break;default:Qs(t)}e=e.sibling}}function Xs(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,l=i.flags;switch(i.tag){case 0:case 11:case 15:Xs(o,i,n),vs(4,i);break;case 1:if(Xs(o,i,n),"function"==typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(u){_c(r,r.return,u)}if(null!==(o=(r=i).updateQueue)){var a=r.stateNode;try{var s=o.shared.hiddenCallbacks;if(null!==s)for(o.shared.hiddenCallbacks=null,o=0;o<s.length;o++)Ii(s[o],a)}catch(u){_c(r,r.return,u)}}n&&64&l&&Es(i),ws(i,i.return);break;case 27:xs(i);case 26:case 5:Xs(o,i,n),n&&null===r&&4&l&&Ts(i),ws(i,i.return);break;case 12:Xs(o,i,n);break;case 31:Xs(o,i,n),n&&4&l&&Hs(o,i);break;case 13:Xs(o,i,n),n&&4&l&&Gs(o,i);break;case 22:null===i.memoizedState&&Xs(o,i,n),ws(i,i.return);break;case 30:break;default:Xs(o,i,n)}t=t.sibling}}function Zs(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Go(n))}function eu(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Go(e))}function tu(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)nu(e,t,n,r),t=t.sibling}function nu(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:tu(e,t,n,r),2048&o&&vs(9,t);break;case 1:case 31:case 13:default:tu(e,t,n,r);break;case 3:tu(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Go(e)));break;case 12:if(2048&o){tu(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,l=i.id,a=i.onPostCommit;"function"==typeof a&&a(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(s){_c(t,t.return,s)}}else tu(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,l=t.alternate,null!==t.memoizedState?2&i._visibility?tu(e,t,n,r):ou(e,t):2&i._visibility?tu(e,t,n,r):(i._visibility|=2,ru(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&o&&Zs(l,t);break;case 24:tu(e,t,n,r),2048&o&&eu(t.alternate,t)}}function ru(e,t,n,r,o){for(o=o&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var i=e,l=t,a=n,s=r,u=l.flags;switch(l.tag){case 0:case 11:case 15:ru(i,l,a,s,o),vs(8,l);break;case 23:break;case 22:var c=l.stateNode;null!==l.memoizedState?2&c._visibility?ru(i,l,a,s,o):ou(i,l):(c._visibility|=2,ru(i,l,a,s,o)),o&&2048&u&&Zs(l.alternate,l);break;case 24:ru(i,l,a,s,o),o&&2048&u&&eu(l.alternate,l);break;default:ru(i,l,a,s,o)}t=t.sibling}}function ou(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:ou(n,r),2048&o&&Zs(r.alternate,r);break;case 24:ou(n,r),2048&o&&eu(r.alternate,r);break;default:ou(n,r)}t=t.sibling}}var iu=8192;function lu(e,t,n){if(e.subtreeFlags&iu)for(e=e.child;null!==e;)au(e,t,n),e=e.sibling}function au(e,t,n){switch(e.tag){case 26:lu(e,t,n),e.flags&iu&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var o=$d(r.href),i=t.querySelector(Yd(o));if(i)return null!==(t=i._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=sp.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,void nt(i);i=t.ownerDocument||t,r=Kd(r),(o=zd.get(o))&&tp(r,o),nt(i=i.createElement("link"));var l=i;l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),hd(i,"link",r),n.instance=i}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=sp.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Js,e.memoizedState,e.memoizedProps);break;case 5:default:lu(e,t,n);break;case 3:case 4:var r=Js;Js=Gd(e.stateNode.containerInfo),lu(e,t,n),Js=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=iu,iu=16777216,lu(e,t,n),iu=r):lu(e,t,n))}}function su(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function uu(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ds=r,pu(r,e)}su(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cu(e),e=e.sibling}function cu(e){switch(e.tag){case 0:case 11:case 15:uu(e),2048&e.flags&&bs(9,e,e.return);break;case 3:case 12:default:uu(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,du(e)):uu(e)}}function du(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ds=r,pu(r,e)}su(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:bs(8,t,t.return),du(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,du(t));break;default:du(t)}e=e.sibling}}function pu(e,t){for(;null!==Ds;){var n=Ds;switch(n.tag){case 0:case 11:case 15:bs(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Go(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ds=r;else e:for(n=e;null!==Ds;){var o=(r=Ds).sibling,i=r.return;if(Us(r),r===n){Ds=null;break e}if(null!==o){o.return=i,Ds=o;break e}Ds=i}}}var fu={getCacheForType:function(e){var t=Do(zo),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Do(zo).controller.signal}},hu="function"==typeof WeakMap?WeakMap:Map,mu=0,gu=null,yu=null,vu=0,bu=0,Eu=null,Su=!1,wu=!1,Cu=!1,Tu=0,_u=0,ku=0,Au=0,Iu=0,Ou=0,xu=0,Nu=null,Pu=null,Ru=!1,Mu=0,Du=0,Lu=1/0,Uu=null,ju=null,Fu=0,qu=null,zu=null,Hu=0,Gu=0,Vu=null,Bu=null,Ju=0,Wu=null;function $u(){return 2&mu&&0!==vu?vu&-vu:null!==L.T?Vc():qe()}function Yu(){if(0===Ou)if(536870912&vu&&!ho)Ou=536870912;else{var e=ke;!(3932160&(ke<<=1))&&(ke=262144),Ou=e}return null!==(e=Di.current)&&(e.flags|=32),Ou}function Ku(e,t,n){(e!==gu||2!==bu&&9!==bu)&&null===e.cancelPendingCommit||(rc(e,0),ec(e,vu,Ou,!1)),Me(e,n),2&mu&&e===gu||(e===gu&&(!(2&mu)&&(Au|=n),4===_u&&ec(e,vu,Ou,!1)),Uc(e))}function Qu(e,t,n){if(6&mu)throw Error(r(327));for(var o=!n&&!(127&t)&&0===(t&e.expiredLanes)||xe(e,t),i=o?function(e,t){var n=mu;mu|=2;var o=lc(),i=ac();gu!==e||vu!==t?(Uu=null,Lu=ce()+500,rc(e,t)):wu=xe(e,t);e:for(;;)try{if(0!==bu&&null!==yu){t=yu;var l=Eu;t:switch(bu){case 1:bu=0,Eu=null,hc(e,t,l,1);break;case 2:case 9:if(oi(l)){bu=0,Eu=null,fc(t);break}t=function(){2!==bu&&9!==bu||gu!==e||(bu=7),Uc(e)},l.then(t,t);break e;case 3:bu=7;break e;case 4:bu=5;break e;case 7:oi(l)?(bu=0,Eu=null,fc(t)):(bu=0,Eu=null,hc(e,t,l,7));break;case 5:var a=null;switch(yu.tag){case 26:a=yu.memoizedState;case 5:case 27:var s=yu;if(a?lp(a):s.stateNode.complete){bu=0,Eu=null;var u=s.sibling;if(null!==u)yu=u;else{var c=s.return;null!==c?(yu=c,mc(c)):yu=null}break t}}bu=0,Eu=null,hc(e,t,l,5);break;case 6:bu=0,Eu=null,hc(e,t,l,6);break;case 8:nc(),_u=6;break e;default:throw Error(r(462))}}dc();break}catch(d){oc(e,d)}return Ao=ko=null,L.H=o,L.A=i,mu=n,null!==yu?0:(gu=null,vu=0,Pr(),_u)}(e,t):uc(e,t,!0),l=o;;){if(0===i){wu&&!o&&ec(e,t,0,!1);break}if(n=e.current.alternate,!l||Zu(n)){if(2===i){if(l=t,e.errorRecoveryDisabledLanes&l)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var s=e;i=Nu;var u=s.current.memoizedState.isDehydrated;if(u&&(rc(s,a).flags|=256),2!==(a=uc(s,a,!1))){if(Cu&&!u){s.errorRecoveryDisabledLanes|=l,Au|=l,i=4;break e}l=Pu,Pu=i,null!==l&&(null===Pu?Pu=l:Pu.push.apply(Pu,l))}i=a}if(l=!1,2!==i)continue}}if(1===i){rc(e,0),ec(e,t,0,!0);break}e:{switch(o=e,l=i){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:ec(o,t,Ou,!Su);break e;case 2:Pu=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(i=Mu+300-ce())){if(ec(o,t,Ou,!Su),0!==Oe(o,0,!0))break e;Hu=t,o.timeoutHandle=Cd(Xu.bind(null,o,n,Pu,Uu,Ru,t,Ou,Au,xu,Su,l,"Throttled",-0,0),i)}else Xu(o,n,Pu,Uu,Ru,t,Ou,Au,xu,Su,l,null,-0,0)}break}i=uc(e,t,!1),l=!1}Uc(e)}function Xu(e,t,n,r,o,i,l,a,s,u,c,d,p,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||!(16785408&~d)){au(t,i,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mt});var h=(62914560&i)===i?Mu-ce():(4194048&i)===i?Du-ce():0;if(null!==(h=function(e,t){return e.stylesheets&&0===e.count&&cp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&cp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ap&&(ap=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],i=o.transferSize,l=o.initiatorType,a=o.duration;if(i&&a&&md(l)){for(l=0,a=o.responseEnd,r+=1;r<n.length;r++){var s=n[r],u=s.startTime;if(u>a)break;var c=s.transferSize,d=s.initiatorType;c&&md(d)&&(l+=c*((s=s.responseEnd)<a?1:(a-u)/(s-u)))}if(--r,t+=8*(i+l)/(o.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var o=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&cp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ap?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}(d,h)))return Hu=i,e.cancelPendingCommit=h(yc.bind(null,e,t,i,n,r,o,l,a,s,c,d,null,p,f)),void ec(e,i,l,!u)}yc(e,t,i,n,r,o,l,a,s)}function Zu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!er(i(),o))return!1}catch(l){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ec(e,t,n,r){t&=~Iu,t&=~Au,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-we(o),l=1<<i;r[i]=-1,o&=~l}0!==n&&De(e,n,t)}function tc(){return!!(6&mu)||(jc(0),!1)}function nc(){if(null!==yu){if(0===bu)var e=yu.return;else Ao=ko=null,ul(e=yu),ci=null,di=0,e=yu;for(;null!==e;)ys(e.alternate,e),e=e.return;yu=null}}function rc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Td(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Hu=0,nc(),gu=e,yu=n=Hr(e.current,null),vu=t,bu=0,Eu=null,Su=!1,wu=xe(e,t),Cu=!1,xu=Ou=Iu=Au=ku=_u=0,Pu=Nu=null,Ru=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-we(r),i=1<<o;t|=e[o],r&=~i}return Tu=t,Pr(),n}function oc(e,t){Bi=null,L.H=ya,t===ei||t===ni?(t=si(),bu=3):t===ti?(t=si(),bu=4):bu=t===Ma?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,Eu=t,null===yu&&(_u=1,Oa(e,Kr(t,e.current)))}function ic(){var e=Di.current;return null===e||((4194048&vu)===vu?null===Li:!!((62914560&vu)===vu||536870912&vu)&&e===Li)}function lc(){var e=L.H;return L.H=ya,null===e?ya:e}function ac(){var e=L.A;return L.A=fu,e}function sc(){_u=4,Su||(4194048&vu)!==vu&&null!==Di.current||(wu=!0),!(134217727&ku)&&!(134217727&Au)||null===gu||ec(gu,vu,Ou,!1)}function uc(e,t,n){var r=mu;mu|=2;var o=lc(),i=ac();gu===e&&vu===t||(Uu=null,rc(e,t)),t=!1;var l=_u;e:for(;;)try{if(0!==bu&&null!==yu){var a=yu,s=Eu;switch(bu){case 8:nc(),l=6;break e;case 3:case 2:case 9:case 6:null===Di.current&&(t=!0);var u=bu;if(bu=0,Eu=null,hc(e,a,s,u),n&&wu){l=0;break e}break;default:u=bu,bu=0,Eu=null,hc(e,a,s,u)}}cc(),l=_u;break}catch(c){oc(e,c)}return t&&e.shellSuspendCounter++,Ao=ko=null,mu=r,L.H=o,L.A=i,null===yu&&(gu=null,vu=0,Pr()),l}function cc(){for(;null!==yu;)pc(yu)}function dc(){for(;null!==yu&&!se();)pc(yu)}function pc(e){var t=ss(e.alternate,e,Tu);e.memoizedProps=e.pendingProps,null===t?mc(e):yu=t}function fc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Wa(n,t,t.pendingProps,t.type,void 0,vu);break;case 11:t=Wa(n,t,t.pendingProps,t.type.render,t.ref,vu);break;case 5:ul(t);default:ys(n,t),t=ss(n,t=yu=Gr(t,Tu),Tu)}e.memoizedProps=e.pendingProps,null===t?mc(e):yu=t}function hc(e,t,n,o){Ao=ko=null,ul(t),ci=null,di=0;var i=t.return;try{if(function(e,t,n,o,i){if(n.flags|=32768,null!==o&&"object"==typeof o&&"function"==typeof o.then){if(null!==(t=n.alternate)&&Po(t,n,i,!0),null!==(n=Di.current)){switch(n.tag){case 31:case 13:return null===Li?sc():null===n.alternate&&0===_u&&(_u=3),n.flags&=-257,n.flags|=65536,n.lanes=i,o===ri?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([o]):t.add(o),kc(e,o,i)),!1;case 22:return n.flags|=65536,o===ri?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([o]):n.add(o),kc(e,o,i)),!1}throw Error(r(435,n.tag))}return kc(e,o,i),sc(),!1}if(ho)return null!==(t=Di.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,o!==yo&&To(Kr(e=Error(r(422),{cause:o}),n))):(o!==yo&&To(Kr(t=Error(r(423),{cause:o}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,o=Kr(o,n),Ti(e,i=Na(e.stateNode,o,i)),4!==_u&&(_u=2)),!1;var l=Error(r(520),{cause:o});if(l=Kr(l,n),null===Nu?Nu=[l]:Nu.push(l),4!==_u&&(_u=2),null===t)return!0;o=Kr(o,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Ti(n,e=Na(n.stateNode,o,e)),!1;case 1:if(t=n.type,l=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===l||"function"!=typeof l.componentDidCatch||null!==ju&&ju.has(l))))return n.flags|=65536,i&=-i,n.lanes|=i,Ra(i=Pa(i),e,n,o),Ti(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,vu))return _u=1,Oa(e,Kr(n,e.current)),void(yu=null)}catch(l){if(null!==i)throw yu=i,l;return _u=1,Oa(e,Kr(n,e.current)),void(yu=null)}32768&t.flags?(ho||1===o?e=!0:wu||536870912&vu?e=!1:(Su=e=!0,(2===o||9===o||3===o||6===o)&&(null!==(o=Di.current)&&13===o.tag&&(o.flags|=16384))),gc(t,e)):mc(t)}function mc(e){var t=e;do{if(32768&t.flags)return void gc(t,Su);e=t.return;var n=ms(t.alternate,t,Tu);if(null!==n)return void(yu=n);if(null!==(t=t.sibling))return void(yu=t);yu=t=e}while(null!==t);0===_u&&(_u=5)}function gc(e,t){do{var n=gs(e.alternate,e);if(null!==n)return n.flags&=32767,void(yu=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(yu=e);yu=e=n}while(null!==e);_u=6,yu=null}function yc(e,t,n,o,i,l,a,s,u){e.cancelPendingCommit=null;do{wc()}while(0!==Fu);if(6&mu)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(l=t.lanes|t.childLanes,function(e,t,n,r,o,i){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,s=e.expirationTimes,u=e.hiddenUpdates;for(n=l&~n;0<n;){var c=31-we(n),d=1<<c;a[c]=0,s[c]=-1;var p=u[c];if(null!==p)for(u[c]=null,c=0;c<p.length;c++){var f=p[c];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&De(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(l&~t))}(e,n,l|=Nr,a,s,u),e===gu&&(yu=gu=null,vu=0),zu=t,qu=e,Hu=n,Gu=l,Vu=i,Bu=o,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,le(he,function(){return Cc(),null})):(e.callbackNode=null,e.callbackPriority=0),o=!!(13878&t.flags),13878&t.subtreeFlags||o){o=L.T,L.T=null,i=U.p,U.p=2,a=mu,mu|=4;try{!function(e,t){if(e=e.containerInfo,gd=Sp,lr(e=ir(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var o=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(o&&0!==o.rangeCount){n=o.anchorNode;var i=o.anchorOffset,l=o.focusNode;o=o.focusOffset;try{n.nodeType,l.nodeType}catch(g){n=null;break e}var a=0,s=-1,u=-1,c=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==i&&3!==p.nodeType||(s=a+i),p!==l||0!==o&&3!==p.nodeType||(u=a+o),3===p.nodeType&&(a+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++c===i&&(s=a),f===l&&++d===o&&(u=a),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===s||-1===u?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(yd={focusedElem:e,selectionRange:n},Sp=!1,Ds=t;null!==Ds;)if(e=(t=Ds).child,1028&t.subtreeFlags&&null!==e)e.return=t,Ds=e;else for(;null!==Ds;){switch(l=(t=Ds).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==l){e=void 0,n=t,i=l.memoizedProps,l=l.memoizedState,o=n.stateNode;try{var m=_a(n.type,i);e=o.getSnapshotBeforeUpdate(m,l),o.__reactInternalSnapshotBeforeUpdate=e}catch(y){_c(n,n.return,y)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Nd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,Ds=e;break}Ds=t.return}}(e,t)}finally{mu=a,U.p=i,L.T=o}}Fu=1,vc(),bc(),Ec()}}function vc(){if(1===Fu){Fu=0;var e=qu,t=zu,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=L.T,L.T=null;var r=U.p;U.p=2;var o=mu;mu|=4;try{Ws(t,e);var i=yd,l=ir(e.containerInfo),a=i.focusedElem,s=i.selectionRange;if(l!==a&&a&&a.ownerDocument&&or(a.ownerDocument.documentElement,a)){if(null!==s&&lr(a)){var u=s.start,c=s.end;if(void 0===c&&(c=u),"selectionStart"in a)a.selectionStart=u,a.selectionEnd=Math.min(c,a.value.length);else{var d=a.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var f=p.getSelection(),h=a.textContent.length,m=Math.min(s.start,h),g=void 0===s.end?m:Math.min(s.end,h);!f.extend&&m>g&&(l=g,g=m,m=l);var y=rr(a,m),v=rr(a,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=a;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof a.focus&&a.focus(),a=0;a<d.length;a++){var E=d[a];E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}Sp=!!gd,yd=gd=null}finally{mu=o,U.p=r,L.T=n}}e.current=t,Fu=2}}function bc(){if(2===Fu){Fu=0;var e=qu,t=zu,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=L.T,L.T=null;var r=U.p;U.p=2;var o=mu;mu|=4;try{Ls(e,t.alternate,t)}finally{mu=o,U.p=r,L.T=n}}Fu=3}}function Ec(){if(4===Fu||3===Fu){Fu=0,ue();var e=qu,t=zu,n=Hu,r=Bu;10256&t.subtreeFlags||10256&t.flags?Fu=5:(Fu=0,zu=qu=null,Sc(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(ju=null),Fe(n),t=t.stateNode,Ee&&"function"==typeof Ee.onCommitFiberRoot)try{Ee.onCommitFiberRoot(be,t,void 0,!(128&~t.current.flags))}catch(s){}if(null!==r){t=L.T,o=U.p,U.p=2,L.T=null;try{for(var i=e.onRecoverableError,l=0;l<r.length;l++){var a=r[l];i(a.value,{componentStack:a.stack})}}finally{L.T=t,U.p=o}}3&Hu&&wc(),Uc(e),o=e.pendingLanes,261930&n&&42&o?e===Wu?Ju++:(Ju=0,Wu=e):Ju=0,jc(0)}}function Sc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Go(t)))}function wc(){return vc(),bc(),Ec(),Cc()}function Cc(){if(5!==Fu)return!1;var e=qu,t=Gu;Gu=0;var n=Fe(Hu),o=L.T,i=U.p;try{U.p=32>n?32:n,L.T=null,n=Vu,Vu=null;var l=qu,a=Hu;if(Fu=0,zu=qu=null,Hu=0,6&mu)throw Error(r(331));var s=mu;if(mu|=4,cu(l.current),nu(l,l.current,a,n),mu=s,jc(0,!1),Ee&&"function"==typeof Ee.onPostCommitFiberRoot)try{Ee.onPostCommitFiberRoot(be,l)}catch(u){}return!0}finally{U.p=i,L.T=o,Sc(e,t)}}function Tc(e,t,n){t=Kr(n,t),null!==(e=wi(e,t=Na(e.stateNode,t,2),2))&&(Me(e,2),Uc(e))}function _c(e,t,n){if(3===e.tag)Tc(e,e,n);else for(;null!==t;){if(3===t.tag){Tc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ju||!ju.has(r))){e=Kr(n,e),null!==(r=wi(t,n=Pa(2),2))&&(Ra(n,r,t,e),Me(r,2),Uc(r));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hu;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(Cu=!0,o.add(n),e=Ac.bind(null,e,t,n),t.then(e,e))}function Ac(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,gu===e&&(vu&n)===n&&(4===_u||3===_u&&(62914560&vu)===vu&&300>ce()-Mu?!(2&mu)&&rc(e,0):Iu|=n,xu===vu&&(xu=0)),Uc(e)}function Ic(e,t){0===t&&(t=Pe()),null!==(e=Dr(e,t))&&(Me(e,t),Uc(e))}function Oc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function xc(e,t){var n=0;switch(e.tag){case 31:case 13:var o=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==o&&o.delete(t),Ic(e,n)}var Nc=null,Pc=null,Rc=!1,Mc=!1,Dc=!1,Lc=0;function Uc(e){e!==Pc&&null===e.next&&(null===Pc?Nc=Pc=e:Pc=Pc.next=e),Mc=!0,Rc||(Rc=!0,kd(function(){6&mu?le(pe,Fc):qc()}))}function jc(e,t){if(!Dc&&Mc){Dc=!0;do{for(var n=!1,r=Nc;null!==r;){if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var l=r.suspendedLanes,a=r.pingedLanes;i=(1<<31-we(42|e)+1)-1,i=201326741&(i&=o&~(l&~a))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Gc(r,i))}else i=vu,!(3&(i=Oe(r,r===gu?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,i)||(n=!0,Gc(r,i));r=r.next}}while(n);Dc=!1}}function Fc(){qc()}function qc(){Mc=Rc=!1;var e=0;0!==Lc&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==wd&&(wd=e,!0);return wd=null,!1}()&&(e=Lc);for(var t=ce(),n=null,r=Nc;null!==r;){var o=r.next,i=zc(r,t);0===i?(r.next=null,null===n?Nc=o:n.next=o,null===o&&(Pc=n)):(n=r,(0!==e||3&i)&&(Mc=!0)),r=o}0!==Fu&&5!==Fu||jc(e),0!==Lc&&(Lc=0)}function zc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var l=31-we(i),a=1<<l,s=o[l];-1===s?0!==(a&n)&&0===(a&r)||(o[l]=Ne(a,t)):s<=t&&(e.expiredLanes|=a),i&=~a}if(n=vu,n=Oe(e,e===(t=gu)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===bu||9===bu)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ae(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ae(r),Fe(n)){case 2:case 8:n=fe;break;case 32:default:n=he;break;case 268435456:n=ge}return r=Hc.bind(null,e),n=le(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ae(r),e.callbackPriority=2,e.callbackNode=null,2}function Hc(e,t){if(0!==Fu&&5!==Fu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=vu;return 0===(r=Oe(e,e===gu?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Qu(e,r,t),zc(e,ce()),null!=e.callbackNode&&e.callbackNode===n?Hc.bind(null,e):null)}function Gc(e,t){if(wc())return null;Qu(e,t,!0)}function Vc(){if(0===Lc){var e=Jo;0===e&&(e=_e,!(261888&(_e<<=1))&&(_e=256)),Lc=e}return Lc}function Bc(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Rt(""+e)}function Jc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Wc=0;Wc<kr.length;Wc++){var $c=kr[Wc];Ar($c.toLowerCase(),"on"+($c[0].toUpperCase()+$c.slice(1)))}Ar(vr,"onAnimationEnd"),Ar(br,"onAnimationIteration"),Ar(Er,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Sr,"onTransitionRun"),Ar(wr,"onTransitionStart"),Ar(Cr,"onTransitionCancel"),Ar(Tr,"onTransitionEnd"),lt("onMouseEnter",["mouseout","mouseover"]),lt("onMouseLeave",["mouseout","mouseover"]),lt("onPointerEnter",["pointerout","pointerover"]),lt("onPointerLeave",["pointerout","pointerover"]),it("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),it("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),it("onBeforeInput",["compositionend","keypress","textInput","paste"]),it("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yc));function Qc(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var a=r[l],s=a.instance,u=a.currentTarget;if(a=a.listener,s!==i&&o.isPropagationStopped())break e;i=a,o.currentTarget=u;try{i(o)}catch(c){Ir(c)}o.currentTarget=null,i=s}else for(l=0;l<r.length;l++){if(s=(a=r[l]).instance,u=a.currentTarget,a=a.listener,s!==i&&o.isPropagationStopped())break e;i=a,o.currentTarget=u;try{i(o)}catch(c){Ir(c)}o.currentTarget=null,i=s}}}}function Xc(e,t){var n=t[Je];void 0===n&&(n=t[Je]=new Set);var r=e+"__bubble";n.has(r)||(nd(t,e,2,!1),n.add(r))}function Zc(e,t,n){var r=0;t&&(r|=4),nd(n,e,r,t)}var ed="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[ed]){e[ed]=!0,rt.forEach(function(t){"selectionchange"!==t&&(Kc.has(t)||Zc(t,!1,e),Zc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ed]||(t[ed]=!0,Zc("selectionchange",!1,t))}}function nd(e,t,n,r){switch(Ip(t)){case 2:var o=wp;break;case 8:o=Cp;break;default:o=Tp}n=o.bind(null,t,n,e),o=void 0,!Vt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function rd(e,t,n,r,o){var l=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&a.stateNode.containerInfo===o)return;a=a.return}for(;null!==s;){if(null===(a=Xe(s)))return;if(5===(u=a.tag)||6===u||26===u||27===u){r=l=a;continue e}s=s.parentNode}}r=r.return}zt(function(){var r=l,o=Lt(n),a=[];e:{var s=_r.get(e);if(void 0!==s){var u=on,c=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":u=En;break;case"focusin":c="focus",u=dn;break;case"focusout":c="blur",u=dn;break;case"beforeblur":case"afterblur":u=dn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=cn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=wn;break;case vr:case br:case Er:u=pn;break;case Tr:u=Cn;break;case"scroll":case"scrollend":u=an;break;case"wheel":u=Tn;break;case"copy":case"cut":case"paste":u=fn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Sn;break;case"toggle":case"beforetoggle":u=_n}var d=!!(4&t),p=!d&&("scroll"===e||"scrollend"===e),f=d?null!==s?s+"Capture":null:s;d=[];for(var h,m=r;null!==m;){var g=m;if(h=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===h||null===f||null!=(g=Ht(m,f))&&d.push(od(m,g,h)),p)break;m=m.return}0<d.length&&(s=new u(s,c,null,n,o),a.push({event:s,listeners:d}))}}if(!(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Dt||!(c=n.relatedTarget||n.fromElement)||!Xe(c)&&!c[Be])&&(u||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Xe(c):null)&&(p=i(c),d=c.tag,c!==p||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=r),u!==c)){if(d=un,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=Sn,g="onPointerLeave",f="onPointerEnter",m="pointer"),p=null==u?s:et(u),h=null==c?s:et(c),(s=new d(g,m+"leave",u,n,o)).target=p,s.relatedTarget=h,g=null,Xe(o)===r&&((d=new d(f,m+"enter",c,n,o)).target=h,d.relatedTarget=p,g=d),p=g,u&&c)e:{for(d=ld,m=c,h=0,g=f=u;g;g=d(g))h++;g=0;for(var y=m;y;y=d(y))g++;for(;0<h-g;)f=d(f),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==u&&ad(a,s,u,d,!1),null!==c&&null!==p&&ad(a,p,c,d,!0)}if("select"===(u=(s=r?et(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Gn;else if(Un(s))if(Vn)v=Zn;else{v=Qn;var b=Kn}else!(u=s.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&xt(r.elementType)&&(v=Gn):v=Xn;switch(v&&(v=v(e,r))?jn(a,v,n,o):(b&&b(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&wt(s,"number",s.value)),b=r?et(r):window,e){case"focusin":(Un(b)||"true"===b.contentEditable)&&(sr=b,ur=r,cr=null);break;case"focusout":cr=ur=sr=null;break;case"mousedown":dr=!0;break;case"contextmenu":case"mouseup":case"dragend":dr=!1,pr(a,n,o);break;case"selectionchange":if(ar)break;case"keydown":case"keyup":pr(a,n,o)}var E;if(An)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Dn?Rn(e,n)&&(S="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(S="onCompositionStart");S&&(xn&&"ko"!==n.locale&&(Dn||"onCompositionStart"!==S?"onCompositionEnd"===S&&Dn&&(E=Yt()):(Wt="value"in(Jt=o)?Jt.value:Jt.textContent,Dn=!0)),0<(b=id(r,S)).length&&(S=new hn(S,e,null,n,o),a.push({event:S,listeners:b}),E?S.data=E:null!==(E=Mn(n))&&(S.data=E))),(E=On?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(Pn=!0,Nn);case"textInput":return(e=t.data)===Nn&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Dn)return"compositionend"===e||!An&&Rn(e,t)?(e=Yt(),$t=Wt=Jt=null,Dn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(S=id(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,o),a.push({event:b,listeners:S}),b.data=E)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=Bc((o[Ve]||null).action),l=r.submitter;l&&null!==(t=(t=l[Ve]||null)?Bc(t.formAction):l.getAttribute("formAction"))&&(i=t,l=null);var a=new on("action","action",null,r,o);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Lc){var e=l?Jc(o,l):new FormData(o);ra(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"==typeof i&&(a.preventDefault(),e=l?Jc(o,l):new FormData(o),ra(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(a,e,r,n,o)}Qc(a,t)})}function od(e,t,n){return{instance:e,listener:t,currentTarget:n}}function id(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=Ht(e,n))&&r.unshift(od(e,o,i)),null!=(o=Ht(e,t))&&r.push(od(e,o,i))),3===e.tag)return r;e=e.return}return[]}function ld(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ad(e,t,n,r,o){for(var i=t._reactName,l=[];null!==n&&n!==r;){var a=n,s=a.alternate,u=a.stateNode;if(a=a.tag,null!==s&&s===r)break;5!==a&&26!==a&&27!==a||null===u||(s=u,o?null!=(u=Ht(n,i))&&l.unshift(od(n,u,s)):o||null!=(u=Ht(n,i))&&l.push(od(n,u,s))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var sd=/\r\n?/g,ud=/\u0000|\uFFFD/g;function cd(e){return("string"==typeof e?e:""+e).replace(sd,"\n").replace(ud,"")}function dd(e,t){return t=cd(t),cd(e)===t}function pd(e,t,n,o,i,l){switch(n){case"children":"string"==typeof o?"body"===t||"textarea"===t&&""===o||kt(e,o):("number"==typeof o||"bigint"==typeof o)&&"body"!==t&&kt(e,""+o);break;case"className":dt(e,"class",o);break;case"tabIndex":dt(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dt(e,n,o);break;case"style":Ot(e,o,l);break;case"data":if("object"!==t){dt(e,"data",o);break}case"src":case"href":if(""===o&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==o||"function"==typeof o||"symbol"==typeof o||"boolean"==typeof o){e.removeAttribute(n);break}o=Rt(""+o),e.setAttribute(n,o);break;case"action":case"formAction":if("function"==typeof o){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof l&&("formAction"===n?("input"!==t&&pd(e,t,"name",i.name,i,null),pd(e,t,"formEncType",i.formEncType,i,null),pd(e,t,"formMethod",i.formMethod,i,null),pd(e,t,"formTarget",i.formTarget,i,null)):(pd(e,t,"encType",i.encType,i,null),pd(e,t,"method",i.method,i,null),pd(e,t,"target",i.target,i,null))),null==o||"symbol"==typeof o||"boolean"==typeof o){e.removeAttribute(n);break}o=Rt(""+o),e.setAttribute(n,o);break;case"onClick":null!=o&&(e.onclick=Mt);break;case"onScroll":null!=o&&Xc("scroll",e);break;case"onScrollEnd":null!=o&&Xc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=o){if("object"!=typeof o||!("__html"in o))throw Error(r(61));if(null!=(n=o.__html)){if(null!=i.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=o&&"function"!=typeof o&&"symbol"!=typeof o;break;case"muted":e.muted=o&&"function"!=typeof o&&"symbol"!=typeof o;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==o||"function"==typeof o||"boolean"==typeof o||"symbol"==typeof o){e.removeAttribute("xlink:href");break}n=Rt(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=o&&"function"!=typeof o&&"symbol"!=typeof o?e.setAttribute(n,""+o):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&"function"!=typeof o&&"symbol"!=typeof o?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===o?e.setAttribute(n,""):!1!==o&&null!=o&&"function"!=typeof o&&"symbol"!=typeof o?e.setAttribute(n,o):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&!isNaN(o)&&1<=o?e.setAttribute(n,o):e.removeAttribute(n);break;case"rowSpan":case"start":null==o||"function"==typeof o||"symbol"==typeof o||isNaN(o)?e.removeAttribute(n):e.setAttribute(n,o);break;case"popover":Xc("beforetoggle",e),Xc("toggle",e),ct(e,"popover",o);break;case"xlinkActuate":pt(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":pt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":pt(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":pt(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":pt(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":pt(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":pt(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":pt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":pt(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ct(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ct(e,n=Nt.get(n)||n,o)}}function fd(e,t,n,o,i,l){switch(n){case"style":Ot(e,o,l);break;case"dangerouslySetInnerHTML":if(null!=o){if("object"!=typeof o||!("__html"in o))throw Error(r(61));if(null!=(n=o.__html)){if(null!=i.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof o?kt(e,o):("number"==typeof o||"bigint"==typeof o)&&kt(e,""+o);break;case"onScroll":null!=o&&Xc("scroll",e);break;case"onScrollEnd":null!=o&&Xc("scrollend",e);break;case"onClick":null!=o&&(e.onclick=Mt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:ot.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"==typeof(l=null!=(l=e[Ve]||null)?l[n]:null)&&e.removeEventListener(t,l,i),"function"!=typeof o)?n in e?e[n]=o:!0===o?e.setAttribute(n,""):ct(e,n,o):("function"!=typeof l&&null!==l&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,o,i)))}}function hd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xc("error",e),Xc("load",e);var o,i=!1,l=!1;for(o in n)if(n.hasOwnProperty(o)){var a=n[o];if(null!=a)switch(o){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:pd(e,t,o,a,n,null)}}return l&&pd(e,t,"srcSet",n.srcSet,n,null),void(i&&pd(e,t,"src",n.src,n,null));case"input":Xc("invalid",e);var s=o=a=l=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":l=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":o=d;break;case"defaultValue":s=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:pd(e,t,i,d,n,null)}}return void St(e,o,s,u,c,a,l,!1);case"select":for(l in Xc("invalid",e),i=a=o=null,n)if(n.hasOwnProperty(l)&&null!=(s=n[l]))switch(l){case"value":o=s;break;case"defaultValue":a=s;break;case"multiple":i=s;default:pd(e,t,l,s,n,null)}return t=o,n=a,e.multiple=!!i,void(null!=t?Ct(e,!!i,t,!1):null!=n&&Ct(e,!!i,n,!0));case"textarea":for(a in Xc("invalid",e),o=l=i=null,n)if(n.hasOwnProperty(a)&&null!=(s=n[a]))switch(a){case"value":i=s;break;case"defaultValue":l=s;break;case"children":o=s;break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(r(91));break;default:pd(e,t,a,s,n,null)}return void _t(e,i,l,o);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))if("selected"===u)e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i;else pd(e,t,u,i,n,null);return;case"dialog":Xc("beforetoggle",e),Xc("toggle",e),Xc("cancel",e),Xc("close",e);break;case"iframe":case"object":Xc("load",e);break;case"video":case"audio":for(i=0;i<Yc.length;i++)Xc(Yc[i],e);break;case"image":Xc("error",e),Xc("load",e);break;case"details":Xc("toggle",e);break;case"embed":case"source":case"link":Xc("error",e),Xc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:pd(e,t,c,i,n,null)}return;default:if(xt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&fd(e,t,d,i,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(null!=(i=n[s])&&pd(e,t,s,i,n,null))}function md(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var gd=null,yd=null;function vd(e){return 9===e.nodeType?e:e.ownerDocument}function bd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ed(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Sd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wd=null;var Cd="function"==typeof setTimeout?setTimeout:void 0,Td="function"==typeof clearTimeout?clearTimeout:void 0,_d="function"==typeof Promise?Promise:void 0,kd="function"==typeof queueMicrotask?queueMicrotask:void 0!==_d?function(e){return _d.resolve(null).then(e).catch(Ad)}:Cd;function Ad(e){setTimeout(function(){throw e})}function Id(e){return"head"===e}function Od(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)||"/&"===n){if(0===r)return e.removeChild(o),void Jp(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)qd(e.ownerDocument.documentElement);else if("head"===n){qd(n=e.ownerDocument.head);for(var i=n.firstChild;i;){var l=i.nextSibling,a=i.nodeName;i[Ke]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=l}}else"body"===n&&qd(e.ownerDocument.body);n=o}while(n);Jp(t)}function xd(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Nd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Nd(n),Qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Pd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Dd(e.nextSibling)))return null}return e}function Rd(e){return"$?"===e.data||"$~"===e.data}function Md(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Dd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Ld=null;function Ud(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Dd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function jd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Fd(e,t,n){switch(t=vd(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function qd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Qe(e)}var zd=new Map,Hd=new Set;function Gd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Vd=U.d;U.d={f:function(){var e=Vd.f(),t=tc();return e||t},r:function(e){var t=Ze(e);null!==t&&5===t.tag&&"form"===t.type?ia(t):Vd.r(e)},D:function(e){Vd.D(e),Jd("dns-prefetch",e,null)},C:function(e,t){Vd.C(e,t),Jd("preconnect",e,t)},L:function(e,t,n){Vd.L(e,t,n);var r=Bd;if(r&&e&&t){var o='link[rel="preload"][as="'+bt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+bt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(o+='[imagesizes="'+bt(n.imageSizes)+'"]')):o+='[href="'+bt(e)+'"]';var i=o;switch(t){case"style":i=$d(e);break;case"script":i=Qd(e)}zd.has(i)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),zd.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Yd(i))||"script"===t&&r.querySelector(Xd(i))||(hd(t=r.createElement("link"),"link",e),nt(t),r.head.appendChild(t)))}},m:function(e,t){Vd.m(e,t);var n=Bd;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+bt(r)+'"][href="'+bt(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Qd(e)}if(!zd.has(i)&&(e=p({rel:"modulepreload",href:e},t),zd.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xd(i)))return}hd(r=n.createElement("link"),"link",e),nt(r),n.head.appendChild(r)}}},X:function(e,t){Vd.X(e,t);var n=Bd;if(n&&e){var r=tt(n).hoistableScripts,o=Qd(e),i=r.get(o);i||((i=n.querySelector(Xd(o)))||(e=p({src:e,async:!0},t),(t=zd.get(o))&&np(e,t),nt(i=n.createElement("script")),hd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){Vd.S(e,t,n);var r=Bd;if(r&&e){var o=tt(r).hoistableStyles,i=$d(e);t=t||"default";var l=o.get(i);if(!l){var a={loading:0,preload:null};if(l=r.querySelector(Yd(i)))a.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=zd.get(i))&&tp(e,n);var s=l=r.createElement("link");nt(s),hd(s,"link",e),s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),s.addEventListener("load",function(){a.loading|=1}),s.addEventListener("error",function(){a.loading|=2}),a.loading|=4,ep(l,t,r)}l={type:"stylesheet",instance:l,count:1,state:a},o.set(i,l)}}},M:function(e,t){Vd.M(e,t);var n=Bd;if(n&&e){var r=tt(n).hoistableScripts,o=Qd(e),i=r.get(o);i||((i=n.querySelector(Xd(o)))||(e=p({src:e,async:!0,type:"module"},t),(t=zd.get(o))&&np(e,t),nt(i=n.createElement("script")),hd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var Bd="undefined"==typeof document?null:document;function Jd(e,t,n){var r=Bd;if(r&&"string"==typeof t&&t){var o=bt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"==typeof n&&(o+='[crossorigin="'+n+'"]'),Hd.has(o)||(Hd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(hd(t=r.createElement("link"),"link",e),nt(t),r.head.appendChild(t)))}}function Wd(e,t,n,o){var i,l,a,s,u=(u=$.current)?Gd(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=$d(n.href),(o=(n=tt(u).hoistableStyles).get(t))||(o={type:"style",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=$d(n.href);var c=tt(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Yd(e)))&&!c._p&&(d.instance=c,d.state.loading=5),zd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},zd.set(e,n),c||(i=u,l=e,a=n,s=d.state,i.querySelector('link[rel="preload"][as="style"]['+l+"]")?s.loading=1:(l=i.createElement("link"),s.preload=l,l.addEventListener("load",function(){return s.loading|=1}),l.addEventListener("error",function(){return s.loading|=2}),hd(l,"link",a),nt(l),i.head.appendChild(l))))),t&&null===o)throw Error(r(528,""));return d}if(t&&null!==o)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Qd(n),(o=(n=tt(u).hoistableScripts).get(t))||(o={type:"script",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function $d(e){return'href="'+bt(e)+'"'}function Yd(e){return'link[rel="stylesheet"]['+e+"]"}function Kd(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Qd(e){return'[src="'+bt(e)+'"]'}function Xd(e){return"script[async]"+e}function Zd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+bt(n.href)+'"]');if(o)return t.instance=o,nt(o),o;var i=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return nt(o=(e.ownerDocument||e).createElement("style")),hd(o,"style",i),ep(o,n.precedence,e),t.instance=o;case"stylesheet":i=$d(n.href);var l=e.querySelector(Yd(i));if(l)return t.state.loading|=4,t.instance=l,nt(l),l;o=Kd(n),(i=zd.get(i))&&tp(o,i),nt(l=(e.ownerDocument||e).createElement("link"));var a=l;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),hd(l,"link",o),t.state.loading|=4,ep(l,n.precedence,e),t.instance=l;case"script":return l=Qd(n.src),(i=e.querySelector(Xd(l)))?(t.instance=i,nt(i),i):(o=n,(i=zd.get(l))&&np(o=p({},n),i),nt(i=(e=e.ownerDocument||e).createElement("script")),hd(i,"link",o),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(o=t.instance,t.state.loading|=4,ep(o,n.precedence,e));return t.instance}function ep(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,l=0;l<r.length;l++){var a=r[l];if(a.dataset.precedence===t)i=a;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function tp(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function np(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var rp=null;function op(e,t,n){if(null===rp){var r=new Map,o=rp=new Map;o.set(n,r)}else(r=(o=rp).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[Ke]||i[Ge]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var l=i.getAttribute(t)||"";l=e+l;var a=r.get(l);a?a.push(i):r.set(l,[i])}}return r}function ip(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function lp(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var ap=0;function sp(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)cp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var up=null;function cp(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,up=new Map,t.forEach(dp,e),up=null,sp.call(e))}function dp(e,t){if(!(4&t.state.loading)){var n=up.get(e);if(n)var r=n.get(null);else{n=new Map,up.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var l=o[i];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(n.set(l.dataset.precedence,l),r=l)}r&&n.set(null,r)}l=(o=t.instance).getAttribute("data-precedence"),(i=n.get(l)||r)===r&&n.set(null,o),n.set(l,o),this.count++,r=sp.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var pp={$$typeof:S,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function fp(e,t,n,r,o,i,l,a,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.hiddenUpdates=Re(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function hp(e,t,n,r,o,i,l,a,s,u,c,d){return e=new fp(e,t,n,l,s,u,c,d,a),t=1,!0===i&&(t|=24),i=qr(3,null,null,t),e.current=i,i.stateNode=e,(t=Ho()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},bi(i),e}function mp(e){return e?e=jr:jr}function gp(e,t,n,r,o,i){o=mp(o),null===r.context?r.context=o:r.pendingContext=o,(r=Si(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=wi(e,r,t))&&(Ku(n,0,t),Ci(n,e,t))}function yp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function vp(e,t){yp(e,t),(e=e.alternate)&&yp(e,t)}function bp(e){if(13===e.tag||31===e.tag){var t=Dr(e,67108864);null!==t&&Ku(t,0,67108864),vp(e,67108864)}}function Ep(e){if(13===e.tag||31===e.tag){var t=$u(),n=Dr(e,t=je(t));null!==n&&Ku(n,0,t),vp(e,t)}}var Sp=!0;function wp(e,t,n,r){var o=L.T;L.T=null;var i=U.p;try{U.p=2,Tp(e,t,n,r)}finally{U.p=i,L.T=o}}function Cp(e,t,n,r){var o=L.T;L.T=null;var i=U.p;try{U.p=8,Tp(e,t,n,r)}finally{U.p=i,L.T=o}}function Tp(e,t,n,r){if(Sp){var o=_p(r);if(null===o)rd(e,t,r,kp,n),Up(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return xp=jp(xp,e,t,n,r,o),!0;case"dragenter":return Np=jp(Np,e,t,n,r,o),!0;case"mouseover":return Pp=jp(Pp,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Rp.set(i,jp(Rp.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Mp.set(i,jp(Mp.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Up(e,r),4&t&&-1<Lp.indexOf(e)){for(;null!==o;){var i=Ze(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var l=Ie(i.pendingLanes);if(0!==l){var a=i;for(a.pendingLanes|=2,a.entangledLanes|=2;l;){var s=1<<31-we(l);a.entanglements[1]|=s,l&=~s}Uc(i),!(6&mu)&&(Lu=ce()+500,jc(0))}}break;case 31:case 13:null!==(a=Dr(i,2))&&Ku(a,0,2),tc(),vp(i,2)}if(null===(i=_p(r))&&rd(e,t,r,kp,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else rd(e,t,r,null,n)}}function _p(e){return Ap(e=Lt(e))}var kp=null;function Ap(e){if(kp=null,null!==(e=Xe(e))){var t=i(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=l(t)))return e;e=null}else if(31===n){if(null!==(e=a(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return kp=e,null}function Ip(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case pe:return 2;case fe:return 8;case he:case me:return 32;case ge:return 268435456;default:return 32}default:return 32}}var Op=!1,xp=null,Np=null,Pp=null,Rp=new Map,Mp=new Map,Dp=[],Lp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Up(e,t){switch(e){case"focusin":case"focusout":xp=null;break;case"dragenter":case"dragleave":Np=null;break;case"mouseover":case"mouseout":Pp=null;break;case"pointerover":case"pointerout":Rp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mp.delete(t.pointerId)}}function jp(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=Ze(t))&&bp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Fp(e){var t=Xe(e.target);if(null!==t){var n=i(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=l(n)))return e.blockedOn=t,void ze(e.priority,function(){Ep(n)})}else if(31===t){if(null!==(t=a(n)))return e.blockedOn=t,void ze(e.priority,function(){Ep(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function qp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=_p(e.nativeEvent);if(null!==n)return null!==(t=Ze(n))&&bp(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Dt=r,n.target.dispatchEvent(r),Dt=null,t.shift()}return!0}function zp(e,t,n){qp(e)&&n.delete(t)}function Hp(){Op=!1,null!==xp&&qp(xp)&&(xp=null),null!==Np&&qp(Np)&&(Np=null),null!==Pp&&qp(Pp)&&(Pp=null),Rp.forEach(zp),Mp.forEach(zp)}function Gp(t,n){t.blockedOn===n&&(t.blockedOn=null,Op||(Op=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hp)))}var Vp=null;function Bp(t){Vp!==t&&(Vp=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Vp===t&&(Vp=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],o=t[e+2];if("function"!=typeof r){if(null===Ap(r||n))continue;break}var i=Ze(n);null!==i&&(t.splice(e,3),e-=3,ra(i,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function Jp(e){function t(t){return Gp(t,e)}null!==xp&&Gp(xp,e),null!==Np&&Gp(Np,e),null!==Pp&&Gp(Pp,e),Rp.forEach(t),Mp.forEach(t);for(var n=0;n<Dp.length;n++){var r=Dp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Dp.length&&null===(n=Dp[0]).blockedOn;)Fp(n),null===n.blockedOn&&Dp.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],l=o[Ve]||null;if("function"==typeof i)l||Bp(n);else if(l){var a=null;if(i&&i.hasAttribute("formAction")){if(o=i,l=i[Ve]||null)a=l.formAction;else if(null!==Ap(o))continue}else a=l.action;"function"==typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Bp(n)}}}function Wp(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return o=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==o&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==o&&(o(),o=null)}}}function $p(e){this._internalRoot=e}function Yp(e){this._internalRoot=e}Yp.prototype.render=$p.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));gp(t.current,$u(),e,t,null,null)},Yp.prototype.unmount=$p.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gp(e.current,2,null,e,null,null),tc(),t[Be]=null}},Yp.prototype.unstable_scheduleHydration=function(e){if(e){var t=qe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dp.length&&0!==t&&t<Dp[n].priority;n++);Dp.splice(n,0,e),0===n&&Fp(e)}};var Kp=t.version;if("19.2.0"!==Kp)throw Error(r(527,Kp,"19.2.0"));U.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=i(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,o=t;;){var l=n.return;if(null===l)break;var a=l.alternate;if(null===a){if(null!==(o=l.return)){n=o;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return u(l),e;if(a===o)return u(l),t;a=a.sibling}throw Error(r(188))}if(n.return!==o.return)n=l,o=a;else{for(var s=!1,c=l.child;c;){if(c===n){s=!0,n=l,o=a;break}if(c===o){s=!0,o=l,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,o=l;break}if(c===o){s=!0,o=a,n=l;break}c=c.sibling}if(!s)throw Error(r(189))}}if(n.alternate!==o)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Qp={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Xp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xp.isDisabled&&Xp.supportsFiber)try{be=Xp.inject(Qp),Ee=Xp}catch(ef){}}return C.createRoot=function(e,t){if(!o(e))throw Error(r(299));var n=!1,i="",l=ka,a=Aa,s=Ia;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(l=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=hp(e,1,!1,null,0,n,i,null,l,a,s,Wp),e[Be]=t.current,td(e),new $p(t)},C.hydrateRoot=function(e,t,n){if(!o(e))throw Error(r(299));var i=!1,l="",a=ka,s=Aa,u=Ia,c=null;return null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(s=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.formState&&(c=n.formState)),(t=hp(e,1,!0,t,0,i,l,c,a,s,u,Wp)).context=mp(null),n=t.current,(l=Si(i=je(i=$u()))).callback=null,wi(n,l,i),n=i,t.current.lanes=n,Me(t,n),Uc(t),e[Be]=t.current,td(e),new Yp(t)},C.version="19.2.0",C}const I=u((S||(S=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),w.exports=A()),w.exports)),O={},x=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),o=n?.nonce||n?.getAttribute("nonce");r=e(t.map(e=>{if((e=function(e){return"/saga/"+e}(e))in O)return;O[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,o&&r.setAttribute("nonce",o),document.head.appendChild(r),t?new Promise((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function o(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&o(e.reason);return e().catch(o)})},N=new Set(["CONTENTS","TABLE OF CONTENTS","COVER","TITLE","AUTHOR","COPYRIGHT","DEDICATION","PUBLISHING HISTORY","ACKNOWLEDGMENTS","EPIGRAPH"]);function P(e){const t=new Set(["P","DIV","H1","H2","H3","H4","H5","H6","LI","BLOCKQUOTE","SECTION","ARTICLE"]),n=[];!function e(r){if(r.nodeType===Node.TEXT_NODE){const e=(r.textContent||"").replace(/\s+/g," ");e.trim().length>0&&n.push(e)}else if(r.nodeType===Node.ELEMENT_NODE){const o=r,i=o.tagName;if("BR"===i)return void n.push("\n");for(let t=0;t<o.childNodes.length;t++)e(o.childNodes[t]);t.has(i)&&n.push("\n\n")}}(e);let r=n.join("");r=r.replace(/ +/g," ");const o=r.split("\n").map(e=>e.trim()),i=[];for(let l=0;l<o.length;l++){const e=o[l];e.length>0?i.push(e):i.length>0&&l<o.length-1&&o[l+1].length>0&&""!==i[i.length-1]&&i.push("")}return r=i.join("\n"),r=r.replace(/\n{3,}/g,"\n\n"),r.trim()}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
let R,M;function D(e,t,n,r){var o,i;if(!(null==e?void 0:e.baseUrl)){const e={geminiUrl:R,vertexUrl:M};return t?null!==(o=e.vertexUrl)&&void 0!==o?o:n:null!==(i=e.geminiUrl)&&void 0!==i?i:r}return e.baseUrl}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L{}function U(e,t){return e.replace(/\{([^}]+)\}/g,(e,n)=>{if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n];return null!=e?String(e):""}throw new Error(`Key '${n}' not found in valueMap.`)})}function j(e,t,n){for(let i=0;i<t.length-1;i++){const r=t[i];if(r.endsWith("[]")){const o=r.slice(0,-2);if(!(o in e)){if(!Array.isArray(n))throw new Error(`Value must be a list given an array path ${r}`);e[o]=Array.from({length:n.length},()=>({}))}if(Array.isArray(e[o])){const r=e[o];if(Array.isArray(n))for(let e=0;e<r.length;e++){j(r[e],t.slice(i+1),n[e])}else for(const e of r)j(e,t.slice(i+1),n)}return}if(r.endsWith("[0]")){const o=r.slice(0,-3);o in e||(e[o]=[{}]);return void j(e[o][0],t.slice(i+1),n)}e[r]&&"object"==typeof e[r]||(e[r]={}),e=e[r]}const r=t[t.length-1],o=e[r];if(void 0!==o){if(!n||"object"==typeof n&&0===Object.keys(n).length)return;if(n===o)return;if("object"!=typeof o||"object"!=typeof n||null===o||null===n)throw new Error(`Cannot set value for an existing key. Key: ${r}`);Object.assign(o,n)}else if("_self"!==r||"object"!=typeof n||null===n||Array.isArray(n))e[r]=n;else{const t=n;Object.assign(e,t)}}function F(e,t,n=void 0){try{if(1===t.length&&"_self"===t[0])return e;for(let r=0;r<t.length;r++){if("object"!=typeof e||null===e)return n;const o=t[r];if(o.endsWith("[]")){const i=o.slice(0,-2);if(i in e){const o=e[i];return Array.isArray(o)?o.map(e=>F(e,t.slice(r+1),n)):n}return n}e=e[o]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function q(e,t,n,r,o){if(r>=t.length)return;if("object"!=typeof e||null===e)return;const i=t[r];if(i.endsWith("[]")){const l=i.slice(0,-2),a=e;if(l in a&&Array.isArray(a[l]))for(const e of a[l])q(e,t,n,r+1,o)}else if("*"===i){if("object"==typeof e&&null!==e&&!Array.isArray(e)){const t=e,i=Object.keys(t).filter(e=>!e.startsWith("_")&&!o.has(e)),l={};for(const e of i)l[e]=t[e];for(const[e,o]of Object.entries(l)){const i=[];for(const t of n.slice(r))"*"===t?i.push(e):i.push(t);j(t,i,o)}for(const e of i)delete t[e]}}else{i in e&&q(e[i],t,n,r+1,o)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z(e){if("string"!=typeof e)throw new Error("fromImageBytes must be a string");return e}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H(e){const t={},n=F(e,["name"]);null!=n&&j(t,["name"],n);const r=F(e,["metadata"]);null!=r&&j(t,["metadata"],r);const o=F(e,["done"]);null!=o&&j(t,["done"],o);const i=F(e,["error"]);null!=i&&j(t,["error"],i);const l=F(e,["response","generateVideoResponse"]);return null!=l&&j(t,["response"],function(e){const t={},n=F(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["video"]);null!=n&&j(t,["video"],function(e){const t={},n=F(e,["uri"]);null!=n&&j(t,["uri"],n);const r=F(e,["encodedVideo"]);null!=r&&j(t,["videoBytes"],z(r));const o=F(e,["encoding"]);null!=o&&j(t,["mimeType"],o);return t}(n));return t}(e))),j(t,["generatedVideos"],e)}const r=F(e,["raiMediaFilteredCount"]);null!=r&&j(t,["raiMediaFilteredCount"],r);const o=F(e,["raiMediaFilteredReasons"]);null!=o&&j(t,["raiMediaFilteredReasons"],o);return t}(l)),t}function G(e){const t={},n=F(e,["name"]);null!=n&&j(t,["name"],n);const r=F(e,["metadata"]);null!=r&&j(t,["metadata"],r);const o=F(e,["done"]);null!=o&&j(t,["done"],o);const i=F(e,["error"]);null!=i&&j(t,["error"],i);const l=F(e,["response"]);return null!=l&&j(t,["response"],function(e){const t={},n=F(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["_self"]);null!=n&&j(t,["video"],function(e){const t={},n=F(e,["gcsUri"]);null!=n&&j(t,["uri"],n);const r=F(e,["bytesBase64Encoded"]);null!=r&&j(t,["videoBytes"],z(r));const o=F(e,["mimeType"]);null!=o&&j(t,["mimeType"],o);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(n));return t}(e))),j(t,["generatedVideos"],e)}const r=F(e,["raiMediaFilteredCount"]);null!=r&&j(t,["raiMediaFilteredCount"],r);const o=F(e,["raiMediaFilteredReasons"]);null!=o&&j(t,["raiMediaFilteredReasons"],o);return t}(l)),t}var V,B,J,W,$,Y,K,Q,X,Z,ee,te,ne,re,oe,ie,le,ae,se,ue,ce,de,pe,fe,he,me,ge,ye,ve,be,Ee,Se,we,Ce,Te,_e,ke,Ae,Ie,Oe,xe,Ne,Pe,Re,Me,De,Le,Ue,je,Fe;!function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"}(V||(V={})),function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"}(B||(B={})),function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"}(J||(J={})),function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"}(W||(W={})),function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"}($||($={})),function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"}(Y||(Y={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(K||(K={})),function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"}(Q||(Q={})),function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"}(X||(X={})),function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"}(Z||(Z={})),function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"}(ee||(ee={})),function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(te||(te={})),function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"}(ne||(ne={})),function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY"}(re||(re={})),function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"}(oe||(oe={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"}(ie||(ie={})),function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"}(le||(le={})),function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"}(ae||(ae={})),function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"}(se||(se={})),function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"}(ue||(ue={})),function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V"}(ce||(ce={})),function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"}(de||(de={})),function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"}(pe||(pe={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(fe||(fe={})),function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"}(he||(he={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"}(me||(me={})),function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(ge||(ge={})),function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"}(ye||(ye={})),function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"}(ve||(ve={})),function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"}(be||(be={})),function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"}(Ee||(Ee={})),function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"}(Se||(Se={})),function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"}(we||(we={})),function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"}(Ce||(Ce={})),function(e){e.ASSET="ASSET",e.STYLE="STYLE"}(Te||(Te={})),function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"}(_e||(_e={})),function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"}(ke||(ke={})),function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"}(Ae||(Ae={})),function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"}(Ie||(Ie={})),function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"}(Oe||(Oe={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"}(xe||(xe={})),function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"}(Ne||(Ne={})),function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"}(Pe||(Pe={})),function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"}(Re||(Re={})),function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"}(Me||(Me={})),function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"}(De||(De={})),function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"}(Le||(Le={})),function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"}(Ue||(Ue={})),function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"}(je||(je={}));class qe{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class ze{get text(){var e,t,n,r,o,i,l,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;let s="",u=!1;const c=[];for(const d of null!==(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)&&void 0!==a?a:[]){for(const[e,t]of Object.entries(d))"text"===e||"thought"===e||null===t&&void 0===t||c.push(e);if("string"==typeof d.text){if("boolean"==typeof d.thought&&d.thought)continue;u=!0,s+=d.text}}return c.length,u?s:void 0}get data(){var e,t,n,r,o,i,l,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;let s="";const u=[];for(const c of null!==(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)&&void 0!==a?a:[]){for(const[e,t]of Object.entries(c))"inlineData"===e||null===t&&void 0===t||u.push(e);c.inlineData&&"string"==typeof c.inlineData.data&&(s+=atob(c.inlineData.data))}return u.length,s.length>0?btoa(s):void 0}get functionCalls(){var e,t,n,r,o,i,l,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;const s=null===(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>void 0!==e);return 0!==(null==s?void 0:s.length)?s:void 0}get executableCode(){var e,t,n,r,o,i,l,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;const u=null===(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>void 0!==e);return 0!==(null==u?void 0:u.length)?null===(s=null==u?void 0:u[0])||void 0===s?void 0:s.code:void 0}get codeExecutionResult(){var e,t,n,r,o,i,l,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;const u=null===(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>void 0!==e);return 0!==(null==u?void 0:u.length)?null===(s=null==u?void 0:u[0])||void 0===s?void 0:s.output:void 0}}class He{}class Ge{}class Ve{}class Be{}class Je{}class We{}class $e{}class Ye{}class Ke{}class Qe{}class Xe{_fromAPIResponse({apiResponse:e,isVertexAI:t}){const n=new Xe;let r;const o=e;return r=t?G(o):H(o),Object.assign(n,r),n}}class Ze{}class et{}class tt{}class nt{}class rt{}class ot{}class it{}class lt{get text(){var e,t,n;let r="",o=!1;const i=[];for(const l of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(l))"text"!==e&&"thought"!==e&&null!==t&&i.push(e);if("string"==typeof l.text){if("boolean"==typeof l.thought&&l.thought)continue;o=!0,r+=l.text}}return i.length,o?r:void 0}get data(){var e,t,n;let r="";const o=[];for(const i of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(i))"inlineData"!==e&&null!==t&&o.push(e);i.inlineData&&"string"==typeof i.inlineData.data&&(r+=atob(i.inlineData.data))}return o.length,r.length>0?btoa(r):void 0}}class at{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function st(e,t){if(!t||"string"!=typeof t)throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const e=t.split("/",2);return`publishers/${e[0]}/models/${e[1]}`}return`publishers/google/models/${t}`}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function ut(e,t){const n=st(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function ct(e){return Array.isArray(e)?e.map(e=>dt(e)):[dt(e)]}function dt(e){if("object"==typeof e&&null!==e)return e;throw new Error("Could not parse input as Blob. Unsupported blob type: "+typeof e)}function pt(e){const t=dt(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function ft(e){const t=dt(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function ht(e){if(null==e)throw new Error("PartUnion is required");if("object"==typeof e)return e;if("string"==typeof e)return{text:e};throw new Error("Unsupported part type: "+typeof e)}function mt(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(e=>ht(e)):[ht(e)]}function gt(e){return null!=e&&"object"==typeof e&&"parts"in e&&Array.isArray(e.parts)}function yt(e){return null!=e&&"object"==typeof e&&"functionCall"in e}function vt(e){return null!=e&&"object"==typeof e&&"functionResponse"in e}function bt(e){if(null==e)throw new Error("ContentUnion is required");return gt(e)?e:{role:"user",parts:mt(e)}}function Et(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{const t=bt(e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]});if(e.isVertexAI()){const e=bt(t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>bt(e)):[bt(t)]}function St(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("contents are required");if(!Array.isArray(e)){if(yt(e)||vt(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[bt(e)]}const t=[],n=[],r=gt(e[0]);for(const o of e){const e=gt(o);if(e!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)t.push(o);else{if(yt(o)||vt(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||t.push({role:"user",parts:mt(n)}),t}function wt(e){const t={},n=["items"],r=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;null!=i&&2==i.length&&("null"===i[0].type?(t.nullable=!0,e=i[1]):"null"===i[1].type&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(e=>"null"!==e);if(1===n.length)t.type=Object.values(J).includes(n[0].toUpperCase())?n[0].toUpperCase():J.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const e of n)t.anyOf.push({type:Object.values(J).includes(e.toUpperCase())?e.toUpperCase():J.TYPE_UNSPECIFIED})}}(e.type,t);for(const[l,a]of Object.entries(e))if(null!=a)if("type"==l){if("null"===a)throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;t.type=Object.values(J).includes(a.toUpperCase())?a.toUpperCase():J.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=wt(a);else if(r.includes(l)){const e=[];for(const n of a)"null"!=n.type?e.push(wt(n)):t.nullable=!0;t[l]=e}else if(o.includes(l)){const e={};for(const[t,n]of Object.entries(a))e[t]=wt(n);t[l]=e}else{if("additionalProperties"===l)continue;t[l]=a}return t}function Ct(e){return wt(e)}function Tt(e){if("object"==typeof e)return e;if("string"==typeof e)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error("Unsupported speechConfig type: "+typeof e)}function _t(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function kt(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=wt(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=wt(t.response));return e}function At(e){if(null==e)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function It(e,t){if("string"!=typeof t)throw new Error("name must be a string");return function(e,t,n,r=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}(e,t,"cachedContents")}function Ot(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function xt(e){return z(e)}function Nt(e){var t;let n;var r;if(null!=(r=e)&&"object"==typeof r&&"name"in r&&(n=e.name),!(function(e){return null!=e&&"object"==typeof e&&"uri"in e}(e)&&(n=e.uri,void 0===n)||function(e){return null!=e&&"object"==typeof e&&"video"in e}(e)&&(n=null===(t=e.video)||void 0===t?void 0:t.uri,void 0===n))){if("string"==typeof e&&(n=e),void 0===n)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const e=n.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw new Error(`Could not extract file name from URI ${n}`);n=e[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Pt(e,t){let n;return n=e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels",n}function Rt(e){for(const t of["models","tunedModels","publisherModels"])if(Mt(e,t))return e[t];return[]}function Mt(e,t){return null!==e&&"object"==typeof e&&t in e}function Dt(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior);return{functionDeclarations:[r]}}function Lt(e,t){let n;if("string"==typeof t)if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else{if(!t.startsWith("bq://"))throw new Error(`Unsupported string source for Vertex AI: ${t}`);n={format:"bigquery",bigqueryUri:t}}else{if(!t.startsWith("files/"))throw new Error(`Unsupported string source for Gemini API: ${t}`);n={fileName:t}}else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(o>0||1!==r)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||1!==o)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Ut(e){if("object"!=typeof e||null===e)return{};const t=e,n=t.inlinedResponses;if("object"!=typeof n||null===n)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||0===r.length)return e;let o=!1;for(const i of r){if("object"!=typeof i||null===i)continue;const e=i.response;if("object"!=typeof e||null===e)continue;if(void 0!==e.embedding){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function jt(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Ft(e){return"BATCH_STATE_UNSPECIFIED"===e?"JOB_STATE_UNSPECIFIED":"BATCH_STATE_PENDING"===e?"JOB_STATE_PENDING":"BATCH_STATE_RUNNING"===e?"JOB_STATE_RUNNING":"BATCH_STATE_SUCCEEDED"===e?"JOB_STATE_SUCCEEDED":"BATCH_STATE_FAILED"===e?"JOB_STATE_FAILED":"BATCH_STATE_CANCELLED"===e?"JOB_STATE_CANCELLED":"BATCH_STATE_EXPIRED"===e?"JOB_STATE_EXPIRED":e}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qt(e){const t={},n=F(e,["responsesFile"]);null!=n&&j(t,["fileName"],n);const r=F(e,["inlinedResponses","inlinedResponses"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["response"]);null!=n&&j(t,["response"],function(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["content"]);null!=n&&j(t,["content"],n);const r=F(e,["citationMetadata"]);null!=r&&j(t,["citationMetadata"],function(e){const t={},n=F(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["citations"],e)}return t}(r));const o=F(e,["tokenCount"]);null!=o&&j(t,["tokenCount"],o);const i=F(e,["finishReason"]);null!=i&&j(t,["finishReason"],i);const l=F(e,["urlContextMetadata"]);null!=l&&j(t,["urlContextMetadata"],l);const a=F(e,["avgLogprobs"]);null!=a&&j(t,["avgLogprobs"],a);const s=F(e,["groundingMetadata"]);null!=s&&j(t,["groundingMetadata"],s);const u=F(e,["index"]);null!=u&&j(t,["index"],u);const c=F(e,["logprobsResult"]);null!=c&&j(t,["logprobsResult"],c);const d=F(e,["safetyRatings"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["safetyRatings"],e)}return t}(e))),j(t,["candidates"],e)}const o=F(e,["modelVersion"]);null!=o&&j(t,["modelVersion"],o);const i=F(e,["promptFeedback"]);null!=i&&j(t,["promptFeedback"],i);const l=F(e,["responseId"]);null!=l&&j(t,["responseId"],l);const a=F(e,["usageMetadata"]);null!=a&&j(t,["usageMetadata"],a);return t}(n));const r=F(e,["error"]);null!=r&&j(t,["error"],r);return t}(e))),j(t,["inlinedResponses"],e)}const o=F(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["inlinedEmbedContentResponses"],e)}return t}function zt(e){const t={},n=F(e,["name"]);null!=n&&j(t,["name"],n);const r=F(e,["metadata","displayName"]);null!=r&&j(t,["displayName"],r);const o=F(e,["metadata","state"]);null!=o&&j(t,["state"],Ft(o));const i=F(e,["metadata","createTime"]);null!=i&&j(t,["createTime"],i);const l=F(e,["metadata","endTime"]);null!=l&&j(t,["endTime"],l);const a=F(e,["metadata","updateTime"]);null!=a&&j(t,["updateTime"],a);const s=F(e,["metadata","model"]);null!=s&&j(t,["model"],s);const u=F(e,["metadata","output"]);return null!=u&&j(t,["dest"],qt(Ut(u))),t}function Ht(e){const t={},n=F(e,["name"]);null!=n&&j(t,["name"],n);const r=F(e,["displayName"]);null!=r&&j(t,["displayName"],r);const o=F(e,["state"]);null!=o&&j(t,["state"],Ft(o));const i=F(e,["error"]);null!=i&&j(t,["error"],i);const l=F(e,["createTime"]);null!=l&&j(t,["createTime"],l);const a=F(e,["startTime"]);null!=a&&j(t,["startTime"],a);const s=F(e,["endTime"]);null!=s&&j(t,["endTime"],s);const u=F(e,["updateTime"]);null!=u&&j(t,["updateTime"],u);const c=F(e,["model"]);null!=c&&j(t,["model"],c);const d=F(e,["inputConfig"]);null!=d&&j(t,["src"],function(e){const t={},n=F(e,["instancesFormat"]);null!=n&&j(t,["format"],n);const r=F(e,["gcsSource","uris"]);null!=r&&j(t,["gcsUri"],r);const o=F(e,["bigquerySource","inputUri"]);null!=o&&j(t,["bigqueryUri"],o);return t}(d));const p=F(e,["outputConfig"]);return null!=p&&j(t,["dest"],function(e){const t={},n=F(e,["predictionsFormat"]);null!=n&&j(t,["format"],n);const r=F(e,["gcsDestination","outputUriPrefix"]);null!=r&&j(t,["gcsUri"],r);const o=F(e,["bigqueryDestination","outputUri"]);return null!=o&&j(t,["bigqueryUri"],o),t}(Ut(p))),t}function Gt(e,t){const n={};if(void 0!==F(t,["format"]))throw new Error("format parameter is not supported in Gemini API.");if(void 0!==F(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==F(t,["bigqueryUri"]))throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=F(t,["fileName"]);null!=r&&j(n,["fileName"],r);const o=F(t,["inlinedRequests"]);if(null!=o){let t=o;Array.isArray(t)&&(t=t.map(t=>function(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["request","model"],st(e,r));const o=F(t,["contents"]);if(null!=o){let e=St(o);Array.isArray(e)&&(e=e.map(e=>Vt(e))),j(n,["request","contents"],e)}const i=F(t,["metadata"]);null!=i&&j(n,["metadata"],i);const l=F(t,["config"]);null!=l&&j(n,["request","generationConfig"],function(e,t,n){const r={},o=F(t,["systemInstruction"]);void 0!==n&&null!=o&&j(n,["systemInstruction"],Vt(bt(o)));const i=F(t,["temperature"]);null!=i&&j(r,["temperature"],i);const l=F(t,["topP"]);null!=l&&j(r,["topP"],l);const a=F(t,["topK"]);null!=a&&j(r,["topK"],a);const s=F(t,["candidateCount"]);null!=s&&j(r,["candidateCount"],s);const u=F(t,["maxOutputTokens"]);null!=u&&j(r,["maxOutputTokens"],u);const c=F(t,["stopSequences"]);null!=c&&j(r,["stopSequences"],c);const d=F(t,["responseLogprobs"]);null!=d&&j(r,["responseLogprobs"],d);const p=F(t,["logprobs"]);null!=p&&j(r,["logprobs"],p);const f=F(t,["presencePenalty"]);null!=f&&j(r,["presencePenalty"],f);const h=F(t,["frequencyPenalty"]);null!=h&&j(r,["frequencyPenalty"],h);const m=F(t,["seed"]);null!=m&&j(r,["seed"],m);const g=F(t,["responseMimeType"]);null!=g&&j(r,["responseMimeType"],g);const y=F(t,["responseSchema"]);null!=y&&j(r,["responseSchema"],Ct(y));const v=F(t,["responseJsonSchema"]);null!=v&&j(r,["responseJsonSchema"],v);if(void 0!==F(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==F(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=F(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==F(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const n=F(e,["category"]);null!=n&&j(t,["category"],n);const r=F(e,["threshold"]);null!=r&&j(t,["threshold"],r);return t}(e))),j(n,["safetySettings"],e)}const E=F(t,["tools"]);if(void 0!==n&&null!=E){let e=At(E);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["functionDeclarations"],e)}if(void 0!==F(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=F(e,["googleSearch"]);null!=r&&j(t,["googleSearch"],function(e){const t={},n=F(e,["timeRangeFilter"]);null!=n&&j(t,["timeRangeFilter"],n);if(void 0!==F(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}(r));const o=F(e,["googleSearchRetrieval"]);null!=o&&j(t,["googleSearchRetrieval"],o);if(void 0!==F(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=F(e,["googleMaps"]);null!=i&&j(t,["googleMaps"],function(e){const t={};if(void 0!==F(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=F(e,["enableWidget"]);null!=n&&j(t,["enableWidget"],n);return t}(i));const l=F(e,["urlContext"]);null!=l&&j(t,["urlContext"],l);const a=F(e,["computerUse"]);null!=a&&j(t,["computerUse"],a);const s=F(e,["codeExecution"]);null!=s&&j(t,["codeExecution"],s);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(kt(e)))),j(n,["tools"],e)}const S=F(t,["toolConfig"]);void 0!==n&&null!=S&&j(n,["toolConfig"],S);if(void 0!==F(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const w=F(t,["cachedContent"]);void 0!==n&&null!=w&&j(n,["cachedContent"],It(e,w));const C=F(t,["responseModalities"]);null!=C&&j(r,["responseModalities"],C);const T=F(t,["mediaResolution"]);null!=T&&j(r,["mediaResolution"],T);const _=F(t,["speechConfig"]);null!=_&&j(r,["speechConfig"],Tt(_));if(void 0!==F(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=F(t,["thinkingConfig"]);null!=k&&j(r,["thinkingConfig"],k);const A=F(t,["imageConfig"]);null!=A&&j(r,["imageConfig"],A);return r}(e,l,F(n,["request"],{})));return n}(e,t))),j(n,["requests","requests"],t)}return n}function Vt(e){const t={},n=F(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["videoMetadata"]);null!=n&&j(t,["videoMetadata"],n);const r=F(e,["thought"]);null!=r&&j(t,["thought"],r);const o=F(e,["inlineData"]);null!=o&&j(t,["inlineData"],function(e){const t={};if(void 0!==F(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=F(e,["data"]);null!=n&&j(t,["data"],n);const r=F(e,["mimeType"]);return null!=r&&j(t,["mimeType"],r),t}(o));const i=F(e,["fileData"]);null!=i&&j(t,["fileData"],function(e){const t={};if(void 0!==F(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=F(e,["fileUri"]);null!=n&&j(t,["fileUri"],n);const r=F(e,["mimeType"]);null!=r&&j(t,["mimeType"],r);return t}(i));const l=F(e,["thoughtSignature"]);null!=l&&j(t,["thoughtSignature"],l);const a=F(e,["functionCall"]);null!=a&&j(t,["functionCall"],a);const s=F(e,["codeExecutionResult"]);null!=s&&j(t,["codeExecutionResult"],s);const u=F(e,["executableCode"]);null!=u&&j(t,["executableCode"],u);const c=F(e,["functionResponse"]);null!=c&&j(t,["functionResponse"],c);const d=F(e,["text"]);null!=d&&j(t,["text"],d);return t}(e))),j(t,["parts"],e)}const r=F(e,["role"]);return null!=r&&j(t,["role"],r),t}function Bt(e,t){const n=F(e,["displayName"]);void 0!==t&&null!=n&&j(t,["displayName"],n);const r=F(e,["dest"]);return void 0!==t&&null!=r&&j(t,["outputConfig"],function(e){const t={},n=F(e,["format"]);null!=n&&j(t,["predictionsFormat"],n);const r=F(e,["gcsUri"]);null!=r&&j(t,["gcsDestination","outputUriPrefix"],r);const o=F(e,["bigqueryUri"]);if(null!=o&&j(t,["bigqueryDestination","outputUri"],o),void 0!==F(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==F(e,["inlinedResponses"]))throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(void 0!==F(e,["inlinedEmbedContentResponses"]))throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}(function(e){if("string"!=typeof e)return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}(r))),{}}function Jt(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["_url","model"],st(e,r));const o=F(t,["src"]);null!=o&&j(n,["batch","inputConfig"],Gt(e,Lt(e,o)));const i=F(t,["config"]);return null!=i&&function(e,t){const n=F(e,["displayName"]);if(void 0!==t&&null!=n&&j(t,["batch","displayName"],n),void 0!==F(e,["dest"]))throw new Error("dest parameter is not supported in Gemini API.")}(i,n),n}function Wt(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["model"],st(e,r));const o=F(t,["src"]);null!=o&&j(n,["inputConfig"],function(e){const t={},n=F(e,["format"]);null!=n&&j(t,["instancesFormat"],n);const r=F(e,["gcsUri"]);null!=r&&j(t,["gcsSource","uris"],r);const o=F(e,["bigqueryUri"]);if(null!=o&&j(t,["bigquerySource","inputUri"],o),void 0!==F(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==F(e,["inlinedRequests"]))throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}(Lt(e,o)));const i=F(t,["config"]);return null!=i&&Bt(i,n),n}function $t(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["_url","model"],st(e,r));const o=F(t,["src"]);null!=o&&j(n,["batch","inputConfig"],function(e,t){const n={},r=F(t,["fileName"]);null!=r&&j(n,["file_name"],r);const o=F(t,["inlinedRequests"]);null!=o&&j(n,["requests"],function(e,t){const n={},r=F(t,["contents"]);if(null!=r){let t=Et(e,r);Array.isArray(t)&&(t=t.map(e=>e)),j(n,["requests[]","request","content"],t)}const o=F(t,["config"]);null!=o&&(j(n,["_self"],function(e,t){const n={},r=F(e,["taskType"]);void 0!==t&&null!=r&&j(t,["requests[]","taskType"],r);const o=F(e,["title"]);void 0!==t&&null!=o&&j(t,["requests[]","title"],o);const i=F(e,["outputDimensionality"]);void 0!==t&&null!=i&&j(t,["requests[]","outputDimensionality"],i);if(void 0!==F(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==F(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}(o,n)),function(e,t){for(const[n,r]of Object.entries(t)){const t=n.split("."),o=r.split("."),i=new Set;let l=-1;for(let e=0;e<t.length;e++)if("*"===t[e]){l=e;break}if(-1!==l&&o.length>l)for(let e=l;e<o.length;e++){const t=o[e];"*"===t||t.endsWith("[]")||t.endsWith("[0]")||i.add(t)}q(e,t,o,0,i)}}(n,{"requests[].*":"requests[].request.*"}));return n}(e,o));return n}(e,o));const i=F(t,["config"]);return null!=i&&function(e,t){const n=F(e,["displayName"]);void 0!==t&&null!=n&&j(t,["batch","displayName"],n)}(i,n),n}function Yt(e){const t={},n=F(e,["config"]);return null!=n&&function(e,t){const n=F(e,["pageSize"]);void 0!==t&&null!=n&&j(t,["_query","pageSize"],n);const r=F(e,["pageToken"]);if(void 0!==t&&null!=r&&j(t,["_query","pageToken"],r),void 0!==F(e,["filter"]))throw new Error("filter parameter is not supported in Gemini API.")}(n,t),t}function Kt(e){const t={},n=F(e,["config"]);return null!=n&&function(e,t){const n=F(e,["pageSize"]);void 0!==t&&null!=n&&j(t,["_query","pageSize"],n);const r=F(e,["pageToken"]);void 0!==t&&null!=r&&j(t,["_query","pageToken"],r);const o=F(e,["filter"]);void 0!==t&&null!=o&&j(t,["_query","filter"],o)}(n,t),t}!function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"}(Fe||(Fe={}));class Qt{constructor(e,t,n,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,r)}init(e,t,n){var r,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=null==t?void 0:t.sdkHttpResponse,this.idxInternal=0;let i={config:{}};i=n&&0!==Object.keys(n).length?"object"==typeof n?Object.assign({},n):n:{config:{}},i.config&&(i.config.pageToken=t.nextPageToken),this.paramsInternal=i,this.pageInternalSize=null!==(o=null===(r=i.config)||void 0===r?void 0:r.pageSize)&&void 0!==o?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return void 0!==(null===(e=this.params.config)||void 0===e?void 0:e.pageToken)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xt extends L{constructor(e){super(),this.apiClient=e,this.create=async e=>(this.apiClient.isVertexAI()&&(e.config=this.formatDestination(e.src,e.config)),this.createInternal(e)),this.createEmbeddings=async e=>{if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(e)},this.list=async(e={})=>new Qt(Fe.PAGED_ITEM_BATCH_JOBS,e=>this.listInternal(e),await this.listInternal(e),e)}createInlinedGenerateContentRequest(e){const t=Jt(this.apiClient,e),n=U("{model}:batchGenerateContent",t._url),r=t.batch.inputConfig.requests,o=r.requests,i=[];for(const l of o){const e=Object.assign({},l);if(e.systemInstruction){const t=e.systemInstruction;delete e.systemInstruction;const n=e.request;n.systemInstruction=t,e.request=n}i.push(e)}return r.requests=i,delete t.config,delete t._url,delete t._query,{path:n,body:t}}getGcsUri(e){return"string"==typeof e?e.startsWith("gs://")?e:void 0:!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0?e.gcsUri[0]:void 0}getBigqueryUri(e){return"string"==typeof e?e.startsWith("bq://")?e:void 0:Array.isArray(e)?void 0:e.bigqueryUri}formatDestination(e,t){const n=t?Object.assign({},t):{},r=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${r}`),void 0===n.dest){const t=this.getGcsUri(e),o=this.getBigqueryUri(e);if(t)t.endsWith(".jsonl")?n.dest=`${t.slice(0,-6)}/dest`:n.dest=`${t}_dest_${r}`;else{if(!o)throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.");n.dest=`${o}_dest_${r}`}}return n}async createInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Wt(this.apiClient,e);return l=U("batchPredictionJobs",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Ht(e))}{const t=Jt(this.apiClient,e);return l=U("{model}:batchGenerateContent",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>zt(e))}}async createEmbeddingsInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=$t(this.apiClient,e);return o=U("{model}:asyncBatchEmbedContent",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>zt(e))}}async get(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=F(t,["name"]);return null!=r&&j(n,["_url","name"],jt(e,r)),n}(this.apiClient,e);return l=U("batchPredictionJobs/{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Ht(e))}{const t=function(e,t){const n={},r=F(t,["name"]);return null!=r&&j(n,["_url","name"],jt(e,r)),n}(this.apiClient,e);return l=U("batches/{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>zt(e))}}async cancel(e){var t,n,r,o;let i="",l={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=F(t,["name"]);return null!=r&&j(n,["_url","name"],jt(e,r)),n}(this.apiClient,e);i=U("batchPredictionJobs/{name}:cancel",r._url),l=r._query,delete r._url,delete r._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e,t){const n={},r=F(t,["name"]);return null!=r&&j(n,["_url","name"],jt(e,r)),n}(this.apiClient,e);i=U("batches/{name}:cancel",t._url),l=t._query,delete t._url,delete t._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal})}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Kt(e);return l=U("batchPredictionJobs",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["nextPageToken"]);null!=r&&j(t,["nextPageToken"],r);const o=F(e,["batchPredictionJobs"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Ht(e))),j(t,["batchJobs"],e)}return t}(e),n=new it;return Object.assign(n,t),n})}{const t=Yt(e);return l=U("batches",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["nextPageToken"]);null!=r&&j(t,["nextPageToken"],r);const o=F(e,["operations"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>zt(e))),j(t,["batchJobs"],e)}return t}(e),n=new it;return Object.assign(n,t),n})}}async delete(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=F(t,["name"]);return null!=r&&j(n,["_url","name"],jt(e,r)),n}(this.apiClient,e);return l=U("batchPredictionJobs/{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>function(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["name"]);null!=r&&j(t,["name"],r);const o=F(e,["done"]);null!=o&&j(t,["done"],o);const i=F(e,["error"]);return null!=i&&j(t,["error"],i),t}(e))}{const t=function(e,t){const n={},r=F(t,["name"]);return null!=r&&j(n,["_url","name"],jt(e,r)),n}(this.apiClient,e);return l=U("batches/{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>function(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["name"]);null!=r&&j(t,["name"],r);const o=F(e,["done"]);null!=o&&j(t,["done"],o);const i=F(e,["error"]);return null!=i&&j(t,["error"],i),t}(e))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zt(e){const t={},n=F(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["videoMetadata"]);null!=n&&j(t,["videoMetadata"],n);const r=F(e,["thought"]);null!=r&&j(t,["thought"],r);const o=F(e,["inlineData"]);null!=o&&j(t,["inlineData"],function(e){const t={};if(void 0!==F(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=F(e,["data"]);null!=n&&j(t,["data"],n);const r=F(e,["mimeType"]);return null!=r&&j(t,["mimeType"],r),t}(o));const i=F(e,["fileData"]);null!=i&&j(t,["fileData"],function(e){const t={};if(void 0!==F(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=F(e,["fileUri"]);null!=n&&j(t,["fileUri"],n);const r=F(e,["mimeType"]);null!=r&&j(t,["mimeType"],r);return t}(i));const l=F(e,["thoughtSignature"]);null!=l&&j(t,["thoughtSignature"],l);const a=F(e,["functionCall"]);null!=a&&j(t,["functionCall"],a);const s=F(e,["codeExecutionResult"]);null!=s&&j(t,["codeExecutionResult"],s);const u=F(e,["executableCode"]);null!=u&&j(t,["executableCode"],u);const c=F(e,["functionResponse"]);null!=c&&j(t,["functionResponse"],c);const d=F(e,["text"]);null!=d&&j(t,["text"],d);return t}(e))),j(t,["parts"],e)}const r=F(e,["role"]);return null!=r&&j(t,["role"],r),t}function en(e,t){const n=F(e,["ttl"]);void 0!==t&&null!=n&&j(t,["ttl"],n);const r=F(e,["expireTime"]);void 0!==t&&null!=r&&j(t,["expireTime"],r);const o=F(e,["displayName"]);void 0!==t&&null!=o&&j(t,["displayName"],o);const i=F(e,["contents"]);if(void 0!==t&&null!=i){let e=St(i);Array.isArray(e)&&(e=e.map(e=>Zt(e))),j(t,["contents"],e)}const l=F(e,["systemInstruction"]);void 0!==t&&null!=l&&j(t,["systemInstruction"],Zt(bt(l)));const a=F(e,["tools"]);if(void 0!==t&&null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["functionDeclarations"],e)}if(void 0!==F(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=F(e,["googleSearch"]);null!=r&&j(t,["googleSearch"],function(e){const t={},n=F(e,["timeRangeFilter"]);null!=n&&j(t,["timeRangeFilter"],n);if(void 0!==F(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}(r));const o=F(e,["googleSearchRetrieval"]);null!=o&&j(t,["googleSearchRetrieval"],o);if(void 0!==F(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=F(e,["googleMaps"]);null!=i&&j(t,["googleMaps"],function(e){const t={};if(void 0!==F(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=F(e,["enableWidget"]);null!=n&&j(t,["enableWidget"],n);return t}(i));const l=F(e,["urlContext"]);null!=l&&j(t,["urlContext"],l);const a=F(e,["computerUse"]);null!=a&&j(t,["computerUse"],a);const s=F(e,["codeExecution"]);null!=s&&j(t,["codeExecution"],s);return t}(e))),j(t,["tools"],e)}const s=F(e,["toolConfig"]);if(void 0!==t&&null!=s&&j(t,["toolConfig"],s),void 0!==F(e,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.");return{}}function tn(e,t){const n=F(e,["ttl"]);void 0!==t&&null!=n&&j(t,["ttl"],n);const r=F(e,["expireTime"]);void 0!==t&&null!=r&&j(t,["expireTime"],r);const o=F(e,["displayName"]);void 0!==t&&null!=o&&j(t,["displayName"],o);const i=F(e,["contents"]);if(void 0!==t&&null!=i){let e=St(i);Array.isArray(e)&&(e=e.map(e=>e)),j(t,["contents"],e)}const l=F(e,["systemInstruction"]);void 0!==t&&null!=l&&j(t,["systemInstruction"],bt(l));const a=F(e,["tools"]);if(void 0!==t&&null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==F(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=F(e,["description"]);null!=n&&j(t,["description"],n);const r=F(e,["name"]);null!=r&&j(t,["name"],r);const o=F(e,["parameters"]);null!=o&&j(t,["parameters"],o);const i=F(e,["parametersJsonSchema"]);null!=i&&j(t,["parametersJsonSchema"],i);const l=F(e,["response"]);null!=l&&j(t,["response"],l);const a=F(e,["responseJsonSchema"]);null!=a&&j(t,["responseJsonSchema"],a);return t}(e))),j(t,["functionDeclarations"],e)}const r=F(e,["retrieval"]);null!=r&&j(t,["retrieval"],r);const o=F(e,["googleSearch"]);null!=o&&j(t,["googleSearch"],o);const i=F(e,["googleSearchRetrieval"]);null!=i&&j(t,["googleSearchRetrieval"],i);const l=F(e,["enterpriseWebSearch"]);null!=l&&j(t,["enterpriseWebSearch"],l);const a=F(e,["googleMaps"]);null!=a&&j(t,["googleMaps"],a);const s=F(e,["urlContext"]);null!=s&&j(t,["urlContext"],s);const u=F(e,["computerUse"]);null!=u&&j(t,["computerUse"],u);const c=F(e,["codeExecution"]);null!=c&&j(t,["codeExecution"],c);return t}(e))),j(t,["tools"],e)}const s=F(e,["toolConfig"]);void 0!==t&&null!=s&&j(t,["toolConfig"],s);const u=F(e,["kmsKeyName"]);return void 0!==t&&null!=u&&j(t,["encryption_spec","kmsKeyName"],u),{}}function nn(e){const t={},n=F(e,["config"]);return null!=n&&function(e,t){const n=F(e,["pageSize"]);void 0!==t&&null!=n&&j(t,["_query","pageSize"],n);const r=F(e,["pageToken"]);void 0!==t&&null!=r&&j(t,["_query","pageToken"],r)}(n,t),t}function rn(e){const t={},n=F(e,["config"]);return null!=n&&function(e,t){const n=F(e,["pageSize"]);void 0!==t&&null!=n&&j(t,["_query","pageSize"],n);const r=F(e,["pageToken"]);void 0!==t&&null!=r&&j(t,["_query","pageToken"],r)}(n,t),t}function on(e,t){const n={},r=F(t,["name"]);null!=r&&j(n,["_url","name"],It(e,r));const o=F(t,["config"]);return null!=o&&function(e,t){const n=F(e,["ttl"]);void 0!==t&&null!=n&&j(t,["ttl"],n);const r=F(e,["expireTime"]);void 0!==t&&null!=r&&j(t,["expireTime"],r)}(o,n),n}function ln(e,t){const n={},r=F(t,["name"]);null!=r&&j(n,["_url","name"],It(e,r));const o=F(t,["config"]);return null!=o&&function(e,t){const n=F(e,["ttl"]);void 0!==t&&null!=n&&j(t,["ttl"],n);const r=F(e,["expireTime"]);void 0!==t&&null!=r&&j(t,["expireTime"],r)}(o,n),n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class an extends L{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new Qt(Fe.PAGED_ITEM_CACHED_CONTENTS,e=>this.listInternal(e),await this.listInternal(e),e)}async create(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["model"],ut(e,r));const o=F(t,["config"]);return null!=o&&tn(o,n),n}(this.apiClient,e);return l=U("cachedContents",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=function(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["model"],ut(e,r));const o=F(t,["config"]);return null!=o&&en(o,n),n}(this.apiClient,e);return l=U("cachedContents",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async get(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=F(t,["name"]);return null!=r&&j(n,["_url","name"],It(e,r)),n}(this.apiClient,e);return l=U("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=function(e,t){const n={},r=F(t,["name"]);return null!=r&&j(n,["_url","name"],It(e,r)),n}(this.apiClient,e);return l=U("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async delete(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=F(t,["name"]);return null!=r&&j(n,["_url","name"],It(e,r)),n}(this.apiClient,e);return l=U("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);return null!=n&&j(t,["sdkHttpResponse"],n),t}(e),n=new et;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=F(t,["name"]);return null!=r&&j(n,["_url","name"],It(e,r)),n}(this.apiClient,e);return l=U("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);return null!=n&&j(t,["sdkHttpResponse"],n),t}(e),n=new et;return Object.assign(n,t),n})}}async update(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=ln(this.apiClient,e);return l=U("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=on(this.apiClient,e);return l=U("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=rn(e);return l=U("cachedContents",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["nextPageToken"]);null!=r&&j(t,["nextPageToken"],r);const o=F(e,["cachedContents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["cachedContents"],e)}return t}(e),n=new tt;return Object.assign(n,t),n})}{const t=nn(e);return l=U("cachedContents",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["nextPageToken"]);null!=r&&j(t,["nextPageToken"],r);const o=F(e,["cachedContents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["cachedContents"],e)}return t}(e),n=new tt;return Object.assign(n,t),n})}}}function sn(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function un(e){return this instanceof un?(this.v=e,this):new un(e)}function cn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function l(e,t){o[e]&&(r[e]=function(t){return new Promise(function(n,r){i.push([e,t,n,r])>1||a(e,t)})},t&&(r[e]=t(r[e])))}function a(e,t){try{(n=o[e](t)).value instanceof un?Promise.resolve(n.value.v).then(s,u):c(i[0][2],n)}catch(r){c(i[0][3],r)}var n}function s(e){a("next",e)}function u(e){a("throw",e)}function c(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function dn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=sn(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,o,(t=e[n](t)).done,t.value)})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function pn(e){var t;if(null==e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;return void 0!==n&&fn(n)}function fn(e){if(void 0===e.parts||0===e.parts.length)return!1;for(const t of e.parts)if(void 0===t||0===Object.keys(t).length)return!1;return!0}function hn(e){if(void 0===e||0===e.length)return[];const t=[],n=e.length;let r=0;for(;r<n;)if("user"===e[r].role)t.push(e[r]),r++;else{const o=[];let i=!0;for(;r<n&&"model"===e[r].role;)o.push(e[r]),i&&!fn(e[r])&&(i=!1),r++;i?t.push(...o):t.pop()}return t}"function"==typeof SuppressedError&&SuppressedError;class mn{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new gn(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class gn{constructor(e,t,n,r={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=n,this.config=r,this.history=o,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length)for(const t of e)if("user"!==t.role&&"model"!==t.role)throw new Error(`Role must be user or model, but got ${t.role}.`)}(o)}async sendMessage(e){var t;await this.sendPromise;const n=bt(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});return this.sendPromise=(async()=>{var e,t,o;const i=await r,l=null===(t=null===(e=i.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content,a=i.automaticFunctionCallingHistory,s=this.getHistory(!0).length;let u=[];null!=a&&(u=null!==(o=a.slice(s))&&void 0!==o?o:[]);const c=l?[l]:[];this.recordHistory(n,c,u)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const n=bt(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const o=await r;return this.processStreamResponse(o,n)}getHistory(e=!1){const t=e?hn(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var n,r;return cn(this,arguments,function*(){var o,i,l,a;const s=[];try{for(var u,c=!0,d=dn(e);!(o=(u=yield un(d.next())).done);c=!0){a=u.value,c=!1;const e=a;if(pn(e)){const t=null===(r=null===(n=e.candidates)||void 0===n?void 0:n[0])||void 0===r?void 0:r.content;void 0!==t&&s.push(t)}yield yield un(e)}}catch(p){i={error:p}}finally{try{c||o||!(l=d.return)||(yield un(l.call(d)))}finally{if(i)throw i.error}}this.recordHistory(t,s)})}recordHistory(e,t,n){let r=[];t.length>0&&t.every(e=>void 0!==e.role)?r=t:r.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...hn(n)):this.history.push(e),this.history.push(...r)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yn extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,yn.prototype)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vn(e){const t={},n=F(e,["config"]);return null!=n&&function(e,t){const n=F(e,["pageSize"]);void 0!==t&&null!=n&&j(t,["_query","pageSize"],n);const r=F(e,["pageToken"]);void 0!==t&&null!=r&&j(t,["_query","pageToken"],r)}(n,t),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class bn extends L{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new Qt(Fe.PAGED_ITEM_FILES,e=>this.listInternal(e),await this.listInternal(e),e)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(e=>e)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=vn(e);return o=U("files",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["nextPageToken"]);null!=r&&j(t,["nextPageToken"],r);const o=F(e,["files"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["files"],e)}return t}(e),n=new nt;return Object.assign(n,t),n})}}async createInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=F(e,["file"]);return null!=n&&j(t,["file"],n),t}(e);return o=U("upload/v1beta/files",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);return null!=n&&j(t,["sdkHttpResponse"],n),t}(e),n=new rt;return Object.assign(n,t),n})}}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=F(e,["name"]);return null!=n&&j(t,["_url","file"],Nt(n)),t}(e);return o=U("files/{file}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=F(e,["name"]);return null!=n&&j(t,["_url","file"],Nt(n)),t}(e);return o=U("files/{file}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);return null!=n&&j(t,["sdkHttpResponse"],n),t}(e),n=new ot;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function En(e){const t={};if(void 0!==F(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=F(e,["data"]);null!=n&&j(t,["data"],n);const r=F(e,["mimeType"]);return null!=r&&j(t,["mimeType"],r),t}function Sn(e){const t={},n=F(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["videoMetadata"]);null!=n&&j(t,["videoMetadata"],n);const r=F(e,["thought"]);null!=r&&j(t,["thought"],r);const o=F(e,["inlineData"]);null!=o&&j(t,["inlineData"],En(o));const i=F(e,["fileData"]);null!=i&&j(t,["fileData"],function(e){const t={};if(void 0!==F(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=F(e,["fileUri"]);null!=n&&j(t,["fileUri"],n);const r=F(e,["mimeType"]);null!=r&&j(t,["mimeType"],r);return t}(i));const l=F(e,["thoughtSignature"]);null!=l&&j(t,["thoughtSignature"],l);const a=F(e,["functionCall"]);null!=a&&j(t,["functionCall"],a);const s=F(e,["codeExecutionResult"]);null!=s&&j(t,["codeExecutionResult"],s);const u=F(e,["executableCode"]);null!=u&&j(t,["executableCode"],u);const c=F(e,["functionResponse"]);null!=c&&j(t,["functionResponse"],c);const d=F(e,["text"]);null!=d&&j(t,["text"],d);return t}(e))),j(t,["parts"],e)}const r=F(e,["role"]);return null!=r&&j(t,["role"],r),t}function wn(e,t){const n=F(e,["generationConfig"]);void 0!==t&&null!=n&&j(t,["setup","generationConfig"],n);const r=F(e,["responseModalities"]);void 0!==t&&null!=r&&j(t,["setup","generationConfig","responseModalities"],r);const o=F(e,["temperature"]);void 0!==t&&null!=o&&j(t,["setup","generationConfig","temperature"],o);const i=F(e,["topP"]);void 0!==t&&null!=i&&j(t,["setup","generationConfig","topP"],i);const l=F(e,["topK"]);void 0!==t&&null!=l&&j(t,["setup","generationConfig","topK"],l);const a=F(e,["maxOutputTokens"]);void 0!==t&&null!=a&&j(t,["setup","generationConfig","maxOutputTokens"],a);const s=F(e,["mediaResolution"]);void 0!==t&&null!=s&&j(t,["setup","generationConfig","mediaResolution"],s);const u=F(e,["seed"]);void 0!==t&&null!=u&&j(t,["setup","generationConfig","seed"],u);const c=F(e,["speechConfig"]);void 0!==t&&null!=c&&j(t,["setup","generationConfig","speechConfig"],_t(c));const d=F(e,["thinkingConfig"]);void 0!==t&&null!=d&&j(t,["setup","generationConfig","thinkingConfig"],d);const p=F(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&j(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=F(e,["systemInstruction"]);void 0!==t&&null!=f&&j(t,["setup","systemInstruction"],Sn(bt(f)));const h=F(e,["tools"]);if(void 0!==t&&null!=h){let e=At(h);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["functionDeclarations"],e)}if(void 0!==F(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=F(e,["googleSearch"]);null!=r&&j(t,["googleSearch"],function(e){const t={},n=F(e,["timeRangeFilter"]);if(null!=n&&j(t,["timeRangeFilter"],n),void 0!==F(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}(r));const o=F(e,["googleSearchRetrieval"]);null!=o&&j(t,["googleSearchRetrieval"],o);if(void 0!==F(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=F(e,["googleMaps"]);null!=i&&j(t,["googleMaps"],function(e){const t={};if(void 0!==F(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=F(e,["enableWidget"]);return null!=n&&j(t,["enableWidget"],n),t}(i));const l=F(e,["urlContext"]);null!=l&&j(t,["urlContext"],l);const a=F(e,["computerUse"]);null!=a&&j(t,["computerUse"],a);const s=F(e,["codeExecution"]);null!=s&&j(t,["codeExecution"],s);return t}(kt(e)))),j(t,["setup","tools"],e)}const m=F(e,["sessionResumption"]);void 0!==t&&null!=m&&j(t,["setup","sessionResumption"],function(e){const t={},n=F(e,["handle"]);null!=n&&j(t,["handle"],n);if(void 0!==F(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(m));const g=F(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&j(t,["setup","inputAudioTranscription"],g);const y=F(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&j(t,["setup","outputAudioTranscription"],y);const v=F(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&j(t,["setup","realtimeInputConfig"],v);const b=F(e,["contextWindowCompression"]);void 0!==t&&null!=b&&j(t,["setup","contextWindowCompression"],b);const E=F(e,["proactivity"]);return void 0!==t&&null!=E&&j(t,["setup","proactivity"],E),{}}function Cn(e,t){const n=F(e,["generationConfig"]);void 0!==t&&null!=n&&j(t,["setup","generationConfig"],function(e){const t={},n=F(e,["modelSelectionConfig"]);null!=n&&j(t,["modelConfig"],n);const r=F(e,["audioTimestamp"]);null!=r&&j(t,["audioTimestamp"],r);const o=F(e,["candidateCount"]);null!=o&&j(t,["candidateCount"],o);const i=F(e,["enableAffectiveDialog"]);null!=i&&j(t,["enableAffectiveDialog"],i);const l=F(e,["frequencyPenalty"]);null!=l&&j(t,["frequencyPenalty"],l);const a=F(e,["logprobs"]);null!=a&&j(t,["logprobs"],a);const s=F(e,["maxOutputTokens"]);null!=s&&j(t,["maxOutputTokens"],s);const u=F(e,["mediaResolution"]);null!=u&&j(t,["mediaResolution"],u);const c=F(e,["presencePenalty"]);null!=c&&j(t,["presencePenalty"],c);const d=F(e,["responseJsonSchema"]);null!=d&&j(t,["responseJsonSchema"],d);const p=F(e,["responseLogprobs"]);null!=p&&j(t,["responseLogprobs"],p);const f=F(e,["responseMimeType"]);null!=f&&j(t,["responseMimeType"],f);const h=F(e,["responseModalities"]);null!=h&&j(t,["responseModalities"],h);const m=F(e,["responseSchema"]);null!=m&&j(t,["responseSchema"],m);const g=F(e,["routingConfig"]);null!=g&&j(t,["routingConfig"],g);const y=F(e,["seed"]);null!=y&&j(t,["seed"],y);const v=F(e,["speechConfig"]);null!=v&&j(t,["speechConfig"],An(v));const b=F(e,["stopSequences"]);null!=b&&j(t,["stopSequences"],b);const E=F(e,["temperature"]);null!=E&&j(t,["temperature"],E);const S=F(e,["thinkingConfig"]);null!=S&&j(t,["thinkingConfig"],S);const w=F(e,["topK"]);null!=w&&j(t,["topK"],w);const C=F(e,["topP"]);return null!=C&&j(t,["topP"],C),t}(n));const r=F(e,["responseModalities"]);void 0!==t&&null!=r&&j(t,["setup","generationConfig","responseModalities"],r);const o=F(e,["temperature"]);void 0!==t&&null!=o&&j(t,["setup","generationConfig","temperature"],o);const i=F(e,["topP"]);void 0!==t&&null!=i&&j(t,["setup","generationConfig","topP"],i);const l=F(e,["topK"]);void 0!==t&&null!=l&&j(t,["setup","generationConfig","topK"],l);const a=F(e,["maxOutputTokens"]);void 0!==t&&null!=a&&j(t,["setup","generationConfig","maxOutputTokens"],a);const s=F(e,["mediaResolution"]);void 0!==t&&null!=s&&j(t,["setup","generationConfig","mediaResolution"],s);const u=F(e,["seed"]);void 0!==t&&null!=u&&j(t,["setup","generationConfig","seed"],u);const c=F(e,["speechConfig"]);void 0!==t&&null!=c&&j(t,["setup","generationConfig","speechConfig"],An(_t(c)));const d=F(e,["thinkingConfig"]);void 0!==t&&null!=d&&j(t,["setup","generationConfig","thinkingConfig"],d);const p=F(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&j(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=F(e,["systemInstruction"]);void 0!==t&&null!=f&&j(t,["setup","systemInstruction"],bt(f));const h=F(e,["tools"]);if(void 0!==t&&null!=h){let e=At(h);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==F(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=F(e,["description"]);null!=n&&j(t,["description"],n);const r=F(e,["name"]);null!=r&&j(t,["name"],r);const o=F(e,["parameters"]);null!=o&&j(t,["parameters"],o);const i=F(e,["parametersJsonSchema"]);null!=i&&j(t,["parametersJsonSchema"],i);const l=F(e,["response"]);null!=l&&j(t,["response"],l);const a=F(e,["responseJsonSchema"]);return null!=a&&j(t,["responseJsonSchema"],a),t}(e))),j(t,["functionDeclarations"],e)}const r=F(e,["retrieval"]);null!=r&&j(t,["retrieval"],r);const o=F(e,["googleSearch"]);null!=o&&j(t,["googleSearch"],o);const i=F(e,["googleSearchRetrieval"]);null!=i&&j(t,["googleSearchRetrieval"],i);const l=F(e,["enterpriseWebSearch"]);null!=l&&j(t,["enterpriseWebSearch"],l);const a=F(e,["googleMaps"]);null!=a&&j(t,["googleMaps"],a);const s=F(e,["urlContext"]);null!=s&&j(t,["urlContext"],s);const u=F(e,["computerUse"]);null!=u&&j(t,["computerUse"],u);const c=F(e,["codeExecution"]);null!=c&&j(t,["codeExecution"],c);return t}(kt(e)))),j(t,["setup","tools"],e)}const m=F(e,["sessionResumption"]);void 0!==t&&null!=m&&j(t,["setup","sessionResumption"],m);const g=F(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&j(t,["setup","inputAudioTranscription"],g);const y=F(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&j(t,["setup","outputAudioTranscription"],y);const v=F(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&j(t,["setup","realtimeInputConfig"],v);const b=F(e,["contextWindowCompression"]);void 0!==t&&null!=b&&j(t,["setup","contextWindowCompression"],b);const E=F(e,["proactivity"]);return void 0!==t&&null!=E&&j(t,["setup","proactivity"],E),{}}function Tn(e){const t={},n=F(e,["media"]);if(null!=n){let e=ct(n);Array.isArray(e)&&(e=e.map(e=>En(e))),j(t,["mediaChunks"],e)}const r=F(e,["audio"]);null!=r&&j(t,["audio"],En(ft(r)));const o=F(e,["audioStreamEnd"]);null!=o&&j(t,["audioStreamEnd"],o);const i=F(e,["video"]);null!=i&&j(t,["video"],En(pt(i)));const l=F(e,["text"]);null!=l&&j(t,["text"],l);const a=F(e,["activityStart"]);null!=a&&j(t,["activityStart"],a);const s=F(e,["activityEnd"]);return null!=s&&j(t,["activityEnd"],s),t}function _n(e){const t={},n=F(e,["media"]);if(null!=n){let e=ct(n);Array.isArray(e)&&(e=e.map(e=>e)),j(t,["mediaChunks"],e)}const r=F(e,["audio"]);null!=r&&j(t,["audio"],ft(r));const o=F(e,["audioStreamEnd"]);null!=o&&j(t,["audioStreamEnd"],o);const i=F(e,["video"]);null!=i&&j(t,["video"],pt(i));const l=F(e,["text"]);null!=l&&j(t,["text"],l);const a=F(e,["activityStart"]);null!=a&&j(t,["activityStart"],a);const s=F(e,["activityEnd"]);return null!=s&&j(t,["activityEnd"],s),t}function kn(e){const t={},n=F(e,["setupComplete"]);null!=n&&j(t,["setupComplete"],n);const r=F(e,["serverContent"]);null!=r&&j(t,["serverContent"],r);const o=F(e,["toolCall"]);null!=o&&j(t,["toolCall"],o);const i=F(e,["toolCallCancellation"]);null!=i&&j(t,["toolCallCancellation"],i);const l=F(e,["usageMetadata"]);null!=l&&j(t,["usageMetadata"],function(e){const t={},n=F(e,["promptTokenCount"]);null!=n&&j(t,["promptTokenCount"],n);const r=F(e,["cachedContentTokenCount"]);null!=r&&j(t,["cachedContentTokenCount"],r);const o=F(e,["candidatesTokenCount"]);null!=o&&j(t,["responseTokenCount"],o);const i=F(e,["toolUsePromptTokenCount"]);null!=i&&j(t,["toolUsePromptTokenCount"],i);const l=F(e,["thoughtsTokenCount"]);null!=l&&j(t,["thoughtsTokenCount"],l);const a=F(e,["totalTokenCount"]);null!=a&&j(t,["totalTokenCount"],a);const s=F(e,["promptTokensDetails"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["promptTokensDetails"],e)}const u=F(e,["cacheTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["cacheTokensDetails"],e)}const c=F(e,["candidatesTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["responseTokensDetails"],e)}const d=F(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["toolUsePromptTokensDetails"],e)}const p=F(e,["trafficType"]);null!=p&&j(t,["trafficType"],p);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(l));const a=F(e,["goAway"]);null!=a&&j(t,["goAway"],a);const s=F(e,["sessionResumptionUpdate"]);return null!=s&&j(t,["sessionResumptionUpdate"],s),t}function An(e){const t={},n=F(e,["voiceConfig"]);if(null!=n&&j(t,["voiceConfig"],n),void 0!==F(e,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=F(e,["languageCode"]);return null!=r&&j(t,["languageCode"],r),t}function In(e){const t={},n=F(e,["content"]);null!=n&&j(t,["content"],n);const r=F(e,["citationMetadata"]);null!=r&&j(t,["citationMetadata"],function(e){const t={},n=F(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["citations"],e)}return t}(r));const o=F(e,["tokenCount"]);null!=o&&j(t,["tokenCount"],o);const i=F(e,["finishReason"]);null!=i&&j(t,["finishReason"],i);const l=F(e,["urlContextMetadata"]);null!=l&&j(t,["urlContextMetadata"],l);const a=F(e,["avgLogprobs"]);null!=a&&j(t,["avgLogprobs"],a);const s=F(e,["groundingMetadata"]);null!=s&&j(t,["groundingMetadata"],s);const u=F(e,["index"]);null!=u&&j(t,["index"],u);const c=F(e,["logprobsResult"]);null!=c&&j(t,["logprobsResult"],c);const d=F(e,["safetyRatings"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["safetyRatings"],e)}return t}function On(e){const t={},n=F(e,["values"]);null!=n&&j(t,["values"],n);const r=F(e,["statistics"]);return null!=r&&j(t,["statistics"],function(e){const t={},n=F(e,["truncated"]);null!=n&&j(t,["truncated"],n);const r=F(e,["token_count"]);null!=r&&j(t,["tokenCount"],r);return t}(r)),t}function xn(e){const t={},n=F(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["videoMetadata"]);null!=n&&j(t,["videoMetadata"],n);const r=F(e,["thought"]);null!=r&&j(t,["thought"],r);const o=F(e,["inlineData"]);null!=o&&j(t,["inlineData"],function(e){const t={};if(void 0!==F(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=F(e,["data"]);null!=n&&j(t,["data"],n);const r=F(e,["mimeType"]);return null!=r&&j(t,["mimeType"],r),t}(o));const i=F(e,["fileData"]);null!=i&&j(t,["fileData"],function(e){const t={};if(void 0!==F(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=F(e,["fileUri"]);null!=n&&j(t,["fileUri"],n);const r=F(e,["mimeType"]);null!=r&&j(t,["mimeType"],r);return t}(i));const l=F(e,["thoughtSignature"]);null!=l&&j(t,["thoughtSignature"],l);const a=F(e,["functionCall"]);null!=a&&j(t,["functionCall"],a);const s=F(e,["codeExecutionResult"]);null!=s&&j(t,["codeExecutionResult"],s);const u=F(e,["executableCode"]);null!=u&&j(t,["executableCode"],u);const c=F(e,["functionResponse"]);null!=c&&j(t,["functionResponse"],c);const d=F(e,["text"]);null!=d&&j(t,["text"],d);return t}(e))),j(t,["parts"],e)}const r=F(e,["role"]);return null!=r&&j(t,["role"],r),t}function Nn(e,t){const n=F(e,["systemInstruction"]);void 0!==t&&null!=n&&j(t,["systemInstruction"],bt(n));const r=F(e,["tools"]);if(void 0!==t&&null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>cr(e))),j(t,["tools"],e)}const o=F(e,["generationConfig"]);return void 0!==t&&null!=o&&j(t,["generationConfig"],function(e){const t={},n=F(e,["modelSelectionConfig"]);null!=n&&j(t,["modelConfig"],n);const r=F(e,["audioTimestamp"]);null!=r&&j(t,["audioTimestamp"],r);const o=F(e,["candidateCount"]);null!=o&&j(t,["candidateCount"],o);const i=F(e,["enableAffectiveDialog"]);null!=i&&j(t,["enableAffectiveDialog"],i);const l=F(e,["frequencyPenalty"]);null!=l&&j(t,["frequencyPenalty"],l);const a=F(e,["logprobs"]);null!=a&&j(t,["logprobs"],a);const s=F(e,["maxOutputTokens"]);null!=s&&j(t,["maxOutputTokens"],s);const u=F(e,["mediaResolution"]);null!=u&&j(t,["mediaResolution"],u);const c=F(e,["presencePenalty"]);null!=c&&j(t,["presencePenalty"],c);const d=F(e,["responseJsonSchema"]);null!=d&&j(t,["responseJsonSchema"],d);const p=F(e,["responseLogprobs"]);null!=p&&j(t,["responseLogprobs"],p);const f=F(e,["responseMimeType"]);null!=f&&j(t,["responseMimeType"],f);const h=F(e,["responseModalities"]);null!=h&&j(t,["responseModalities"],h);const m=F(e,["responseSchema"]);null!=m&&j(t,["responseSchema"],m);const g=F(e,["routingConfig"]);null!=g&&j(t,["routingConfig"],g);const y=F(e,["seed"]);null!=y&&j(t,["seed"],y);const v=F(e,["speechConfig"]);null!=v&&j(t,["speechConfig"],ur(v));const b=F(e,["stopSequences"]);null!=b&&j(t,["stopSequences"],b);const E=F(e,["temperature"]);null!=E&&j(t,["temperature"],E);const S=F(e,["thinkingConfig"]);null!=S&&j(t,["thinkingConfig"],S);const w=F(e,["topK"]);null!=w&&j(t,["topK"],w);const C=F(e,["topP"]);null!=C&&j(t,["topP"],C);return t}(o)),{}}function Pn(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["_url","model"],st(e,r));const o=F(t,["contents"]);if(null!=o){let e=St(o);Array.isArray(e)&&(e=e.map(e=>xn(e))),j(n,["contents"],e)}const i=F(t,["config"]);return null!=i&&function(e){if(void 0!==F(e,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==F(e,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==F(e,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.")}(i),n}function Rn(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["_url","model"],st(e,r));const o=F(t,["prompt"]);null!=o&&j(n,["instances[0]","prompt"],o);const i=F(t,["referenceImages"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["referenceImage"]);null!=n&&j(t,["referenceImage"],Zn(n));const r=F(e,["referenceId"]);null!=r&&j(t,["referenceId"],r);const o=F(e,["referenceType"]);null!=o&&j(t,["referenceType"],o);const i=F(e,["maskImageConfig"]);null!=i&&j(t,["maskImageConfig"],function(e){const t={},n=F(e,["maskMode"]);null!=n&&j(t,["maskMode"],n);const r=F(e,["segmentationClasses"]);null!=r&&j(t,["maskClasses"],r);const o=F(e,["maskDilation"]);null!=o&&j(t,["dilation"],o);return t}(i));const l=F(e,["controlImageConfig"]);null!=l&&j(t,["controlImageConfig"],function(e){const t={},n=F(e,["controlType"]);null!=n&&j(t,["controlType"],n);const r=F(e,["enableControlImageComputation"]);return null!=r&&j(t,["computeControl"],r),t}(l));const a=F(e,["styleImageConfig"]);null!=a&&j(t,["styleImageConfig"],a);const s=F(e,["subjectImageConfig"]);null!=s&&j(t,["subjectImageConfig"],s);return t}(e))),j(n,["instances[0]","referenceImages"],e)}const l=F(t,["config"]);return null!=l&&function(e,t){const n=F(e,["outputGcsUri"]);void 0!==t&&null!=n&&j(t,["parameters","storageUri"],n);const r=F(e,["negativePrompt"]);void 0!==t&&null!=r&&j(t,["parameters","negativePrompt"],r);const o=F(e,["numberOfImages"]);void 0!==t&&null!=o&&j(t,["parameters","sampleCount"],o);const i=F(e,["aspectRatio"]);void 0!==t&&null!=i&&j(t,["parameters","aspectRatio"],i);const l=F(e,["guidanceScale"]);void 0!==t&&null!=l&&j(t,["parameters","guidanceScale"],l);const a=F(e,["seed"]);void 0!==t&&null!=a&&j(t,["parameters","seed"],a);const s=F(e,["safetyFilterLevel"]);void 0!==t&&null!=s&&j(t,["parameters","safetySetting"],s);const u=F(e,["personGeneration"]);void 0!==t&&null!=u&&j(t,["parameters","personGeneration"],u);const c=F(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&j(t,["parameters","includeSafetyAttributes"],c);const d=F(e,["includeRaiReason"]);void 0!==t&&null!=d&&j(t,["parameters","includeRaiReason"],d);const p=F(e,["language"]);void 0!==t&&null!=p&&j(t,["parameters","language"],p);const f=F(e,["outputMimeType"]);void 0!==t&&null!=f&&j(t,["parameters","outputOptions","mimeType"],f);const h=F(e,["outputCompressionQuality"]);void 0!==t&&null!=h&&j(t,["parameters","outputOptions","compressionQuality"],h);const m=F(e,["addWatermark"]);void 0!==t&&null!=m&&j(t,["parameters","addWatermark"],m);const g=F(e,["labels"]);void 0!==t&&null!=g&&j(t,["labels"],g);const y=F(e,["editMode"]);void 0!==t&&null!=y&&j(t,["parameters","editMode"],y);const v=F(e,["baseSteps"]);void 0!==t&&null!=v&&j(t,["parameters","editConfig","baseSteps"],v)}(l,n),n}function Mn(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["_url","model"],st(e,r));const o=F(t,["contents"]);if(null!=o){let t=Et(e,o);Array.isArray(t)&&(t=t.map(e=>e)),j(n,["requests[]","content"],t)}const i=F(t,["config"]);null!=i&&function(e,t){const n=F(e,["taskType"]);void 0!==t&&null!=n&&j(t,["requests[]","taskType"],n);const r=F(e,["title"]);void 0!==t&&null!=r&&j(t,["requests[]","title"],r);const o=F(e,["outputDimensionality"]);if(void 0!==t&&null!=o&&j(t,["requests[]","outputDimensionality"],o),void 0!==F(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==F(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.")}(i,n);const l=F(t,["model"]);return void 0!==l&&j(n,["requests[]","model"],st(e,l)),n}function Dn(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["_url","model"],st(e,r));const o=F(t,["contents"]);if(null!=o){let t=Et(e,o);Array.isArray(t)&&(t=t.map(e=>e)),j(n,["instances[]","content"],t)}const i=F(t,["config"]);return null!=i&&function(e,t){const n=F(e,["taskType"]);void 0!==t&&null!=n&&j(t,["instances[]","task_type"],n);const r=F(e,["title"]);void 0!==t&&null!=r&&j(t,["instances[]","title"],r);const o=F(e,["outputDimensionality"]);void 0!==t&&null!=o&&j(t,["parameters","outputDimensionality"],o);const i=F(e,["mimeType"]);void 0!==t&&null!=i&&j(t,["instances[]","mimeType"],i);const l=F(e,["autoTruncate"]);void 0!==t&&null!=l&&j(t,["parameters","autoTruncate"],l)}(i,n),n}function Ln(e,t,n){const r={},o=F(t,["systemInstruction"]);void 0!==n&&null!=o&&j(n,["systemInstruction"],xn(bt(o)));const i=F(t,["temperature"]);null!=i&&j(r,["temperature"],i);const l=F(t,["topP"]);null!=l&&j(r,["topP"],l);const a=F(t,["topK"]);null!=a&&j(r,["topK"],a);const s=F(t,["candidateCount"]);null!=s&&j(r,["candidateCount"],s);const u=F(t,["maxOutputTokens"]);null!=u&&j(r,["maxOutputTokens"],u);const c=F(t,["stopSequences"]);null!=c&&j(r,["stopSequences"],c);const d=F(t,["responseLogprobs"]);null!=d&&j(r,["responseLogprobs"],d);const p=F(t,["logprobs"]);null!=p&&j(r,["logprobs"],p);const f=F(t,["presencePenalty"]);null!=f&&j(r,["presencePenalty"],f);const h=F(t,["frequencyPenalty"]);null!=h&&j(r,["frequencyPenalty"],h);const m=F(t,["seed"]);null!=m&&j(r,["seed"],m);const g=F(t,["responseMimeType"]);null!=g&&j(r,["responseMimeType"],g);const y=F(t,["responseSchema"]);null!=y&&j(r,["responseSchema"],Ct(y));const v=F(t,["responseJsonSchema"]);if(null!=v&&j(r,["responseJsonSchema"],v),void 0!==F(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==F(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=F(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==F(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const n=F(e,["category"]);null!=n&&j(t,["category"],n);const r=F(e,["threshold"]);null!=r&&j(t,["threshold"],r);return t}(e))),j(n,["safetySettings"],e)}const E=F(t,["tools"]);if(void 0!==n&&null!=E){let e=At(E);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["functionDeclarations"],e)}if(void 0!==F(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=F(e,["googleSearch"]);null!=r&&j(t,["googleSearch"],function(e){const t={},n=F(e,["timeRangeFilter"]);null!=n&&j(t,["timeRangeFilter"],n);if(void 0!==F(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}(r));const o=F(e,["googleSearchRetrieval"]);null!=o&&j(t,["googleSearchRetrieval"],o);if(void 0!==F(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=F(e,["googleMaps"]);null!=i&&j(t,["googleMaps"],function(e){const t={};if(void 0!==F(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=F(e,["enableWidget"]);null!=n&&j(t,["enableWidget"],n);return t}(i));const l=F(e,["urlContext"]);null!=l&&j(t,["urlContext"],l);const a=F(e,["computerUse"]);null!=a&&j(t,["computerUse"],a);const s=F(e,["codeExecution"]);null!=s&&j(t,["codeExecution"],s);return t}(kt(e)))),j(n,["tools"],e)}const S=F(t,["toolConfig"]);if(void 0!==n&&null!=S&&j(n,["toolConfig"],S),void 0!==F(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const w=F(t,["cachedContent"]);void 0!==n&&null!=w&&j(n,["cachedContent"],It(e,w));const C=F(t,["responseModalities"]);null!=C&&j(r,["responseModalities"],C);const T=F(t,["mediaResolution"]);null!=T&&j(r,["mediaResolution"],T);const _=F(t,["speechConfig"]);if(null!=_&&j(r,["speechConfig"],Tt(_)),void 0!==F(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=F(t,["thinkingConfig"]);null!=k&&j(r,["thinkingConfig"],k);const A=F(t,["imageConfig"]);return null!=A&&j(r,["imageConfig"],A),r}function Un(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["_url","model"],st(e,r));const o=F(t,["contents"]);if(null!=o){let e=St(o);Array.isArray(e)&&(e=e.map(e=>xn(e))),j(n,["contents"],e)}const i=F(t,["config"]);return null!=i&&j(n,["generationConfig"],Ln(e,i,n)),n}function jn(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["_url","model"],st(e,r));const o=F(t,["contents"]);if(null!=o){let e=St(o);Array.isArray(e)&&(e=e.map(e=>e)),j(n,["contents"],e)}const i=F(t,["config"]);return null!=i&&j(n,["generationConfig"],function(e,t,n){const r={},o=F(t,["systemInstruction"]);void 0!==n&&null!=o&&j(n,["systemInstruction"],bt(o));const i=F(t,["temperature"]);null!=i&&j(r,["temperature"],i);const l=F(t,["topP"]);null!=l&&j(r,["topP"],l);const a=F(t,["topK"]);null!=a&&j(r,["topK"],a);const s=F(t,["candidateCount"]);null!=s&&j(r,["candidateCount"],s);const u=F(t,["maxOutputTokens"]);null!=u&&j(r,["maxOutputTokens"],u);const c=F(t,["stopSequences"]);null!=c&&j(r,["stopSequences"],c);const d=F(t,["responseLogprobs"]);null!=d&&j(r,["responseLogprobs"],d);const p=F(t,["logprobs"]);null!=p&&j(r,["logprobs"],p);const f=F(t,["presencePenalty"]);null!=f&&j(r,["presencePenalty"],f);const h=F(t,["frequencyPenalty"]);null!=h&&j(r,["frequencyPenalty"],h);const m=F(t,["seed"]);null!=m&&j(r,["seed"],m);const g=F(t,["responseMimeType"]);null!=g&&j(r,["responseMimeType"],g);const y=F(t,["responseSchema"]);null!=y&&j(r,["responseSchema"],Ct(y));const v=F(t,["responseJsonSchema"]);null!=v&&j(r,["responseJsonSchema"],v);const b=F(t,["routingConfig"]);null!=b&&j(r,["routingConfig"],b);const E=F(t,["modelSelectionConfig"]);null!=E&&j(r,["modelConfig"],E);const S=F(t,["safetySettings"]);if(void 0!==n&&null!=S){let e=S;Array.isArray(e)&&(e=e.map(e=>e)),j(n,["safetySettings"],e)}const w=F(t,["tools"]);if(void 0!==n&&null!=w){let e=At(w);Array.isArray(e)&&(e=e.map(e=>cr(kt(e)))),j(n,["tools"],e)}const C=F(t,["toolConfig"]);void 0!==n&&null!=C&&j(n,["toolConfig"],C);const T=F(t,["labels"]);void 0!==n&&null!=T&&j(n,["labels"],T);const _=F(t,["cachedContent"]);void 0!==n&&null!=_&&j(n,["cachedContent"],It(e,_));const k=F(t,["responseModalities"]);null!=k&&j(r,["responseModalities"],k);const A=F(t,["mediaResolution"]);null!=A&&j(r,["mediaResolution"],A);const I=F(t,["speechConfig"]);null!=I&&j(r,["speechConfig"],ur(Tt(I)));const O=F(t,["audioTimestamp"]);null!=O&&j(r,["audioTimestamp"],O);const x=F(t,["thinkingConfig"]);null!=x&&j(r,["thinkingConfig"],x);const N=F(t,["imageConfig"]);return null!=N&&j(r,["imageConfig"],N),r}(e,i,n)),n}function Fn(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>In(e))),j(t,["candidates"],e)}const o=F(e,["modelVersion"]);null!=o&&j(t,["modelVersion"],o);const i=F(e,["promptFeedback"]);null!=i&&j(t,["promptFeedback"],i);const l=F(e,["responseId"]);null!=l&&j(t,["responseId"],l);const a=F(e,["usageMetadata"]);return null!=a&&j(t,["usageMetadata"],a),t}function qn(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["candidates"],e)}const o=F(e,["createTime"]);null!=o&&j(t,["createTime"],o);const i=F(e,["modelVersion"]);null!=i&&j(t,["modelVersion"],i);const l=F(e,["promptFeedback"]);null!=l&&j(t,["promptFeedback"],l);const a=F(e,["responseId"]);null!=a&&j(t,["responseId"],a);const s=F(e,["usageMetadata"]);return null!=s&&j(t,["usageMetadata"],s),t}function zn(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["_url","model"],st(e,r));const o=F(t,["prompt"]);null!=o&&j(n,["instances[0]","prompt"],o);const i=F(t,["config"]);return null!=i&&function(e,t){if(void 0!==F(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==F(e,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=F(e,["numberOfImages"]);void 0!==t&&null!=n&&j(t,["parameters","sampleCount"],n);const r=F(e,["aspectRatio"]);void 0!==t&&null!=r&&j(t,["parameters","aspectRatio"],r);const o=F(e,["guidanceScale"]);if(void 0!==t&&null!=o&&j(t,["parameters","guidanceScale"],o),void 0!==F(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const i=F(e,["safetyFilterLevel"]);void 0!==t&&null!=i&&j(t,["parameters","safetySetting"],i);const l=F(e,["personGeneration"]);void 0!==t&&null!=l&&j(t,["parameters","personGeneration"],l);const a=F(e,["includeSafetyAttributes"]);void 0!==t&&null!=a&&j(t,["parameters","includeSafetyAttributes"],a);const s=F(e,["includeRaiReason"]);void 0!==t&&null!=s&&j(t,["parameters","includeRaiReason"],s);const u=F(e,["language"]);void 0!==t&&null!=u&&j(t,["parameters","language"],u);const c=F(e,["outputMimeType"]);void 0!==t&&null!=c&&j(t,["parameters","outputOptions","mimeType"],c);const d=F(e,["outputCompressionQuality"]);if(void 0!==t&&null!=d&&j(t,["parameters","outputOptions","compressionQuality"],d),void 0!==F(e,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==F(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const p=F(e,["imageSize"]);if(void 0!==t&&null!=p&&j(t,["parameters","sampleImageSize"],p),void 0!==F(e,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.")}(i,n),n}function Hn(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["_url","model"],st(e,r));const o=F(t,["prompt"]);null!=o&&j(n,["instances[0]","prompt"],o);const i=F(t,["config"]);return null!=i&&function(e,t){const n=F(e,["outputGcsUri"]);void 0!==t&&null!=n&&j(t,["parameters","storageUri"],n);const r=F(e,["negativePrompt"]);void 0!==t&&null!=r&&j(t,["parameters","negativePrompt"],r);const o=F(e,["numberOfImages"]);void 0!==t&&null!=o&&j(t,["parameters","sampleCount"],o);const i=F(e,["aspectRatio"]);void 0!==t&&null!=i&&j(t,["parameters","aspectRatio"],i);const l=F(e,["guidanceScale"]);void 0!==t&&null!=l&&j(t,["parameters","guidanceScale"],l);const a=F(e,["seed"]);void 0!==t&&null!=a&&j(t,["parameters","seed"],a);const s=F(e,["safetyFilterLevel"]);void 0!==t&&null!=s&&j(t,["parameters","safetySetting"],s);const u=F(e,["personGeneration"]);void 0!==t&&null!=u&&j(t,["parameters","personGeneration"],u);const c=F(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&j(t,["parameters","includeSafetyAttributes"],c);const d=F(e,["includeRaiReason"]);void 0!==t&&null!=d&&j(t,["parameters","includeRaiReason"],d);const p=F(e,["language"]);void 0!==t&&null!=p&&j(t,["parameters","language"],p);const f=F(e,["outputMimeType"]);void 0!==t&&null!=f&&j(t,["parameters","outputOptions","mimeType"],f);const h=F(e,["outputCompressionQuality"]);void 0!==t&&null!=h&&j(t,["parameters","outputOptions","compressionQuality"],h);const m=F(e,["addWatermark"]);void 0!==t&&null!=m&&j(t,["parameters","addWatermark"],m);const g=F(e,["labels"]);void 0!==t&&null!=g&&j(t,["labels"],g);const y=F(e,["imageSize"]);void 0!==t&&null!=y&&j(t,["parameters","sampleImageSize"],y);const v=F(e,["enhancePrompt"]);void 0!==t&&null!=v&&j(t,["parameters","enhancePrompt"],v)}(i,n),n}function Gn(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["_self"]);null!=n&&j(t,["image"],function(e){const t={},n=F(e,["bytesBase64Encoded"]);null!=n&&j(t,["imageBytes"],xt(n));const r=F(e,["mimeType"]);null!=r&&j(t,["mimeType"],r);return t}(n));const r=F(e,["raiFilteredReason"]);null!=r&&j(t,["raiFilteredReason"],r);const o=F(e,["_self"]);null!=o&&j(t,["safetyAttributes"],ir(o));return t}(e))),j(t,["generatedImages"],e)}const o=F(e,["positivePromptSafetyAttributes"]);return null!=o&&j(t,["positivePromptSafetyAttributes"],ir(o)),t}function Vn(e,t){const n=F(e,["numberOfVideos"]);if(void 0!==t&&null!=n&&j(t,["parameters","sampleCount"],n),void 0!==F(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==F(e,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const r=F(e,["durationSeconds"]);if(void 0!==t&&null!=r&&j(t,["parameters","durationSeconds"],r),void 0!==F(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const o=F(e,["aspectRatio"]);void 0!==t&&null!=o&&j(t,["parameters","aspectRatio"],o);const i=F(e,["resolution"]);void 0!==t&&null!=i&&j(t,["parameters","resolution"],i);const l=F(e,["personGeneration"]);if(void 0!==t&&null!=l&&j(t,["parameters","personGeneration"],l),void 0!==F(e,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=F(e,["negativePrompt"]);void 0!==t&&null!=a&&j(t,["parameters","negativePrompt"],a);const s=F(e,["enhancePrompt"]);if(void 0!==t&&null!=s&&j(t,["parameters","enhancePrompt"],s),void 0!==F(e,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");const u=F(e,["lastFrame"]);void 0!==t&&null!=u&&j(t,["instances[0]","lastFrame"],Xn(u));const c=F(e,["referenceImages"]);if(void 0!==t&&null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["image"]);null!=n&&j(t,["image"],Xn(n));const r=F(e,["referenceType"]);null!=r&&j(t,["referenceType"],r);return t}(e))),j(t,["instances[0]","referenceImages"],e)}if(void 0!==F(e,["mask"]))throw new Error("mask parameter is not supported in Gemini API.");if(void 0!==F(e,["compressionQuality"]))throw new Error("compressionQuality parameter is not supported in Gemini API.");return{}}function Bn(e,t){const n=F(e,["numberOfVideos"]);void 0!==t&&null!=n&&j(t,["parameters","sampleCount"],n);const r=F(e,["outputGcsUri"]);void 0!==t&&null!=r&&j(t,["parameters","storageUri"],r);const o=F(e,["fps"]);void 0!==t&&null!=o&&j(t,["parameters","fps"],o);const i=F(e,["durationSeconds"]);void 0!==t&&null!=i&&j(t,["parameters","durationSeconds"],i);const l=F(e,["seed"]);void 0!==t&&null!=l&&j(t,["parameters","seed"],l);const a=F(e,["aspectRatio"]);void 0!==t&&null!=a&&j(t,["parameters","aspectRatio"],a);const s=F(e,["resolution"]);void 0!==t&&null!=s&&j(t,["parameters","resolution"],s);const u=F(e,["personGeneration"]);void 0!==t&&null!=u&&j(t,["parameters","personGeneration"],u);const c=F(e,["pubsubTopic"]);void 0!==t&&null!=c&&j(t,["parameters","pubsubTopic"],c);const d=F(e,["negativePrompt"]);void 0!==t&&null!=d&&j(t,["parameters","negativePrompt"],d);const p=F(e,["enhancePrompt"]);void 0!==t&&null!=p&&j(t,["parameters","enhancePrompt"],p);const f=F(e,["generateAudio"]);void 0!==t&&null!=f&&j(t,["parameters","generateAudio"],f);const h=F(e,["lastFrame"]);void 0!==t&&null!=h&&j(t,["instances[0]","lastFrame"],Zn(h));const m=F(e,["referenceImages"]);if(void 0!==t&&null!=m){let e=m;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["image"]);null!=n&&j(t,["image"],Zn(n));const r=F(e,["referenceType"]);null!=r&&j(t,["referenceType"],r);return t}(e))),j(t,["instances[0]","referenceImages"],e)}const g=F(e,["mask"]);void 0!==t&&null!=g&&j(t,["instances[0]","mask"],function(e){const t={},n=F(e,["image"]);null!=n&&j(t,["_self"],Zn(n));const r=F(e,["maskMode"]);null!=r&&j(t,["maskMode"],r);return t}(g));const y=F(e,["compressionQuality"]);return void 0!==t&&null!=y&&j(t,["parameters","compressionQuality"],y),{}}function Jn(e){const t={},n=F(e,["name"]);null!=n&&j(t,["name"],n);const r=F(e,["metadata"]);null!=r&&j(t,["metadata"],r);const o=F(e,["done"]);null!=o&&j(t,["done"],o);const i=F(e,["error"]);null!=i&&j(t,["error"],i);const l=F(e,["response","generateVideoResponse"]);return null!=l&&j(t,["response"],function(e){const t={},n=F(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["video"]);null!=n&&j(t,["video"],function(e){const t={},n=F(e,["uri"]);null!=n&&j(t,["uri"],n);const r=F(e,["encodedVideo"]);null!=r&&j(t,["videoBytes"],xt(r));const o=F(e,["encoding"]);null!=o&&j(t,["mimeType"],o);return t}(n));return t}(e))),j(t,["generatedVideos"],e)}const r=F(e,["raiMediaFilteredCount"]);null!=r&&j(t,["raiMediaFilteredCount"],r);const o=F(e,["raiMediaFilteredReasons"]);null!=o&&j(t,["raiMediaFilteredReasons"],o);return t}(l)),t}function Wn(e){const t={},n=F(e,["name"]);null!=n&&j(t,["name"],n);const r=F(e,["metadata"]);null!=r&&j(t,["metadata"],r);const o=F(e,["done"]);null!=o&&j(t,["done"],o);const i=F(e,["error"]);null!=i&&j(t,["error"],i);const l=F(e,["response"]);return null!=l&&j(t,["response"],function(e){const t={},n=F(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["_self"]);null!=n&&j(t,["video"],function(e){const t={},n=F(e,["gcsUri"]);null!=n&&j(t,["uri"],n);const r=F(e,["bytesBase64Encoded"]);null!=r&&j(t,["videoBytes"],xt(r));const o=F(e,["mimeType"]);null!=o&&j(t,["mimeType"],o);return t}(n));return t}(e))),j(t,["generatedVideos"],e)}const r=F(e,["raiMediaFilteredCount"]);null!=r&&j(t,["raiMediaFilteredCount"],r);const o=F(e,["raiMediaFilteredReasons"]);null!=o&&j(t,["raiMediaFilteredReasons"],o);return t}(l)),t}function $n(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["_url","model"],st(e,r));const o=F(t,["prompt"]);null!=o&&j(n,["instances[0]","prompt"],o);const i=F(t,["image"]);null!=i&&j(n,["instances[0]","image"],Xn(i));const l=F(t,["video"]);null!=l&&j(n,["instances[0]","video"],hr(l));const a=F(t,["source"]);null!=a&&function(e,t){const n={},r=F(e,["prompt"]);void 0!==t&&null!=r&&j(t,["instances[0]","prompt"],r);const o=F(e,["image"]);void 0!==t&&null!=o&&j(t,["instances[0]","image"],Xn(o));const i=F(e,["video"]);void 0!==t&&null!=i&&j(t,["instances[0]","video"],hr(i))}(a,n);const s=F(t,["config"]);return null!=s&&Vn(s,n),n}function Yn(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["_url","model"],st(e,r));const o=F(t,["prompt"]);null!=o&&j(n,["instances[0]","prompt"],o);const i=F(t,["image"]);null!=i&&j(n,["instances[0]","image"],Zn(i));const l=F(t,["video"]);null!=l&&j(n,["instances[0]","video"],mr(l));const a=F(t,["source"]);null!=a&&function(e,t){const n={},r=F(e,["prompt"]);void 0!==t&&null!=r&&j(t,["instances[0]","prompt"],r);const o=F(e,["image"]);void 0!==t&&null!=o&&j(t,["instances[0]","image"],Zn(o));const i=F(e,["video"]);void 0!==t&&null!=i&&j(t,["instances[0]","video"],mr(i))}(a,n);const s=F(t,["config"]);return null!=s&&Bn(s,n),n}function Kn(e){const t={},n=F(e,["_self"]);null!=n&&j(t,["image"],Qn(n));const r=F(e,["raiFilteredReason"]);null!=r&&j(t,["raiFilteredReason"],r);const o=F(e,["_self"]);null!=o&&j(t,["safetyAttributes"],lr(o));const i=F(e,["prompt"]);return null!=i&&j(t,["enhancedPrompt"],i),t}function Qn(e){const t={},n=F(e,["gcsUri"]);null!=n&&j(t,["gcsUri"],n);const r=F(e,["bytesBase64Encoded"]);null!=r&&j(t,["imageBytes"],xt(r));const o=F(e,["mimeType"]);return null!=o&&j(t,["mimeType"],o),t}function Xn(e){const t={};if(void 0!==F(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const n=F(e,["imageBytes"]);null!=n&&j(t,["bytesBase64Encoded"],xt(n));const r=F(e,["mimeType"]);return null!=r&&j(t,["mimeType"],r),t}function Zn(e){const t={},n=F(e,["gcsUri"]);null!=n&&j(t,["gcsUri"],n);const r=F(e,["imageBytes"]);null!=r&&j(t,["bytesBase64Encoded"],xt(r));const o=F(e,["mimeType"]);return null!=o&&j(t,["mimeType"],o),t}function er(e,t){const n={},r=F(t,["config"]);return null!=r&&function(e,t,n){const r=F(t,["pageSize"]);void 0!==n&&null!=r&&j(n,["_query","pageSize"],r);const o=F(t,["pageToken"]);void 0!==n&&null!=o&&j(n,["_query","pageToken"],o);const i=F(t,["filter"]);void 0!==n&&null!=i&&j(n,["_query","filter"],i);const l=F(t,["queryBase"]);void 0!==n&&null!=l&&j(n,["_url","models_url"],Pt(e,l))}(e,r,n),n}function tr(e,t){const n={},r=F(t,["config"]);return null!=r&&function(e,t,n){const r=F(t,["pageSize"]);void 0!==n&&null!=r&&j(n,["_query","pageSize"],r);const o=F(t,["pageToken"]);void 0!==n&&null!=o&&j(n,["_query","pageToken"],o);const i=F(t,["filter"]);void 0!==n&&null!=i&&j(n,["_query","filter"],i);const l=F(t,["queryBase"]);void 0!==n&&null!=l&&j(n,["_url","models_url"],Pt(e,l))}(e,r,n),n}function nr(e){const t={},n=F(e,["name"]);null!=n&&j(t,["name"],n);const r=F(e,["displayName"]);null!=r&&j(t,["displayName"],r);const o=F(e,["description"]);null!=o&&j(t,["description"],o);const i=F(e,["version"]);null!=i&&j(t,["version"],i);const l=F(e,["_self"]);null!=l&&j(t,["tunedModelInfo"],function(e){const t={},n=F(e,["baseModel"]);null!=n&&j(t,["baseModel"],n);const r=F(e,["createTime"]);null!=r&&j(t,["createTime"],r);const o=F(e,["updateTime"]);null!=o&&j(t,["updateTime"],o);return t}(l));const a=F(e,["inputTokenLimit"]);null!=a&&j(t,["inputTokenLimit"],a);const s=F(e,["outputTokenLimit"]);null!=s&&j(t,["outputTokenLimit"],s);const u=F(e,["supportedGenerationMethods"]);return null!=u&&j(t,["supportedActions"],u),t}function rr(e){const t={},n=F(e,["name"]);null!=n&&j(t,["name"],n);const r=F(e,["displayName"]);null!=r&&j(t,["displayName"],r);const o=F(e,["description"]);null!=o&&j(t,["description"],o);const i=F(e,["versionId"]);null!=i&&j(t,["version"],i);const l=F(e,["deployedModels"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["endpoint"]);null!=n&&j(t,["name"],n);const r=F(e,["deployedModelId"]);return null!=r&&j(t,["deployedModelId"],r),t}(e))),j(t,["endpoints"],e)}const a=F(e,["labels"]);null!=a&&j(t,["labels"],a);const s=F(e,["_self"]);null!=s&&j(t,["tunedModelInfo"],function(e){const t={},n=F(e,["labels","google-vertex-llm-tuning-base-model-id"]);null!=n&&j(t,["baseModel"],n);const r=F(e,["createTime"]);null!=r&&j(t,["createTime"],r);const o=F(e,["updateTime"]);null!=o&&j(t,["updateTime"],o);return t}(s));const u=F(e,["defaultCheckpointId"]);null!=u&&j(t,["defaultCheckpointId"],u);const c=F(e,["checkpoints"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["checkpoints"],e)}return t}function or(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["_url","model"],st(e,r));const o=F(t,["source"]);null!=o&&function(e,t){const n={},r=F(e,["prompt"]);void 0!==t&&null!=r&&j(t,["instances[0]","prompt"],r);const o=F(e,["personImage"]);void 0!==t&&null!=o&&j(t,["instances[0]","personImage","image"],Zn(o));const i=F(e,["productImages"]);if(void 0!==t&&null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["productImage"]);return null!=n&&j(t,["image"],Zn(n)),t}(e))),j(t,["instances[0]","productImages"],e)}}(o,n);const i=F(t,["config"]);return null!=i&&function(e,t){const n=F(e,["numberOfImages"]);void 0!==t&&null!=n&&j(t,["parameters","sampleCount"],n);const r=F(e,["baseSteps"]);void 0!==t&&null!=r&&j(t,["parameters","editConfig","baseSteps"],r);const o=F(e,["outputGcsUri"]);void 0!==t&&null!=o&&j(t,["parameters","storageUri"],o);const i=F(e,["seed"]);void 0!==t&&null!=i&&j(t,["parameters","seed"],i);const l=F(e,["safetyFilterLevel"]);void 0!==t&&null!=l&&j(t,["parameters","safetySetting"],l);const a=F(e,["personGeneration"]);void 0!==t&&null!=a&&j(t,["parameters","personGeneration"],a);const s=F(e,["addWatermark"]);void 0!==t&&null!=s&&j(t,["parameters","addWatermark"],s);const u=F(e,["outputMimeType"]);void 0!==t&&null!=u&&j(t,["parameters","outputOptions","mimeType"],u);const c=F(e,["outputCompressionQuality"]);void 0!==t&&null!=c&&j(t,["parameters","outputOptions","compressionQuality"],c);const d=F(e,["enhancePrompt"]);void 0!==t&&null!=d&&j(t,["parameters","enhancePrompt"],d);const p=F(e,["labels"]);void 0!==t&&null!=p&&j(t,["labels"],p)}(i,n),n}function ir(e){const t={},n=F(e,["safetyAttributes","categories"]);null!=n&&j(t,["categories"],n);const r=F(e,["safetyAttributes","scores"]);null!=r&&j(t,["scores"],r);const o=F(e,["contentType"]);return null!=o&&j(t,["contentType"],o),t}function lr(e){const t={},n=F(e,["safetyAttributes","categories"]);null!=n&&j(t,["categories"],n);const r=F(e,["safetyAttributes","scores"]);null!=r&&j(t,["scores"],r);const o=F(e,["contentType"]);return null!=o&&j(t,["contentType"],o),t}function ar(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["_url","model"],st(e,r));const o=F(t,["source"]);null!=o&&function(e,t){const n={},r=F(e,["prompt"]);void 0!==t&&null!=r&&j(t,["instances[0]","prompt"],r);const o=F(e,["image"]);void 0!==t&&null!=o&&j(t,["instances[0]","image"],Zn(o));const i=F(e,["scribbleImage"]);void 0!==t&&null!=i&&j(t,["instances[0]","scribble"],function(e){const t={},n=F(e,["image"]);return null!=n&&j(t,["image"],Zn(n)),t}(i))}(o,n);const i=F(t,["config"]);return null!=i&&function(e,t){const n=F(e,["mode"]);void 0!==t&&null!=n&&j(t,["parameters","mode"],n);const r=F(e,["maxPredictions"]);void 0!==t&&null!=r&&j(t,["parameters","maxPredictions"],r);const o=F(e,["confidenceThreshold"]);void 0!==t&&null!=o&&j(t,["parameters","confidenceThreshold"],o);const i=F(e,["maskDilation"]);void 0!==t&&null!=i&&j(t,["parameters","maskDilation"],i);const l=F(e,["binaryColorThreshold"]);void 0!==t&&null!=l&&j(t,["parameters","binaryColorThreshold"],l);const a=F(e,["labels"]);void 0!==t&&null!=a&&j(t,["labels"],a)}(i,n),n}function sr(e){const t={},n=F(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["_self"]);null!=n&&j(t,["mask"],Qn(n));const r=F(e,["labels"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["labels"],e)}return t}(e))),j(t,["generatedMasks"],e)}return t}function ur(e){const t={},n=F(e,["voiceConfig"]);if(null!=n&&j(t,["voiceConfig"],n),void 0!==F(e,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=F(e,["languageCode"]);return null!=r&&j(t,["languageCode"],r),t}function cr(e){const t={},n=F(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==F(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=F(e,["description"]);null!=n&&j(t,["description"],n);const r=F(e,["name"]);null!=r&&j(t,["name"],r);const o=F(e,["parameters"]);null!=o&&j(t,["parameters"],o);const i=F(e,["parametersJsonSchema"]);null!=i&&j(t,["parametersJsonSchema"],i);const l=F(e,["response"]);null!=l&&j(t,["response"],l);const a=F(e,["responseJsonSchema"]);return null!=a&&j(t,["responseJsonSchema"],a),t}(e))),j(t,["functionDeclarations"],e)}const r=F(e,["retrieval"]);null!=r&&j(t,["retrieval"],r);const o=F(e,["googleSearch"]);null!=o&&j(t,["googleSearch"],o);const i=F(e,["googleSearchRetrieval"]);null!=i&&j(t,["googleSearchRetrieval"],i);const l=F(e,["enterpriseWebSearch"]);null!=l&&j(t,["enterpriseWebSearch"],l);const a=F(e,["googleMaps"]);null!=a&&j(t,["googleMaps"],a);const s=F(e,["urlContext"]);null!=s&&j(t,["urlContext"],s);const u=F(e,["computerUse"]);null!=u&&j(t,["computerUse"],u);const c=F(e,["codeExecution"]);return null!=c&&j(t,["codeExecution"],c),t}function dr(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["_url","name"],st(e,r));const o=F(t,["config"]);return null!=o&&function(e,t){const n=F(e,["displayName"]);void 0!==t&&null!=n&&j(t,["displayName"],n);const r=F(e,["description"]);void 0!==t&&null!=r&&j(t,["description"],r);const o=F(e,["defaultCheckpointId"]);void 0!==t&&null!=o&&j(t,["defaultCheckpointId"],o)}(o,n),n}function pr(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["_url","model"],st(e,r));const o=F(t,["config"]);return null!=o&&function(e,t){const n=F(e,["displayName"]);void 0!==t&&null!=n&&j(t,["displayName"],n);const r=F(e,["description"]);void 0!==t&&null!=r&&j(t,["description"],r);const o=F(e,["defaultCheckpointId"]);void 0!==t&&null!=o&&j(t,["defaultCheckpointId"],o)}(o,n),n}function fr(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["_url","model"],st(e,r));const o=F(t,["image"]);null!=o&&j(n,["instances[0]","image"],Zn(o));const i=F(t,["upscaleFactor"]);null!=i&&j(n,["parameters","upscaleConfig","upscaleFactor"],i);const l=F(t,["config"]);return null!=l&&function(e,t){const n=F(e,["outputGcsUri"]);void 0!==t&&null!=n&&j(t,["parameters","storageUri"],n);const r=F(e,["includeRaiReason"]);void 0!==t&&null!=r&&j(t,["parameters","includeRaiReason"],r);const o=F(e,["outputMimeType"]);void 0!==t&&null!=o&&j(t,["parameters","outputOptions","mimeType"],o);const i=F(e,["outputCompressionQuality"]);void 0!==t&&null!=i&&j(t,["parameters","outputOptions","compressionQuality"],i);const l=F(e,["enhanceInputImage"]);void 0!==t&&null!=l&&j(t,["parameters","upscaleConfig","enhanceInputImage"],l);const a=F(e,["imagePreservationFactor"]);void 0!==t&&null!=a&&j(t,["parameters","upscaleConfig","imagePreservationFactor"],a);const s=F(e,["labels"]);void 0!==t&&null!=s&&j(t,["labels"],s);const u=F(e,["numberOfImages"]);void 0!==t&&null!=u&&j(t,["parameters","sampleCount"],u);const c=F(e,["mode"]);void 0!==t&&null!=c&&j(t,["parameters","mode"],c)}(l,n),n}function hr(e){const t={},n=F(e,["uri"]);null!=n&&j(t,["uri"],n);const r=F(e,["videoBytes"]);null!=r&&j(t,["encodedVideo"],xt(r));const o=F(e,["mimeType"]);return null!=o&&j(t,["encoding"],o),t}function mr(e){const t={},n=F(e,["uri"]);null!=n&&j(t,["gcsUri"],n);const r=F(e,["videoBytes"]);null!=r&&j(t,["bytesBase64Encoded"],xt(r));const o=F(e,["mimeType"]);return null!=o&&j(t,["mimeType"],o),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gr="x-goog-api-client",yr=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class vr{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=null!==(t=this.clientOptions.apiVersion)&&void 0!==t?t:"v1beta1",r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=null!==(n=this.clientOptions.apiVersion)&&void 0!==n?n:"v1beta",r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:(this.clientOptions.project=void 0,this.clientOptions.location=void 0)}isVertexAI(){var e;return null!==(e=this.clientOptions.vertexai)&&void 0!==e&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw new Error("HTTP options are not correctly set.");const t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol="http:"==t.protocol?"ws":"wss",t.toString()}setBaseUrl(e){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=e}constructUrl(e,t,n){const r=[this.getRequestUrlInternal(t)];n&&r.push(this.getBaseResourcePath()),""!==e&&r.push(e);return new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!this.clientOptions.apiKey&&(!!this.clientOptions.vertexai&&(!e.path.startsWith("projects/")&&("GET"!==e.httpMethod||!e.path.startsWith("publishers/google/models"))))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[i,l]of Object.entries(e.queryParams))r.searchParams.append(i,String(l));let o={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.unaryApiCall(r,o,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[r,o]of Object.entries(t))"object"==typeof o?n[r]=Object.assign(Object.assign({},n[r]),o):void 0!==o&&(n[r]=o);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);r.searchParams.has("alt")&&"sse"===r.searchParams.get("alt")||r.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.streamApiCall(r,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n){if(t&&t.timeout||n){const r=new AbortController,o=r.signal;if(t.timeout&&(null==t?void 0:t.timeout)>0){const e=setTimeout(()=>r.abort(),t.timeout);e&&"function"==typeof e.unref&&e.unref()}n&&n.addEventListener("abort",()=>{r.abort()}),e.signal=o}return t&&null!==t.extraBody&&function(e,t){if(!t||0===Object.keys(t).length)return;if(e.body instanceof Blob)return;let n={};if("string"==typeof e.body&&e.body.length>0)try{const t=JSON.parse(e.body);if("object"!=typeof t||null===t||Array.isArray(t))return;n=t}catch(i){return}function r(e,t){const n=Object.assign({},e);for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const e=t[o],i=n[o];e&&"object"==typeof e&&!Array.isArray(e)&&i&&"object"==typeof i&&!Array.isArray(i)?n[o]=r(i,e):n[o]=e}return n}const o=r(n,t);e.body=JSON.stringify(o)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(e,t.extraBody),e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await br(e),new qe(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await br(e),this.processStreamResponse(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}processStreamResponse(e){var t;return cn(this,arguments,function*(){const n=null===(t=null==e?void 0:e.body)||void 0===t?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!n)throw new Error("Response body is empty");try{let t="";for(;;){const{done:i,value:l}=yield un(n.read());if(i){if(t.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const a=r.decode(l,{stream:!0});try{const e=JSON.parse(a);if("error"in e){const t=JSON.parse(JSON.stringify(e.error)),n=t.status,r=t.code,o=`got status: ${n}. ${JSON.stringify(e)}`;if(r>=400&&r<600){throw new yn({message:o,status:r})}}}catch(o){if("ApiError"===o.name)throw o}t+=a;let s=t.match(yr);for(;s;){const n=s[1];try{const r=new Response(n,{headers:null==e?void 0:e.headers,status:null==e?void 0:e.status,statusText:null==e?void 0:e.statusText});yield yield un(new qe(r)),t=t.slice(s[0].length),s=t.match(yr)}catch(o){throw new Error(`exception parsing stream chunk ${n}. ${o}`)}}}}finally{n.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(e=>{throw new Error(`exception ${e} sending request`)})}getDefaultHeaders(){const e={},t="google-genai-sdk/1.25.0 "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[gr]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[n,r]of Object.entries(e.headers))t.append(n,r);e.timeout&&e.timeout>0&&t.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var n;const r={};null!=t&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const o=this.clientOptions.uploader,i=await o.stat(e);r.sizeBytes=String(i.size);const l=null!==(n=null==t?void 0:t.mimeType)&&void 0!==n?n:i.type;if(void 0===l||""===l)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=l;const a=await this.fetchUploadUrl(r,t);return o.upload(e,a,this)}async downloadFile(e){const t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t){var n;let r={};r=(null==t?void 0:t.httpOptions)?t.httpOptions:{apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},i=await this.request({path:U("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:r});if(!i||!(null==i?void 0:i.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const l=null===(n=null==i?void 0:i.headers)||void 0===n?void 0:n["x-goog-upload-url"];if(void 0===l)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return l}}async function br(e){var t;if(void 0===e)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;r=(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};const o=JSON.stringify(r);if(n>=400&&n<600){throw new yn({message:o,status:n})}throw new Error(o)}}function Er(e){for(const t of e){if(wr(t))return!0;if("object"==typeof t&&"inputSchema"in t)return!0}return false}function Sr(e){var t;const n=null!==(t=e[gr])&&void 0!==t?t:"";e[gr]=(n+" mcp_used/unknown").trimStart()}function wr(e){return null!==e&&"object"==typeof e&&e instanceof Tr}function Cr(e,t=100){return cn(this,arguments,function*(){let n,r=0;for(;r<t;){const t=yield un(e.listTools({cursor:n}));for(const e of t.tools)yield yield un(e),r++;if(!t.nextCursor)break;n=t.nextCursor}})}class Tr{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Tr(e,t)}async initialize(){var e,t,n,r;if(this.mcpTools.length>0)return;const o={},i=[];for(const c of this.mcpClients)try{for(var l,a=!0,s=(t=void 0,dn(Cr(c)));!(e=(l=await s.next()).done);a=!0){r=l.value,a=!1;const e=r;i.push(e);const t=e.name;if(o[t])throw new Error(`Duplicate function name ${t} found in MCP tools. Please ensure function names are unique.`);o[t]=c}}catch(u){t={error:u}}finally{try{a||e||!(n=s.return)||await n.call(s)}finally{if(t)throw t.error}}this.mcpTools=i,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),function(e,t={}){const n=[],r=new Set;for(const o of e){const e=o.name;if(r.has(e))throw new Error(`Duplicate function name ${e} found in MCP tools. Please ensure function names are unique.`);r.add(e);const i=Dt(o,t);i.functionDeclarations&&n.push(...i.functionDeclarations)}return{functionDeclarations:n}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const e=this.functionNameToMcpClient[n.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const o=await e.callTool({name:n.name,arguments:n.args},void 0,r);t.push({functionResponse:{name:n.name,response:o.isError?{error:o}:o}})}return t}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _r{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");const r=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),i=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(this.apiClient.getDefaultHeaders()),l=`${r}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${this.apiClient.getApiKey()}`;let a=()=>{};const s=new Promise(e=>{a=e}),u=e.callbacks,c=(this.apiClient,{onopen:function(){a({})},onmessage:e=>{!async function(e,t,n){const r=new at;let o;o=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data),Object.assign(r,o),t(r)}(0,u.onmessage,e)},onerror:null!==(t=null==u?void 0:u.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==u?void 0:u.onclose)&&void 0!==n?n:function(e){}}),d=this.webSocketFactory.create(l,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(i),c);d.connect(),await s;const p={setup:{model:st(this.apiClient,e.model)}};return d.send(JSON.stringify(p)),new kr(d,this.apiClient)}}class kr{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=function(e){const t={},n=F(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["weightedPrompts"],e)}return t}(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=function(e){const t={},n=F(e,["musicGenerationConfig"]);return null!=n&&j(t,["musicGenerationConfig"],n),t}(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(je.PLAY)}pause(){this.sendPlaybackControl(je.PAUSE)}stop(){this.sendPlaybackControl(je.STOP)}resetContext(){this.sendPlaybackControl(je.RESET_CONTEXT)}close(){this.conn.close()}}class Ar{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new _r(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,r,o,i,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const a=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion();let u;const c=this.apiClient.getHeaders();e.config&&e.config.tools&&Er(e.config.tools)&&Sr(c);const d=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(c);if(this.apiClient.isVertexAI())u=`${a}/ws/google.cloud.aiplatform.${s}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d);else{const e=this.apiClient.getApiKey();let t="BidiGenerateContent",n="key";(null==e?void 0:e.startsWith("auth_tokens/"))&&(t="BidiGenerateContentConstrained",n="access_token"),u=`${a}/ws/google.ai.generativelanguage.${s}.GenerativeService.${t}?${n}=${e}`}let p=()=>{};const f=new Promise(e=>{p=e}),h=e.callbacks,m=this.apiClient,g={onopen:function(){var e;null===(e=null==h?void 0:h.onopen)||void 0===e||e.call(h),p({})},onmessage:e=>{!async function(e,t,n){const r=new lt;let o;o=n.data instanceof Blob?await n.data.text():n.data instanceof ArrayBuffer?(new TextDecoder).decode(n.data):n.data;const i=JSON.parse(o);if(e.isVertexAI()){const e=kn(i);Object.assign(r,e)}else{const e=i;Object.assign(r,e)}t(r)}(m,h.onmessage,e)},onerror:null!==(t=null==h?void 0:h.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==h?void 0:h.onclose)&&void 0!==n?n:function(e){}},y=this.webSocketFactory.create(u,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(d),g);y.connect(),await f;let v=st(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&v.startsWith("publishers/")){v=`projects/${this.apiClient.getProject()}/locations/${this.apiClient.getLocation()}/`+v}let b={};this.apiClient.isVertexAI()&&void 0===(null===(r=e.config)||void 0===r?void 0:r.responseModalities)&&(void 0===e.config?e.config={responseModalities:[ie.AUDIO]}:e.config.responseModalities=[ie.AUDIO]),null===(o=e.config)||void 0===o||o.generationConfig;const E=null!==(l=null===(i=e.config)||void 0===i?void 0:i.tools)&&void 0!==l?l:[],S=[];for(const C of E)if(this.isCallableTool(C)){const e=C;S.push(await e.tool())}else S.push(C);S.length>0&&(e.config.tools=S);const w={model:v,config:e.config,callbacks:e.callbacks};return b=this.apiClient.isVertexAI()?function(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["setup","model"],st(e,r));const o=F(t,["config"]);return null!=o&&j(n,["config"],Cn(o,n)),n}(this.apiClient,w):function(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["setup","model"],st(e,r));const o=F(t,["config"]);return null!=o&&j(n,["config"],wn(o,n)),n}(this.apiClient,w),delete b.config,y.send(JSON.stringify(b)),new Or(y,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"==typeof e.callTool}}const Ir={turnComplete:!0};class Or{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let r=[];try{r=St(t.turns),e.isVertexAI()||(r=r.map(e=>xn(e)))}catch(n){throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(null==t.functionResponses)throw new Error("functionResponses is required.");if(n=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],0===n.length)throw new Error("functionResponses is required.");for(const r of n){if("object"!=typeof r||null===r||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},Ir),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:_n(e)}:{realtimeInput:Tn(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function xr(e){var t,n,r;if(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.disable)return!0;let o=!1;for(const l of null!==(n=null==e?void 0:e.tools)&&void 0!==n?n:[])if(Nr(l)){o=!0;break}if(!o)return!0;const i=null===(r=null==e?void 0:e.automaticFunctionCalling)||void 0===r?void 0:r.maximumRemoteCalls;return!!(i&&(i<0||!Number.isInteger(i))||0==i)}function Nr(e){return"callTool"in e&&"function"==typeof e.callTool}function Pr(e){var t;return!(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.ignoreCallHistory)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rr extends L{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,n,r,o,i;const l=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!function(e){var t,n,r;return null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some(e=>Nr(e)))&&void 0!==r&&r}(e)||xr(e.config))return await this.generateContentInternal(l);if(function(e){var t,n,r;return null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some(e=>!Nr(e)))&&void 0!==r&&r}(e))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let a,s;const u=St(l.contents),c=null!==(r=null===(n=null===(t=l.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let d=0;for(;d<c&&(a=await this.generateContentInternal(l),a.functionCalls&&0!==a.functionCalls.length);){const t=a.candidates[0].content,n=[];for(const r of null!==(i=null===(o=e.config)||void 0===o?void 0:o.tools)&&void 0!==i?i:[])if(Nr(r)){const e=r,t=await e.callTool(a.functionCalls);n.push(...t)}d++,s={role:"user",parts:n},l.contents=St(l.contents),l.contents.push(t),l.contents.push(s),Pr(l.config)&&(u.push(t),u.push(s))}return Pr(l.config)&&(a.automaticFunctionCallingHistory=u),a},this.generateContentStream=async e=>{if(this.maybeMoveToResponseJsonSchem(e),xr(e.config)){const t=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(t)}return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{var t;let n;const r=[];if(null==e?void 0:e.generatedImages)for(const i of e.generatedImages)i&&(null==i?void 0:i.safetyAttributes)&&"Positive Prompt"===(null===(t=null==i?void 0:i.safetyAttributes)||void 0===t?void 0:t.contentType)?n=null==i?void 0:i.safetyAttributes:r.push(i);let o;return o=n?{generatedImages:r,positivePromptSafetyAttributes:n,sdkHttpResponse:e.sdkHttpResponse}:{generatedImages:r,sdkHttpResponse:e.sdkHttpResponse},o}),this.list=async e=>{var t;const n={config:Object.assign(Object.assign({},{queryBase:!0}),null==e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!n.config.queryBase){if(null===(t=n.config)||void 0===t?void 0:t.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");n.config.filter="labels.tune-type:*"}return new Qt(Fe.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(n),n)},this.editImage=async e=>{const t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));const n={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(n)},this.generateVideos=async e=>{var t,n,r,o,i,l;if((e.prompt||e.image||e.video)&&e.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||((null===(t=e.video)||void 0===t?void 0:t.uri)&&(null===(n=e.video)||void 0===n?void 0:n.videoBytes)?e.video={uri:e.video.uri,mimeType:e.video.mimeType}:(null===(o=null===(r=e.source)||void 0===r?void 0:r.video)||void 0===o?void 0:o.uri)&&(null===(l=null===(i=e.source)||void 0===i?void 0:i.video)||void 0===l?void 0:l.videoBytes)&&(e.source.video={uri:e.source.video.uri,mimeType:e.source.video.mimeType})),await this.generateVideosInternal(e)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,n,r;const o=null===(t=e.config)||void 0===t?void 0:t.tools;if(!o)return e;const i=await Promise.all(o.map(async e=>{if(Nr(e)){const t=e;return await t.tool()}return e})),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:i})};if(l.config.tools=i,e.config&&e.config.tools&&Er(e.config.tools)){const t=null!==(r=null===(n=e.config.httpOptions)||void 0===n?void 0:n.headers)&&void 0!==r?r:{};let o=Object.assign({},t);0===Object.keys(o).length&&(o=this.apiClient.getDefaultHeaders()),Sr(o),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:o})}return l}async initAfcToolsMap(e){var t,n,r;const o=new Map;for(const i of null!==(n=null===(t=e.config)||void 0===t?void 0:t.tools)&&void 0!==n?n:[])if(Nr(i)){const e=i,t=await e.tool();for(const n of null!==(r=t.functionDeclarations)&&void 0!==r?r:[]){if(!n.name)throw new Error("Function declaration name is required.");if(o.has(n.name))throw new Error(`Duplicate tool declaration name: ${n.name}`);o.set(n.name,e)}}return o}async processAfcStream(e){var t,n,r;const o=null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let i=!1,l=0;return function(e,t,n){var r,a;return cn(this,arguments,function*(){for(var s,u,c,d;l<o;){i&&(l++,i=!1);const g=yield un(e.processParamsMaybeAddMcpUsage(n)),y=yield un(e.generateContentStreamInternal(g)),v=[],b=[];try{for(var p,f=!0,h=(u=void 0,dn(y));!(s=(p=yield un(h.next())).done);f=!0){d=p.value,f=!1;const e=d;if(yield yield un(e),e.candidates&&(null===(r=e.candidates[0])||void 0===r?void 0:r.content)){b.push(e.candidates[0].content);for(const n of null!==(a=e.candidates[0].content.parts)&&void 0!==a?a:[])if(l<o&&n.functionCall){if(!n.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!t.has(n.functionCall.name))throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${t.keys()}, mising tool: ${n.functionCall.name}`);{const e=yield un(t.get(n.functionCall.name).callTool([n.functionCall]));v.push(...e)}}}}}catch(m){u={error:m}}finally{try{f||s||!(c=h.return)||(yield un(c.call(h)))}finally{if(u)throw u.error}}if(!(v.length>0))break;{i=!0;const e=new ze;e.candidates=[{content:{role:"user",parts:v}}],yield yield un(e);const t=[];t.push(...b),t.push({role:"user",parts:v});const r=St(n.contents).concat(t);n.contents=r}}})}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=jn(this.apiClient,e);return l=U("{model}:generateContent",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=qn(e),n=new ze;return Object.assign(n,t),n})}{const t=Un(this.apiClient,e);return l=U("{model}:generateContent",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=Fn(e),n=new ze;return Object.assign(n,t),n})}}async generateContentStreamInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=jn(this.apiClient,e);l=U("{model}:streamGenerateContent?alt=sse",r._url),a=r._query,delete r._url,delete r._query;return i=this.apiClient.requestStream({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}),i.then(function(e){return cn(this,arguments,function*(){var t,n,r,o;try{for(var i,l=!0,a=dn(e);!(t=(i=yield un(a.next())).done);l=!0){o=i.value,l=!1;const e=o,t=qn(yield un(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new ze;Object.assign(n,t),yield yield un(n)}}catch(s){n={error:s}}finally{try{l||t||!(r=a.return)||(yield un(r.call(a)))}finally{if(n)throw n.error}}})})}{const t=Un(this.apiClient,e);l=U("{model}:streamGenerateContent?alt=sse",t._url),a=t._query,delete t._url,delete t._query;return i=this.apiClient.requestStream({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}),i.then(function(e){return cn(this,arguments,function*(){var t,n,r,o;try{for(var i,l=!0,a=dn(e);!(t=(i=yield un(a.next())).done);l=!0){o=i.value,l=!1;const e=o,t=Fn(yield un(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new ze;Object.assign(n,t),yield yield un(n)}}catch(s){n={error:s}}finally{try{l||t||!(r=a.return)||(yield un(r.call(a)))}finally{if(n)throw n.error}}})})}}async embedContent(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Dn(this.apiClient,e);return l=U("{model}:predict",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["predictions[]","embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>On(e))),j(t,["embeddings"],e)}const o=F(e,["metadata"]);return null!=o&&j(t,["metadata"],o),t}(e),n=new He;return Object.assign(n,t),n})}{const t=Mn(this.apiClient,e);return l=U("{model}:batchEmbedContents",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["embeddings"],e)}const o=F(e,["metadata"]);return null!=o&&j(t,["metadata"],o),t}(e),n=new He;return Object.assign(n,t),n})}}async generateImagesInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Hn(this.apiClient,e);return l=U("{model}:predict",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Kn(e))),j(t,["generatedImages"],e)}const o=F(e,["positivePromptSafetyAttributes"]);return null!=o&&j(t,["positivePromptSafetyAttributes"],lr(o)),t}(e),n=new Ge;return Object.assign(n,t),n})}{const t=zn(this.apiClient,e);return l=U("{model}:predict",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=Gn(e),n=new Ge;return Object.assign(n,t),n})}}async editImageInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=Rn(this.apiClient,e);return o=U("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Kn(e))),j(t,["generatedImages"],e)}return t}(e),n=new Ve;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=fr(this.apiClient,e);return o=U("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Kn(e))),j(t,["generatedImages"],e)}return t}(e),n=new Be;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=or(this.apiClient,e);return o=U("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=F(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Kn(e))),j(t,["generatedImages"],e)}return t}(e),n=new Je;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=ar(this.apiClient,e);return o=U("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=sr(e),n=new We;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=F(t,["model"]);return null!=r&&j(n,["_url","name"],st(e,r)),n}(this.apiClient,e);return l=U("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>rr(e))}{const t=function(e,t){const n={},r=F(t,["model"]);return null!=r&&j(n,["_url","name"],st(e,r)),n}(this.apiClient,e);return l=U("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>nr(e))}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=tr(this.apiClient,e);return l=U("{models_url}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["nextPageToken"]);null!=r&&j(t,["nextPageToken"],r);const o=F(e,["_self"]);if(null!=o){let e=Rt(o);Array.isArray(e)&&(e=e.map(e=>rr(e))),j(t,["models"],e)}return t}(e),n=new $e;return Object.assign(n,t),n})}{const t=er(this.apiClient,e);return l=U("{models_url}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["nextPageToken"]);null!=r&&j(t,["nextPageToken"],r);const o=F(e,["_self"]);if(null!=o){let e=Rt(o);Array.isArray(e)&&(e=e.map(e=>nr(e))),j(t,["models"],e)}return t}(e),n=new $e;return Object.assign(n,t),n})}}async update(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=pr(this.apiClient,e);return l=U("{model}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>rr(e))}{const t=dr(this.apiClient,e);return l=U("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>nr(e))}}async delete(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=F(t,["model"]);return null!=r&&j(n,["_url","name"],st(e,r)),n}(this.apiClient,e);return l=U("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);return null!=n&&j(t,["sdkHttpResponse"],n),t}(e),n=new Ye;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=F(t,["model"]);return null!=r&&j(n,["_url","name"],st(e,r)),n}(this.apiClient,e);return l=U("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);return null!=n&&j(t,["sdkHttpResponse"],n),t}(e),n=new Ye;return Object.assign(n,t),n})}}async countTokens(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["_url","model"],st(e,r));const o=F(t,["contents"]);if(null!=o){let e=St(o);Array.isArray(e)&&(e=e.map(e=>e)),j(n,["contents"],e)}const i=F(t,["config"]);return null!=i&&Nn(i,n),n}(this.apiClient,e);return l=U("{model}:countTokens",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["totalTokens"]);return null!=r&&j(t,["totalTokens"],r),t}(e),n=new Ke;return Object.assign(n,t),n})}{const t=Pn(this.apiClient,e);return l=U("{model}:countTokens",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["totalTokens"]);null!=r&&j(t,["totalTokens"],r);const o=F(e,["cachedContentTokenCount"]);return null!=o&&j(t,["cachedContentTokenCount"],o),t}(e),n=new Ke;return Object.assign(n,t),n})}}async computeTokens(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["_url","model"],st(e,r));const o=F(t,["contents"]);if(null!=o){let e=St(o);Array.isArray(e)&&(e=e.map(e=>e)),j(n,["contents"],e)}return n}(this.apiClient,e);return o=U("{model}:computeTokens",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["tokensInfo"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["tokensInfo"],e)}return t}(e),n=new Qe;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Yn(this.apiClient,e);return l=U("{model}:predictLongRunning",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>{const t=Wn(e),n=new Xe;return Object.assign(n,t),n})}{const t=$n(this.apiClient,e);return l=U("{model}:predictLongRunning",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>{const t=Jn(e),n=new Xe;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mr extends L{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;n&&"httpOptions"in n&&(r=n.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:o,isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,isVertexAI:!1})}}async get(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;n&&"httpOptions"in n&&(r=n.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:o,isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,isVertexAI:!1})}}async getVideosOperationInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=F(e,["operationName"]);return null!=n&&j(t,["_url","operationName"],n),t}(e);return l=U("{operationName}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i}{const t=function(e){const t={},n=F(e,["operationName"]);return null!=n&&j(t,["_url","operationName"],n),t}(e);return l=U("{operationName}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i}}async fetchPredictVideosOperationInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e){const t={},n=F(e,["operationName"]);null!=n&&j(t,["operationName"],n);const r=F(e,["resourceName"]);return null!=r&&j(t,["_url","resourceName"],r),t}(e);return o=U("{resourceName}:fetchPredictOperation",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r}throw new Error("This method is only supported by the Vertex AI.")}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dr(e){const t={},n=F(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["videoMetadata"]);null!=n&&j(t,["videoMetadata"],n);const r=F(e,["thought"]);null!=r&&j(t,["thought"],r);const o=F(e,["inlineData"]);null!=o&&j(t,["inlineData"],function(e){const t={};if(void 0!==F(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=F(e,["data"]);null!=n&&j(t,["data"],n);const r=F(e,["mimeType"]);return null!=r&&j(t,["mimeType"],r),t}(o));const i=F(e,["fileData"]);null!=i&&j(t,["fileData"],function(e){const t={};if(void 0!==F(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=F(e,["fileUri"]);null!=n&&j(t,["fileUri"],n);const r=F(e,["mimeType"]);null!=r&&j(t,["mimeType"],r);return t}(i));const l=F(e,["thoughtSignature"]);null!=l&&j(t,["thoughtSignature"],l);const a=F(e,["functionCall"]);null!=a&&j(t,["functionCall"],a);const s=F(e,["codeExecutionResult"]);null!=s&&j(t,["codeExecutionResult"],s);const u=F(e,["executableCode"]);null!=u&&j(t,["executableCode"],u);const c=F(e,["functionResponse"]);null!=c&&j(t,["functionResponse"],c);const d=F(e,["text"]);null!=d&&j(t,["text"],d);return t}(e))),j(t,["parts"],e)}const r=F(e,["role"]);return null!=r&&j(t,["role"],r),t}function Lr(e,t,n){const r=F(t,["expireTime"]);void 0!==n&&null!=r&&j(n,["expireTime"],r);const o=F(t,["newSessionExpireTime"]);void 0!==n&&null!=o&&j(n,["newSessionExpireTime"],o);const i=F(t,["uses"]);void 0!==n&&null!=i&&j(n,["uses"],i);const l=F(t,["liveConnectConstraints"]);void 0!==n&&null!=l&&j(n,["bidiGenerateContentSetup"],function(e,t){const n={},r=F(t,["model"]);null!=r&&j(n,["setup","model"],st(e,r));const o=F(t,["config"]);null!=o&&j(n,["config"],function(e,t){const n={},r=F(e,["generationConfig"]);void 0!==t&&null!=r&&j(t,["setup","generationConfig"],r);const o=F(e,["responseModalities"]);void 0!==t&&null!=o&&j(t,["setup","generationConfig","responseModalities"],o);const i=F(e,["temperature"]);void 0!==t&&null!=i&&j(t,["setup","generationConfig","temperature"],i);const l=F(e,["topP"]);void 0!==t&&null!=l&&j(t,["setup","generationConfig","topP"],l);const a=F(e,["topK"]);void 0!==t&&null!=a&&j(t,["setup","generationConfig","topK"],a);const s=F(e,["maxOutputTokens"]);void 0!==t&&null!=s&&j(t,["setup","generationConfig","maxOutputTokens"],s);const u=F(e,["mediaResolution"]);void 0!==t&&null!=u&&j(t,["setup","generationConfig","mediaResolution"],u);const c=F(e,["seed"]);void 0!==t&&null!=c&&j(t,["setup","generationConfig","seed"],c);const d=F(e,["speechConfig"]);void 0!==t&&null!=d&&j(t,["setup","generationConfig","speechConfig"],_t(d));const p=F(e,["thinkingConfig"]);void 0!==t&&null!=p&&j(t,["setup","generationConfig","thinkingConfig"],p);const f=F(e,["enableAffectiveDialog"]);void 0!==t&&null!=f&&j(t,["setup","generationConfig","enableAffectiveDialog"],f);const h=F(e,["systemInstruction"]);void 0!==t&&null!=h&&j(t,["setup","systemInstruction"],Dr(bt(h)));const m=F(e,["tools"]);if(void 0!==t&&null!=m){let e=At(m);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=F(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["functionDeclarations"],e)}if(void 0!==F(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=F(e,["googleSearch"]);null!=r&&j(t,["googleSearch"],function(e){const t={},n=F(e,["timeRangeFilter"]);null!=n&&j(t,["timeRangeFilter"],n);if(void 0!==F(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}(r));const o=F(e,["googleSearchRetrieval"]);null!=o&&j(t,["googleSearchRetrieval"],o);if(void 0!==F(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=F(e,["googleMaps"]);null!=i&&j(t,["googleMaps"],function(e){const t={};if(void 0!==F(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=F(e,["enableWidget"]);null!=n&&j(t,["enableWidget"],n);return t}(i));const l=F(e,["urlContext"]);null!=l&&j(t,["urlContext"],l);const a=F(e,["computerUse"]);null!=a&&j(t,["computerUse"],a);const s=F(e,["codeExecution"]);null!=s&&j(t,["codeExecution"],s);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(kt(e)))),j(t,["setup","tools"],e)}const g=F(e,["sessionResumption"]);void 0!==t&&null!=g&&j(t,["setup","sessionResumption"],function(e){const t={},n=F(e,["handle"]);null!=n&&j(t,["handle"],n);if(void 0!==F(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(g));const y=F(e,["inputAudioTranscription"]);void 0!==t&&null!=y&&j(t,["setup","inputAudioTranscription"],y);const v=F(e,["outputAudioTranscription"]);void 0!==t&&null!=v&&j(t,["setup","outputAudioTranscription"],v);const b=F(e,["realtimeInputConfig"]);void 0!==t&&null!=b&&j(t,["setup","realtimeInputConfig"],b);const E=F(e,["contextWindowCompression"]);void 0!==t&&null!=E&&j(t,["setup","contextWindowCompression"],E);const S=F(e,["proactivity"]);void 0!==t&&null!=S&&j(t,["setup","proactivity"],S);return n}(o,n));return n}(e,l));const a=F(t,["lockAdditionalFields"]);return void 0!==n&&null!=a&&j(n,["fieldMask"],a),{}}function Ur(e,t){let n=null;const r=e.bidiGenerateContentSetup;if("object"==typeof r&&null!==r&&"setup"in r){const t=r.setup;"object"==typeof t&&null!==t?(e.bidiGenerateContentSetup=t,n=t):delete e.bidiGenerateContentSetup}else void 0!==r&&delete e.bidiGenerateContentSetup;const o=e.fieldMask;if(n){const r=function(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if("object"==typeof r&&null!=r&&Object.keys(r).length>0){const e=Object.keys(r).map(e=>`${n}.${e}`);t.push(...e)}else t.push(n)}return t.join(",")}(n);if(Array.isArray(null==t?void 0:t.lockAdditionalFields)&&0===(null==t?void 0:t.lockAdditionalFields.length))r?e.fieldMask=r:delete e.fieldMask;else if((null==t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==o&&Array.isArray(o)&&o.length>0){const t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let n=[];o.length>0&&(n=o.map(e=>t.includes(e)?`generationConfig.${e}`:e));const i=[];r&&i.push(r),n.length>0&&i.push(...n),i.length>0?e.fieldMask=i.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==o&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}class jr extends L{constructor(e){super(),this.apiClient=e}async create(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=function(e,t){const n={},r=F(t,["config"]);return null!=r&&j(n,["config"],Lr(e,r,n)),n}(this.apiClient,e);o=U("auth_tokens",l._url),i=l._query,delete l.config,delete l._url,delete l._query;const a=Ur(l,e.config);return r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fr(e,t){const n={},r=F(e,["validationDataset"]);void 0!==t&&null!=r&&j(t,["supervisedTuningSpec"],function(e,t){const n={},r=F(e,["gcsUri"]);null!=r&&j(n,["validationDatasetUri"],r);const o=F(e,["vertexDatasetResource"]);void 0!==t&&null!=o&&j(t,["supervisedTuningSpec","trainingDatasetUri"],o);return n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(r,n));const o=F(e,["tunedModelDisplayName"]);void 0!==t&&null!=o&&j(t,["tunedModelDisplayName"],o);const i=F(e,["description"]);void 0!==t&&null!=i&&j(t,["description"],i);const l=F(e,["epochCount"]);void 0!==t&&null!=l&&j(t,["supervisedTuningSpec","hyperParameters","epochCount"],l);const a=F(e,["learningRateMultiplier"]);void 0!==t&&null!=a&&j(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],a);const s=F(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=s&&j(t,["supervisedTuningSpec","exportLastCheckpointOnly"],s);const u=F(e,["adapterSize"]);if(void 0!==t&&null!=u&&j(t,["supervisedTuningSpec","hyperParameters","adapterSize"],u),void 0!==F(e,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==F(e,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");const c=F(e,["labels"]);return void 0!==t&&null!=c&&j(t,["labels"],c),n}function qr(e){const t={},n=F(e,["baseModel"]);null!=n&&j(t,["baseModel"],n);const r=F(e,["preTunedModel"]);null!=r&&j(t,["preTunedModel"],r);const o=F(e,["trainingDataset"]);null!=o&&j(t,["tuningTask","trainingData"],function(e){const t={};if(void 0!==F(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==F(e,["vertexDatasetResource"]))throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=F(e,["examples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),j(t,["examples","examples"],e)}return t}(o));const i=F(e,["config"]);return null!=i&&function(e,t){const n={};if(void 0!==F(e,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const r=F(e,["tunedModelDisplayName"]);if(void 0!==t&&null!=r&&j(t,["displayName"],r),void 0!==F(e,["description"]))throw new Error("description parameter is not supported in Gemini API.");const o=F(e,["epochCount"]);void 0!==t&&null!=o&&j(t,["tuningTask","hyperparameters","epochCount"],o);const i=F(e,["learningRateMultiplier"]);if(null!=i&&j(n,["tuningTask","hyperparameters","learningRateMultiplier"],i),void 0!==F(e,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==F(e,["preTunedModelCheckpointId"]))throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(void 0!==F(e,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const l=F(e,["batchSize"]);void 0!==t&&null!=l&&j(t,["tuningTask","hyperparameters","batchSize"],l);const a=F(e,["learningRate"]);if(void 0!==t&&null!=a&&j(t,["tuningTask","hyperparameters","learningRate"],a),void 0!==F(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.")}(i,t),t}function zr(e){const t={},n=F(e,["baseModel"]);null!=n&&j(t,["baseModel"],n);const r=F(e,["preTunedModel"]);null!=r&&j(t,["preTunedModel"],r);const o=F(e,["trainingDataset"]);null!=o&&j(t,["supervisedTuningSpec","trainingDatasetUri"],function(e,t){const n={},r=F(e,["gcsUri"]);void 0!==t&&null!=r&&j(t,["supervisedTuningSpec","trainingDatasetUri"],r);const o=F(e,["vertexDatasetResource"]);void 0!==t&&null!=o&&j(t,["supervisedTuningSpec","trainingDatasetUri"],o);if(void 0!==F(e,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.");return n}(o,t));const i=F(e,["config"]);return null!=i&&Fr(i,t),t}function Hr(e){const t={},n=F(e,["config"]);return null!=n&&function(e,t){const n=F(e,["pageSize"]);void 0!==t&&null!=n&&j(t,["_query","pageSize"],n);const r=F(e,["pageToken"]);void 0!==t&&null!=r&&j(t,["_query","pageToken"],r);const o=F(e,["filter"]);void 0!==t&&null!=o&&j(t,["_query","filter"],o)}(n,t),t}function Gr(e){const t={},n=F(e,["config"]);return null!=n&&function(e,t){const n=F(e,["pageSize"]);void 0!==t&&null!=n&&j(t,["_query","pageSize"],n);const r=F(e,["pageToken"]);void 0!==t&&null!=r&&j(t,["_query","pageToken"],r);const o=F(e,["filter"]);void 0!==t&&null!=o&&j(t,["_query","filter"],o)}(n,t),t}function Vr(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["name"]);null!=r&&j(t,["name"],r);const o=F(e,["state"]);null!=o&&j(t,["state"],Ot(o));const i=F(e,["createTime"]);null!=i&&j(t,["createTime"],i);const l=F(e,["tuningTask","startTime"]);null!=l&&j(t,["startTime"],l);const a=F(e,["tuningTask","completeTime"]);null!=a&&j(t,["endTime"],a);const s=F(e,["updateTime"]);null!=s&&j(t,["updateTime"],s);const u=F(e,["description"]);null!=u&&j(t,["description"],u);const c=F(e,["baseModel"]);null!=c&&j(t,["baseModel"],c);const d=F(e,["_self"]);null!=d&&j(t,["tunedModel"],function(e){const t={},n=F(e,["name"]);null!=n&&j(t,["model"],n);const r=F(e,["name"]);return null!=r&&j(t,["endpoint"],r),t}(d));const p=F(e,["customBaseModel"]);null!=p&&j(t,["customBaseModel"],p);const f=F(e,["experiment"]);null!=f&&j(t,["experiment"],f);const h=F(e,["labels"]);null!=h&&j(t,["labels"],h);const m=F(e,["outputUri"]);null!=m&&j(t,["outputUri"],m);const g=F(e,["pipelineJob"]);null!=g&&j(t,["pipelineJob"],g);const y=F(e,["serviceAccount"]);null!=y&&j(t,["serviceAccount"],y);const v=F(e,["tunedModelDisplayName"]);null!=v&&j(t,["tunedModelDisplayName"],v);const b=F(e,["veoTuningSpec"]);return null!=b&&j(t,["veoTuningSpec"],b),t}function Br(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["name"]);null!=r&&j(t,["name"],r);const o=F(e,["state"]);null!=o&&j(t,["state"],Ot(o));const i=F(e,["createTime"]);null!=i&&j(t,["createTime"],i);const l=F(e,["startTime"]);null!=l&&j(t,["startTime"],l);const a=F(e,["endTime"]);null!=a&&j(t,["endTime"],a);const s=F(e,["updateTime"]);null!=s&&j(t,["updateTime"],s);const u=F(e,["error"]);null!=u&&j(t,["error"],u);const c=F(e,["description"]);null!=c&&j(t,["description"],c);const d=F(e,["baseModel"]);null!=d&&j(t,["baseModel"],d);const p=F(e,["tunedModel"]);null!=p&&j(t,["tunedModel"],p);const f=F(e,["preTunedModel"]);null!=f&&j(t,["preTunedModel"],f);const h=F(e,["supervisedTuningSpec"]);null!=h&&j(t,["supervisedTuningSpec"],h);const m=F(e,["tuningDataStats"]);null!=m&&j(t,["tuningDataStats"],m);const g=F(e,["encryptionSpec"]);null!=g&&j(t,["encryptionSpec"],g);const y=F(e,["partnerModelTuningSpec"]);null!=y&&j(t,["partnerModelTuningSpec"],y);const v=F(e,["customBaseModel"]);null!=v&&j(t,["customBaseModel"],v);const b=F(e,["experiment"]);null!=b&&j(t,["experiment"],b);const E=F(e,["labels"]);null!=E&&j(t,["labels"],E);const S=F(e,["outputUri"]);null!=S&&j(t,["outputUri"],S);const w=F(e,["pipelineJob"]);null!=w&&j(t,["pipelineJob"],w);const C=F(e,["serviceAccount"]);null!=C&&j(t,["serviceAccount"],C);const T=F(e,["tunedModelDisplayName"]);null!=T&&j(t,["tunedModelDisplayName"],T);const _=F(e,["veoTuningSpec"]);return null!=_&&j(t,["veoTuningSpec"],_),t}class Jr extends L{constructor(e){super(),this.apiClient=e,this.get=async e=>await this.getInternal(e),this.list=async(e={})=>new Qt(Fe.PAGED_ITEM_TUNING_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.tune=async e=>{var t;if(this.apiClient.isVertexAI()){if(e.baseModel.startsWith("projects/")){const n={tunedModelName:e.baseModel};(null===(t=e.config)||void 0===t?void 0:t.preTunedModelCheckpointId)&&(n.checkpointId=e.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},e),{preTunedModel:n});return r.baseModel=void 0,await this.tuneInternal(r)}{const t=Object.assign({},e);return await this.tuneInternal(t)}}{const t=Object.assign({},e),n=await this.tuneMldevInternal(t);let r="";void 0!==n.metadata&&void 0!==n.metadata.tunedModel?r=n.metadata.tunedModel:void 0!==n.name&&n.name.includes("/operations/")&&(r=n.name.split("/operations/")[0]);return{name:r,state:ae.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=F(e,["name"]);return null!=n&&j(t,["_url","name"],n),t}(e);return l=U("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>Br(e))}{const t=function(e){const t={},n=F(e,["name"]);return null!=n&&j(t,["_url","name"],n),t}(e);return l=U("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>Vr(e))}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Gr(e);return l=U("tuningJobs",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["nextPageToken"]);null!=r&&j(t,["nextPageToken"],r);const o=F(e,["tuningJobs"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Br(e))),j(t,["tuningJobs"],e)}return t}(e),n=new Ze;return Object.assign(n,t),n})}{const t=Hr(e);return l=U("tunedModels",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["nextPageToken"]);null!=r&&j(t,["nextPageToken"],r);const o=F(e,["tunedModels"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Vr(e))),j(t,["tuningJobs"],e)}return t}(e),n=new Ze;return Object.assign(n,t),n})}}async cancel(e){var t,n,r,o;let i="",l={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=F(e,["name"]);return null!=n&&j(t,["_url","name"],n),t}(e);i=U("{name}:cancel",r._url),l=r._query,delete r._url,delete r._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e){const t={},n=F(e,["name"]);return null!=n&&j(t,["_url","name"],n),t}(e);i=U("{name}:cancel",t._url),l=t._query,delete t._url,delete t._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal})}}async tuneInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=zr(e);return o=U("tuningJobs",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>Br(e))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=qr(e);return o=U("tunedModels",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>function(e){const t={},n=F(e,["sdkHttpResponse"]);null!=n&&j(t,["sdkHttpResponse"],n);const r=F(e,["name"]);null!=r&&j(t,["name"],r);const o=F(e,["metadata"]);null!=o&&j(t,["metadata"],o);const i=F(e,["done"]);null!=i&&j(t,["done"],i);const l=F(e,["error"]);return null!=l&&j(t,["error"],l),t}(e))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wr{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const $r="x-goog-upload-status";function Yr(e){return new Promise(t=>setTimeout(t,e))}class Kr{async upload(e,t,n){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r,o,i;let l=0,a=0,s=new qe(new Response),u="upload";for(l=e.size;a<l;){const i=Math.min(8388608,l-a),c=e.slice(a,a+i);a+i>=l&&(u+=", finalize");let d=0,p=1e3;for(;d<3&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(a),"Content-Length":String(i)}}}),!(null===(r=null==s?void 0:s.headers)||void 0===r?void 0:r[$r]));)d++,await Yr(p),p*=2;if(a+=i,"active"!==(null===(o=null==s?void 0:s.headers)||void 0===o?void 0:o[$r]))break;if(l<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(null==s?void 0:s.json());if("final"!==(null===(i=null==s?void 0:s.headers)||void 0===i?void 0:i[$r]))throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}(e,t,n)}async stat(e){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e){return{size:e.size,type:e.type}}(e)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qr{create(e,t,n){return new Xr(e,t,n)}}class Xr{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zr="x-goog-api-key";class eo{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(null===e.get(Zr)){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Zr,this.apiKey)}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class to{constructor(e){var t;if(null==e.apiKey)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(t=e.vertexai)&&void 0!==t&&t,this.apiKey=e.apiKey;const n=D(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion;const r=new eo(this.apiKey);this.apiClient=new vr({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:"gl-node/web",uploader:new Kr,downloader:new Wr}),this.models=new Rr(this.apiClient),this.live=new Ar(this.apiClient,r,new Qr),this.batches=new Xt(this.apiClient),this.chats=new mn(this.models,this.apiClient),this.caches=new an(this.apiClient),this.files=new bn(this.apiClient),this.operations=new Mr(this.apiClient),this.authTokens=new jr(this.apiClient),this.tunings=new Jr(this.apiClient)}}const no="saga_auth_credentials";function ro(){const e=localStorage.getItem(no);if(!e)return null;try{return JSON.parse(e)}catch{return null}}function oo(){localStorage.removeItem(no)}function io(){const e=ro();if(!e?.geminiApiKey)throw new Error("Gemini API key not found. Please log in again.");return new to({apiKey:e.geminiApiKey})}async function lo(e,t,n=!1,r=!1,o=1){const i=io(),l=[];if(n&&t){const e=r?"":`\n\n🚫 CRITICAL SPOILER PROTECTION:\n- The reader is currently on Chapter ${o}\n- NEVER reveal events, plot points, or character fates from chapters AFTER Chapter ${o}\n- If asked about future events, politely say you can only discuss up to their current chapter\n- DO NOT hint at or foreshadow future events\n- Stay strictly within the boundaries of what they've read so far`;l.push(`Context from the book:\n---\n${t}\n---\n\nYou are a friendly, conversational assistant helping readers discuss this book.\n\nKey instructions:\n- Keep responses BRIEF (2-4 sentences max for simple questions)\n- Be conversational, not analytical or academic\n- Use the reader's language level - match their tone\n- Only elaborate if specifically asked for details\n- Use markdown formatting (bold, italics, lists) when helpful\n- Focus on what the reader asked, don't over-explain\n- Remember the context above for the rest of our conversation${e}\n\nAnswer naturally as if chatting with a friend about a book you both read.`)}else if(!n){const e=r?"":` Remember: NO SPOILERS beyond Chapter ${o}!`;l.push(`You are discussing a book with the reader. Keep responses brief and conversational (2-4 sentences for simple questions).${e}`)}e.slice(-8).forEach(e=>{l.push(`${"user"===e.role?"User":"Assistant"}: ${e.content}`)});const a=l.join("\n\n");try{return await i.models.generateContentStream({model:"gemini-2.5-flash",contents:a})}catch(s){let e=s instanceof Error?s.message:"An unknown error occurred.";if(e.includes("429")||e.includes("quota")||e.includes("RESOURCE_EXHAUSTED"))throw new Error("Rate limit reached. The Gemini API free tier has limits on how much you can use per minute. Please wait a moment and try again, or consider using shorter context options to reduce token usage.");throw new Error(`Could not get a response from the AI model. ${e}`)}}const ao="SAGA App - Book Library Data",so="saga_library_index.json";async function uo(e){try{const t=await fetch("https://api.github.com/gists",{headers:{Authorization:`token ${e}`,Accept:"application/vnd.github.v3+json"}});if(!t.ok)throw new Error(`GitHub API error: ${t.status}`);const n=(await t.json()).find(e=>e.description===ao);return n?.id||null}catch(t){throw t}}function co(e){const t={},n=e.map(e=>({id:e.id,title:e.title,chapterCount:e.chapters.length,summaries:e.summaries,images:e.images,lastAccessed:e.lastAccessed}));return t[so]=JSON.stringify(n,null,2),e.forEach(e=>{if(!e.id)return;const n=JSON.stringify(e,null,2);if(n.length<=8e5)t[`book_${e.id}.json`]=n;else{const n=10,r=[];for(let t=0;t<e.chapters.length;t+=n){const o=e.chapters.slice(t,t+n),i={},l={};o.forEach((n,r)=>{const o=t+r;e.summaries[o]&&(i[r]=e.summaries[o]),e.images[o]&&(l[r]=e.images[o])}),r.push({id:e.id,title:e.title,chapters:o,summaries:i,images:l,lastAccessed:e.lastAccessed})}t[`book_${e.id}_meta.json`]=JSON.stringify({id:e.id,title:e.title,totalChapters:e.chapters.length,chunkCount:r.length,lastAccessed:e.lastAccessed},null,2),r.forEach((n,r)=>{t[`book_${e.id}_chunk_${r}.json`]=JSON.stringify(n,null,2)})}}),t}async function po(e){if(!e)return null;if(e.truncated&&e.raw_url)try{const t=await fetch(e.raw_url);if(t.ok){return await t.text()}}catch(t){}if(e.content)return e.content;if(e.raw_url)try{const t=await fetch(e.raw_url);if(t.ok)return await t.text()}catch(t){}return null}async function fo(e,t){try{const n=await uo(e);n?await async function(e,t,n){try{const r=co(n),o={};Object.entries(r).forEach(([e,t])=>{o[e]={content:t}});const i=await fetch(`https://api.github.com/gists/${t}`,{method:"PATCH",headers:{Authorization:`token ${e}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json"},body:JSON.stringify({files:o})});if(!i.ok)throw new Error(`Failed to update gist: ${i.status}`)}catch(r){throw r}}(e,n,t):await async function(e,t){try{const n=co(t),r={};Object.entries(n).forEach(([e,t])=>{r[e]={content:t}});const o=JSON.stringify({description:ao,public:!1,files:r}),i=await fetch("https://api.github.com/gists",{method:"POST",headers:{Authorization:`token ${e}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json"},body:o});if(!i.ok){const e=await i.text();throw new Error(`Failed to create gist: ${i.status} - ${e}`)}return(await i.json()).id}catch(n){throw n}}(e,t)}catch(n){throw new Error("Failed to save library to GitHub. Please check your PAT and try again.")}}async function ho(){return Promise.resolve()}function mo(e){const t=e.chapters.filter(e=>null!=e);if(t.length!==e.chapters.length){const n=new Map;let r=0;e.chapters.forEach((e,t)=>{null!=e&&(n.set(t,r),r++)});const o={},i={};return Object.entries(e.summaries).forEach(([e,t])=>{const r=n.get(parseInt(e));void 0!==r&&(o[r]=t)}),Object.entries(e.images).forEach(([e,t])=>{const r=n.get(parseInt(e));void 0!==r&&(i[r]=t)}),{...e,chapters:t,summaries:o,images:i}}return e}async function go(){const e=ro();if(!e?.githubPAT)throw new Error("GitHub PAT not found");try{return await async function(e){try{const t=await uo(e);if(!t)return[];const n=await fetch(`https://api.github.com/gists/${t}`,{headers:{Authorization:`token ${e}`,Accept:"application/vnd.github.v3+json"}});if(!n.ok)throw new Error(`Failed to load gist: ${n.status}`);const r=await n.json(),o=r.files[so],i=await po(o);if(i)return JSON.parse(i).map(e=>({id:e.id,title:e.title,chapters:new Array(e.chapterCount).fill(null),summaries:e.summaries,images:e.images,lastAccessed:e.lastAccessed}));const l=[];for(const e of Object.keys(r.files)){const t=e.match(/^book_(\d+)_meta\.json$/);if(t){parseInt(t[1]);const n=await po(r.files[e]);if(n){const e=JSON.parse(n);l.push({id:e.id,title:e.title,chapters:new Array(e.totalChapters).fill(null),summaries:{},images:{},lastAccessed:e.lastAccessed})}}}return l}catch(t){throw t}}(e.githubPAT)}catch(t){throw t}}async function yo(){const e=ro();if(!e?.githubPAT)throw new Error("GitHub PAT not found");try{return(await async function(e){try{const n=await uo(e);if(!n)return[];const r=await fetch(`https://api.github.com/gists/${n}`,{headers:{Authorization:`token ${e}`,Accept:"application/vnd.github.v3+json"}});if(!r.ok)throw new Error(`Failed to load gist: ${r.status}`);const o=await r.json(),i=o.files[so],l=await po(i);if(l){const e=JSON.parse(l);if(0!==e.length){const n=[];for(const r of e){const e=r.id,i=`book_${e}_meta.json`,l=await po(o.files[i]);if(l)try{const r=JSON.parse(l),i=[],a={},s={};for(let n=0;n<r.chunkCount;n++){const r=`book_${e}_chunk_${n}.json`,l=o.files[r],u=await po(l);if(u)try{const e=JSON.parse(u),t=i.length;e.chapters.forEach(e=>{i.push(e)}),Object.entries(e.summaries).forEach(([e,n])=>{a[t+parseInt(e)]=n}),Object.entries(e.images).forEach(([e,n])=>{s[t+parseInt(e)]=n})}catch(t){}}n.push({id:r.id,title:r.title,chapters:i,summaries:a,images:s,lastAccessed:r.lastAccessed})}catch(t){}if(!l){const r=`book_${e}.json`,i=await po(o.files[r]);if(i)try{const e=JSON.parse(i);n.push(e)}catch(t){}}}return n}}const a=o.files["saga_library.json"]?.content;if(a)try{return JSON.parse(a)}catch(t){return[]}const s=[],u=new Set;for(const e of Object.keys(o.files)){const n=e.match(/^book_(\d+)_chunk_(\d+)\.json$/);if(n){const e=parseInt(n[1]);if(!u.has(e)){u.add(e);const n=await po(o.files[`book_${e}_meta.json`]);if(n)try{const r=JSON.parse(n),i=[],l={},a={};for(let n=0;n<r.chunkCount;n++){const r=`book_${e}_chunk_${n}.json`,s=o.files[r],u=await po(s);if(u)try{const e=JSON.parse(u),t=i.length;e.chapters.forEach(e=>{i.push(e)}),Object.entries(e.summaries).forEach(([e,n])=>{l[t+parseInt(e)]=n}),Object.entries(e.images).forEach(([e,n])=>{a[t+parseInt(e)]=n})}catch(t){}}s.push({id:r.id,title:r.title,chapters:i,summaries:l,images:a,lastAccessed:r.lastAccessed})}catch(t){}}continue}if(e.startsWith("book_")&&e.endsWith(".json")&&!e.includes("_meta")&&!e.includes("_chunk_")){const n=await po(o.files[e]);if(n)try{const e=JSON.parse(n);e.id&&!u.has(e.id)&&(u.add(e.id),s.push(e))}catch(t){}}}return s.length>0?s:[]}catch(n){throw new Error("Failed to load library from GitHub. Please check your PAT and try again.")}}(e.githubPAT)).map(mo)}catch(t){throw t}}async function vo(e){const t=ro();if(!t?.githubPAT)throw new Error("GitHub PAT not found");const n=(await yo()).map(t=>t.id===e.id?e:t);await fo(t.githubPAT,n)}const bo=e=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[m.jsx("path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}),m.jsx("path",{d:"M12 12v9"}),m.jsx("path",{d:"m16 16-4-4-4 4"})]}),Eo=e=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[m.jsx("path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 2v6c0 7 4 8 8 8Z"}),m.jsx("path",{d:"M14 21c3 0 7-1 7-8V5c0-1.25-.75-2.017-2-2h-4c-1.25 0-2 .75-2 2v6c0 7 4 8 8 8Z"})]}),So=e=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[m.jsx("line",{x1:"8",x2:"21",y1:"6",y2:"6"}),m.jsx("line",{x1:"8",x2:"21",y1:"12",y2:"12"}),m.jsx("line",{x1:"8",x2:"21",y1:"18",y2:"18"}),m.jsx("line",{x1:"3",x2:"3.01",y1:"6",y2:"6"}),m.jsx("line",{x1:"3",x2:"3.01",y1:"12",y2:"12"}),m.jsx("line",{x1:"3",x2:"3.01",y1:"18",y2:"18"})]}),wo=e=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`animate-spin ${e.className||""}`,...e,children:m.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),Co=e=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[m.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),m.jsx("polyline",{points:"14 2 14 8 20 8"}),m.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),m.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),m.jsx("line",{x1:"10",y1:"9",x2:"8",y2:"9"})]}),To=e=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[m.jsx("path",{d:"M19 12H5"}),m.jsx("polyline",{points:"12 19 5 12 12 5"})]}),_o=e=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[m.jsx("polyline",{points:"3 6 5 6 21 6"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),m.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),m.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),ko=e=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[m.jsx("path",{d:"m16 6 4 14"}),m.jsx("path",{d:"M12 6v14"}),m.jsx("path",{d:"M8 8v12"}),m.jsx("path",{d:"M4 4v16"})]}),Ao=e=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[m.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),m.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),m.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),Io=e=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),Oo=e=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:m.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),xo=e=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[m.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),m.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]}),No=e=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[m.jsx("circle",{cx:"12",cy:"12",r:"3"}),m.jsx("path",{d:"M12 1v6m0 6v6m-8-7h6m6 0h6m-13 7l4-4m6 6l-4-4m-4-8l4 4m6-6l-4 4"})]}),Po=e=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:m.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})}),Ro=e=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:m.jsx("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})}),Mo=({onSuccess:e,onError:t})=>{const[n,r]=g.useState(!1),[o,i]=g.useState(""),[l,a]=g.useState(!1),[s,u]=g.useState(""),[c,d]=g.useState("");g.useEffect(()=>{(async()=>{try{const{initFirebase:e}=await x(async()=>{const{initFirebase:e}=await import("./firebase-auth-BNvlAL8s.js");return{initFirebase:e}},__vite__mapDeps([0,1]));await e()}catch(e){t("Failed to initialize. Please try manual entry."),a(!0)}})()},[t]);return m.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-900 px-4",children:[m.jsxs("div",{className:"text-center p-10 border-2 border-dashed border-amber-900/30 rounded-2xl max-w-2xl w-full bg-gray-800/50",children:[m.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[m.jsx("img",{src:"/logo.svg",alt:"Saga Logo",className:"w-16 h-16"}),m.jsx("h1",{className:"text-4xl font-bold text-autumn-fire",children:"Saga"})]}),m.jsx("p",{className:"text-lg text-gray-400 mb-8",children:"Book Chapter Summarizer - Sign in to sync your API keys across devices"}),!l&&!n&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("button",{onClick:async()=>{r(!0),i("Signing in with Google...");try{const{signInWithGoogle:t,retrieveKeys:n}=await x(async()=>{const{signInWithGoogle:e,retrieveKeys:t}=await import("./firebase-auth-BNvlAL8s.js");return{signInWithGoogle:e,retrieveKeys:t}},__vite__mapDeps([0,1]));await t(),i("Checking for saved keys...");const o=await n();o&&o.geminiKey?(i("Keys found! Signing you in..."),setTimeout(()=>{e(o.githubToken||"",o.geminiKey)},500)):(i("Welcome! Please enter your API keys to get started."),a(!0),r(!1))}catch(n){r(!1),i(""),t(n.message||"Sign-in failed")}},className:"w-full max-w-md mx-auto bg-white hover:bg-gray-100 text-gray-800 font-bold py-3 px-6 rounded-lg transition-all duration-300 shadow-lg flex items-center justify-center gap-3",children:[m.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[m.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),m.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),m.jsx("button",{onClick:()=>{a(!0),r(!1),i("")},className:"text-gray-500 hover:text-autumn-fire text-sm transition-colors",children:"Or enter keys manually (no sync)"})]}),n&&m.jsxs("div",{className:"flex flex-col items-center gap-4",children:[m.jsx(wo,{className:"w-12 h-12 text-autumn-fire animate-spin"}),m.jsx("p",{className:"text-gray-400",children:o})]}),l&&!n&&m.jsxs("form",{onSubmit:async n=>{if(n.preventDefault(),s.trim()){r(!0),i("Saving keys...");try{const{getCurrentUser:t,saveKeys:n}=await x(async()=>{const{getCurrentUser:e,saveKeys:t}=await import("./firebase-auth-BNvlAL8s.js");return{getCurrentUser:e,saveKeys:t}},__vite__mapDeps([0,1]));t()?(await n({geminiKey:s.trim(),githubToken:c.trim()||null}),i("Keys saved and synced!")):(localStorage.setItem("gemini_api_key",s.trim()),c.trim()&&localStorage.setItem("github_token",c.trim())),setTimeout(()=>{e(c.trim()||"",s.trim())},500)}catch(o){localStorage.setItem("gemini_api_key",s.trim()),c.trim()&&localStorage.setItem("github_token",c.trim()),e(c.trim()||"",s.trim())}}else t("Please enter a valid Gemini API key")},className:"max-w-md mx-auto space-y-4",children:[m.jsx("p",{className:"text-sm text-gray-400 mb-4",children:o||"Enter your API keys"}),m.jsx("input",{type:"password",value:s,onChange:e=>u(e.target.value),placeholder:"Gemini API Key (required)",className:"w-full bg-gray-700 border-2 text-gray-100 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-autumn-fire transition-colors border-gray-600",autoFocus:!0}),m.jsx("input",{type:"password",value:c,onChange:e=>d(e.target.value),placeholder:"GitHub Token (optional)",className:"w-full bg-gray-700 border-2 text-gray-100 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-autumn-fire transition-colors border-gray-600"}),m.jsx("button",{type:"submit",disabled:!s.trim(),className:"w-full bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 shadow-lg",children:"Continue"})]}),m.jsx("div",{className:"text-sm text-gray-600 mt-6",children:m.jsxs("p",{children:["Get a Gemini API key from"," ",m.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-autumn-fire hover:underline",children:"Google AI Studio"})]})})]}),m.jsx("a",{href:"../wayfinder/index.html",className:"fixed bottom-6 right-6 opacity-60 hover:opacity-100 transition-opacity z-30",title:"Back to Wayfinder",children:m.jsx("img",{src:"/wayfinder_logo.svg",alt:"Wayfinder",className:"w-12 h-12"})})]})},Do=({chapters:e,summarizedChapters:t,selectedIndex:n,onSelectChapter:r,processingChapterIndex:o})=>{const[i,l]=y.useState(null),a=y.useRef({});return m.jsx("nav",{className:"flex-1 overflow-y-auto pr-2 -mr-2 space-y-1",children:e.map((e,s)=>{if(null==e)return null;const u=void 0!==t[s],c=o===s,d=s===n,p=t[s],f=p?.bullets?.[0],h=i===s;return m.jsxs("div",{className:"relative",children:[m.jsxs("button",{ref:e=>{a.current[s]=e},onClick:()=>r(s),onMouseEnter:()=>l(s),onMouseLeave:()=>l(null),className:"w-full text-left flex items-center p-3 text-sm font-medium rounded-md transition-colors duration-150 "+(d?"bg-gradient-to-r from-amber-600/30 to-orange-600/30 text-amber-100 border-l-2 border-amber-500":u?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-500 hover:bg-gray-700/50 hover:text-white"),children:[m.jsx("span",{className:"flex-1 truncate",children:e.title}),c&&m.jsx("div",{className:"ml-3 w-5 h-5 flex-shrink-0 flex items-center justify-center",children:m.jsx("div",{className:"w-5 h-5 border-2 border-amber-400 border-t-transparent rounded-full animate-spin"})})]}),f&&h&&a.current[s]&&(()=>{const e=a.current[s].getBoundingClientRect();return m.jsx("div",{className:"hidden md:block fixed pointer-events-none z-[9999]",style:{left:`${e.right+8}px`,top:`${e.top+e.height/2}px`,transform:"translateY(-50%)"},children:m.jsxs("div",{className:"chapter-tooltip bg-gray-800 border border-amber-500/30 rounded-lg shadow-xl p-3 min-w-[250px] max-w-[500px] max-h-[70vh] overflow-y-auto",children:[m.jsx("div",{className:"text-xs text-amber-400 font-semibold mb-1",children:"Quick Preview"}),m.jsx("div",{className:"text-sm text-gray-200 leading-relaxed",children:f}),m.jsx("div",{className:"absolute right-full top-1/2 -translate-y-1/2 border-8 border-transparent border-r-gray-800"})]})})})()]},s)})})},Lo="/saga/assets/logo-CrjB4bHl.png",Uo=g.lazy(()=>x(()=>import("./FileUploadScreen-DOk_44CQ.js"),__vite__mapDeps([2,1]))),jo=g.lazy(()=>x(()=>import("./SummaryDisplay-0yShPbHw.js"),__vite__mapDeps([3,1]))),Fo=g.lazy(()=>x(()=>import("./ChatBot-Bs_Chdmd.js"),__vite__mapDeps([4,5,1])));function qo(){const[e,t]=g.useState(!1),[n,r]=g.useState(null),[o,i]=g.useState([]),[l,a]=g.useState(!0),[s,u]=g.useState(null),[c,d]=g.useState({}),[p,f]=g.useState(null),[h,v]=g.useState(!1),[b,E]=g.useState(0),[S,w]=g.useState(null),[C,T]=g.useState(!1),[_,k]=g.useState(!1),A=y.useRef(null);g.useEffect(()=>((async()=>{const e=function(){const e=ro();return!(!e?.githubPAT||!e?.geminiApiKey)}();if(t(e),e)try{await ho();const e=await go();i(e)}catch(n){w("Could not load library from GitHub Gist.")}a(!1)})(),()=>{null!==A.current&&clearTimeout(A.current)}),[]);const I=g.useCallback(async(e,n)=>{u(null),a(!0);try{r={githubPAT:e,geminiApiKey:n},localStorage.setItem(no,JSON.stringify(r)),await ho();const o=await go();i(o),t(!0)}catch(o){const e=o instanceof Error?o.message:"Failed to load library";u(e),oo()}finally{a(!1)}var r},[]),O=g.useCallback(()=>{oo(),t(!1),r(null),i([]),w(null),u(null)},[]);g.useCallback(e=>{r(t=>{if(!t)return null;const n={...t,...e};return null!==A.current&&clearTimeout(A.current),A.current=window.setTimeout(()=>{vo(n).catch(e=>{w("Could not save progress to GitHub Gist. Changes may be lost.")})},2e3),n})},[]);const x=g.useCallback(async e=>{w(null),a(!0);try{let t,n=e.name;if("text/plain"===e.type){const r=await e.text();t=function(e){const t=[];if(!e)return t;const n=("\n\n\n\n"+e).split("\n");let r=null;for(let o=0;o<n.length;o++){const e=n[o],i=e.trim(),l=i.length>0&&i.length<50&&i===i.toUpperCase()&&/[A-Z]/.test(i)&&!/^[0-9\s.,!?-]+$/.test(i)&&!N.has(i),a=o>=4&&""===n[o-1].trim()&&""===n[o-2].trim()&&""===n[o-3].trim()&&""===n[o-4].trim();l&&a?(r&&t.push({...r,content:r.content.trim()}),r={title:i,content:""}):r&&(r.content+=e+"\n")}return r&&r.content.trim()&&t.push({...r,content:r.content.trim()}),t}(r),n=function(e){if(!e)return"Untitled Book";const t=e.split("\n");for(const n of t){const e=n.trim();if(e.length>0)return e.substring(0,100)}return"Untitled Book"}(r)}else{if(!e.name.endsWith(".epub"))throw new Error("Unsupported file type. Please use .txt or .epub.");{const r=await e.arrayBuffer(),o=await async function(e){const t=[];try{const r=ePub(e);await r.ready;const o=r.packaging?.metadata?.title||"Untitled Book",i=r.navigation.toc;for(const e of r.spine.items)if(e.href)try{const n=await r.load(e.href);let o;o="string"==typeof n?(new DOMParser).parseFromString(n,"text/html"):n instanceof Document||n.documentElement?n:(new DOMParser).parseFromString(String(n),"text/html");const l=P(o.body);if(l.length>50){const n=i.find(t=>r.path.resolve(t.href)===r.path.resolve(e.href)),o=n?.label?.trim().replace(/\s+/g," ")||`Chapter ${t.length+1}`;t.push({title:o,content:l})}}catch(n){}if(0===t.length&&i.length>0)for(const e of i)if(e.href)try{const n=await r.load(e.href);let o;o="string"==typeof n?(new DOMParser).parseFromString(n,"text/html"):n instanceof Document||n.documentElement?n:(new DOMParser).parseFromString(String(n),"text/html");const i=P(o.body);i.length>50&&t.push({title:e.label.trim().replace(/\s+/g," "),content:i})}catch(n){}return{title:o,chapters:t}}catch(n){throw new Error(`Failed to parse EPUB: ${n instanceof Error?n.message:"Unknown error"}`)}}(r);t=o.chapters,n=o.title}}if(0===t.length)throw new Error("Could not find any chapters in the uploaded file.");const o={title:n,chapters:t,summaries:{},images:{},lastAccessed:Date.now()},l=await async function(e){const t=ro();if(!t?.githubPAT)throw new Error("GitHub PAT not found");const n=await yo(),r=n.reduce((e,t)=>Math.max(e,t.id||0),0)+1,o=[{...e,id:r},...n];return await fo(t.githubPAT,o),await new Promise(e=>setTimeout(e,1e3)),r}(o),a={...o,id:l};r(a),i(e=>[a,...e.filter(e=>e.id!==l)]),E(0),d({})}catch(t){const e=t instanceof Error?t.message:"An unknown error occurred.";w(e)}finally{a(!1)}},[]),R=g.useCallback(async e=>{w(null),a(!0);try{const t=await async function(e){return(await yo()).find(t=>t.id===e)||null}(e);t?(t.lastAccessed=Date.now(),await vo(t),r(t),E(0),d({}),i(n=>{const r=n.filter(t=>t.id!==e);return[t,...r]})):w("Could not load the selected book from history.")}finally{a(!1)}},[]),M=g.useCallback(async()=>{window.confirm("Are you sure you want to delete all your books from GitHub Gist? This action cannot be undone.")&&(await async function(){const e=ro();if(!e?.githubPAT)throw new Error("GitHub PAT not found");await fo(e.githubPAT,[])}(),i([]))},[]),D=g.useCallback(()=>{r(null),w(null)},[]),L=g.useCallback(async e=>{if(!n||n.summaries[e]||p===e)return;const t=n.chapters[e];if(t){f(e),w(null),d(t=>({...t,[e]:{bullets:[],quote:""}}));try{const n=await async function(e){const t=io(),n=`\nYou are an expert literary analyst. Your task is to analyze the provided book chapter and generate a concise summary.\n\nThe response must be in the following format, with each item on a new line:\n- Three separate lines, each starting with "BULLET: ", summarizing a key event.\n- One final line, starting with "QUOTE: ", containing a thematically significant or encapsulating quote from the chapter. This quote MUST be at least 15 words long to provide sufficient context. If the quote is spoken by a character, you MUST include who said it (e.g., "Nothing is fair," Jon said.).\n\nDo not include any other text, explanations, or formatting.\n\nHere is the chapter text:\n---\n${e}\n---\n`;try{return await t.models.generateContentStream({model:"gemini-2.5-flash",contents:n})}catch(S){const t=S instanceof Error?S.message:"An unknown error occurred.";throw new Error(`Could not get a valid summary from the AI model. ${t}`)}}(t.content);let o="",i=null;for await(const t of n){o+=t.text;const n={bullets:[],quote:""};o.split("\n").forEach(e=>{e.startsWith("BULLET: ")?n.bullets.push(e.substring(8).trim()):e.startsWith("QUOTE: ")&&(n.quote=e.substring(7).trim())}),i=n,d(t=>({...t,[e]:i}))}i&&r(t=>{if(!t)return null;const n={...t,summaries:{...t.summaries,[e]:i}};return null!==A.current&&clearTimeout(A.current),A.current=window.setTimeout(()=>{vo(n).catch(e=>{w("Could not save progress to GitHub Gist. Changes may be lost.")})},2e3),n})}catch(o){const e=o instanceof Error?o.message:"An unknown error occurred.";w(`Failed to summarize chapter: ${t.title}. ${e}`)}finally{f(t=>t===e?null:t)}}},[n,p]),U=g.useCallback(async e=>{E(e),T(!1),await L(e)},[L]),j=g.useCallback(async()=>{if(!n)return;v(!0);const e=[];for(let r=0;r<n.chapters.length;r++)n.summaries[r]||e.push(r);if(0===e.length)return void v(!1);const t=e.slice(0,5);for(const n of t)await L(n);v(!1)},[n,L]),F=g.useMemo(()=>n?.chapters[b],[n,b]),q=g.useMemo(()=>n?.summaries[b]||c[b],[n,c,b]),z=g.useMemo(()=>p===b,[p,b]);return l?m.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-900 text-white gap-4",children:[m.jsx(wo,{className:"w-12 h-12 text-amber-400 animate-spin"}),m.jsx("p",{className:"text-gray-400",children:"Loading..."})]}):e?n?m.jsxs("div",{className:"flex flex-col md:flex-row h-screen font-sans bg-gray-900 text-gray-100",children:[m.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-gray-800/50 border-b border-amber-900/20",children:[m.jsx("button",{onClick:()=>T(!0),className:"p-2 text-amber-400 hover:text-amber-300","aria-label":"Open menu",children:m.jsx(Ao,{className:"w-6 h-6"})}),m.jsx("h1",{className:"text-lg font-bold text-amber-400/90 truncate flex-1 mx-4",title:n.title,children:n.title}),m.jsx("button",{onClick:D,className:"p-2 text-gray-400 hover:text-amber-400","aria-label":"Back to library",children:m.jsx(To,{className:"w-6 h-6"})})]}),m.jsxs("aside",{className:`\n        ${C?"translate-x-0":"-translate-x-full"}\n        md:translate-x-0\n        fixed md:relative\n        inset-y-0 left-0\n        z-50\n        w-80 md:w-1/4 md:min-w-[300px] md:max-w-[400px]\n        bg-gray-800/95 md:bg-gray-800/50\n        border-r border-amber-900/20\n        flex flex-col p-4\n        transition-transform duration-300 ease-in-out\n      `,children:[m.jsxs("div",{className:"hidden md:flex items-start justify-between gap-3 mb-4 p-2",children:[m.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[m.jsx("img",{src:Lo,alt:"Saga Logo",className:"w-10 h-10 flex-shrink-0"}),m.jsx("h1",{className:"text-xl font-bold tracking-tight text-amber-400/90 break-words",title:n.title,children:n.title})]}),m.jsx("button",{onClick:D,className:"p-1 flex-shrink-0 text-gray-400 hover:text-amber-400 transition-colors","aria-label":"Back to library",children:m.jsx(To,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"md:hidden flex items-center justify-between mb-4 p-2",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:Lo,alt:"Saga Logo",className:"w-10 h-10"}),m.jsx("h2",{className:"text-lg font-bold text-amber-400/90",children:"Chapters"})]}),m.jsx("button",{onClick:()=>T(!1),className:"p-2 text-gray-400 hover:text-amber-400","aria-label":"Close menu",children:m.jsx(Io,{className:"w-6 h-6"})})]}),m.jsx(Do,{chapters:n.chapters,summarizedChapters:n.summaries,selectedIndex:b,onSelectChapter:U,processingChapterIndex:p}),m.jsxs("div",{className:"mt-auto pt-4 border-t border-amber-900/20 space-y-2",children:[m.jsx("button",{onClick:j,disabled:h||Object.keys(n.summaries).length===n.chapters.length,className:"w-full bg-gradient-to-r from-amber-600 to-orange-600 text-white font-bold py-2 px-4 rounded-md hover:from-amber-700 hover:to-orange-700 transition-all disabled:bg-gray-600 disabled:cursor-not-allowed disabled:opacity-50 shadow-lg",children:h?"Processing...":"Summarize Next 5"}),m.jsxs("p",{className:"text-sm text-center text-gray-400",children:[Object.keys(n.summaries).length," / ",n.chapters.length," chapters summarized"]}),S&&m.jsx("p",{className:"text-red-400 text-sm mt-2 text-center px-2",children:S}),m.jsx("button",{onClick:O,className:"w-full text-sm text-gray-400 hover:text-amber-400 transition-colors py-2",children:"Logout"})]})]}),C&&m.jsx("div",{className:"md:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>T(!1)}),m.jsx("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto",children:m.jsx(g.Suspense,{fallback:m.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 gap-4",children:[m.jsx(wo,{className:"w-12 h-12 text-amber-400 animate-spin"}),m.jsx("p",{children:"Loading chapter..."})]}),children:m.jsx(jo,{chapter:F,summary:q,isProcessing:z,onPreviousChapter:()=>{b>0&&U(b-1)},onNextChapter:()=>{n&&b<n.chapters.length-1&&U(b+1)},hasPrevious:b>0,hasNext:!!n&&b<n.chapters.length-1})})}),!_&&m.jsx("button",{onClick:()=>k(!0),className:"fixed bottom-6 right-6 p-4 bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-full shadow-2xl hover:from-amber-700 hover:to-orange-700 transition-all transform hover:scale-110 z-40","aria-label":"Open chat",children:m.jsx(Oo,{className:"w-6 h-6"})}),_&&m.jsx(g.Suspense,{fallback:m.jsx("div",{className:"fixed bottom-0 right-0 w-full md:w-96 h-[500px] bg-gray-800 border-l border-t border-amber-900/20 shadow-2xl rounded-t-xl flex items-center justify-center z-50",children:m.jsxs("div",{className:"flex flex-col items-center gap-4",children:[m.jsx(wo,{className:"w-10 h-10 text-amber-400 animate-spin"}),m.jsx("p",{className:"text-gray-400",children:"Loading chat..."})]})}),children:m.jsx(Fo,{currentBook:n,selectedChapterIndex:b,onClose:()=>k(!1)})}),m.jsx("a",{href:"../wayfinder/index.html",className:"fixed bottom-20 right-6 opacity-60 hover:opacity-100 transition-opacity z-30",title:"Back to Wayfinder",children:m.jsx("img",{src:"/wayfinder_logo.svg",alt:"Wayfinder",className:"w-12 h-12"})})]}):m.jsx(g.Suspense,{fallback:m.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-900 text-white gap-4",children:[m.jsx(wo,{className:"w-12 h-12 text-amber-400 animate-spin"}),m.jsx("p",{className:"text-gray-400",children:"Loading library..."})]}),children:m.jsx(Uo,{onFileUpload:x,error:S,history:o,onLoadFromHistory:R,onClearHistory:M,onLogout:O})}):m.jsxs(m.Fragment,{children:[m.jsx(Mo,{onSuccess:I,onError:e=>u(e)}),s&&m.jsx("div",{className:"fixed top-4 right-4 bg-red-600 text-white px-6 py-3 rounded-lg shadow-lg z-50",children:s})]})}const zo=document.getElementById("root");zo&&I.createRoot(zo).render(m.jsx(y.StrictMode,{children:m.jsx(qo,{})}));export{Co as F,ko as L,Ro as M,Eo as Q,No as S,_o as T,bo as U,Io as X,x as _,ro as a,So as b,Po as c,wo as d,xo as e,lo as f,m as j,Lo as l,g as r};
