(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=o(c);fetch(c.href,d)}})();function rh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Yr={exports:{}},Yo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function vv(){if(_m)return Yo;_m=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(a,c,d){var p=null;if(d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:n,type:a,key:p,ref:c!==void 0?c:null,props:d}}return Yo.Fragment=e,Yo.jsx=o,Yo.jsxs=o,Yo}var Mm;function Tv(){return Mm||(Mm=1,Yr.exports=vv()),Yr.exports}var x=Tv(),Or={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function Cv(){if(Rm)return ce;Rm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),S=Symbol.iterator;function M(_){return _===null||typeof _!="object"?null:(_=S&&_[S]||_["@@iterator"],typeof _=="function"?_:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,B={};function V(_,L,P){this.props=_,this.context=L,this.refs=B,this.updater=P||U}V.prototype.isReactComponent={},V.prototype.setState=function(_,L){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,L,"setState")},V.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function Y(){}Y.prototype=V.prototype;function F(_,L,P){this.props=_,this.context=L,this.refs=B,this.updater=P||U}var K=F.prototype=new Y;K.constructor=F,q(K,V.prototype),K.isPureReactComponent=!0;var W=Array.isArray;function J(){}var O={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function $(_,L,P){var Z=P.ref;return{$$typeof:n,type:_,key:L,ref:Z!==void 0?Z:null,props:P}}function ne(_,L){return $(_.type,L,_.props)}function me(_){return typeof _=="object"&&_!==null&&_.$$typeof===n}function fe(_){var L={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(P){return L[P]})}var Ve=/\/+/g;function ot(_,L){return typeof _=="object"&&_!==null&&_.key!=null?fe(""+_.key):L.toString(36)}function $e(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(J,J):(_.status="pending",_.then(function(L){_.status==="pending"&&(_.status="fulfilled",_.value=L)},function(L){_.status==="pending"&&(_.status="rejected",_.reason=L)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function k(_,L,P,Z,le){var re=typeof _;(re==="undefined"||re==="boolean")&&(_=null);var ue=!1;if(_===null)ue=!0;else switch(re){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(_.$$typeof){case n:case e:ue=!0;break;case v:return ue=_._init,k(ue(_._payload),L,P,Z,le)}}if(ue)return le=le(_),ue=Z===""?"."+ot(_,0):Z,W(le)?(P="",ue!=null&&(P=ue.replace(Ve,"$&/")+"/"),k(le,L,P,"",function(Zi){return Zi})):le!=null&&(me(le)&&(le=ne(le,P+(le.key==null||_&&_.key===le.key?"":(""+le.key).replace(Ve,"$&/")+"/")+ue)),L.push(le)),1;ue=0;var Ge=Z===""?".":Z+":";if(W(_))for(var Ne=0;Ne<_.length;Ne++)Z=_[Ne],re=Ge+ot(Z,Ne),ue+=k(Z,L,P,re,le);else if(Ne=M(_),typeof Ne=="function")for(_=Ne.call(_),Ne=0;!(Z=_.next()).done;)Z=Z.value,re=Ge+ot(Z,Ne++),ue+=k(Z,L,P,re,le);else if(re==="object"){if(typeof _.then=="function")return k($e(_),L,P,Z,le);throw L=String(_),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ue}function X(_,L,P){if(_==null)return _;var Z=[],le=0;return k(_,Z,"","",function(re){return L.call(P,re,le++)}),Z}function se(_){if(_._status===-1){var L=_._result;L=L(),L.then(function(P){(_._status===0||_._status===-1)&&(_._status=1,_._result=P)},function(P){(_._status===0||_._status===-1)&&(_._status=2,_._result=P)}),_._status===-1&&(_._status=0,_._result=L)}if(_._status===1)return _._result.default;throw _._result}var Ae=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},_e={map:X,forEach:function(_,L,P){X(_,function(){L.apply(this,arguments)},P)},count:function(_){var L=0;return X(_,function(){L++}),L},toArray:function(_){return X(_,function(L){return L})||[]},only:function(_){if(!me(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return ce.Activity=C,ce.Children=_e,ce.Component=V,ce.Fragment=o,ce.Profiler=c,ce.PureComponent=F,ce.StrictMode=a,ce.Suspense=y,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,ce.__COMPILER_RUNTIME={__proto__:null,c:function(_){return O.H.useMemoCache(_)}},ce.cache=function(_){return function(){return _.apply(null,arguments)}},ce.cacheSignal=function(){return null},ce.cloneElement=function(_,L,P){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var Z=q({},_.props),le=_.key;if(L!=null)for(re in L.key!==void 0&&(le=""+L.key),L)!Q.call(L,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&L.ref===void 0||(Z[re]=L[re]);var re=arguments.length-2;if(re===1)Z.children=P;else if(1<re){for(var ue=Array(re),Ge=0;Ge<re;Ge++)ue[Ge]=arguments[Ge+2];Z.children=ue}return $(_.type,le,Z)},ce.createContext=function(_){return _={$$typeof:p,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:d,_context:_},_},ce.createElement=function(_,L,P){var Z,le={},re=null;if(L!=null)for(Z in L.key!==void 0&&(re=""+L.key),L)Q.call(L,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(le[Z]=L[Z]);var ue=arguments.length-2;if(ue===1)le.children=P;else if(1<ue){for(var Ge=Array(ue),Ne=0;Ne<ue;Ne++)Ge[Ne]=arguments[Ne+2];le.children=Ge}if(_&&_.defaultProps)for(Z in ue=_.defaultProps,ue)le[Z]===void 0&&(le[Z]=ue[Z]);return $(_,re,le)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(_){return{$$typeof:g,render:_}},ce.isValidElement=me,ce.lazy=function(_){return{$$typeof:v,_payload:{_status:-1,_result:_},_init:se}},ce.memo=function(_,L){return{$$typeof:h,type:_,compare:L===void 0?null:L}},ce.startTransition=function(_){var L=O.T,P={};O.T=P;try{var Z=_(),le=O.S;le!==null&&le(P,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(J,Ae)}catch(re){Ae(re)}finally{L!==null&&P.types!==null&&(L.types=P.types),O.T=L}},ce.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},ce.use=function(_){return O.H.use(_)},ce.useActionState=function(_,L,P){return O.H.useActionState(_,L,P)},ce.useCallback=function(_,L){return O.H.useCallback(_,L)},ce.useContext=function(_){return O.H.useContext(_)},ce.useDebugValue=function(){},ce.useDeferredValue=function(_,L){return O.H.useDeferredValue(_,L)},ce.useEffect=function(_,L){return O.H.useEffect(_,L)},ce.useEffectEvent=function(_){return O.H.useEffectEvent(_)},ce.useId=function(){return O.H.useId()},ce.useImperativeHandle=function(_,L,P){return O.H.useImperativeHandle(_,L,P)},ce.useInsertionEffect=function(_,L){return O.H.useInsertionEffect(_,L)},ce.useLayoutEffect=function(_,L){return O.H.useLayoutEffect(_,L)},ce.useMemo=function(_,L){return O.H.useMemo(_,L)},ce.useOptimistic=function(_,L){return O.H.useOptimistic(_,L)},ce.useReducer=function(_,L,P){return O.H.useReducer(_,L,P)},ce.useRef=function(_){return O.H.useRef(_)},ce.useState=function(_){return O.H.useState(_)},ce.useSyncExternalStore=function(_,L,P){return O.H.useSyncExternalStore(_,L,P)},ce.useTransition=function(){return O.H.useTransition()},ce.version="19.2.0",ce}var Nm;function fu(){return Nm||(Nm=1,Or.exports=Cv()),Or.exports}var oe=fu();const va=rh(oe);var $r={exports:{}},Oo={},Kr={exports:{}},Qr={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function Sv(){return Dm||(Dm=1,(function(n){function e(k,X){var se=k.length;k.push(X);e:for(;0<se;){var Ae=se-1>>>1,_e=k[Ae];if(0<c(_e,X))k[Ae]=X,k[se]=_e,se=Ae;else break e}}function o(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var X=k[0],se=k.pop();if(se!==X){k[0]=se;e:for(var Ae=0,_e=k.length,_=_e>>>1;Ae<_;){var L=2*(Ae+1)-1,P=k[L],Z=L+1,le=k[Z];if(0>c(P,se))Z<_e&&0>c(le,P)?(k[Ae]=le,k[Z]=se,Ae=Z):(k[Ae]=P,k[L]=se,Ae=L);else if(Z<_e&&0>c(le,se))k[Ae]=le,k[Z]=se,Ae=Z;else break e}}return X}function c(k,X){var se=k.sortIndex-X.sortIndex;return se!==0?se:k.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var p=Date,g=p.now();n.unstable_now=function(){return p.now()-g}}var y=[],h=[],v=1,C=null,S=3,M=!1,U=!1,q=!1,B=!1,V=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function K(k){for(var X=o(h);X!==null;){if(X.callback===null)a(h);else if(X.startTime<=k)a(h),X.sortIndex=X.expirationTime,e(y,X);else break;X=o(h)}}function W(k){if(q=!1,K(k),!U)if(o(y)!==null)U=!0,J||(J=!0,fe());else{var X=o(h);X!==null&&$e(W,X.startTime-k)}}var J=!1,O=-1,Q=5,$=-1;function ne(){return B?!0:!(n.unstable_now()-$<Q)}function me(){if(B=!1,J){var k=n.unstable_now();$=k;var X=!0;try{e:{U=!1,q&&(q=!1,Y(O),O=-1),M=!0;var se=S;try{t:{for(K(k),C=o(y);C!==null&&!(C.expirationTime>k&&ne());){var Ae=C.callback;if(typeof Ae=="function"){C.callback=null,S=C.priorityLevel;var _e=Ae(C.expirationTime<=k);if(k=n.unstable_now(),typeof _e=="function"){C.callback=_e,K(k),X=!0;break t}C===o(y)&&a(y),K(k)}else a(y);C=o(y)}if(C!==null)X=!0;else{var _=o(h);_!==null&&$e(W,_.startTime-k),X=!1}}break e}finally{C=null,S=se,M=!1}X=void 0}}finally{X?fe():J=!1}}}var fe;if(typeof F=="function")fe=function(){F(me)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,ot=Ve.port2;Ve.port1.onmessage=me,fe=function(){ot.postMessage(null)}}else fe=function(){V(me,0)};function $e(k,X){O=V(function(){k(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(k){switch(S){case 1:case 2:case 3:var X=3;break;default:X=S}var se=S;S=X;try{return k()}finally{S=se}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(k,X){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var se=S;S=k;try{return X()}finally{S=se}},n.unstable_scheduleCallback=function(k,X,se){var Ae=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ae+se:Ae):se=Ae,k){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=se+_e,k={id:v++,callback:X,priorityLevel:k,startTime:se,expirationTime:_e,sortIndex:-1},se>Ae?(k.sortIndex=se,e(h,k),o(y)===null&&k===o(h)&&(q?(Y(O),O=-1):q=!0,$e(W,se-Ae))):(k.sortIndex=_e,e(y,k),U||M||(U=!0,J||(J=!0,fe()))),k},n.unstable_shouldYield=ne,n.unstable_wrapCallback=function(k){var X=S;return function(){var se=S;S=X;try{return k.apply(this,arguments)}finally{S=se}}}})(Qr)),Qr}var bm;function Ev(){return bm||(bm=1,Kr.exports=Sv()),Kr.exports}var Xr={exports:{}},nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function xv(){if(wm)return nt;wm=1;var n=fu();function e(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(y,h,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:y,containerInfo:h,implementation:v}}var p=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nt.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return d(y,h,null,v)},nt.flushSync=function(y){var h=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=h,a.p=v,a.d.f()}},nt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},nt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},nt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,C=g(v,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,M=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:C,integrity:S,fetchPriority:M}):v==="script"&&a.d.X(y,{crossOrigin:C,integrity:S,fetchPriority:M,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},nt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},nt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,C=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:C,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},nt.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},nt.requestFormReset=function(y){a.d.r(y)},nt.unstable_batchedUpdates=function(y,h){return y(h)},nt.useFormState=function(y,h,v){return p.H.useFormState(y,h,v)},nt.useFormStatus=function(){return p.H.useHostTransitionStatus()},nt.version="19.2.0",nt}var Um;function Av(){if(Um)return Xr.exports;Um=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xr.exports=xv(),Xr.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function _v(){if(Im)return Oo;Im=1;var n=Ev(),e=fu(),o=Av();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var i=t,l=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(l=i.return),t=i.return;while(t)}return i.tag===3?l:null}function p(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(d(t)!==t)throw Error(a(188))}function h(t){var i=t.alternate;if(!i){if(i=d(t),i===null)throw Error(a(188));return i!==t?null:t}for(var l=t,u=i;;){var f=l.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){l=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===l)return y(f),t;if(m===u)return y(f),i;m=m.sibling}throw Error(a(188))}if(l.return!==u.return)l=f,u=m;else{for(var T=!1,E=f.child;E;){if(E===l){T=!0,l=f,u=m;break}if(E===u){T=!0,u=f,l=m;break}E=E.sibling}if(!T){for(E=m.child;E;){if(E===l){T=!0,l=m,u=f;break}if(E===u){T=!0,u=m,l=f;break}E=E.sibling}if(!T)throw Error(a(189))}}if(l.alternate!==u)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var C=Object.assign,S=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),F=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function fe(t){return t===null||typeof t!="object"?null:(t=me&&t[me]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Symbol.for("react.client.reference");function ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ve?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case V:return"Profiler";case B:return"StrictMode";case W:return"Suspense";case J:return"SuspenseList";case $:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case F:return t.displayName||"Context";case Y:return(t._context.displayName||"Context")+".Consumer";case K:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return i=t.displayName||null,i!==null?i:ot(t.type)||"Memo";case Q:i=t._payload,t=t._init;try{return ot(t(i))}catch{}}return null}var $e=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Ae=[],_e=-1;function _(t){return{current:t}}function L(t){0>_e||(t.current=Ae[_e],Ae[_e]=null,_e--)}function P(t,i){_e++,Ae[_e]=t.current,t.current=i}var Z=_(null),le=_(null),re=_(null),ue=_(null);function Ge(t,i){switch(P(re,i),P(le,t),P(Z,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Kd(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Kd(i),t=Qd(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}L(Z),P(Z,t)}function Ne(){L(Z),L(le),L(re)}function Zi(t){t.memoizedState!==null&&P(ue,t);var i=Z.current,l=Qd(i,t.type);i!==l&&(P(le,t),P(Z,l))}function Xo(t){le.current===t&&(L(Z),L(le)),ue.current===t&&(L(ue),zo._currentValue=se)}var Ra,xu;function Vn(t){if(Ra===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Ra=i&&i[1]||"",xu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ra+t+xu}var Na=!1;function Da(t,i){if(!t||Na)return"";Na=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(I){var w=I}Reflect.construct(t,[],z)}else{try{z.call()}catch(I){w=I}t.call(z.prototype)}}else{try{throw Error()}catch(I){w=I}(z=t())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(I){if(I&&w&&typeof I.stack=="string")return[I.stack,w.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),T=m[0],E=m[1];if(T&&E){var A=T.split(`
`),b=E.split(`
`);for(f=u=0;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;for(;f<b.length&&!b[f].includes("DetermineComponentFrameRoot");)f++;if(u===A.length||f===b.length)for(u=A.length-1,f=b.length-1;1<=u&&0<=f&&A[u]!==b[f];)f--;for(;1<=u&&0<=f;u--,f--)if(A[u]!==b[f]){if(u!==1||f!==1)do if(u--,f--,0>f||A[u]!==b[f]){var G=`
`+A[u].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=u&&0<=f);break}}}finally{Na=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?Vn(l):""}function Qh(t,i){switch(t.tag){case 26:case 27:case 5:return Vn(t.type);case 16:return Vn("Lazy");case 13:return t.child!==i&&i!==null?Vn("Suspense Fallback"):Vn("Suspense");case 19:return Vn("SuspenseList");case 0:case 15:return Da(t.type,!1);case 11:return Da(t.type.render,!1);case 1:return Da(t.type,!0);case 31:return Vn("Activity");default:return""}}function Au(t){try{var i="",l=null;do i+=Qh(t,l),l=t,t=t.return;while(t);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ba=Object.prototype.hasOwnProperty,wa=n.unstable_scheduleCallback,Ua=n.unstable_cancelCallback,Xh=n.unstable_shouldYield,Zh=n.unstable_requestPaint,mt=n.unstable_now,Wh=n.unstable_getCurrentPriorityLevel,_u=n.unstable_ImmediatePriority,Mu=n.unstable_UserBlockingPriority,Zo=n.unstable_NormalPriority,jh=n.unstable_LowPriority,Ru=n.unstable_IdlePriority,eg=n.log,tg=n.unstable_setDisableYieldValue,Wi=null,pt=null;function un(t){if(typeof eg=="function"&&tg(t),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(Wi,t)}catch{}}var ht=Math.clz32?Math.clz32:og,ng=Math.log,ig=Math.LN2;function og(t){return t>>>=0,t===0?32:31-(ng(t)/ig|0)|0}var Wo=256,jo=262144,el=4194304;function qn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function tl(t,i,l){var u=t.pendingLanes;if(u===0)return 0;var f=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var E=u&134217727;return E!==0?(u=E&~m,u!==0?f=qn(u):(T&=E,T!==0?f=qn(T):l||(l=E&~t,l!==0&&(f=qn(l))))):(E=u&~m,E!==0?f=qn(E):T!==0?f=qn(T):l||(l=u&~t,l!==0&&(f=qn(l)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,l=i&-i,m>=l||m===32&&(l&4194048)!==0)?i:f}function ji(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function lg(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nu(){var t=el;return el<<=1,(el&62914560)===0&&(el=4194304),t}function Ia(t){for(var i=[],l=0;31>l;l++)i.push(t);return i}function eo(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ag(t,i,l,u,f,m){var T=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var E=t.entanglements,A=t.expirationTimes,b=t.hiddenUpdates;for(l=T&~l;0<l;){var G=31-ht(l),z=1<<G;E[G]=0,A[G]=-1;var w=b[G];if(w!==null)for(b[G]=null,G=0;G<w.length;G++){var I=w[G];I!==null&&(I.lane&=-536870913)}l&=~z}u!==0&&Du(t,u,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~i))}function Du(t,i,l){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-ht(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|l&261930}function bu(t,i){var l=t.entangledLanes|=i;for(t=t.entanglements;l;){var u=31-ht(l),f=1<<u;f&i|t[u]&i&&(t[u]|=i),l&=~f}}function wu(t,i){var l=i&-i;return l=(l&42)!==0?1:La(l),(l&(t.suspendedLanes|i))!==0?0:l}function La(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ka(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Uu(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:vm(t.type))}function Iu(t,i){var l=X.p;try{return X.p=t,i()}finally{X.p=l}}var cn=Math.random().toString(36).slice(2),Ze="__reactFiber$"+cn,at="__reactProps$"+cn,oi="__reactContainer$"+cn,Va="__reactEvents$"+cn,sg="__reactListeners$"+cn,rg="__reactHandles$"+cn,Lu="__reactResources$"+cn,to="__reactMarker$"+cn;function qa(t){delete t[Ze],delete t[at],delete t[Va],delete t[sg],delete t[rg]}function li(t){var i=t[Ze];if(i)return i;for(var l=t.parentNode;l;){if(i=l[oi]||l[Ze]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(t=nm(t);t!==null;){if(l=t[Ze])return l;t=nm(t)}return i}t=l,l=t.parentNode}return null}function ai(t){if(t=t[Ze]||t[oi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function no(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function si(t){var i=t[Lu];return i||(i=t[Lu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Qe(t){t[to]=!0}var ku=new Set,Vu={};function Gn(t,i){ri(t,i),ri(t+"Capture",i)}function ri(t,i){for(Vu[t]=i,t=0;t<i.length;t++)ku.add(i[t])}var ug=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qu={},Gu={};function cg(t){return ba.call(Gu,t)?!0:ba.call(qu,t)?!1:ug.test(t)?Gu[t]=!0:(qu[t]=!0,!1)}function nl(t,i,l){if(cg(i))if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+l)}}function il(t,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+l)}}function Pt(t,i,l,u){if(u===null)t.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(i,l,""+u)}}function xt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function fg(t,i,l){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(t,i,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ga(t){if(!t._valueTracker){var i=Hu(t)?"checked":"value";t._valueTracker=fg(t,i,""+t[i])}}function Bu(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return t&&(u=Hu(t)?t.checked?"true":"false":t.value),t=u,t!==l?(i.setValue(t),!0):!1}function ol(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var dg=/[\n"\\]/g;function At(t){return t.replace(dg,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ha(t,i,l,u,f,m,T,E){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+xt(i)):t.value!==""+xt(i)&&(t.value=""+xt(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?Ba(t,T,xt(i)):l!=null?Ba(t,T,xt(l)):u!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+xt(E):t.removeAttribute("name")}function zu(t,i,l,u,f,m,T,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Ga(t);return}l=l!=null?""+xt(l):"",i=i!=null?""+xt(i):l,E||i===t.value||(t.value=i),t.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=E?t.checked:!!u,t.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),Ga(t)}function Ba(t,i,l){i==="number"&&ol(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function ui(t,i,l,u){if(t=t.options,i){i={};for(var f=0;f<l.length;f++)i["$"+l[f]]=!0;for(l=0;l<t.length;l++)f=i.hasOwnProperty("$"+t[l].value),t[l].selected!==f&&(t[l].selected=f),f&&u&&(t[l].defaultSelected=!0)}else{for(l=""+xt(l),i=null,f=0;f<t.length;f++){if(t[f].value===l){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Pu(t,i,l){if(i!=null&&(i=""+xt(i),i!==t.value&&(t.value=i),l==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=l!=null?""+xt(l):""}function Fu(t,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(a(92));if($e(u)){if(1<u.length)throw Error(a(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=xt(i),t.defaultValue=l,u=t.textContent,u===l&&u!==""&&u!==null&&(t.value=u),Ga(t)}function ci(t,i){if(i){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=i;return}}t.textContent=i}var mg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ju(t,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,l):typeof l!="number"||l===0||mg.has(i)?i==="float"?t.cssFloat=l:t[i]=(""+l).trim():t[i]=l+"px"}function Yu(t,i,l){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&l[f]!==u&&Ju(t,f,u)}else for(var m in i)i.hasOwnProperty(m)&&Ju(t,m,i[m])}function za(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ll(t){return hg.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ft(){}var Pa=null;function Fa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fi=null,di=null;function Ou(t){var i=ai(t);if(i&&(t=i.stateNode)){var l=t[at]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ha(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+At(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==t&&u.form===t.form){var f=u[at]||null;if(!f)throw Error(a(90));Ha(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===t.form&&Bu(u)}break e;case"textarea":Pu(t,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ui(t,!!l.multiple,i,!1)}}}var Ja=!1;function $u(t,i,l){if(Ja)return t(i,l);Ja=!0;try{var u=t(i);return u}finally{if(Ja=!1,(fi!==null||di!==null)&&(Ol(),fi&&(i=fi,t=di,di=fi=null,Ou(i),t)))for(i=0;i<t.length;i++)Ou(t[i])}}function io(t,i){var l=t.stateNode;if(l===null)return null;var u=l[at]||null;if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(a(231,i,typeof l));return l}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ya=!1;if(Jt)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){Ya=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{Ya=!1}var fn=null,Oa=null,al=null;function Ku(){if(al)return al;var t,i=Oa,l=i.length,u,f="value"in fn?fn.value:fn.textContent,m=f.length;for(t=0;t<l&&i[t]===f[t];t++);var T=l-t;for(u=1;u<=T&&i[l-u]===f[m-u];u++);return al=f.slice(t,1<u?1-u:void 0)}function sl(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function rl(){return!0}function Qu(){return!1}function st(t){function i(l,u,f,m,T){this._reactName=l,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(l=t[E],this[E]=l?l(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?rl:Qu,this.isPropagationStopped=Qu,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=rl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=rl)},persist:function(){},isPersistent:rl}),i}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=st(Hn),lo=C({},Hn,{view:0,detail:0}),gg=st(lo),$a,Ka,ao,cl=C({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ao&&(ao&&t.type==="mousemove"?($a=t.screenX-ao.screenX,Ka=t.screenY-ao.screenY):Ka=$a=0,ao=t),$a)},movementY:function(t){return"movementY"in t?t.movementY:Ka}}),Xu=st(cl),yg=C({},cl,{dataTransfer:0}),vg=st(yg),Tg=C({},lo,{relatedTarget:0}),Qa=st(Tg),Cg=C({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Sg=st(Cg),Eg=C({},Hn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xg=st(Eg),Ag=C({},Hn,{data:0}),Zu=st(Ag),_g={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ng(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Rg[t])?!!i[t]:!1}function Xa(){return Ng}var Dg=C({},lo,{key:function(t){if(t.key){var i=_g[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=sl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xa,charCode:function(t){return t.type==="keypress"?sl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bg=st(Dg),wg=C({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wu=st(wg),Ug=C({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xa}),Ig=st(Ug),Lg=C({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),kg=st(Lg),Vg=C({},cl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qg=st(Vg),Gg=C({},Hn,{newState:0,oldState:0}),Hg=st(Gg),Bg=[9,13,27,32],Za=Jt&&"CompositionEvent"in window,so=null;Jt&&"documentMode"in document&&(so=document.documentMode);var zg=Jt&&"TextEvent"in window&&!so,ju=Jt&&(!Za||so&&8<so&&11>=so),ec=" ",tc=!1;function nc(t,i){switch(t){case"keyup":return Bg.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ic(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mi=!1;function Pg(t,i){switch(t){case"compositionend":return ic(i);case"keypress":return i.which!==32?null:(tc=!0,ec);case"textInput":return t=i.data,t===ec&&tc?null:t;default:return null}}function Fg(t,i){if(mi)return t==="compositionend"||!Za&&nc(t,i)?(t=Ku(),al=Oa=fn=null,mi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ju&&i.locale!=="ko"?null:i.data;default:return null}}var Jg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Jg[t.type]:i==="textarea"}function lc(t,i,l,u){fi?di?di.push(u):di=[u]:fi=u,i=jl(i,"onChange"),0<i.length&&(l=new ul("onChange","change",null,l,u),t.push({event:l,listeners:i}))}var ro=null,uo=null;function Yg(t){Pd(t,0)}function fl(t){var i=no(t);if(Bu(i))return t}function ac(t,i){if(t==="change")return i}var sc=!1;if(Jt){var Wa;if(Jt){var ja="oninput"in document;if(!ja){var rc=document.createElement("div");rc.setAttribute("oninput","return;"),ja=typeof rc.oninput=="function"}Wa=ja}else Wa=!1;sc=Wa&&(!document.documentMode||9<document.documentMode)}function uc(){ro&&(ro.detachEvent("onpropertychange",cc),uo=ro=null)}function cc(t){if(t.propertyName==="value"&&fl(uo)){var i=[];lc(i,uo,t,Fa(t)),$u(Yg,i)}}function Og(t,i,l){t==="focusin"?(uc(),ro=i,uo=l,ro.attachEvent("onpropertychange",cc)):t==="focusout"&&uc()}function $g(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fl(uo)}function Kg(t,i){if(t==="click")return fl(i)}function Qg(t,i){if(t==="input"||t==="change")return fl(i)}function Xg(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gt=typeof Object.is=="function"?Object.is:Xg;function co(t,i){if(gt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var l=Object.keys(t),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var f=l[u];if(!ba.call(i,f)||!gt(t[f],i[f]))return!1}return!0}function fc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dc(t,i){var l=fc(t);t=0;for(var u;l;){if(l.nodeType===3){if(u=t+l.textContent.length,t<=i&&u>=i)return{node:l,offset:i-t};t=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=fc(l)}}function mc(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?mc(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function pc(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ol(t.document);i instanceof t.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)t=i.contentWindow;else break;i=ol(t.document)}return i}function es(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Zg=Jt&&"documentMode"in document&&11>=document.documentMode,pi=null,ts=null,fo=null,ns=!1;function hc(t,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ns||pi==null||pi!==ol(u)||(u=pi,"selectionStart"in u&&es(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),fo&&co(fo,u)||(fo=u,u=jl(ts,"onSelect"),0<u.length&&(i=new ul("onSelect","select",null,i,l),t.push({event:i,listeners:u}),i.target=pi)))}function Bn(t,i){var l={};return l[t.toLowerCase()]=i.toLowerCase(),l["Webkit"+t]="webkit"+i,l["Moz"+t]="moz"+i,l}var hi={animationend:Bn("Animation","AnimationEnd"),animationiteration:Bn("Animation","AnimationIteration"),animationstart:Bn("Animation","AnimationStart"),transitionrun:Bn("Transition","TransitionRun"),transitionstart:Bn("Transition","TransitionStart"),transitioncancel:Bn("Transition","TransitionCancel"),transitionend:Bn("Transition","TransitionEnd")},is={},gc={};Jt&&(gc=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);function zn(t){if(is[t])return is[t];if(!hi[t])return t;var i=hi[t],l;for(l in i)if(i.hasOwnProperty(l)&&l in gc)return is[t]=i[l];return t}var yc=zn("animationend"),vc=zn("animationiteration"),Tc=zn("animationstart"),Wg=zn("transitionrun"),jg=zn("transitionstart"),ey=zn("transitioncancel"),Cc=zn("transitionend"),Sc=new Map,os="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");os.push("scrollEnd");function Lt(t,i){Sc.set(t,i),Gn(i,[t])}var dl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},_t=[],gi=0,ls=0;function ml(){for(var t=gi,i=ls=gi=0;i<t;){var l=_t[i];_t[i++]=null;var u=_t[i];_t[i++]=null;var f=_t[i];_t[i++]=null;var m=_t[i];if(_t[i++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}m!==0&&Ec(l,f,m)}}function pl(t,i,l,u){_t[gi++]=t,_t[gi++]=i,_t[gi++]=l,_t[gi++]=u,ls|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function as(t,i,l,u){return pl(t,i,l,u),hl(t)}function Pn(t,i){return pl(t,null,null,i),hl(t)}function Ec(t,i,l){t.lanes|=l;var u=t.alternate;u!==null&&(u.lanes|=l);for(var f=!1,m=t.return;m!==null;)m.childLanes|=l,u=m.alternate,u!==null&&(u.childLanes|=l),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&i!==null&&(f=31-ht(l),t=m.hiddenUpdates,u=t[f],u===null?t[f]=[i]:u.push(i),i.lane=l|536870912),m):null}function hl(t){if(50<Lo)throw Lo=0,hr=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var yi={};function ty(t,i,l,u){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(t,i,l,u){return new ty(t,i,l,u)}function ss(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yt(t,i){var l=t.alternate;return l===null?(l=yt(t.tag,i,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=i,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,i=t.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function xc(t,i){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,i=l.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function gl(t,i,l,u,f,m){var T=0;if(u=t,typeof t=="function")ss(t)&&(T=1);else if(typeof t=="string")T=av(t,l,Z.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case $:return t=yt(31,l,i,f),t.elementType=$,t.lanes=m,t;case q:return Fn(l.children,f,m,i);case B:T=8,f|=24;break;case V:return t=yt(12,l,i,f|2),t.elementType=V,t.lanes=m,t;case W:return t=yt(13,l,i,f),t.elementType=W,t.lanes=m,t;case J:return t=yt(19,l,i,f),t.elementType=J,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F:T=10;break e;case Y:T=9;break e;case K:T=11;break e;case O:T=14;break e;case Q:T=16,u=null;break e}T=29,l=Error(a(130,t===null?"null":typeof t,"")),u=null}return i=yt(T,l,i,f),i.elementType=t,i.type=u,i.lanes=m,i}function Fn(t,i,l,u){return t=yt(7,t,u,i),t.lanes=l,t}function rs(t,i,l){return t=yt(6,t,null,i),t.lanes=l,t}function Ac(t){var i=yt(18,null,null,0);return i.stateNode=t,i}function us(t,i,l){return i=yt(4,t.children!==null?t.children:[],t.key,i),i.lanes=l,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var _c=new WeakMap;function Mt(t,i){if(typeof t=="object"&&t!==null){var l=_c.get(t);return l!==void 0?l:(i={value:t,source:i,stack:Au(i)},_c.set(t,i),i)}return{value:t,source:i,stack:Au(i)}}var vi=[],Ti=0,yl=null,mo=0,Rt=[],Nt=0,dn=null,Gt=1,Ht="";function Ot(t,i){vi[Ti++]=mo,vi[Ti++]=yl,yl=t,mo=i}function Mc(t,i,l){Rt[Nt++]=Gt,Rt[Nt++]=Ht,Rt[Nt++]=dn,dn=t;var u=Gt;t=Ht;var f=32-ht(u)-1;u&=~(1<<f),l+=1;var m=32-ht(i)+f;if(30<m){var T=f-f%5;m=(u&(1<<T)-1).toString(32),u>>=T,f-=T,Gt=1<<32-ht(i)+f|l<<f|u,Ht=m+t}else Gt=1<<m|l<<f|u,Ht=t}function cs(t){t.return!==null&&(Ot(t,1),Mc(t,1,0))}function fs(t){for(;t===yl;)yl=vi[--Ti],vi[Ti]=null,mo=vi[--Ti],vi[Ti]=null;for(;t===dn;)dn=Rt[--Nt],Rt[Nt]=null,Ht=Rt[--Nt],Rt[Nt]=null,Gt=Rt[--Nt],Rt[Nt]=null}function Rc(t,i){Rt[Nt++]=Gt,Rt[Nt++]=Ht,Rt[Nt++]=dn,Gt=i.id,Ht=i.overflow,dn=t}var We=null,Ie=null,Te=!1,mn=null,Dt=!1,ds=Error(a(519));function pn(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw po(Mt(i,t)),ds}function Nc(t){var i=t.stateNode,l=t.type,u=t.memoizedProps;switch(i[Ze]=t,i[at]=u,l){case"dialog":ge("cancel",i),ge("close",i);break;case"iframe":case"object":case"embed":ge("load",i);break;case"video":case"audio":for(l=0;l<Vo.length;l++)ge(Vo[l],i);break;case"source":ge("error",i);break;case"img":case"image":case"link":ge("error",i),ge("load",i);break;case"details":ge("toggle",i);break;case"input":ge("invalid",i),zu(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ge("invalid",i);break;case"textarea":ge("invalid",i),Fu(i,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||Od(i.textContent,l)?(u.popover!=null&&(ge("beforetoggle",i),ge("toggle",i)),u.onScroll!=null&&ge("scroll",i),u.onScrollEnd!=null&&ge("scrollend",i),u.onClick!=null&&(i.onclick=Ft),i=!0):i=!1,i||pn(t,!0)}function Dc(t){for(We=t.return;We;)switch(We.tag){case 5:case 31:case 13:Dt=!1;return;case 27:case 3:Dt=!0;return;default:We=We.return}}function Ci(t){if(t!==We)return!1;if(!Te)return Dc(t),Te=!0,!1;var i=t.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||br(t.type,t.memoizedProps)),l=!l),l&&Ie&&pn(t),Dc(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Ie=tm(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Ie=tm(t)}else i===27?(i=Ie,Nn(t.type)?(t=kr,kr=null,Ie=t):Ie=i):Ie=We?wt(t.stateNode.nextSibling):null;return!0}function Jn(){Ie=We=null,Te=!1}function ms(){var t=mn;return t!==null&&(ft===null?ft=t:ft.push.apply(ft,t),mn=null),t}function po(t){mn===null?mn=[t]:mn.push(t)}var ps=_(null),Yn=null,$t=null;function hn(t,i,l){P(ps,i._currentValue),i._currentValue=l}function Kt(t){t._currentValue=ps.current,L(ps)}function hs(t,i,l){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===l)break;t=t.return}}function gs(t,i,l,u){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=f;for(var A=0;A<i.length;A++)if(E.context===i[A]){m.lanes|=l,E=m.alternate,E!==null&&(E.lanes|=l),hs(m.return,l,t),u||(T=null);break e}m=E.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=l,m=T.alternate,m!==null&&(m.lanes|=l),hs(T,l,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Si(t,i,l,u){t=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var E=f.type;gt(f.pendingProps.value,T.value)||(t!==null?t.push(E):t=[E])}}else if(f===ue.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(zo):t=[zo])}f=f.return}t!==null&&gs(i,t,l,u),i.flags|=262144}function vl(t){for(t=t.firstContext;t!==null;){if(!gt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function On(t){Yn=t,$t=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return bc(Yn,t)}function Tl(t,i){return Yn===null&&On(t),bc(t,i)}function bc(t,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},$t===null){if(t===null)throw Error(a(308));$t=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else $t=$t.next=i;return l}var ny=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(l,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(l){return l()})}},iy=n.unstable_scheduleCallback,oy=n.unstable_NormalPriority,Fe={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ys(){return{controller:new ny,data:new Map,refCount:0}}function ho(t){t.refCount--,t.refCount===0&&iy(oy,function(){t.controller.abort()})}var go=null,vs=0,Ei=0,xi=null;function ly(t,i){if(go===null){var l=go=[];vs=0,Ei=Sr(),xi={status:"pending",value:void 0,then:function(u){l.push(u)}}}return vs++,i.then(wc,wc),i}function wc(){if(--vs===0&&go!==null){xi!==null&&(xi.status="fulfilled");var t=go;go=null,Ei=0,xi=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function ay(t,i){var l=[],u={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<l.length;f++)(0,l[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),u}var Uc=k.S;k.S=function(t,i){gd=mt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ly(t,i),Uc!==null&&Uc(t,i)};var $n=_(null);function Ts(){var t=$n.current;return t!==null?t:Ue.pooledCache}function Cl(t,i){i===null?P($n,$n.current):P($n,i.pool)}function Ic(){var t=Ts();return t===null?null:{parent:Fe._currentValue,pool:t}}var Ai=Error(a(460)),Cs=Error(a(474)),Sl=Error(a(542)),El={then:function(){}};function Lc(t){return t=t.status,t==="fulfilled"||t==="rejected"}function kc(t,i,l){switch(l=t[l],l===void 0?t.push(i):l!==i&&(i.then(Ft,Ft),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,qc(t),t;default:if(typeof i.status=="string")i.then(Ft,Ft);else{if(t=Ue,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,qc(t),t}throw Qn=i,Ai}}function Kn(t){try{var i=t._init;return i(t._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Qn=l,Ai):l}}var Qn=null;function Vc(){if(Qn===null)throw Error(a(459));var t=Qn;return Qn=null,t}function qc(t){if(t===Ai||t===Sl)throw Error(a(483))}var _i=null,yo=0;function xl(t){var i=yo;return yo+=1,_i===null&&(_i=[]),kc(_i,t,i)}function vo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Al(t,i){throw i.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Gc(t){function i(N,R){if(t){var D=N.deletions;D===null?(N.deletions=[R],N.flags|=16):D.push(R)}}function l(N,R){if(!t)return null;for(;R!==null;)i(N,R),R=R.sibling;return null}function u(N){for(var R=new Map;N!==null;)N.key!==null?R.set(N.key,N):R.set(N.index,N),N=N.sibling;return R}function f(N,R){return N=Yt(N,R),N.index=0,N.sibling=null,N}function m(N,R,D){return N.index=D,t?(D=N.alternate,D!==null?(D=D.index,D<R?(N.flags|=67108866,R):D):(N.flags|=67108866,R)):(N.flags|=1048576,R)}function T(N){return t&&N.alternate===null&&(N.flags|=67108866),N}function E(N,R,D,H){return R===null||R.tag!==6?(R=rs(D,N.mode,H),R.return=N,R):(R=f(R,D),R.return=N,R)}function A(N,R,D,H){var ie=D.type;return ie===q?G(N,R,D.props.children,H,D.key):R!==null&&(R.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Q&&Kn(ie)===R.type)?(R=f(R,D.props),vo(R,D),R.return=N,R):(R=gl(D.type,D.key,D.props,null,N.mode,H),vo(R,D),R.return=N,R)}function b(N,R,D,H){return R===null||R.tag!==4||R.stateNode.containerInfo!==D.containerInfo||R.stateNode.implementation!==D.implementation?(R=us(D,N.mode,H),R.return=N,R):(R=f(R,D.children||[]),R.return=N,R)}function G(N,R,D,H,ie){return R===null||R.tag!==7?(R=Fn(D,N.mode,H,ie),R.return=N,R):(R=f(R,D),R.return=N,R)}function z(N,R,D){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=rs(""+R,N.mode,D),R.return=N,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case M:return D=gl(R.type,R.key,R.props,null,N.mode,D),vo(D,R),D.return=N,D;case U:return R=us(R,N.mode,D),R.return=N,R;case Q:return R=Kn(R),z(N,R,D)}if($e(R)||fe(R))return R=Fn(R,N.mode,D,null),R.return=N,R;if(typeof R.then=="function")return z(N,xl(R),D);if(R.$$typeof===F)return z(N,Tl(N,R),D);Al(N,R)}return null}function w(N,R,D,H){var ie=R!==null?R.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return ie!==null?null:E(N,R,""+D,H);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case M:return D.key===ie?A(N,R,D,H):null;case U:return D.key===ie?b(N,R,D,H):null;case Q:return D=Kn(D),w(N,R,D,H)}if($e(D)||fe(D))return ie!==null?null:G(N,R,D,H,null);if(typeof D.then=="function")return w(N,R,xl(D),H);if(D.$$typeof===F)return w(N,R,Tl(N,D),H);Al(N,D)}return null}function I(N,R,D,H,ie){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return N=N.get(D)||null,E(R,N,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case M:return N=N.get(H.key===null?D:H.key)||null,A(R,N,H,ie);case U:return N=N.get(H.key===null?D:H.key)||null,b(R,N,H,ie);case Q:return H=Kn(H),I(N,R,D,H,ie)}if($e(H)||fe(H))return N=N.get(D)||null,G(R,N,H,ie,null);if(typeof H.then=="function")return I(N,R,D,xl(H),ie);if(H.$$typeof===F)return I(N,R,D,Tl(R,H),ie);Al(R,H)}return null}function j(N,R,D,H){for(var ie=null,Ce=null,te=R,pe=R=0,ve=null;te!==null&&pe<D.length;pe++){te.index>pe?(ve=te,te=null):ve=te.sibling;var Se=w(N,te,D[pe],H);if(Se===null){te===null&&(te=ve);break}t&&te&&Se.alternate===null&&i(N,te),R=m(Se,R,pe),Ce===null?ie=Se:Ce.sibling=Se,Ce=Se,te=ve}if(pe===D.length)return l(N,te),Te&&Ot(N,pe),ie;if(te===null){for(;pe<D.length;pe++)te=z(N,D[pe],H),te!==null&&(R=m(te,R,pe),Ce===null?ie=te:Ce.sibling=te,Ce=te);return Te&&Ot(N,pe),ie}for(te=u(te);pe<D.length;pe++)ve=I(te,N,pe,D[pe],H),ve!==null&&(t&&ve.alternate!==null&&te.delete(ve.key===null?pe:ve.key),R=m(ve,R,pe),Ce===null?ie=ve:Ce.sibling=ve,Ce=ve);return t&&te.forEach(function(In){return i(N,In)}),Te&&Ot(N,pe),ie}function ae(N,R,D,H){if(D==null)throw Error(a(151));for(var ie=null,Ce=null,te=R,pe=R=0,ve=null,Se=D.next();te!==null&&!Se.done;pe++,Se=D.next()){te.index>pe?(ve=te,te=null):ve=te.sibling;var In=w(N,te,Se.value,H);if(In===null){te===null&&(te=ve);break}t&&te&&In.alternate===null&&i(N,te),R=m(In,R,pe),Ce===null?ie=In:Ce.sibling=In,Ce=In,te=ve}if(Se.done)return l(N,te),Te&&Ot(N,pe),ie;if(te===null){for(;!Se.done;pe++,Se=D.next())Se=z(N,Se.value,H),Se!==null&&(R=m(Se,R,pe),Ce===null?ie=Se:Ce.sibling=Se,Ce=Se);return Te&&Ot(N,pe),ie}for(te=u(te);!Se.done;pe++,Se=D.next())Se=I(te,N,pe,Se.value,H),Se!==null&&(t&&Se.alternate!==null&&te.delete(Se.key===null?pe:Se.key),R=m(Se,R,pe),Ce===null?ie=Se:Ce.sibling=Se,Ce=Se);return t&&te.forEach(function(yv){return i(N,yv)}),Te&&Ot(N,pe),ie}function we(N,R,D,H){if(typeof D=="object"&&D!==null&&D.type===q&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case M:e:{for(var ie=D.key;R!==null;){if(R.key===ie){if(ie=D.type,ie===q){if(R.tag===7){l(N,R.sibling),H=f(R,D.props.children),H.return=N,N=H;break e}}else if(R.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Q&&Kn(ie)===R.type){l(N,R.sibling),H=f(R,D.props),vo(H,D),H.return=N,N=H;break e}l(N,R);break}else i(N,R);R=R.sibling}D.type===q?(H=Fn(D.props.children,N.mode,H,D.key),H.return=N,N=H):(H=gl(D.type,D.key,D.props,null,N.mode,H),vo(H,D),H.return=N,N=H)}return T(N);case U:e:{for(ie=D.key;R!==null;){if(R.key===ie)if(R.tag===4&&R.stateNode.containerInfo===D.containerInfo&&R.stateNode.implementation===D.implementation){l(N,R.sibling),H=f(R,D.children||[]),H.return=N,N=H;break e}else{l(N,R);break}else i(N,R);R=R.sibling}H=us(D,N.mode,H),H.return=N,N=H}return T(N);case Q:return D=Kn(D),we(N,R,D,H)}if($e(D))return j(N,R,D,H);if(fe(D)){if(ie=fe(D),typeof ie!="function")throw Error(a(150));return D=ie.call(D),ae(N,R,D,H)}if(typeof D.then=="function")return we(N,R,xl(D),H);if(D.$$typeof===F)return we(N,R,Tl(N,D),H);Al(N,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,R!==null&&R.tag===6?(l(N,R.sibling),H=f(R,D),H.return=N,N=H):(l(N,R),H=rs(D,N.mode,H),H.return=N,N=H),T(N)):l(N,R)}return function(N,R,D,H){try{yo=0;var ie=we(N,R,D,H);return _i=null,ie}catch(te){if(te===Ai||te===Sl)throw te;var Ce=yt(29,te,null,N.mode);return Ce.lanes=H,Ce.return=N,Ce}finally{}}}var Xn=Gc(!0),Hc=Gc(!1),gn=!1;function Ss(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Es(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function yn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function vn(t,i,l){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(xe&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=hl(t),Ec(t,null,l),i}return pl(t,u,i,l),hl(t)}function To(t,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,l|=u,i.lanes=l,bu(t,l)}}function xs(t,i){var l=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var f=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,l=l.next}while(l!==null);m===null?f=m=i:m=m.next=i}else f=m=i;l={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=i:t.next=i,l.lastBaseUpdate=i}var As=!1;function Co(){if(As){var t=xi;if(t!==null)throw t}}function So(t,i,l,u){As=!1;var f=t.updateQueue;gn=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var A=E,b=A.next;A.next=null,T===null?m=b:T.next=b,T=A;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==T&&(E===null?G.firstBaseUpdate=b:E.next=b,G.lastBaseUpdate=A))}if(m!==null){var z=f.baseState;T=0,G=b=A=null,E=m;do{var w=E.lane&-536870913,I=w!==E.lane;if(I?(ye&w)===w:(u&w)===w){w!==0&&w===Ei&&(As=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var j=t,ae=E;w=i;var we=l;switch(ae.tag){case 1:if(j=ae.payload,typeof j=="function"){z=j.call(we,z,w);break e}z=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=ae.payload,w=typeof j=="function"?j.call(we,z,w):j,w==null)break e;z=C({},z,w);break e;case 2:gn=!0}}w=E.callback,w!==null&&(t.flags|=64,I&&(t.flags|=8192),I=f.callbacks,I===null?f.callbacks=[w]:I.push(w))}else I={lane:w,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(b=G=I,A=z):G=G.next=I,T|=w;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;I=E,E=I.next,I.next=null,f.lastBaseUpdate=I,f.shared.pending=null}}while(!0);G===null&&(A=z),f.baseState=A,f.firstBaseUpdate=b,f.lastBaseUpdate=G,m===null&&(f.shared.lanes=0),xn|=T,t.lanes=T,t.memoizedState=z}}function Bc(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function zc(t,i){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)Bc(l[t],i)}var Mi=_(null),_l=_(0);function Pc(t,i){t=on,P(_l,t),P(Mi,i),on=t|i.baseLanes}function _s(){P(_l,on),P(Mi,Mi.current)}function Ms(){on=_l.current,L(Mi),L(_l)}var vt=_(null),bt=null;function Tn(t){var i=t.alternate;P(ze,ze.current&1),P(vt,t),bt===null&&(i===null||Mi.current!==null||i.memoizedState!==null)&&(bt=t)}function Rs(t){P(ze,ze.current),P(vt,t),bt===null&&(bt=t)}function Fc(t){t.tag===22?(P(ze,ze.current),P(vt,t),bt===null&&(bt=t)):Cn()}function Cn(){P(ze,ze.current),P(vt,vt.current)}function Tt(t){L(vt),bt===t&&(bt=null),L(ze)}var ze=_(0);function Ml(t){for(var i=t;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Ir(l)||Lr(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qt=0,de=null,De=null,Je=null,Rl=!1,Ri=!1,Zn=!1,Nl=0,Eo=0,Ni=null,sy=0;function He(){throw Error(a(321))}function Ns(t,i){if(i===null)return!1;for(var l=0;l<i.length&&l<t.length;l++)if(!gt(t[l],i[l]))return!1;return!0}function Ds(t,i,l,u,f,m){return Qt=m,de=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,k.H=t===null||t.memoizedState===null?Rf:Js,Zn=!1,m=l(u,f),Zn=!1,Ri&&(m=Yc(i,l,u,f)),Jc(t),m}function Jc(t){k.H=_o;var i=De!==null&&De.next!==null;if(Qt=0,Je=De=de=null,Rl=!1,Eo=0,Ni=null,i)throw Error(a(300));t===null||Ye||(t=t.dependencies,t!==null&&vl(t)&&(Ye=!0))}function Yc(t,i,l,u){de=t;var f=0;do{if(Ri&&(Ni=null),Eo=0,Ri=!1,25<=f)throw Error(a(301));if(f+=1,Je=De=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}k.H=Nf,m=i(l,u)}while(Ri);return m}function ry(){var t=k.H,i=t.useState()[0];return i=typeof i.then=="function"?xo(i):i,t=t.useState()[0],(De!==null?De.memoizedState:null)!==t&&(de.flags|=1024),i}function bs(){var t=Nl!==0;return Nl=0,t}function ws(t,i,l){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~l}function Us(t){if(Rl){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Rl=!1}Qt=0,Je=De=de=null,Ri=!1,Eo=Nl=0,Ni=null}function lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?de.memoizedState=Je=t:Je=Je.next=t,Je}function Pe(){if(De===null){var t=de.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var i=Je===null?de.memoizedState:Je.next;if(i!==null)Je=i,De=t;else{if(t===null)throw de.alternate===null?Error(a(467)):Error(a(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Je===null?de.memoizedState=Je=t:Je=Je.next=t}return Je}function Dl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xo(t){var i=Eo;return Eo+=1,Ni===null&&(Ni=[]),t=kc(Ni,t,i),i=de,(Je===null?i.memoizedState:Je.next)===null&&(i=i.alternate,k.H=i===null||i.memoizedState===null?Rf:Js),t}function bl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return xo(t);if(t.$$typeof===F)return je(t)}throw Error(a(438,String(t)))}function Is(t){var i=null,l=de.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=de.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Dl(),de.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(t),u=0;u<t;u++)l[u]=ne;return i.index++,l}function Xt(t,i){return typeof i=="function"?i(t):i}function wl(t){var i=Pe();return Ls(i,De,t)}function Ls(t,i,l){var u=t.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=l;var f=t.baseQueue,m=u.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}i.baseQueue=f=m,u.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{i=f.next;var E=T=null,A=null,b=i,G=!1;do{var z=b.lane&-536870913;if(z!==b.lane?(ye&z)===z:(Qt&z)===z){var w=b.revertLane;if(w===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),z===Ei&&(G=!0);else if((Qt&w)===w){b=b.next,w===Ei&&(G=!0);continue}else z={lane:0,revertLane:b.revertLane,gesture:null,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},A===null?(E=A=z,T=m):A=A.next=z,de.lanes|=w,xn|=w;z=b.action,Zn&&l(m,z),m=b.hasEagerState?b.eagerState:l(m,z)}else w={lane:z,revertLane:b.revertLane,gesture:b.gesture,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},A===null?(E=A=w,T=m):A=A.next=w,de.lanes|=z,xn|=z;b=b.next}while(b!==null&&b!==i);if(A===null?T=m:A.next=E,!gt(m,t.memoizedState)&&(Ye=!0,G&&(l=xi,l!==null)))throw l;t.memoizedState=m,t.baseState=T,t.baseQueue=A,u.lastRenderedState=m}return f===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function ks(t){var i=Pe(),l=i.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=t;var u=l.dispatch,f=l.pending,m=i.memoizedState;if(f!==null){l.pending=null;var T=f=f.next;do m=t(m,T.action),T=T.next;while(T!==f);gt(m,i.memoizedState)||(Ye=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),l.lastRenderedState=m}return[m,u]}function Oc(t,i,l){var u=de,f=Pe(),m=Te;if(m){if(l===void 0)throw Error(a(407));l=l()}else l=i();var T=!gt((De||f).memoizedState,l);if(T&&(f.memoizedState=l,Ye=!0),f=f.queue,Gs(Qc.bind(null,u,f,t),[t]),f.getSnapshot!==i||T||Je!==null&&Je.memoizedState.tag&1){if(u.flags|=2048,Di(9,{destroy:void 0},Kc.bind(null,u,f,l,i),null),Ue===null)throw Error(a(349));m||(Qt&127)!==0||$c(u,i,l)}return l}function $c(t,i,l){t.flags|=16384,t={getSnapshot:i,value:l},i=de.updateQueue,i===null?(i=Dl(),de.updateQueue=i,i.stores=[t]):(l=i.stores,l===null?i.stores=[t]:l.push(t))}function Kc(t,i,l,u){i.value=l,i.getSnapshot=u,Xc(i)&&Zc(t)}function Qc(t,i,l){return l(function(){Xc(i)&&Zc(t)})}function Xc(t){var i=t.getSnapshot;t=t.value;try{var l=i();return!gt(t,l)}catch{return!0}}function Zc(t){var i=Pn(t,2);i!==null&&dt(i,t,2)}function Vs(t){var i=lt();if(typeof t=="function"){var l=t;if(t=l(),Zn){un(!0);try{l()}finally{un(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xt,lastRenderedState:t},i}function Wc(t,i,l,u){return t.baseState=l,Ls(t,De,typeof u=="function"?u:Xt)}function uy(t,i,l,u,f){if(Ll(t))throw Error(a(485));if(t=i.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};k.T!==null?l(!0):m.isTransition=!1,u(m),l=i.pending,l===null?(m.next=i.pending=m,jc(i,m)):(m.next=l.next,i.pending=l.next=m)}}function jc(t,i){var l=i.action,u=i.payload,f=t.state;if(i.isTransition){var m=k.T,T={};k.T=T;try{var E=l(f,u),A=k.S;A!==null&&A(T,E),ef(t,i,E)}catch(b){qs(t,i,b)}finally{m!==null&&T.types!==null&&(m.types=T.types),k.T=m}}else try{m=l(f,u),ef(t,i,m)}catch(b){qs(t,i,b)}}function ef(t,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){tf(t,i,u)},function(u){return qs(t,i,u)}):tf(t,i,l)}function tf(t,i,l){i.status="fulfilled",i.value=l,nf(i),t.state=l,i=t.pending,i!==null&&(l=i.next,l===i?t.pending=null:(l=l.next,i.next=l,jc(t,l)))}function qs(t,i,l){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,nf(i),i=i.next;while(i!==u)}t.action=null}function nf(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function of(t,i){return i}function lf(t,i){if(Te){var l=Ue.formState;if(l!==null){e:{var u=de;if(Te){if(Ie){t:{for(var f=Ie,m=Dt;f.nodeType!==8;){if(!m){f=null;break t}if(f=wt(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Ie=wt(f.nextSibling),u=f.data==="F!";break e}}pn(u)}u=!1}u&&(i=l[0])}}return l=lt(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:of,lastRenderedState:i},l.queue=u,l=Af.bind(null,de,u),u.dispatch=l,u=Vs(!1),m=Fs.bind(null,de,!1,u.queue),u=lt(),f={state:i,dispatch:null,action:t,pending:null},u.queue=f,l=uy.bind(null,de,f,m,l),f.dispatch=l,u.memoizedState=t,[i,l,!1]}function af(t){var i=Pe();return sf(i,De,t)}function sf(t,i,l){if(i=Ls(t,i,of)[0],t=wl(Xt)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=xo(i)}catch(T){throw T===Ai?Sl:T}else u=i;i=Pe();var f=i.queue,m=f.dispatch;return l!==i.memoizedState&&(de.flags|=2048,Di(9,{destroy:void 0},cy.bind(null,f,l),null)),[u,m,t]}function cy(t,i){t.action=i}function rf(t){var i=Pe(),l=De;if(l!==null)return sf(i,l,t);Pe(),i=i.memoizedState,l=Pe();var u=l.queue.dispatch;return l.memoizedState=t,[i,u,!1]}function Di(t,i,l,u){return t={tag:t,create:l,deps:u,inst:i,next:null},i=de.updateQueue,i===null&&(i=Dl(),de.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=t.next=t:(u=l.next,l.next=t,t.next=u,i.lastEffect=t),t}function uf(){return Pe().memoizedState}function Ul(t,i,l,u){var f=lt();de.flags|=t,f.memoizedState=Di(1|i,{destroy:void 0},l,u===void 0?null:u)}function Il(t,i,l,u){var f=Pe();u=u===void 0?null:u;var m=f.memoizedState.inst;De!==null&&u!==null&&Ns(u,De.memoizedState.deps)?f.memoizedState=Di(i,m,l,u):(de.flags|=t,f.memoizedState=Di(1|i,m,l,u))}function cf(t,i){Ul(8390656,8,t,i)}function Gs(t,i){Il(2048,8,t,i)}function fy(t){de.flags|=4;var i=de.updateQueue;if(i===null)i=Dl(),de.updateQueue=i,i.events=[t];else{var l=i.events;l===null?i.events=[t]:l.push(t)}}function ff(t){var i=Pe().memoizedState;return fy({ref:i,nextImpl:t}),function(){if((xe&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function df(t,i){return Il(4,2,t,i)}function mf(t,i){return Il(4,4,t,i)}function pf(t,i){if(typeof i=="function"){t=t();var l=i(t);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function hf(t,i,l){l=l!=null?l.concat([t]):null,Il(4,4,pf.bind(null,i,t),l)}function Hs(){}function gf(t,i){var l=Pe();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&Ns(i,u[1])?u[0]:(l.memoizedState=[t,i],t)}function yf(t,i){var l=Pe();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&Ns(i,u[1]))return u[0];if(u=t(),Zn){un(!0);try{t()}finally{un(!1)}}return l.memoizedState=[u,i],u}function Bs(t,i,l){return l===void 0||(Qt&1073741824)!==0&&(ye&261930)===0?t.memoizedState=i:(t.memoizedState=l,t=vd(),de.lanes|=t,xn|=t,l)}function vf(t,i,l,u){return gt(l,i)?l:Mi.current!==null?(t=Bs(t,l,u),gt(t,i)||(Ye=!0),t):(Qt&42)===0||(Qt&1073741824)!==0&&(ye&261930)===0?(Ye=!0,t.memoizedState=l):(t=vd(),de.lanes|=t,xn|=t,i)}function Tf(t,i,l,u,f){var m=X.p;X.p=m!==0&&8>m?m:8;var T=k.T,E={};k.T=E,Fs(t,!1,i,l);try{var A=f(),b=k.S;if(b!==null&&b(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var G=ay(A,u);Ao(t,i,G,Et(t))}else Ao(t,i,u,Et(t))}catch(z){Ao(t,i,{then:function(){},status:"rejected",reason:z},Et())}finally{X.p=m,T!==null&&E.types!==null&&(T.types=E.types),k.T=T}}function dy(){}function zs(t,i,l,u){if(t.tag!==5)throw Error(a(476));var f=Cf(t).queue;Tf(t,f,i,se,l===null?dy:function(){return Sf(t),l(u)})}function Cf(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xt,lastRenderedState:se},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xt,lastRenderedState:l},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Sf(t){var i=Cf(t);i.next===null&&(i=t.alternate.memoizedState),Ao(t,i.next.queue,{},Et())}function Ps(){return je(zo)}function Ef(){return Pe().memoizedState}function xf(){return Pe().memoizedState}function my(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var l=Et();t=yn(l);var u=vn(i,t,l);u!==null&&(dt(u,i,l),To(u,i,l)),i={cache:ys()},t.payload=i;return}i=i.return}}function py(t,i,l){var u=Et();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ll(t)?_f(i,l):(l=as(t,i,l,u),l!==null&&(dt(l,t,u),Mf(l,i,u)))}function Af(t,i,l){var u=Et();Ao(t,i,l,u)}function Ao(t,i,l,u){var f={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ll(t))_f(i,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var T=i.lastRenderedState,E=m(T,l);if(f.hasEagerState=!0,f.eagerState=E,gt(E,T))return pl(t,i,f,0),Ue===null&&ml(),!1}catch{}finally{}if(l=as(t,i,f,u),l!==null)return dt(l,t,u),Mf(l,i,u),!0}return!1}function Fs(t,i,l,u){if(u={lane:2,revertLane:Sr(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ll(t)){if(i)throw Error(a(479))}else i=as(t,l,u,2),i!==null&&dt(i,t,2)}function Ll(t){var i=t.alternate;return t===de||i!==null&&i===de}function _f(t,i){Ri=Rl=!0;var l=t.pending;l===null?i.next=i:(i.next=l.next,l.next=i),t.pending=i}function Mf(t,i,l){if((l&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,l|=u,i.lanes=l,bu(t,l)}}var _o={readContext:je,use:bl,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He};_o.useEffectEvent=He;var Rf={readContext:je,use:bl,useCallback:function(t,i){return lt().memoizedState=[t,i===void 0?null:i],t},useContext:je,useEffect:cf,useImperativeHandle:function(t,i,l){l=l!=null?l.concat([t]):null,Ul(4194308,4,pf.bind(null,i,t),l)},useLayoutEffect:function(t,i){return Ul(4194308,4,t,i)},useInsertionEffect:function(t,i){Ul(4,2,t,i)},useMemo:function(t,i){var l=lt();i=i===void 0?null:i;var u=t();if(Zn){un(!0);try{t()}finally{un(!1)}}return l.memoizedState=[u,i],u},useReducer:function(t,i,l){var u=lt();if(l!==void 0){var f=l(i);if(Zn){un(!0);try{l(i)}finally{un(!1)}}}else f=i;return u.memoizedState=u.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},u.queue=t,t=t.dispatch=py.bind(null,de,t),[u.memoizedState,t]},useRef:function(t){var i=lt();return t={current:t},i.memoizedState=t},useState:function(t){t=Vs(t);var i=t.queue,l=Af.bind(null,de,i);return i.dispatch=l,[t.memoizedState,l]},useDebugValue:Hs,useDeferredValue:function(t,i){var l=lt();return Bs(l,t,i)},useTransition:function(){var t=Vs(!1);return t=Tf.bind(null,de,t.queue,!0,!1),lt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,l){var u=de,f=lt();if(Te){if(l===void 0)throw Error(a(407));l=l()}else{if(l=i(),Ue===null)throw Error(a(349));(ye&127)!==0||$c(u,i,l)}f.memoizedState=l;var m={value:l,getSnapshot:i};return f.queue=m,cf(Qc.bind(null,u,m,t),[t]),u.flags|=2048,Di(9,{destroy:void 0},Kc.bind(null,u,m,l,i),null),l},useId:function(){var t=lt(),i=Ue.identifierPrefix;if(Te){var l=Ht,u=Gt;l=(u&~(1<<32-ht(u)-1)).toString(32)+l,i="_"+i+"R_"+l,l=Nl++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=sy++,i="_"+i+"r_"+l.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Ps,useFormState:lf,useActionState:lf,useOptimistic:function(t){var i=lt();i.memoizedState=i.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Fs.bind(null,de,!0,l),l.dispatch=i,[t,i]},useMemoCache:Is,useCacheRefresh:function(){return lt().memoizedState=my.bind(null,de)},useEffectEvent:function(t){var i=lt(),l={impl:t};return i.memoizedState=l,function(){if((xe&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},Js={readContext:je,use:bl,useCallback:gf,useContext:je,useEffect:Gs,useImperativeHandle:hf,useInsertionEffect:df,useLayoutEffect:mf,useMemo:yf,useReducer:wl,useRef:uf,useState:function(){return wl(Xt)},useDebugValue:Hs,useDeferredValue:function(t,i){var l=Pe();return vf(l,De.memoizedState,t,i)},useTransition:function(){var t=wl(Xt)[0],i=Pe().memoizedState;return[typeof t=="boolean"?t:xo(t),i]},useSyncExternalStore:Oc,useId:Ef,useHostTransitionStatus:Ps,useFormState:af,useActionState:af,useOptimistic:function(t,i){var l=Pe();return Wc(l,De,t,i)},useMemoCache:Is,useCacheRefresh:xf};Js.useEffectEvent=ff;var Nf={readContext:je,use:bl,useCallback:gf,useContext:je,useEffect:Gs,useImperativeHandle:hf,useInsertionEffect:df,useLayoutEffect:mf,useMemo:yf,useReducer:ks,useRef:uf,useState:function(){return ks(Xt)},useDebugValue:Hs,useDeferredValue:function(t,i){var l=Pe();return De===null?Bs(l,t,i):vf(l,De.memoizedState,t,i)},useTransition:function(){var t=ks(Xt)[0],i=Pe().memoizedState;return[typeof t=="boolean"?t:xo(t),i]},useSyncExternalStore:Oc,useId:Ef,useHostTransitionStatus:Ps,useFormState:rf,useActionState:rf,useOptimistic:function(t,i){var l=Pe();return De!==null?Wc(l,De,t,i):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:Is,useCacheRefresh:xf};Nf.useEffectEvent=ff;function Ys(t,i,l,u){i=t.memoizedState,l=l(u,i),l=l==null?i:C({},i,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Os={enqueueSetState:function(t,i,l){t=t._reactInternals;var u=Et(),f=yn(u);f.payload=i,l!=null&&(f.callback=l),i=vn(t,f,u),i!==null&&(dt(i,t,u),To(i,t,u))},enqueueReplaceState:function(t,i,l){t=t._reactInternals;var u=Et(),f=yn(u);f.tag=1,f.payload=i,l!=null&&(f.callback=l),i=vn(t,f,u),i!==null&&(dt(i,t,u),To(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var l=Et(),u=yn(l);u.tag=2,i!=null&&(u.callback=i),i=vn(t,u,l),i!==null&&(dt(i,t,l),To(i,t,l))}};function Df(t,i,l,u,f,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,m,T):i.prototype&&i.prototype.isPureReactComponent?!co(l,u)||!co(f,m):!0}function bf(t,i,l,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==t&&Os.enqueueReplaceState(i,i.state,null)}function Wn(t,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(t=t.defaultProps){l===i&&(l=C({},l));for(var f in t)l[f]===void 0&&(l[f]=t[f])}return l}function wf(t){dl(t)}function Uf(t){console.error(t)}function If(t){dl(t)}function kl(t,i){try{var l=t.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Lf(t,i,l){try{var u=t.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function $s(t,i,l){return l=yn(l),l.tag=3,l.payload={element:null},l.callback=function(){kl(t,i)},l}function kf(t){return t=yn(t),t.tag=3,t}function Vf(t,i,l,u){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;t.payload=function(){return f(m)},t.callback=function(){Lf(i,l,u)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){Lf(i,l,u),typeof f!="function"&&(An===null?An=new Set([this]):An.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function hy(t,i,l,u,f){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&Si(i,l,f,!0),l=vt.current,l!==null){switch(l.tag){case 31:case 13:return bt===null?$l():l.alternate===null&&Be===0&&(Be=3),l.flags&=-257,l.flags|=65536,l.lanes=f,u===El?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),vr(t,u,f)),!1;case 22:return l.flags|=65536,u===El?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),vr(t,u,f)),!1}throw Error(a(435,l.tag))}return vr(t,u,f),$l(),!1}if(Te)return i=vt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==ds&&(t=Error(a(422),{cause:u}),po(Mt(t,l)))):(u!==ds&&(i=Error(a(423),{cause:u}),po(Mt(i,l))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,u=Mt(u,l),f=$s(t.stateNode,u,f),xs(t,f),Be!==4&&(Be=2)),!1;var m=Error(a(520),{cause:u});if(m=Mt(m,l),Io===null?Io=[m]:Io.push(m),Be!==4&&(Be=2),i===null)return!0;u=Mt(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,t=f&-f,l.lanes|=t,t=$s(l.stateNode,u,t),xs(l,t),!1;case 1:if(i=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(An===null||!An.has(m))))return l.flags|=65536,f&=-f,l.lanes|=f,f=kf(f),Vf(f,t,l,u),xs(l,f),!1}l=l.return}while(l!==null);return!1}var Ks=Error(a(461)),Ye=!1;function et(t,i,l,u){i.child=t===null?Hc(i,null,l,u):Xn(i,t.child,l,u)}function qf(t,i,l,u,f){l=l.render;var m=i.ref;if("ref"in u){var T={};for(var E in u)E!=="ref"&&(T[E]=u[E])}else T=u;return On(i),u=Ds(t,i,l,T,m,f),E=bs(),t!==null&&!Ye?(ws(t,i,f),Zt(t,i,f)):(Te&&E&&cs(i),i.flags|=1,et(t,i,u,f),i.child)}function Gf(t,i,l,u,f){if(t===null){var m=l.type;return typeof m=="function"&&!ss(m)&&m.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=m,Hf(t,i,m,u,f)):(t=gl(l.type,null,u,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!nr(t,f)){var T=m.memoizedProps;if(l=l.compare,l=l!==null?l:co,l(T,u)&&t.ref===i.ref)return Zt(t,i,f)}return i.flags|=1,t=Yt(m,u),t.ref=i.ref,t.return=i,i.child=t}function Hf(t,i,l,u,f){if(t!==null){var m=t.memoizedProps;if(co(m,u)&&t.ref===i.ref)if(Ye=!1,i.pendingProps=u=m,nr(t,f))(t.flags&131072)!==0&&(Ye=!0);else return i.lanes=t.lanes,Zt(t,i,f)}return Qs(t,i,l,u,f)}function Bf(t,i,l,u){var f=u.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,t!==null){for(u=i.child=t.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,i.child=null;return zf(t,i,m,l,u)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cl(i,m!==null?m.cachePool:null),m!==null?Pc(i,m):_s(),Fc(i);else return u=i.lanes=536870912,zf(t,i,m!==null?m.baseLanes|l:l,l,u)}else m!==null?(Cl(i,m.cachePool),Pc(i,m),Cn(),i.memoizedState=null):(t!==null&&Cl(i,null),_s(),Cn());return et(t,i,f,l),i.child}function Mo(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function zf(t,i,l,u,f){var m=Ts();return m=m===null?null:{parent:Fe._currentValue,pool:m},i.memoizedState={baseLanes:l,cachePool:m},t!==null&&Cl(i,null),_s(),Fc(i),t!==null&&Si(t,i,u,!0),i.childLanes=f,null}function Vl(t,i){return i=Gl({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Pf(t,i,l){return Xn(i,t.child,null,l),t=Vl(i,i.pendingProps),t.flags|=2,Tt(i),i.memoizedState=null,t}function gy(t,i,l){var u=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Te){if(u.mode==="hidden")return t=Vl(i,u),i.lanes=536870912,Mo(null,t);if(Rs(i),(t=Ie)?(t=em(t,Dt),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:dn!==null?{id:Gt,overflow:Ht}:null,retryLane:536870912,hydrationErrors:null},l=Ac(t),l.return=i,i.child=l,We=i,Ie=null)):t=null,t===null)throw pn(i);return i.lanes=536870912,null}return Vl(i,u)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if(Rs(i),f)if(i.flags&256)i.flags&=-257,i=Pf(t,i,l);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(Ye||Si(t,i,l,!1),f=(l&t.childLanes)!==0,Ye||f){if(u=Ue,u!==null&&(T=wu(u,l),T!==0&&T!==m.retryLane))throw m.retryLane=T,Pn(t,T),dt(u,t,T),Ks;$l(),i=Pf(t,i,l)}else t=m.treeContext,Ie=wt(T.nextSibling),We=i,Te=!0,mn=null,Dt=!1,t!==null&&Rc(i,t),i=Vl(i,u),i.flags|=4096;return i}return t=Yt(t.child,{mode:u.mode,children:u.children}),t.ref=i.ref,i.child=t,t.return=i,t}function ql(t,i){var l=i.ref;if(l===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(t===null||t.ref!==l)&&(i.flags|=4194816)}}function Qs(t,i,l,u,f){return On(i),l=Ds(t,i,l,u,void 0,f),u=bs(),t!==null&&!Ye?(ws(t,i,f),Zt(t,i,f)):(Te&&u&&cs(i),i.flags|=1,et(t,i,l,f),i.child)}function Ff(t,i,l,u,f,m){return On(i),i.updateQueue=null,l=Yc(i,u,l,f),Jc(t),u=bs(),t!==null&&!Ye?(ws(t,i,m),Zt(t,i,m)):(Te&&u&&cs(i),i.flags|=1,et(t,i,l,m),i.child)}function Jf(t,i,l,u,f){if(On(i),i.stateNode===null){var m=yi,T=l.contextType;typeof T=="object"&&T!==null&&(m=je(T)),m=new l(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Os,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},Ss(i),T=l.contextType,m.context=typeof T=="object"&&T!==null?je(T):yi,m.state=i.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Ys(i,l,T,u),m.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Os.enqueueReplaceState(m,m.state,null),So(i,u,m,f),Co(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){m=i.stateNode;var E=i.memoizedProps,A=Wn(l,E);m.props=A;var b=m.context,G=l.contextType;T=yi,typeof G=="object"&&G!==null&&(T=je(G));var z=l.getDerivedStateFromProps;G=typeof z=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||b!==T)&&bf(i,m,u,T),gn=!1;var w=i.memoizedState;m.state=w,So(i,u,m,f),Co(),b=i.memoizedState,E||w!==b||gn?(typeof z=="function"&&(Ys(i,l,z,u),b=i.memoizedState),(A=gn||Df(i,l,A,u,w,b,T))?(G||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=b),m.props=u,m.state=b,m.context=T,u=A):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,Es(t,i),T=i.memoizedProps,G=Wn(l,T),m.props=G,z=i.pendingProps,w=m.context,b=l.contextType,A=yi,typeof b=="object"&&b!==null&&(A=je(b)),E=l.getDerivedStateFromProps,(b=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==z||w!==A)&&bf(i,m,u,A),gn=!1,w=i.memoizedState,m.state=w,So(i,u,m,f),Co();var I=i.memoizedState;T!==z||w!==I||gn||t!==null&&t.dependencies!==null&&vl(t.dependencies)?(typeof E=="function"&&(Ys(i,l,E,u),I=i.memoizedState),(G=gn||Df(i,l,G,u,w,I,A)||t!==null&&t.dependencies!==null&&vl(t.dependencies))?(b||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,I,A),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,I,A)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&w===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&w===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=I),m.props=u,m.state=I,m.context=A,u=G):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&w===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&w===t.memoizedState||(i.flags|=1024),u=!1)}return m=u,ql(t,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&u?(i.child=Xn(i,t.child,null,f),i.child=Xn(i,null,l,f)):et(t,i,l,f),i.memoizedState=m.state,t=i.child):t=Zt(t,i,f),t}function Yf(t,i,l,u){return Jn(),i.flags|=256,et(t,i,l,u),i.child}var Xs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zs(t){return{baseLanes:t,cachePool:Ic()}}function Ws(t,i,l){return t=t!==null?t.childLanes&~l:0,i&&(t|=St),t}function Of(t,i,l){var u=i.pendingProps,f=!1,m=(i.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(ze.current&2)!==0),T&&(f=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(Te){if(f?Tn(i):Cn(),(t=Ie)?(t=em(t,Dt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:dn!==null?{id:Gt,overflow:Ht}:null,retryLane:536870912,hydrationErrors:null},l=Ac(t),l.return=i,i.child=l,We=i,Ie=null)):t=null,t===null)throw pn(i);return Lr(t)?i.lanes=32:i.lanes=536870912,null}var E=u.children;return u=u.fallback,f?(Cn(),f=i.mode,E=Gl({mode:"hidden",children:E},f),u=Fn(u,f,l,null),E.return=i,u.return=i,E.sibling=u,i.child=E,u=i.child,u.memoizedState=Zs(l),u.childLanes=Ws(t,T,l),i.memoizedState=Xs,Mo(null,u)):(Tn(i),js(i,E))}var A=t.memoizedState;if(A!==null&&(E=A.dehydrated,E!==null)){if(m)i.flags&256?(Tn(i),i.flags&=-257,i=er(t,i,l)):i.memoizedState!==null?(Cn(),i.child=t.child,i.flags|=128,i=null):(Cn(),E=u.fallback,f=i.mode,u=Gl({mode:"visible",children:u.children},f),E=Fn(E,f,l,null),E.flags|=2,u.return=i,E.return=i,u.sibling=E,i.child=u,Xn(i,t.child,null,l),u=i.child,u.memoizedState=Zs(l),u.childLanes=Ws(t,T,l),i.memoizedState=Xs,i=Mo(null,u));else if(Tn(i),Lr(E)){if(T=E.nextSibling&&E.nextSibling.dataset,T)var b=T.dgst;T=b,u=Error(a(419)),u.stack="",u.digest=T,po({value:u,source:null,stack:null}),i=er(t,i,l)}else if(Ye||Si(t,i,l,!1),T=(l&t.childLanes)!==0,Ye||T){if(T=Ue,T!==null&&(u=wu(T,l),u!==0&&u!==A.retryLane))throw A.retryLane=u,Pn(t,u),dt(T,t,u),Ks;Ir(E)||$l(),i=er(t,i,l)}else Ir(E)?(i.flags|=192,i.child=t.child,i=null):(t=A.treeContext,Ie=wt(E.nextSibling),We=i,Te=!0,mn=null,Dt=!1,t!==null&&Rc(i,t),i=js(i,u.children),i.flags|=4096);return i}return f?(Cn(),E=u.fallback,f=i.mode,A=t.child,b=A.sibling,u=Yt(A,{mode:"hidden",children:u.children}),u.subtreeFlags=A.subtreeFlags&65011712,b!==null?E=Yt(b,E):(E=Fn(E,f,l,null),E.flags|=2),E.return=i,u.return=i,u.sibling=E,i.child=u,Mo(null,u),u=i.child,E=t.child.memoizedState,E===null?E=Zs(l):(f=E.cachePool,f!==null?(A=Fe._currentValue,f=f.parent!==A?{parent:A,pool:A}:f):f=Ic(),E={baseLanes:E.baseLanes|l,cachePool:f}),u.memoizedState=E,u.childLanes=Ws(t,T,l),i.memoizedState=Xs,Mo(t.child,u)):(Tn(i),l=t.child,t=l.sibling,l=Yt(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=l,i.memoizedState=null,l)}function js(t,i){return i=Gl({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Gl(t,i){return t=yt(22,t,null,i),t.lanes=0,t}function er(t,i,l){return Xn(i,t.child,null,l),t=js(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function $f(t,i,l){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),hs(t.return,i,l)}function tr(t,i,l,u,f,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:f,treeForkCount:m}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=l,T.tailMode=f,T.treeForkCount=m)}function Kf(t,i,l){var u=i.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var T=ze.current,E=(T&2)!==0;if(E?(T=T&1|2,i.flags|=128):T&=1,P(ze,T),et(t,i,u,l),u=Te?mo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$f(t,l,i);else if(t.tag===19)$f(t,l,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(l=i.child,f=null;l!==null;)t=l.alternate,t!==null&&Ml(t)===null&&(f=l),l=l.sibling;l=f,l===null?(f=i.child,i.child=null):(f=l.sibling,l.sibling=null),tr(i,!1,f,l,m,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Ml(t)===null){i.child=f;break}t=f.sibling,f.sibling=l,l=f,f=t}tr(i,!0,l,null,m,u);break;case"together":tr(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Zt(t,i,l){if(t!==null&&(i.dependencies=t.dependencies),xn|=i.lanes,(l&i.childLanes)===0)if(t!==null){if(Si(t,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,l=Yt(t,t.pendingProps),i.child=l,l.return=i;t.sibling!==null;)t=t.sibling,l=l.sibling=Yt(t,t.pendingProps),l.return=i;l.sibling=null}return i.child}function nr(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&vl(t)))}function yy(t,i,l){switch(i.tag){case 3:Ge(i,i.stateNode.containerInfo),hn(i,Fe,t.memoizedState.cache),Jn();break;case 27:case 5:Zi(i);break;case 4:Ge(i,i.stateNode.containerInfo);break;case 10:hn(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Rs(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Tn(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Of(t,i,l):(Tn(i),t=Zt(t,i,l),t!==null?t.sibling:null);Tn(i);break;case 19:var f=(t.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(Si(t,i,l,!1),u=(l&i.childLanes)!==0),f){if(u)return Kf(t,i,l);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),P(ze,ze.current),u)break;return null;case 22:return i.lanes=0,Bf(t,i,l,i.pendingProps);case 24:hn(i,Fe,t.memoizedState.cache)}return Zt(t,i,l)}function Qf(t,i,l){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ye=!0;else{if(!nr(t,l)&&(i.flags&128)===0)return Ye=!1,yy(t,i,l);Ye=(t.flags&131072)!==0}else Ye=!1,Te&&(i.flags&1048576)!==0&&Mc(i,mo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(t=Kn(i.elementType),i.type=t,typeof t=="function")ss(t)?(u=Wn(t,u),i.tag=1,i=Jf(null,i,t,u,l)):(i.tag=0,i=Qs(null,i,t,u,l));else{if(t!=null){var f=t.$$typeof;if(f===K){i.tag=11,i=qf(null,i,t,u,l);break e}else if(f===O){i.tag=14,i=Gf(null,i,t,u,l);break e}}throw i=ot(t)||t,Error(a(306,i,""))}}return i;case 0:return Qs(t,i,i.type,i.pendingProps,l);case 1:return u=i.type,f=Wn(u,i.pendingProps),Jf(t,i,u,f,l);case 3:e:{if(Ge(i,i.stateNode.containerInfo),t===null)throw Error(a(387));u=i.pendingProps;var m=i.memoizedState;f=m.element,Es(t,i),So(i,u,null,l);var T=i.memoizedState;if(u=T.cache,hn(i,Fe,u),u!==m.cache&&gs(i,[Fe],l,!0),Co(),u=T.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=Yf(t,i,u,l);break e}else if(u!==f){f=Mt(Error(a(424)),i),po(f),i=Yf(t,i,u,l);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ie=wt(t.firstChild),We=i,Te=!0,mn=null,Dt=!0,l=Hc(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Jn(),u===f){i=Zt(t,i,l);break e}et(t,i,u,l)}i=i.child}return i;case 26:return ql(t,i),t===null?(l=am(i.type,null,i.pendingProps,null))?i.memoizedState=l:Te||(l=i.type,t=i.pendingProps,u=ea(re.current).createElement(l),u[Ze]=i,u[at]=t,tt(u,l,t),Qe(u),i.stateNode=u):i.memoizedState=am(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Zi(i),t===null&&Te&&(u=i.stateNode=im(i.type,i.pendingProps,re.current),We=i,Dt=!0,f=Ie,Nn(i.type)?(kr=f,Ie=wt(u.firstChild)):Ie=f),et(t,i,i.pendingProps.children,l),ql(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Te&&((f=u=Ie)&&(u=$y(u,i.type,i.pendingProps,Dt),u!==null?(i.stateNode=u,We=i,Ie=wt(u.firstChild),Dt=!1,f=!0):f=!1),f||pn(i)),Zi(i),f=i.type,m=i.pendingProps,T=t!==null?t.memoizedProps:null,u=m.children,br(f,m)?u=null:T!==null&&br(f,T)&&(i.flags|=32),i.memoizedState!==null&&(f=Ds(t,i,ry,null,null,l),zo._currentValue=f),ql(t,i),et(t,i,u,l),i.child;case 6:return t===null&&Te&&((t=l=Ie)&&(l=Ky(l,i.pendingProps,Dt),l!==null?(i.stateNode=l,We=i,Ie=null,t=!0):t=!1),t||pn(i)),null;case 13:return Of(t,i,l);case 4:return Ge(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Xn(i,null,u,l):et(t,i,u,l),i.child;case 11:return qf(t,i,i.type,i.pendingProps,l);case 7:return et(t,i,i.pendingProps,l),i.child;case 8:return et(t,i,i.pendingProps.children,l),i.child;case 12:return et(t,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,hn(i,i.type,u.value),et(t,i,u.children,l),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,On(i),f=je(f),u=u(f),i.flags|=1,et(t,i,u,l),i.child;case 14:return Gf(t,i,i.type,i.pendingProps,l);case 15:return Hf(t,i,i.type,i.pendingProps,l);case 19:return Kf(t,i,l);case 31:return gy(t,i,l);case 22:return Bf(t,i,l,i.pendingProps);case 24:return On(i),u=je(Fe),t===null?(f=Ts(),f===null&&(f=Ue,m=ys(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=l),f=m),i.memoizedState={parent:u,cache:f},Ss(i),hn(i,Fe,f)):((t.lanes&l)!==0&&(Es(t,i),So(i,null,null,l),Co()),f=t.memoizedState,m=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),hn(i,Fe,u)):(u=m.cache,hn(i,Fe,u),u!==f.cache&&gs(i,[Fe],l,!0))),et(t,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Wt(t){t.flags|=4}function ir(t,i,l,u,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Ed())t.flags|=8192;else throw Qn=El,Cs}else t.flags&=-16777217}function Xf(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!fm(i))if(Ed())t.flags|=8192;else throw Qn=El,Cs}function Hl(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Nu():536870912,t.lanes|=i,Ii|=i)}function Ro(t,i){if(!Te)switch(t.tailMode){case"hidden":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Le(t){var i=t.alternate!==null&&t.alternate.child===t.child,l=0,u=0;if(i)for(var f=t.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=l,i}function vy(t,i,l){var u=i.pendingProps;switch(fs(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(i),null;case 1:return Le(i),null;case 3:return l=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Kt(Fe),Ne(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Ci(i)?Wt(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ms())),Le(i),null;case 26:var f=i.type,m=i.memoizedState;return t===null?(Wt(i),m!==null?(Le(i),Xf(i,m)):(Le(i),ir(i,f,null,u,l))):m?m!==t.memoizedState?(Wt(i),Le(i),Xf(i,m)):(Le(i),i.flags&=-16777217):(t=t.memoizedProps,t!==u&&Wt(i),Le(i),ir(i,f,t,u,l)),null;case 27:if(Xo(i),l=re.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&Wt(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return Le(i),null}t=Z.current,Ci(i)?Nc(i):(t=im(f,u,l),i.stateNode=t,Wt(i))}return Le(i),null;case 5:if(Xo(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&Wt(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return Le(i),null}if(m=Z.current,Ci(i))Nc(i);else{var T=ea(re.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?T.createElement(f,{is:u.is}):T.createElement(f)}}m[Ze]=i,m[at]=u;e:for(T=i.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===i)break e;for(;T.sibling===null;){if(T.return===null||T.return===i)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}i.stateNode=m;e:switch(tt(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Wt(i)}}return Le(i),ir(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,l),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&Wt(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(t=re.current,Ci(i)){if(t=i.stateNode,l=i.memoizedProps,u=null,f=We,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}t[Ze]=i,t=!!(t.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Od(t.nodeValue,l)),t||pn(i,!0)}else t=ea(t).createTextNode(u),t[Ze]=i,i.stateNode=t}return Le(i),null;case 31:if(l=i.memoizedState,t===null||t.memoizedState!==null){if(u=Ci(i),l!==null){if(t===null){if(!u)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Ze]=i}else Jn(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Le(i),t=!1}else l=ms(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),t=!0;if(!t)return i.flags&256?(Tt(i),i):(Tt(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Le(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ci(i),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Ze]=i}else Jn(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Le(i),f=!1}else f=ms(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Tt(i),i):(Tt(i),null)}return Tt(i),(i.flags&128)!==0?(i.lanes=l,i):(l=u!==null,t=t!==null&&t.memoizedState!==null,l&&(u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),l!==t&&l&&(i.child.flags|=8192),Hl(i,i.updateQueue),Le(i),null);case 4:return Ne(),t===null&&_r(i.stateNode.containerInfo),Le(i),null;case 10:return Kt(i.type),Le(i),null;case 19:if(L(ze),u=i.memoizedState,u===null)return Le(i),null;if(f=(i.flags&128)!==0,m=u.rendering,m===null)if(f)Ro(u,!1);else{if(Be!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=Ml(t),m!==null){for(i.flags|=128,Ro(u,!1),t=m.updateQueue,i.updateQueue=t,Hl(i,t),i.subtreeFlags=0,t=l,l=i.child;l!==null;)xc(l,t),l=l.sibling;return P(ze,ze.current&1|2),Te&&Ot(i,u.treeForkCount),i.child}t=t.sibling}u.tail!==null&&mt()>Jl&&(i.flags|=128,f=!0,Ro(u,!1),i.lanes=4194304)}else{if(!f)if(t=Ml(m),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Hl(i,t),Ro(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!Te)return Le(i),null}else 2*mt()-u.renderingStartTime>Jl&&l!==536870912&&(i.flags|=128,f=!0,Ro(u,!1),i.lanes=4194304);u.isBackwards?(m.sibling=i.child,i.child=m):(t=u.last,t!==null?t.sibling=m:i.child=m,u.last=m)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=mt(),t.sibling=null,l=ze.current,P(ze,f?l&1|2:l&1),Te&&Ot(i,u.treeForkCount),t):(Le(i),null);case 22:case 23:return Tt(i),Ms(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(Le(i),i.subtreeFlags&6&&(i.flags|=8192)):Le(i),l=i.updateQueue,l!==null&&Hl(i,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),t!==null&&L($n),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Kt(Fe),Le(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function Ty(t,i){switch(fs(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Kt(Fe),Ne(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Xo(i),null;case 31:if(i.memoizedState!==null){if(Tt(i),i.alternate===null)throw Error(a(340));Jn()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tt(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Jn()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return L(ze),null;case 4:return Ne(),null;case 10:return Kt(i.type),null;case 22:case 23:return Tt(i),Ms(),t!==null&&L($n),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Kt(Fe),null;case 25:return null;default:return null}}function Zf(t,i){switch(fs(i),i.tag){case 3:Kt(Fe),Ne();break;case 26:case 27:case 5:Xo(i);break;case 4:Ne();break;case 31:i.memoizedState!==null&&Tt(i);break;case 13:Tt(i);break;case 19:L(ze);break;case 10:Kt(i.type);break;case 22:case 23:Tt(i),Ms(),t!==null&&L($n);break;case 24:Kt(Fe)}}function No(t,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&t)===t){u=void 0;var m=l.create,T=l.inst;u=m(),T.destroy=u}l=l.next}while(l!==f)}}catch(E){Re(i,i.return,E)}}function Sn(t,i,l){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&t)===t){var T=u.inst,E=T.destroy;if(E!==void 0){T.destroy=void 0,f=i;var A=l,b=E;try{b()}catch(G){Re(f,A,G)}}}u=u.next}while(u!==m)}}catch(G){Re(i,i.return,G)}}function Wf(t){var i=t.updateQueue;if(i!==null){var l=t.stateNode;try{zc(i,l)}catch(u){Re(t,t.return,u)}}}function jf(t,i,l){l.props=Wn(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(u){Re(t,i,u)}}function Do(t,i){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof l=="function"?t.refCleanup=l(u):l.current=u}}catch(f){Re(t,i,f)}}function Bt(t,i){var l=t.ref,u=t.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(f){Re(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){Re(t,i,f)}else l.current=null}function ed(t){var i=t.type,l=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(f){Re(t,t.return,f)}}function or(t,i,l){try{var u=t.stateNode;zy(u,t.type,l,i),u[at]=i}catch(f){Re(t,t.return,f)}}function td(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Nn(t.type)||t.tag===4}function lr(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||td(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Nn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ar(t,i,l){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(t),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Ft));else if(u!==4&&(u===27&&Nn(t.type)&&(l=t.stateNode,i=null),t=t.child,t!==null))for(ar(t,i,l),t=t.sibling;t!==null;)ar(t,i,l),t=t.sibling}function Bl(t,i,l){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?l.insertBefore(t,i):l.appendChild(t);else if(u!==4&&(u===27&&Nn(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Bl(t,i,l),t=t.sibling;t!==null;)Bl(t,i,l),t=t.sibling}function nd(t){var i=t.stateNode,l=t.memoizedProps;try{for(var u=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);tt(i,u,l),i[Ze]=t,i[at]=l}catch(m){Re(t,t.return,m)}}var jt=!1,Oe=!1,sr=!1,id=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function Cy(t,i){if(t=t.containerInfo,Nr=sa,t=pc(t),es(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var T=0,E=-1,A=-1,b=0,G=0,z=t,w=null;t:for(;;){for(var I;z!==l||f!==0&&z.nodeType!==3||(E=T+f),z!==m||u!==0&&z.nodeType!==3||(A=T+u),z.nodeType===3&&(T+=z.nodeValue.length),(I=z.firstChild)!==null;)w=z,z=I;for(;;){if(z===t)break t;if(w===l&&++b===f&&(E=T),w===m&&++G===u&&(A=T),(I=z.nextSibling)!==null)break;z=w,w=z.parentNode}z=I}l=E===-1||A===-1?null:{start:E,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(Dr={focusedElem:t,selectionRange:l},sa=!1,Xe=i;Xe!==null;)if(i=Xe,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Xe=t;else for(;Xe!==null;){switch(i=Xe,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(l=0;l<t.length;l++)f=t[l],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,l=i,f=m.memoizedProps,m=m.memoizedState,u=l.stateNode;try{var j=Wn(l.type,f);t=u.getSnapshotBeforeUpdate(j,m),u.__reactInternalSnapshotBeforeUpdate=t}catch(ae){Re(l,l.return,ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,l=t.nodeType,l===9)Ur(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ur(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Xe=t;break}Xe=i.return}}function od(t,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:tn(t,l),u&4&&No(5,l);break;case 1:if(tn(t,l),u&4)if(t=l.stateNode,i===null)try{t.componentDidMount()}catch(T){Re(l,l.return,T)}else{var f=Wn(l.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Re(l,l.return,T)}}u&64&&Wf(l),u&512&&Do(l,l.return);break;case 3:if(tn(t,l),u&64&&(t=l.updateQueue,t!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{zc(t,i)}catch(T){Re(l,l.return,T)}}break;case 27:i===null&&u&4&&nd(l);case 26:case 5:tn(t,l),i===null&&u&4&&ed(l),u&512&&Do(l,l.return);break;case 12:tn(t,l);break;case 31:tn(t,l),u&4&&sd(t,l);break;case 13:tn(t,l),u&4&&rd(t,l),u&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=Dy.bind(null,l),Qy(t,l))));break;case 22:if(u=l.memoizedState!==null||jt,!u){i=i!==null&&i.memoizedState!==null||Oe,f=jt;var m=Oe;jt=u,(Oe=i)&&!m?nn(t,l,(l.subtreeFlags&8772)!==0):tn(t,l),jt=f,Oe=m}break;case 30:break;default:tn(t,l)}}function ld(t){var i=t.alternate;i!==null&&(t.alternate=null,ld(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&qa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var qe=null,rt=!1;function en(t,i,l){for(l=l.child;l!==null;)ad(t,i,l),l=l.sibling}function ad(t,i,l){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Wi,l)}catch{}switch(l.tag){case 26:Oe||Bt(l,i),en(t,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Oe||Bt(l,i);var u=qe,f=rt;Nn(l.type)&&(qe=l.stateNode,rt=!1),en(t,i,l),Go(l.stateNode),qe=u,rt=f;break;case 5:Oe||Bt(l,i);case 6:if(u=qe,f=rt,qe=null,en(t,i,l),qe=u,rt=f,qe!==null)if(rt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(l.stateNode)}catch(m){Re(l,i,m)}else try{qe.removeChild(l.stateNode)}catch(m){Re(l,i,m)}break;case 18:qe!==null&&(rt?(t=qe,Wd(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),zi(t)):Wd(qe,l.stateNode));break;case 4:u=qe,f=rt,qe=l.stateNode.containerInfo,rt=!0,en(t,i,l),qe=u,rt=f;break;case 0:case 11:case 14:case 15:Sn(2,l,i),Oe||Sn(4,l,i),en(t,i,l);break;case 1:Oe||(Bt(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&jf(l,i,u)),en(t,i,l);break;case 21:en(t,i,l);break;case 22:Oe=(u=Oe)||l.memoizedState!==null,en(t,i,l),Oe=u;break;default:en(t,i,l)}}function sd(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{zi(t)}catch(l){Re(i,i.return,l)}}}function rd(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zi(t)}catch(l){Re(i,i.return,l)}}function Sy(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new id),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new id),i;default:throw Error(a(435,t.tag))}}function zl(t,i){var l=Sy(t);i.forEach(function(u){if(!l.has(u)){l.add(u);var f=by.bind(null,t,u);u.then(f,f)}})}function ut(t,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var f=l[u],m=t,T=i,E=T;e:for(;E!==null;){switch(E.tag){case 27:if(Nn(E.type)){qe=E.stateNode,rt=!1;break e}break;case 5:qe=E.stateNode,rt=!1;break e;case 3:case 4:qe=E.stateNode.containerInfo,rt=!0;break e}E=E.return}if(qe===null)throw Error(a(160));ad(m,T,f),qe=null,rt=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)ud(i,t),i=i.sibling}var kt=null;function ud(t,i){var l=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ut(i,t),ct(t),u&4&&(Sn(3,t,t.return),No(3,t),Sn(5,t,t.return));break;case 1:ut(i,t),ct(t),u&512&&(Oe||l===null||Bt(l,l.return)),u&64&&jt&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var f=kt;if(ut(i,t),ct(t),u&512&&(Oe||l===null||Bt(l,l.return)),u&4){var m=l!==null?l.memoizedState:null;if(u=t.memoizedState,l===null)if(u===null)if(t.stateNode===null){e:{u=t.type,l=t.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[to]||m[Ze]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),tt(m,u,l),m[Ze]=t,Qe(m),u=m;break e;case"link":var T=um("link","href",f).get(u+(l.href||""));if(T){for(var E=0;E<T.length;E++)if(m=T[E],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(E,1);break t}}m=f.createElement(u),tt(m,u,l),f.head.appendChild(m);break;case"meta":if(T=um("meta","content",f).get(u+(l.content||""))){for(E=0;E<T.length;E++)if(m=T[E],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(E,1);break t}}m=f.createElement(u),tt(m,u,l),f.head.appendChild(m);break;default:throw Error(a(468,u))}m[Ze]=t,Qe(m),u=m}t.stateNode=u}else cm(f,t.type,t.stateNode);else t.stateNode=rm(f,u,t.memoizedProps);else m!==u?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,u===null?cm(f,t.type,t.stateNode):rm(f,u,t.memoizedProps)):u===null&&t.stateNode!==null&&or(t,t.memoizedProps,l.memoizedProps)}break;case 27:ut(i,t),ct(t),u&512&&(Oe||l===null||Bt(l,l.return)),l!==null&&u&4&&or(t,t.memoizedProps,l.memoizedProps);break;case 5:if(ut(i,t),ct(t),u&512&&(Oe||l===null||Bt(l,l.return)),t.flags&32){f=t.stateNode;try{ci(f,"")}catch(j){Re(t,t.return,j)}}u&4&&t.stateNode!=null&&(f=t.memoizedProps,or(t,f,l!==null?l.memoizedProps:f)),u&1024&&(sr=!0);break;case 6:if(ut(i,t),ct(t),u&4){if(t.stateNode===null)throw Error(a(162));u=t.memoizedProps,l=t.stateNode;try{l.nodeValue=u}catch(j){Re(t,t.return,j)}}break;case 3:if(ia=null,f=kt,kt=ta(i.containerInfo),ut(i,t),kt=f,ct(t),u&4&&l!==null&&l.memoizedState.isDehydrated)try{zi(i.containerInfo)}catch(j){Re(t,t.return,j)}sr&&(sr=!1,cd(t));break;case 4:u=kt,kt=ta(t.stateNode.containerInfo),ut(i,t),ct(t),kt=u;break;case 12:ut(i,t),ct(t);break;case 31:ut(i,t),ct(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,zl(t,u)));break;case 13:ut(i,t),ct(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Fl=mt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,zl(t,u)));break;case 22:f=t.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,b=jt,G=Oe;if(jt=b||f,Oe=G||A,ut(i,t),Oe=G,jt=b,ct(t),u&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(l===null||A||jt||Oe||jn(t)),l=null,i=t;;){if(i.tag===5||i.tag===26){if(l===null){A=l=i;try{if(m=A.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{E=A.stateNode;var z=A.memoizedProps.style,w=z!=null&&z.hasOwnProperty("display")?z.display:null;E.style.display=w==null||typeof w=="boolean"?"":(""+w).trim()}}catch(j){Re(A,A.return,j)}}}else if(i.tag===6){if(l===null){A=i;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch(j){Re(A,A.return,j)}}}else if(i.tag===18){if(l===null){A=i;try{var I=A.stateNode;f?jd(I,!0):jd(A.stateNode,!1)}catch(j){Re(A,A.return,j)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,zl(t,l))));break;case 19:ut(i,t),ct(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,zl(t,u)));break;case 30:break;case 21:break;default:ut(i,t),ct(t)}}function ct(t){var i=t.flags;if(i&2){try{for(var l,u=t.return;u!==null;){if(td(u)){l=u;break}u=u.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var f=l.stateNode,m=lr(t);Bl(t,m,f);break;case 5:var T=l.stateNode;l.flags&32&&(ci(T,""),l.flags&=-33);var E=lr(t);Bl(t,E,T);break;case 3:case 4:var A=l.stateNode.containerInfo,b=lr(t);ar(t,b,A);break;default:throw Error(a(161))}}catch(G){Re(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function cd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;cd(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function tn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)od(t,i.alternate,i),i=i.sibling}function jn(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Sn(4,i,i.return),jn(i);break;case 1:Bt(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&jf(i,i.return,l),jn(i);break;case 27:Go(i.stateNode);case 26:case 5:Bt(i,i.return),jn(i);break;case 22:i.memoizedState===null&&jn(i);break;case 30:jn(i);break;default:jn(i)}t=t.sibling}}function nn(t,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=t,m=i,T=m.flags;switch(m.tag){case 0:case 11:case 15:nn(f,m,l),No(4,m);break;case 1:if(nn(f,m,l),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(b){Re(u,u.return,b)}if(u=m,f=u.updateQueue,f!==null){var E=u.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)Bc(A[f],E)}catch(b){Re(u,u.return,b)}}l&&T&64&&Wf(m),Do(m,m.return);break;case 27:nd(m);case 26:case 5:nn(f,m,l),l&&u===null&&T&4&&ed(m),Do(m,m.return);break;case 12:nn(f,m,l);break;case 31:nn(f,m,l),l&&T&4&&sd(f,m);break;case 13:nn(f,m,l),l&&T&4&&rd(f,m);break;case 22:m.memoizedState===null&&nn(f,m,l),Do(m,m.return);break;case 30:break;default:nn(f,m,l)}i=i.sibling}}function rr(t,i){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&ho(l))}function ur(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ho(t))}function Vt(t,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)fd(t,i,l,u),i=i.sibling}function fd(t,i,l,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Vt(t,i,l,u),f&2048&&No(9,i);break;case 1:Vt(t,i,l,u);break;case 3:Vt(t,i,l,u),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ho(t)));break;case 12:if(f&2048){Vt(t,i,l,u),t=i.stateNode;try{var m=i.memoizedProps,T=m.id,E=m.onPostCommit;typeof E=="function"&&E(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){Re(i,i.return,A)}}else Vt(t,i,l,u);break;case 31:Vt(t,i,l,u);break;case 13:Vt(t,i,l,u);break;case 23:break;case 22:m=i.stateNode,T=i.alternate,i.memoizedState!==null?m._visibility&2?Vt(t,i,l,u):bo(t,i):m._visibility&2?Vt(t,i,l,u):(m._visibility|=2,bi(t,i,l,u,(i.subtreeFlags&10256)!==0||!1)),f&2048&&rr(T,i);break;case 24:Vt(t,i,l,u),f&2048&&ur(i.alternate,i);break;default:Vt(t,i,l,u)}}function bi(t,i,l,u,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,T=i,E=l,A=u,b=T.flags;switch(T.tag){case 0:case 11:case 15:bi(m,T,E,A,f),No(8,T);break;case 23:break;case 22:var G=T.stateNode;T.memoizedState!==null?G._visibility&2?bi(m,T,E,A,f):bo(m,T):(G._visibility|=2,bi(m,T,E,A,f)),f&&b&2048&&rr(T.alternate,T);break;case 24:bi(m,T,E,A,f),f&&b&2048&&ur(T.alternate,T);break;default:bi(m,T,E,A,f)}i=i.sibling}}function bo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=t,u=i,f=u.flags;switch(u.tag){case 22:bo(l,u),f&2048&&rr(u.alternate,u);break;case 24:bo(l,u),f&2048&&ur(u.alternate,u);break;default:bo(l,u)}i=i.sibling}}var wo=8192;function wi(t,i,l){if(t.subtreeFlags&wo)for(t=t.child;t!==null;)dd(t,i,l),t=t.sibling}function dd(t,i,l){switch(t.tag){case 26:wi(t,i,l),t.flags&wo&&t.memoizedState!==null&&sv(l,kt,t.memoizedState,t.memoizedProps);break;case 5:wi(t,i,l);break;case 3:case 4:var u=kt;kt=ta(t.stateNode.containerInfo),wi(t,i,l),kt=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=wo,wo=16777216,wi(t,i,l),wo=u):wi(t,i,l));break;default:wi(t,i,l)}}function md(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Uo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];Xe=u,hd(u,t)}md(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pd(t),t=t.sibling}function pd(t){switch(t.tag){case 0:case 11:case 15:Uo(t),t.flags&2048&&Sn(9,t,t.return);break;case 3:Uo(t);break;case 12:Uo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Pl(t)):Uo(t);break;default:Uo(t)}}function Pl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];Xe=u,hd(u,t)}md(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Sn(8,i,i.return),Pl(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Pl(i));break;default:Pl(i)}t=t.sibling}}function hd(t,i){for(;Xe!==null;){var l=Xe;switch(l.tag){case 0:case 11:case 15:Sn(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ho(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Xe=u;else e:for(l=t;Xe!==null;){u=Xe;var f=u.sibling,m=u.return;if(ld(u),u===l){Xe=null;break e}if(f!==null){f.return=m,Xe=f;break e}Xe=m}}}var Ey={getCacheForType:function(t){var i=je(Fe),l=i.data.get(t);return l===void 0&&(l=t(),i.data.set(t,l)),l},cacheSignal:function(){return je(Fe).controller.signal}},xy=typeof WeakMap=="function"?WeakMap:Map,xe=0,Ue=null,he=null,ye=0,Me=0,Ct=null,En=!1,Ui=!1,cr=!1,on=0,Be=0,xn=0,ei=0,fr=0,St=0,Ii=0,Io=null,ft=null,dr=!1,Fl=0,gd=0,Jl=1/0,Yl=null,An=null,Ke=0,_n=null,Li=null,ln=0,mr=0,pr=null,yd=null,Lo=0,hr=null;function Et(){return(xe&2)!==0&&ye!==0?ye&-ye:k.T!==null?Sr():Uu()}function vd(){if(St===0)if((ye&536870912)===0||Te){var t=jo;jo<<=1,(jo&3932160)===0&&(jo=262144),St=t}else St=536870912;return t=vt.current,t!==null&&(t.flags|=32),St}function dt(t,i,l){(t===Ue&&(Me===2||Me===9)||t.cancelPendingCommit!==null)&&(ki(t,0),Mn(t,ye,St,!1)),eo(t,l),((xe&2)===0||t!==Ue)&&(t===Ue&&((xe&2)===0&&(ei|=l),Be===4&&Mn(t,ye,St,!1)),zt(t))}function Td(t,i,l){if((xe&6)!==0)throw Error(a(327));var u=!l&&(i&127)===0&&(i&t.expiredLanes)===0||ji(t,i),f=u?My(t,i):yr(t,i,!0),m=u;do{if(f===0){Ui&&!u&&Mn(t,i,0,!1);break}else{if(l=t.current.alternate,m&&!Ay(l)){f=yr(t,i,!1),m=!1;continue}if(f===2){if(m=i,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var E=t;f=Io;var A=E.current.memoizedState.isDehydrated;if(A&&(ki(E,T).flags|=256),T=yr(E,T,!1),T!==2){if(cr&&!A){E.errorRecoveryDisabledLanes|=m,ei|=m,f=4;break e}m=ft,ft=f,m!==null&&(ft===null?ft=m:ft.push.apply(ft,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){ki(t,0),Mn(t,i,0,!0);break}e:{switch(u=t,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Mn(u,i,St,!En);break e;case 2:ft=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=Fl+300-mt(),10<f)){if(Mn(u,i,St,!En),tl(u,0,!0)!==0)break e;ln=i,u.timeoutHandle=Xd(Cd.bind(null,u,l,ft,Yl,dr,i,St,ei,Ii,En,m,"Throttled",-0,0),f);break e}Cd(u,l,ft,Yl,dr,i,St,ei,Ii,En,m,null,-0,0)}}break}while(!0);zt(t)}function Cd(t,i,l,u,f,m,T,E,A,b,G,z,w,I){if(t.timeoutHandle=-1,z=i.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ft},dd(i,m,z);var j=(m&62914560)===m?Fl-mt():(m&4194048)===m?gd-mt():0;if(j=rv(z,j),j!==null){ln=m,t.cancelPendingCommit=j(Nd.bind(null,t,i,m,l,u,f,T,E,A,G,z,null,w,I)),Mn(t,m,T,!b);return}}Nd(t,i,m,l,u,f,T,E,A)}function Ay(t){for(var i=t;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var f=l[u],m=f.getSnapshot;f=f.value;try{if(!gt(m(),f))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Mn(t,i,l,u){i&=~fr,i&=~ei,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var f=i;0<f;){var m=31-ht(f),T=1<<m;u[m]=-1,f&=~T}l!==0&&Du(t,l,i)}function Ol(){return(xe&6)===0?(ko(0),!1):!0}function gr(){if(he!==null){if(Me===0)var t=he.return;else t=he,$t=Yn=null,Us(t),_i=null,yo=0,t=he;for(;t!==null;)Zf(t.alternate,t),t=t.return;he=null}}function ki(t,i){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,Jy(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),ln=0,gr(),Ue=t,he=l=Yt(t.current,null),ye=i,Me=0,Ct=null,En=!1,Ui=ji(t,i),cr=!1,Ii=St=fr=ei=xn=Be=0,ft=Io=null,dr=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var f=31-ht(u),m=1<<f;i|=t[f],u&=~m}return on=i,ml(),l}function Sd(t,i){de=null,k.H=_o,i===Ai||i===Sl?(i=Vc(),Me=3):i===Cs?(i=Vc(),Me=4):Me=i===Ks?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ct=i,he===null&&(Be=1,kl(t,Mt(i,t.current)))}function Ed(){var t=vt.current;return t===null?!0:(ye&4194048)===ye?bt===null:(ye&62914560)===ye||(ye&536870912)!==0?t===bt:!1}function xd(){var t=k.H;return k.H=_o,t===null?_o:t}function Ad(){var t=k.A;return k.A=Ey,t}function $l(){Be=4,En||(ye&4194048)!==ye&&vt.current!==null||(Ui=!0),(xn&134217727)===0&&(ei&134217727)===0||Ue===null||Mn(Ue,ye,St,!1)}function yr(t,i,l){var u=xe;xe|=2;var f=xd(),m=Ad();(Ue!==t||ye!==i)&&(Yl=null,ki(t,i)),i=!1;var T=Be;e:do try{if(Me!==0&&he!==null){var E=he,A=Ct;switch(Me){case 8:gr(),T=6;break e;case 3:case 2:case 9:case 6:vt.current===null&&(i=!0);var b=Me;if(Me=0,Ct=null,Vi(t,E,A,b),l&&Ui){T=0;break e}break;default:b=Me,Me=0,Ct=null,Vi(t,E,A,b)}}_y(),T=Be;break}catch(G){Sd(t,G)}while(!0);return i&&t.shellSuspendCounter++,$t=Yn=null,xe=u,k.H=f,k.A=m,he===null&&(Ue=null,ye=0,ml()),T}function _y(){for(;he!==null;)_d(he)}function My(t,i){var l=xe;xe|=2;var u=xd(),f=Ad();Ue!==t||ye!==i?(Yl=null,Jl=mt()+500,ki(t,i)):Ui=ji(t,i);e:do try{if(Me!==0&&he!==null){i=he;var m=Ct;t:switch(Me){case 1:Me=0,Ct=null,Vi(t,i,m,1);break;case 2:case 9:if(Lc(m)){Me=0,Ct=null,Md(i);break}i=function(){Me!==2&&Me!==9||Ue!==t||(Me=7),zt(t)},m.then(i,i);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:Lc(m)?(Me=0,Ct=null,Md(i)):(Me=0,Ct=null,Vi(t,i,m,7));break;case 5:var T=null;switch(he.tag){case 26:T=he.memoizedState;case 5:case 27:var E=he;if(T?fm(T):E.stateNode.complete){Me=0,Ct=null;var A=E.sibling;if(A!==null)he=A;else{var b=E.return;b!==null?(he=b,Kl(b)):he=null}break t}}Me=0,Ct=null,Vi(t,i,m,5);break;case 6:Me=0,Ct=null,Vi(t,i,m,6);break;case 8:gr(),Be=6;break e;default:throw Error(a(462))}}Ry();break}catch(G){Sd(t,G)}while(!0);return $t=Yn=null,k.H=u,k.A=f,xe=l,he!==null?0:(Ue=null,ye=0,ml(),Be)}function Ry(){for(;he!==null&&!Xh();)_d(he)}function _d(t){var i=Qf(t.alternate,t,on);t.memoizedProps=t.pendingProps,i===null?Kl(t):he=i}function Md(t){var i=t,l=i.alternate;switch(i.tag){case 15:case 0:i=Ff(l,i,i.pendingProps,i.type,void 0,ye);break;case 11:i=Ff(l,i,i.pendingProps,i.type.render,i.ref,ye);break;case 5:Us(i);default:Zf(l,i),i=he=xc(i,on),i=Qf(l,i,on)}t.memoizedProps=t.pendingProps,i===null?Kl(t):he=i}function Vi(t,i,l,u){$t=Yn=null,Us(i),_i=null,yo=0;var f=i.return;try{if(hy(t,f,i,l,ye)){Be=1,kl(t,Mt(l,t.current)),he=null;return}}catch(m){if(f!==null)throw he=f,m;Be=1,kl(t,Mt(l,t.current)),he=null;return}i.flags&32768?(Te||u===1?t=!0:Ui||(ye&536870912)!==0?t=!1:(En=t=!0,(u===2||u===9||u===3||u===6)&&(u=vt.current,u!==null&&u.tag===13&&(u.flags|=16384))),Rd(i,t)):Kl(i)}function Kl(t){var i=t;do{if((i.flags&32768)!==0){Rd(i,En);return}t=i.return;var l=vy(i.alternate,i,on);if(l!==null){he=l;return}if(i=i.sibling,i!==null){he=i;return}he=i=t}while(i!==null);Be===0&&(Be=5)}function Rd(t,i){do{var l=Ty(t.alternate,t);if(l!==null){l.flags&=32767,he=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(t=t.sibling,t!==null)){he=t;return}he=t=l}while(t!==null);Be=6,he=null}function Nd(t,i,l,u,f,m,T,E,A){t.cancelPendingCommit=null;do Ql();while(Ke!==0);if((xe&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=ls,ag(t,l,m,T,E,A),t===Ue&&(he=Ue=null,ye=0),Li=i,_n=t,ln=l,mr=m,pr=f,yd=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,wy(Zo,function(){return Id(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=k.T,k.T=null,f=X.p,X.p=2,T=xe,xe|=4;try{Cy(t,i,l)}finally{xe=T,X.p=f,k.T=u}}Ke=1,Dd(),bd(),wd()}}function Dd(){if(Ke===1){Ke=0;var t=_n,i=Li,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=k.T,k.T=null;var u=X.p;X.p=2;var f=xe;xe|=4;try{ud(i,t);var m=Dr,T=pc(t.containerInfo),E=m.focusedElem,A=m.selectionRange;if(T!==E&&E&&E.ownerDocument&&mc(E.ownerDocument.documentElement,E)){if(A!==null&&es(E)){var b=A.start,G=A.end;if(G===void 0&&(G=b),"selectionStart"in E)E.selectionStart=b,E.selectionEnd=Math.min(G,E.value.length);else{var z=E.ownerDocument||document,w=z&&z.defaultView||window;if(w.getSelection){var I=w.getSelection(),j=E.textContent.length,ae=Math.min(A.start,j),we=A.end===void 0?ae:Math.min(A.end,j);!I.extend&&ae>we&&(T=we,we=ae,ae=T);var N=dc(E,ae),R=dc(E,we);if(N&&R&&(I.rangeCount!==1||I.anchorNode!==N.node||I.anchorOffset!==N.offset||I.focusNode!==R.node||I.focusOffset!==R.offset)){var D=z.createRange();D.setStart(N.node,N.offset),I.removeAllRanges(),ae>we?(I.addRange(D),I.extend(R.node,R.offset)):(D.setEnd(R.node,R.offset),I.addRange(D))}}}}for(z=[],I=E;I=I.parentNode;)I.nodeType===1&&z.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<z.length;E++){var H=z[E];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}sa=!!Nr,Dr=Nr=null}finally{xe=f,X.p=u,k.T=l}}t.current=i,Ke=2}}function bd(){if(Ke===2){Ke=0;var t=_n,i=Li,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=k.T,k.T=null;var u=X.p;X.p=2;var f=xe;xe|=4;try{od(t,i.alternate,i)}finally{xe=f,X.p=u,k.T=l}}Ke=3}}function wd(){if(Ke===4||Ke===3){Ke=0,Zh();var t=_n,i=Li,l=ln,u=yd;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ke=5:(Ke=0,Li=_n=null,Ud(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(An=null),ka(l),i=i.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Wi,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=k.T,f=X.p,X.p=2,k.T=null;try{for(var m=t.onRecoverableError,T=0;T<u.length;T++){var E=u[T];m(E.value,{componentStack:E.stack})}}finally{k.T=i,X.p=f}}(ln&3)!==0&&Ql(),zt(t),f=t.pendingLanes,(l&261930)!==0&&(f&42)!==0?t===hr?Lo++:(Lo=0,hr=t):Lo=0,ko(0)}}function Ud(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ho(i)))}function Ql(){return Dd(),bd(),wd(),Id()}function Id(){if(Ke!==5)return!1;var t=_n,i=mr;mr=0;var l=ka(ln),u=k.T,f=X.p;try{X.p=32>l?32:l,k.T=null,l=pr,pr=null;var m=_n,T=ln;if(Ke=0,Li=_n=null,ln=0,(xe&6)!==0)throw Error(a(331));var E=xe;if(xe|=4,pd(m.current),fd(m,m.current,T,l),xe=E,ko(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Wi,m)}catch{}return!0}finally{X.p=f,k.T=u,Ud(t,i)}}function Ld(t,i,l){i=Mt(l,i),i=$s(t.stateNode,i,2),t=vn(t,i,2),t!==null&&(eo(t,2),zt(t))}function Re(t,i,l){if(t.tag===3)Ld(t,t,l);else for(;i!==null;){if(i.tag===3){Ld(i,t,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(An===null||!An.has(u))){t=Mt(l,t),l=kf(2),u=vn(i,l,2),u!==null&&(Vf(l,u,i,t),eo(u,2),zt(u));break}}i=i.return}}function vr(t,i,l){var u=t.pingCache;if(u===null){u=t.pingCache=new xy;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(l)||(cr=!0,f.add(l),t=Ny.bind(null,t,i,l),i.then(t,t))}function Ny(t,i,l){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Ue===t&&(ye&l)===l&&(Be===4||Be===3&&(ye&62914560)===ye&&300>mt()-Fl?(xe&2)===0&&ki(t,0):fr|=l,Ii===ye&&(Ii=0)),zt(t)}function kd(t,i){i===0&&(i=Nu()),t=Pn(t,i),t!==null&&(eo(t,i),zt(t))}function Dy(t){var i=t.memoizedState,l=0;i!==null&&(l=i.retryLane),kd(t,l)}function by(t,i){var l=0;switch(t.tag){case 31:case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(l=f.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),kd(t,l)}function wy(t,i){return wa(t,i)}var Xl=null,qi=null,Tr=!1,Zl=!1,Cr=!1,Rn=0;function zt(t){t!==qi&&t.next===null&&(qi===null?Xl=qi=t:qi=qi.next=t),Zl=!0,Tr||(Tr=!0,Iy())}function ko(t,i){if(!Cr&&Zl){Cr=!0;do for(var l=!1,u=Xl;u!==null;){if(t!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var T=u.suspendedLanes,E=u.pingedLanes;m=(1<<31-ht(42|t)+1)-1,m&=f&~(T&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,Hd(u,m))}else m=ye,m=tl(u,u===Ue?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||ji(u,m)||(l=!0,Hd(u,m));u=u.next}while(l);Cr=!1}}function Uy(){Vd()}function Vd(){Zl=Tr=!1;var t=0;Rn!==0&&Fy()&&(t=Rn);for(var i=mt(),l=null,u=Xl;u!==null;){var f=u.next,m=qd(u,i);m===0?(u.next=null,l===null?Xl=f:l.next=f,f===null&&(qi=l)):(l=u,(t!==0||(m&3)!==0)&&(Zl=!0)),u=f}Ke!==0&&Ke!==5||ko(t),Rn!==0&&(Rn=0)}function qd(t,i){for(var l=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-ht(m),E=1<<T,A=f[T];A===-1?((E&l)===0||(E&u)!==0)&&(f[T]=lg(E,i)):A<=i&&(t.expiredLanes|=E),m&=~E}if(i=Ue,l=ye,l=tl(t,t===i?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,l===0||t===i&&(Me===2||Me===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&Ua(u),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||ji(t,l)){if(i=l&-l,i===t.callbackPriority)return i;switch(u!==null&&Ua(u),ka(l)){case 2:case 8:l=Mu;break;case 32:l=Zo;break;case 268435456:l=Ru;break;default:l=Zo}return u=Gd.bind(null,t),l=wa(l,u),t.callbackPriority=i,t.callbackNode=l,i}return u!==null&&u!==null&&Ua(u),t.callbackPriority=2,t.callbackNode=null,2}function Gd(t,i){if(Ke!==0&&Ke!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(Ql()&&t.callbackNode!==l)return null;var u=ye;return u=tl(t,t===Ue?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(Td(t,u,i),qd(t,mt()),t.callbackNode!=null&&t.callbackNode===l?Gd.bind(null,t):null)}function Hd(t,i){if(Ql())return null;Td(t,i,!0)}function Iy(){Yy(function(){(xe&6)!==0?wa(_u,Uy):Vd()})}function Sr(){if(Rn===0){var t=Ei;t===0&&(t=Wo,Wo<<=1,(Wo&261888)===0&&(Wo=256)),Rn=t}return Rn}function Bd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ll(""+t)}function zd(t,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,t.id&&l.setAttribute("form",t.id),i.parentNode.insertBefore(l,i),t=new FormData(t),l.parentNode.removeChild(l),t}function Ly(t,i,l,u,f){if(i==="submit"&&l&&l.stateNode===f){var m=Bd((f[at]||null).action),T=u.submitter;T&&(i=(i=T[at]||null)?Bd(i.formAction):T.getAttribute("formAction"),i!==null&&(m=i,T=null));var E=new ul("action","action",null,u,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Rn!==0){var A=T?zd(f,T):new FormData(f);zs(l,{pending:!0,data:A,method:f.method,action:m},null,A)}}else typeof m=="function"&&(E.preventDefault(),A=T?zd(f,T):new FormData(f),zs(l,{pending:!0,data:A,method:f.method,action:m},m,A))},currentTarget:f}]})}}for(var Er=0;Er<os.length;Er++){var xr=os[Er],ky=xr.toLowerCase(),Vy=xr[0].toUpperCase()+xr.slice(1);Lt(ky,"on"+Vy)}Lt(yc,"onAnimationEnd"),Lt(vc,"onAnimationIteration"),Lt(Tc,"onAnimationStart"),Lt("dblclick","onDoubleClick"),Lt("focusin","onFocus"),Lt("focusout","onBlur"),Lt(Wg,"onTransitionRun"),Lt(jg,"onTransitionStart"),Lt(ey,"onTransitionCancel"),Lt(Cc,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vo));function Pd(t,i){i=(i&4)!==0;for(var l=0;l<t.length;l++){var u=t[l],f=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var T=u.length-1;0<=T;T--){var E=u[T],A=E.instance,b=E.currentTarget;if(E=E.listener,A!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=b;try{m(f)}catch(G){dl(G)}f.currentTarget=null,m=A}else for(T=0;T<u.length;T++){if(E=u[T],A=E.instance,b=E.currentTarget,E=E.listener,A!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=b;try{m(f)}catch(G){dl(G)}f.currentTarget=null,m=A}}}}function ge(t,i){var l=i[Va];l===void 0&&(l=i[Va]=new Set);var u=t+"__bubble";l.has(u)||(Fd(i,t,2,!1),l.add(u))}function Ar(t,i,l){var u=0;i&&(u|=4),Fd(l,t,u,i)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function _r(t){if(!t[Wl]){t[Wl]=!0,ku.forEach(function(l){l!=="selectionchange"&&(qy.has(l)||Ar(l,!1,t),Ar(l,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Wl]||(i[Wl]=!0,Ar("selectionchange",!1,i))}}function Fd(t,i,l,u){switch(vm(i)){case 2:var f=fv;break;case 8:f=dv;break;default:f=Br}l=f.bind(null,i,l,t),f=void 0,!Ya||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(i,l,{capture:!0,passive:f}):t.addEventListener(i,l,!0):f!==void 0?t.addEventListener(i,l,{passive:f}):t.addEventListener(i,l,!1)}function Mr(t,i,l,u,f){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var E=u.stateNode.containerInfo;if(E===f)break;if(T===4)for(T=u.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;E!==null;){if(T=li(E),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){u=m=T;continue e}E=E.parentNode}}u=u.return}$u(function(){var b=m,G=Fa(l),z=[];e:{var w=Sc.get(t);if(w!==void 0){var I=ul,j=t;switch(t){case"keypress":if(sl(l)===0)break e;case"keydown":case"keyup":I=bg;break;case"focusin":j="focus",I=Qa;break;case"focusout":j="blur",I=Qa;break;case"beforeblur":case"afterblur":I=Qa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=vg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=Ig;break;case yc:case vc:case Tc:I=Sg;break;case Cc:I=kg;break;case"scroll":case"scrollend":I=gg;break;case"wheel":I=qg;break;case"copy":case"cut":case"paste":I=xg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Wu;break;case"toggle":case"beforetoggle":I=Hg}var ae=(i&4)!==0,we=!ae&&(t==="scroll"||t==="scrollend"),N=ae?w!==null?w+"Capture":null:w;ae=[];for(var R=b,D;R!==null;){var H=R;if(D=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||D===null||N===null||(H=io(R,N),H!=null&&ae.push(qo(R,H,D))),we)break;R=R.return}0<ae.length&&(w=new I(w,j,null,l,G),z.push({event:w,listeners:ae}))}}if((i&7)===0){e:{if(w=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",w&&l!==Pa&&(j=l.relatedTarget||l.fromElement)&&(li(j)||j[oi]))break e;if((I||w)&&(w=G.window===G?G:(w=G.ownerDocument)?w.defaultView||w.parentWindow:window,I?(j=l.relatedTarget||l.toElement,I=b,j=j?li(j):null,j!==null&&(we=d(j),ae=j.tag,j!==we||ae!==5&&ae!==27&&ae!==6)&&(j=null)):(I=null,j=b),I!==j)){if(ae=Xu,H="onMouseLeave",N="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(ae=Wu,H="onPointerLeave",N="onPointerEnter",R="pointer"),we=I==null?w:no(I),D=j==null?w:no(j),w=new ae(H,R+"leave",I,l,G),w.target=we,w.relatedTarget=D,H=null,li(G)===b&&(ae=new ae(N,R+"enter",j,l,G),ae.target=D,ae.relatedTarget=we,H=ae),we=H,I&&j)t:{for(ae=Gy,N=I,R=j,D=0,H=N;H;H=ae(H))D++;H=0;for(var ie=R;ie;ie=ae(ie))H++;for(;0<D-H;)N=ae(N),D--;for(;0<H-D;)R=ae(R),H--;for(;D--;){if(N===R||R!==null&&N===R.alternate){ae=N;break t}N=ae(N),R=ae(R)}ae=null}else ae=null;I!==null&&Jd(z,w,I,ae,!1),j!==null&&we!==null&&Jd(z,we,j,ae,!0)}}e:{if(w=b?no(b):window,I=w.nodeName&&w.nodeName.toLowerCase(),I==="select"||I==="input"&&w.type==="file")var Ce=ac;else if(oc(w))if(sc)Ce=Qg;else{Ce=$g;var te=Og}else I=w.nodeName,!I||I.toLowerCase()!=="input"||w.type!=="checkbox"&&w.type!=="radio"?b&&za(b.elementType)&&(Ce=ac):Ce=Kg;if(Ce&&(Ce=Ce(t,b))){lc(z,Ce,l,G);break e}te&&te(t,w,b),t==="focusout"&&b&&w.type==="number"&&b.memoizedProps.value!=null&&Ba(w,"number",w.value)}switch(te=b?no(b):window,t){case"focusin":(oc(te)||te.contentEditable==="true")&&(pi=te,ts=b,fo=null);break;case"focusout":fo=ts=pi=null;break;case"mousedown":ns=!0;break;case"contextmenu":case"mouseup":case"dragend":ns=!1,hc(z,l,G);break;case"selectionchange":if(Zg)break;case"keydown":case"keyup":hc(z,l,G)}var pe;if(Za)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else mi?nc(t,l)&&(ve="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(ve="onCompositionStart");ve&&(ju&&l.locale!=="ko"&&(mi||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&mi&&(pe=Ku()):(fn=G,Oa="value"in fn?fn.value:fn.textContent,mi=!0)),te=jl(b,ve),0<te.length&&(ve=new Zu(ve,t,null,l,G),z.push({event:ve,listeners:te}),pe?ve.data=pe:(pe=ic(l),pe!==null&&(ve.data=pe)))),(pe=zg?Pg(t,l):Fg(t,l))&&(ve=jl(b,"onBeforeInput"),0<ve.length&&(te=new Zu("onBeforeInput","beforeinput",null,l,G),z.push({event:te,listeners:ve}),te.data=pe)),Ly(z,t,b,l,G)}Pd(z,i)})}function qo(t,i,l){return{instance:t,listener:i,currentTarget:l}}function jl(t,i){for(var l=i+"Capture",u=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=io(t,l),f!=null&&u.unshift(qo(t,f,m)),f=io(t,i),f!=null&&u.push(qo(t,f,m))),t.tag===3)return u;t=t.return}return[]}function Gy(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Jd(t,i,l,u,f){for(var m=i._reactName,T=[];l!==null&&l!==u;){var E=l,A=E.alternate,b=E.stateNode;if(E=E.tag,A!==null&&A===u)break;E!==5&&E!==26&&E!==27||b===null||(A=b,f?(b=io(l,m),b!=null&&T.unshift(qo(l,b,A))):f||(b=io(l,m),b!=null&&T.push(qo(l,b,A)))),l=l.return}T.length!==0&&t.push({event:i,listeners:T})}var Hy=/\r\n?/g,By=/\u0000|\uFFFD/g;function Yd(t){return(typeof t=="string"?t:""+t).replace(Hy,`
`).replace(By,"")}function Od(t,i){return i=Yd(i),Yd(t)===i}function be(t,i,l,u,f,m){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||ci(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&ci(t,""+u);break;case"className":il(t,"class",u);break;case"tabIndex":il(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":il(t,l,u);break;case"style":Yu(t,u,m);break;case"data":if(i!=="object"){il(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){t.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(l);break}u=ll(""+u),t.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(i!=="input"&&be(t,i,"name",f.name,f,null),be(t,i,"formEncType",f.formEncType,f,null),be(t,i,"formMethod",f.formMethod,f,null),be(t,i,"formTarget",f.formTarget,f,null)):(be(t,i,"encType",f.encType,f,null),be(t,i,"method",f.method,f,null),be(t,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(l);break}u=ll(""+u),t.setAttribute(l,u);break;case"onClick":u!=null&&(t.onclick=Ft);break;case"onScroll":u!=null&&ge("scroll",t);break;case"onScrollEnd":u!=null&&ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=l}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}l=ll(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(l,""+u):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":u===!0?t.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(l,u):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(l,u):t.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(l):t.setAttribute(l,u);break;case"popover":ge("beforetoggle",t),ge("toggle",t),nl(t,"popover",u);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":nl(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=pg.get(l)||l,nl(t,l,u))}}function Rr(t,i,l,u,f,m){switch(l){case"style":Yu(t,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=l}}break;case"children":typeof u=="string"?ci(t,u):(typeof u=="number"||typeof u=="bigint")&&ci(t,""+u);break;case"onScroll":u!=null&&ge("scroll",t);break;case"onScrollEnd":u!=null&&ge("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Ft);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vu.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),i=l.slice(2,f?l.length-7:void 0),m=t[at]||null,m=m!=null?m[l]:null,typeof m=="function"&&t.removeEventListener(i,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(i,u,f);break e}l in t?t[l]=u:u===!0?t.setAttribute(l,""):nl(t,l,u)}}}function tt(t,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",t),ge("load",t);var u=!1,f=!1,m;for(m in l)if(l.hasOwnProperty(m)){var T=l[m];if(T!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:be(t,i,m,T,l,null)}}f&&be(t,i,"srcSet",l.srcSet,l,null),u&&be(t,i,"src",l.src,l,null);return;case"input":ge("invalid",t);var E=m=T=f=null,A=null,b=null;for(u in l)if(l.hasOwnProperty(u)){var G=l[u];if(G!=null)switch(u){case"name":f=G;break;case"type":T=G;break;case"checked":A=G;break;case"defaultChecked":b=G;break;case"value":m=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,i));break;default:be(t,i,u,G,l,null)}}zu(t,m,E,A,b,T,f,!1);return;case"select":ge("invalid",t),u=T=m=null;for(f in l)if(l.hasOwnProperty(f)&&(E=l[f],E!=null))switch(f){case"value":m=E;break;case"defaultValue":T=E;break;case"multiple":u=E;default:be(t,i,f,E,l,null)}i=m,l=T,t.multiple=!!u,i!=null?ui(t,!!u,i,!1):l!=null&&ui(t,!!u,l,!0);return;case"textarea":ge("invalid",t),m=f=u=null;for(T in l)if(l.hasOwnProperty(T)&&(E=l[T],E!=null))switch(T){case"value":u=E;break;case"defaultValue":f=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:be(t,i,T,E,l,null)}Fu(t,u,f,m);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(u=l[A],u!=null))switch(A){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:be(t,i,A,u,l,null)}return;case"dialog":ge("beforetoggle",t),ge("toggle",t),ge("cancel",t),ge("close",t);break;case"iframe":case"object":ge("load",t);break;case"video":case"audio":for(u=0;u<Vo.length;u++)ge(Vo[u],t);break;case"image":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"embed":case"source":case"link":ge("error",t),ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(b in l)if(l.hasOwnProperty(b)&&(u=l[b],u!=null))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:be(t,i,b,u,l,null)}return;default:if(za(i)){for(G in l)l.hasOwnProperty(G)&&(u=l[G],u!==void 0&&Rr(t,i,G,u,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(u=l[E],u!=null&&be(t,i,E,u,l,null))}function zy(t,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,E=null,A=null,b=null,G=null;for(I in l){var z=l[I];if(l.hasOwnProperty(I)&&z!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":A=z;default:u.hasOwnProperty(I)||be(t,i,I,null,u,z)}}for(var w in u){var I=u[w];if(z=l[w],u.hasOwnProperty(w)&&(I!=null||z!=null))switch(w){case"type":m=I;break;case"name":f=I;break;case"checked":b=I;break;case"defaultChecked":G=I;break;case"value":T=I;break;case"defaultValue":E=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,i));break;default:I!==z&&be(t,i,w,I,u,z)}}Ha(t,T,E,A,b,G,m,f);return;case"select":I=T=E=w=null;for(m in l)if(A=l[m],l.hasOwnProperty(m)&&A!=null)switch(m){case"value":break;case"multiple":I=A;default:u.hasOwnProperty(m)||be(t,i,m,null,u,A)}for(f in u)if(m=u[f],A=l[f],u.hasOwnProperty(f)&&(m!=null||A!=null))switch(f){case"value":w=m;break;case"defaultValue":E=m;break;case"multiple":T=m;default:m!==A&&be(t,i,f,m,u,A)}i=E,l=T,u=I,w!=null?ui(t,!!l,w,!1):!!u!=!!l&&(i!=null?ui(t,!!l,i,!0):ui(t,!!l,l?[]:"",!1));return;case"textarea":I=w=null;for(E in l)if(f=l[E],l.hasOwnProperty(E)&&f!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:be(t,i,E,null,u,f)}for(T in u)if(f=u[T],m=l[T],u.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":w=f;break;case"defaultValue":I=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&be(t,i,T,f,u,m)}Pu(t,w,I);return;case"option":for(var j in l)if(w=l[j],l.hasOwnProperty(j)&&w!=null&&!u.hasOwnProperty(j))switch(j){case"selected":t.selected=!1;break;default:be(t,i,j,null,u,w)}for(A in u)if(w=u[A],I=l[A],u.hasOwnProperty(A)&&w!==I&&(w!=null||I!=null))switch(A){case"selected":t.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:be(t,i,A,w,u,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in l)w=l[ae],l.hasOwnProperty(ae)&&w!=null&&!u.hasOwnProperty(ae)&&be(t,i,ae,null,u,w);for(b in u)if(w=u[b],I=l[b],u.hasOwnProperty(b)&&w!==I&&(w!=null||I!=null))switch(b){case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(137,i));break;default:be(t,i,b,w,u,I)}return;default:if(za(i)){for(var we in l)w=l[we],l.hasOwnProperty(we)&&w!==void 0&&!u.hasOwnProperty(we)&&Rr(t,i,we,void 0,u,w);for(G in u)w=u[G],I=l[G],!u.hasOwnProperty(G)||w===I||w===void 0&&I===void 0||Rr(t,i,G,w,u,I);return}}for(var N in l)w=l[N],l.hasOwnProperty(N)&&w!=null&&!u.hasOwnProperty(N)&&be(t,i,N,null,u,w);for(z in u)w=u[z],I=l[z],!u.hasOwnProperty(z)||w===I||w==null&&I==null||be(t,i,z,w,u,I)}function $d(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Py(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var f=l[u],m=f.transferSize,T=f.initiatorType,E=f.duration;if(m&&E&&$d(T)){for(T=0,E=f.responseEnd,u+=1;u<l.length;u++){var A=l[u],b=A.startTime;if(b>E)break;var G=A.transferSize,z=A.initiatorType;G&&$d(z)&&(A=A.responseEnd,T+=G*(A<E?1:(E-b)/(A-b)))}if(--u,i+=8*(m+T)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Nr=null,Dr=null;function ea(t){return t.nodeType===9?t:t.ownerDocument}function Kd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qd(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function br(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wr=null;function Fy(){var t=window.event;return t&&t.type==="popstate"?t===wr?!1:(wr=t,!0):(wr=null,!1)}var Xd=typeof setTimeout=="function"?setTimeout:void 0,Jy=typeof clearTimeout=="function"?clearTimeout:void 0,Zd=typeof Promise=="function"?Promise:void 0,Yy=typeof queueMicrotask=="function"?queueMicrotask:typeof Zd<"u"?function(t){return Zd.resolve(null).then(t).catch(Oy)}:Xd;function Oy(t){setTimeout(function(){throw t})}function Nn(t){return t==="head"}function Wd(t,i){var l=i,u=0;do{var f=l.nextSibling;if(t.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"||l==="/&"){if(u===0){t.removeChild(f),zi(i);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")Go(t.ownerDocument.documentElement);else if(l==="head"){l=t.ownerDocument.head,Go(l);for(var m=l.firstChild;m;){var T=m.nextSibling,E=m.nodeName;m[to]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=T}}else l==="body"&&Go(t.ownerDocument.body);l=f}while(l);zi(i)}function jd(t,i){var l=t;t=0;do{var u=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(t===0)break;t--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||t++;l=u}while(l)}function Ur(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ur(l),qa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function $y(t,i,l,u){for(;t.nodeType===1;){var f=l;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[to])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=wt(t.nextSibling),t===null)break}return null}function Ky(t,i,l){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=wt(t.nextSibling),t===null))return null;return t}function em(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=wt(t.nextSibling),t===null))return null;return t}function Ir(t){return t.data==="$?"||t.data==="$~"}function Lr(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Qy(t,i){var l=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||l.readyState!=="loading")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function wt(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var kr=null;function tm(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"||l==="/&"){if(i===0)return wt(t.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}t=t.nextSibling}return null}function nm(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return t;i--}else l!=="/$"&&l!=="/&"||i++}t=t.previousSibling}return null}function im(t,i,l){switch(i=ea(l),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Go(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);qa(t)}var Ut=new Map,om=new Set;function ta(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var an=X.d;X.d={f:Xy,r:Zy,D:Wy,C:jy,L:ev,m:tv,X:iv,S:nv,M:ov};function Xy(){var t=an.f(),i=Ol();return t||i}function Zy(t){var i=ai(t);i!==null&&i.tag===5&&i.type==="form"?Sf(i):an.r(t)}var Gi=typeof document>"u"?null:document;function lm(t,i,l){var u=Gi;if(u&&typeof i=="string"&&i){var f=At(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),om.has(f)||(om.add(f),t={rel:t,crossOrigin:l,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),tt(i,"link",t),Qe(i),u.head.appendChild(i)))}}function Wy(t){an.D(t),lm("dns-prefetch",t,null)}function jy(t,i){an.C(t,i),lm("preconnect",t,i)}function ev(t,i,l){an.L(t,i,l);var u=Gi;if(u&&t&&i){var f='link[rel="preload"][as="'+At(i)+'"]';i==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+At(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+At(l.imageSizes)+'"]')):f+='[href="'+At(t)+'"]';var m=f;switch(i){case"style":m=Hi(t);break;case"script":m=Bi(t)}Ut.has(m)||(t=C({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:t,as:i},l),Ut.set(m,t),u.querySelector(f)!==null||i==="style"&&u.querySelector(Ho(m))||i==="script"&&u.querySelector(Bo(m))||(i=u.createElement("link"),tt(i,"link",t),Qe(i),u.head.appendChild(i)))}}function tv(t,i){an.m(t,i);var l=Gi;if(l&&t){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+At(u)+'"][href="'+At(t)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Bi(t)}if(!Ut.has(m)&&(t=C({rel:"modulepreload",href:t},i),Ut.set(m,t),l.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Bo(m)))return}u=l.createElement("link"),tt(u,"link",t),Qe(u),l.head.appendChild(u)}}}function nv(t,i,l){an.S(t,i,l);var u=Gi;if(u&&t){var f=si(u).hoistableStyles,m=Hi(t);i=i||"default";var T=f.get(m);if(!T){var E={loading:0,preload:null};if(T=u.querySelector(Ho(m)))E.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":i},l),(l=Ut.get(m))&&Vr(t,l);var A=T=u.createElement("link");Qe(A),tt(A,"link",t),A._p=new Promise(function(b,G){A.onload=b,A.onerror=G}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,na(T,i,u)}T={type:"stylesheet",instance:T,count:1,state:E},f.set(m,T)}}}function iv(t,i){an.X(t,i);var l=Gi;if(l&&t){var u=si(l).hoistableScripts,f=Bi(t),m=u.get(f);m||(m=l.querySelector(Bo(f)),m||(t=C({src:t,async:!0},i),(i=Ut.get(f))&&qr(t,i),m=l.createElement("script"),Qe(m),tt(m,"link",t),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function ov(t,i){an.M(t,i);var l=Gi;if(l&&t){var u=si(l).hoistableScripts,f=Bi(t),m=u.get(f);m||(m=l.querySelector(Bo(f)),m||(t=C({src:t,async:!0,type:"module"},i),(i=Ut.get(f))&&qr(t,i),m=l.createElement("script"),Qe(m),tt(m,"link",t),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function am(t,i,l,u){var f=(f=re.current)?ta(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Hi(l.href),l=si(f).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=Hi(l.href);var m=si(f).hoistableStyles,T=m.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=f.querySelector(Ho(t)))&&!m._p&&(T.instance=m,T.state.loading=5),Ut.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ut.set(t,l),m||lv(f,t,l,T.state))),i&&u===null)throw Error(a(528,""));return T}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Bi(l),l=si(f).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Hi(t){return'href="'+At(t)+'"'}function Ho(t){return'link[rel="stylesheet"]['+t+"]"}function sm(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function lv(t,i,l,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),tt(i,"link",l),Qe(i),t.head.appendChild(i))}function Bi(t){return'[src="'+At(t)+'"]'}function Bo(t){return"script[async]"+t}function rm(t,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+At(l.href)+'"]');if(u)return i.instance=u,Qe(u),u;var f=C({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Qe(u),tt(u,"style",f),na(u,l.precedence,t),i.instance=u;case"stylesheet":f=Hi(l.href);var m=t.querySelector(Ho(f));if(m)return i.state.loading|=4,i.instance=m,Qe(m),m;u=sm(l),(f=Ut.get(f))&&Vr(u,f),m=(t.ownerDocument||t).createElement("link"),Qe(m);var T=m;return T._p=new Promise(function(E,A){T.onload=E,T.onerror=A}),tt(m,"link",u),i.state.loading|=4,na(m,l.precedence,t),i.instance=m;case"script":return m=Bi(l.src),(f=t.querySelector(Bo(m)))?(i.instance=f,Qe(f),f):(u=l,(f=Ut.get(m))&&(u=C({},l),qr(u,f)),t=t.ownerDocument||t,f=t.createElement("script"),Qe(f),tt(f,"link",u),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,na(u,l.precedence,t));return i.instance}function na(t,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,T=0;T<u.length;T++){var E=u[T];if(E.dataset.precedence===i)m=E;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(t,i.firstChild))}function Vr(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function qr(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ia=null;function um(t,i,l){if(ia===null){var u=new Map,f=ia=new Map;f.set(l,u)}else f=ia,u=f.get(l),u||(u=new Map,f.set(l,u));if(u.has(t))return u;for(u.set(t,null),l=l.getElementsByTagName(t),f=0;f<l.length;f++){var m=l[f];if(!(m[to]||m[Ze]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(i)||"";T=t+T;var E=u.get(T);E?E.push(m):u.set(T,[m])}}return u}function cm(t,i,l){t=t.ownerDocument||t,t.head.insertBefore(l,i==="title"?t.querySelector("head > title"):null)}function av(t,i,l){if(l===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function fm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function sv(t,i,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=Hi(u.href),m=i.querySelector(Ho(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=oa.bind(t),i.then(t,t)),l.state.loading|=4,l.instance=m,Qe(m);return}m=i.ownerDocument||i,u=sm(u),(f=Ut.get(f))&&Vr(u,f),m=m.createElement("link"),Qe(m);var T=m;T._p=new Promise(function(E,A){T.onload=E,T.onerror=A}),tt(m,"link",u),l.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(t.count++,l=oa.bind(t),i.addEventListener("load",l),i.addEventListener("error",l))}}var Gr=0;function rv(t,i){return t.stylesheets&&t.count===0&&aa(t,t.stylesheets),0<t.count||0<t.imgCount?function(l){var u=setTimeout(function(){if(t.stylesheets&&aa(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&Gr===0&&(Gr=62500*Py());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&aa(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Gr?50:800)+i);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function oa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)aa(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var la=null;function aa(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,la=new Map,i.forEach(uv,t),la=null,oa.call(t))}function uv(t,i){if(!(i.state.loading&4)){var l=la.get(t);if(l)var u=l.get(null);else{l=new Map,la.set(t,l);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),u=T)}u&&l.set(null,u)}f=i.instance,T=f.getAttribute("data-precedence"),m=l.get(T)||u,m===u&&l.set(null,f),l.set(T,f),this.count++,u=oa.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var zo={$$typeof:F,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function cv(t,i,l,u,f,m,T,E,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ia(0),this.hiddenUpdates=Ia(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function dm(t,i,l,u,f,m,T,E,A,b,G,z){return t=new cv(t,i,l,T,A,b,G,z,E),i=1,m===!0&&(i|=24),m=yt(3,null,null,i),t.current=m,m.stateNode=t,i=ys(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:l,cache:i},Ss(m),t}function mm(t){return t?(t=yi,t):yi}function pm(t,i,l,u,f,m){f=mm(f),u.context===null?u.context=f:u.pendingContext=f,u=yn(i),u.payload={element:l},m=m===void 0?null:m,m!==null&&(u.callback=m),l=vn(t,u,i),l!==null&&(dt(l,t,i),To(l,t,i))}function hm(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<i?l:i}}function Hr(t,i){hm(t,i),(t=t.alternate)&&hm(t,i)}function gm(t){if(t.tag===13||t.tag===31){var i=Pn(t,67108864);i!==null&&dt(i,t,67108864),Hr(t,67108864)}}function ym(t){if(t.tag===13||t.tag===31){var i=Et();i=La(i);var l=Pn(t,i);l!==null&&dt(l,t,i),Hr(t,i)}}var sa=!0;function fv(t,i,l,u){var f=k.T;k.T=null;var m=X.p;try{X.p=2,Br(t,i,l,u)}finally{X.p=m,k.T=f}}function dv(t,i,l,u){var f=k.T;k.T=null;var m=X.p;try{X.p=8,Br(t,i,l,u)}finally{X.p=m,k.T=f}}function Br(t,i,l,u){if(sa){var f=zr(u);if(f===null)Mr(t,i,u,ra,l),Tm(t,u);else if(pv(f,t,i,l,u))u.stopPropagation();else if(Tm(t,u),i&4&&-1<mv.indexOf(t)){for(;f!==null;){var m=ai(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=qn(m.pendingLanes);if(T!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;T;){var A=1<<31-ht(T);E.entanglements[1]|=A,T&=~A}zt(m),(xe&6)===0&&(Jl=mt()+500,ko(0))}}break;case 31:case 13:E=Pn(m,2),E!==null&&dt(E,m,2),Ol(),Hr(m,2)}if(m=zr(u),m===null&&Mr(t,i,u,ra,l),m===f)break;f=m}f!==null&&u.stopPropagation()}else Mr(t,i,u,null,l)}}function zr(t){return t=Fa(t),Pr(t)}var ra=null;function Pr(t){if(ra=null,t=li(t),t!==null){var i=d(t);if(i===null)t=null;else{var l=i.tag;if(l===13){if(t=p(i),t!==null)return t;t=null}else if(l===31){if(t=g(i),t!==null)return t;t=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return ra=t,null}function vm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wh()){case _u:return 2;case Mu:return 8;case Zo:case jh:return 32;case Ru:return 268435456;default:return 32}default:return 32}}var Fr=!1,Dn=null,bn=null,wn=null,Po=new Map,Fo=new Map,Un=[],mv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tm(t,i){switch(t){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Po.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(i.pointerId)}}function Jo(t,i,l,u,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},i!==null&&(i=ai(i),i!==null&&gm(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function pv(t,i,l,u,f){switch(i){case"focusin":return Dn=Jo(Dn,t,i,l,u,f),!0;case"dragenter":return bn=Jo(bn,t,i,l,u,f),!0;case"mouseover":return wn=Jo(wn,t,i,l,u,f),!0;case"pointerover":var m=f.pointerId;return Po.set(m,Jo(Po.get(m)||null,t,i,l,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Fo.set(m,Jo(Fo.get(m)||null,t,i,l,u,f)),!0}return!1}function Cm(t){var i=li(t.target);if(i!==null){var l=d(i);if(l!==null){if(i=l.tag,i===13){if(i=p(l),i!==null){t.blockedOn=i,Iu(t.priority,function(){ym(l)});return}}else if(i===31){if(i=g(l),i!==null){t.blockedOn=i,Iu(t.priority,function(){ym(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ua(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var l=zr(t.nativeEvent);if(l===null){l=t.nativeEvent;var u=new l.constructor(l.type,l);Pa=u,l.target.dispatchEvent(u),Pa=null}else return i=ai(l),i!==null&&gm(i),t.blockedOn=l,!1;i.shift()}return!0}function Sm(t,i,l){ua(t)&&l.delete(i)}function hv(){Fr=!1,Dn!==null&&ua(Dn)&&(Dn=null),bn!==null&&ua(bn)&&(bn=null),wn!==null&&ua(wn)&&(wn=null),Po.forEach(Sm),Fo.forEach(Sm)}function ca(t,i){t.blockedOn===i&&(t.blockedOn=null,Fr||(Fr=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,hv)))}var fa=null;function Em(t){fa!==t&&(fa=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){fa===t&&(fa=null);for(var i=0;i<t.length;i+=3){var l=t[i],u=t[i+1],f=t[i+2];if(typeof u!="function"){if(Pr(u||l)===null)continue;break}var m=ai(l);m!==null&&(t.splice(i,3),i-=3,zs(m,{pending:!0,data:f,method:l.method,action:u},u,f))}}))}function zi(t){function i(A){return ca(A,t)}Dn!==null&&ca(Dn,t),bn!==null&&ca(bn,t),wn!==null&&ca(wn,t),Po.forEach(i),Fo.forEach(i);for(var l=0;l<Un.length;l++){var u=Un[l];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Un.length&&(l=Un[0],l.blockedOn===null);)Cm(l),l.blockedOn===null&&Un.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var f=l[u],m=l[u+1],T=f[at]||null;if(typeof m=="function")T||Em(l);else if(T){var E=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[at]||null)E=T.formAction;else if(Pr(f)!==null)continue}else E=T.action;typeof E=="function"?l[u+1]=E:(l.splice(u,3),u-=3),Em(l)}}}function xm(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Jr(t){this._internalRoot=t}da.prototype.render=Jr.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var l=i.current,u=Et();pm(l,u,t,i,null,null)},da.prototype.unmount=Jr.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;pm(t.current,2,null,t,null,null),Ol(),i[oi]=null}};function da(t){this._internalRoot=t}da.prototype.unstable_scheduleHydration=function(t){if(t){var i=Uu();t={blockedOn:null,target:t,priority:i};for(var l=0;l<Un.length&&i!==0&&i<Un[l].priority;l++);Un.splice(l,0,t),l===0&&Cm(t)}};var Am=e.version;if(Am!=="19.2.0")throw Error(a(527,Am,"19.2.0"));X.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=h(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var gv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ma.isDisabled&&ma.supportsFiber)try{Wi=ma.inject(gv),pt=ma}catch{}}return Oo.createRoot=function(t,i){if(!c(t))throw Error(a(299));var l=!1,u="",f=wf,m=Uf,T=If;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=dm(t,1,!1,null,null,l,u,null,f,m,T,xm),t[oi]=i.current,_r(t),new Jr(i)},Oo.hydrateRoot=function(t,i,l){if(!c(t))throw Error(a(299));var u=!1,f="",m=wf,T=Uf,E=If,A=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),i=dm(t,1,!0,i,l??null,u,f,A,m,T,E,xm),i.context=mm(null),l=i.current,u=Et(),u=La(u),f=yn(u),f.callback=null,vn(l,f,u),l=u,i.current.lanes=l,eo(i,l),zt(i),t[oi]=i.current,_r(t),new da(i)},Oo.version="19.2.0",Oo}var Lm;function Mv(){if(Lm)return $r.exports;Lm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$r.exports=_v(),$r.exports}var Rv=Mv();const Nv=rh(Rv),Dv=new Set(["CONTENTS","TABLE OF CONTENTS","COVER","TITLE","AUTHOR","COPYRIGHT","DEDICATION","PUBLISHING HISTORY","ACKNOWLEDGMENTS","EPIGRAPH"]);function bv(n){if(!n)return"Untitled Book";const e=n.split(`
`);for(const o of e){const a=o.trim();if(a.length>0)return a.substring(0,100)}return"Untitled Book"}function wv(n){const e=[];if(!n)return e;const a=(`



`+n).split(`
`);let c=null;for(let d=0;d<a.length;d++){const p=a[d],g=p.trim(),y=g.length>0&&g.length<50&&g===g.toUpperCase()&&/[A-Z]/.test(g)&&!/^[0-9\s.,!?-]+$/.test(g)&&!Dv.has(g),h=d>=4&&a[d-1].trim()===""&&a[d-2].trim()===""&&a[d-3].trim()===""&&a[d-4].trim()==="";y&&h?(c&&e.push({...c,content:c.content.trim()}),c={title:g,content:""}):c&&(c.content+=p+`
`)}return c&&c.content.trim()&&e.push({...c,content:c.content.trim()}),e}function km(n){const e=new Set(["P","DIV","H1","H2","H3","H4","H5","H6","LI","BLOCKQUOTE","SECTION","ARTICLE"]),o=[];function a(g){if(g.nodeType===Node.TEXT_NODE){const h=(g.textContent||"").replace(/\s+/g," ");h.trim().length>0&&o.push(h)}else if(g.nodeType===Node.ELEMENT_NODE){const y=g,h=y.tagName;if(h==="BR"){o.push(`
`);return}for(let v=0;v<y.childNodes.length;v++)a(y.childNodes[v]);e.has(h)&&o.push(`

`)}}a(n);let c=o.join("");c=c.replace(/ +/g," ");const d=c.split(`
`).map(g=>g.trim()),p=[];for(let g=0;g<d.length;g++){const y=d[g];y.length>0?p.push(y):p.length>0&&g<d.length-1&&d[g+1].length>0&&p[p.length-1]!==""&&p.push("")}return c=p.join(`
`),c=c.replace(/\n{3,}/g,`

`),c.trim()}async function Uv(n){var o,a,c;const e=[];try{const d=ePub(n);await d.ready;const p=((a=(o=d.packaging)==null?void 0:o.metadata)==null?void 0:a.title)||"Untitled Book";console.log("EPUB loaded successfully"),console.log("Book title:",p),console.log("Spine items:",d.spine.items.length),console.log("TOC items:",d.navigation.toc.length);const g=d.navigation.toc;for(const y of d.spine.items)if(y.href)try{const h=await d.load(y.href);let v;typeof h=="string"?v=new DOMParser().parseFromString(h,"text/html"):h instanceof Document?v=h:v=h.documentElement?h:new DOMParser().parseFromString(String(h),"text/html");const C=km(v.body);if(console.log(`Section ${y.href}: ${C.length} chars, preview: "${C.substring(0,100)}"`),C.length>50){const S=g.find(U=>d.path.resolve(U.href)===d.path.resolve(y.href)),M=((c=S==null?void 0:S.label)==null?void 0:c.trim().replace(/\s+/g," "))||`Chapter ${e.length+1}`;e.push({title:M,content:C})}}catch(h){console.warn(`Failed to load section ${y.href}:`,h)}if(e.length===0&&g.length>0){console.warn("Could not parse chapters from EPUB spine, trying TOC directly.");for(const y of g)if(y.href)try{const h=await d.load(y.href);let v;typeof h=="string"?v=new DOMParser().parseFromString(h,"text/html"):h instanceof Document?v=h:v=h.documentElement?h:new DOMParser().parseFromString(String(h),"text/html");const C=km(v.body);console.log(`TOC ${y.href}: ${C.length} chars`),C.length>50&&e.push({title:y.label.trim().replace(/\s+/g," "),content:C})}catch(h){console.warn(`Failed to load TOC section ${y.href}:`,h)}}return console.log(`Successfully parsed ${e.length} chapters`),{title:p,chapters:e}}catch(d){throw console.error("EPUB parsing error:",d),new Error(`Failed to parse EPUB: ${d instanceof Error?d.message:"Unknown error"}`)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Iv,Lv;function kv(){return{geminiUrl:Iv,vertexUrl:Lv}}function Vv(n,e,o,a){var c,d;if(!(n!=null&&n.baseUrl)){const p=kv();return e?(c=p.vertexUrl)!==null&&c!==void 0?c:o:(d=p.geminiUrl)!==null&&d!==void 0?d:a}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ni{}function ee(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(a,c)=>{if(Object.prototype.hasOwnProperty.call(e,c)){const d=e[c];return d!=null?String(d):""}else throw new Error(`Key '${c}' not found in valueMap.`)})}function r(n,e,o){for(let d=0;d<e.length-1;d++){const p=e[d];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in n))if(Array.isArray(o))n[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(n[g])){const y=n[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const v=y[h];r(v,e.slice(d+1),o[h])}else for(const h of y)r(h,e.slice(d+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in n||(n[g]=[{}]);const y=n[g];r(y[0],e.slice(d+1),o);return}(!n[p]||typeof n[p]!="object")&&(n[p]={}),n=n[p]}const a=e[e.length-1],c=n[a];if(c!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===c)return;if(typeof c=="object"&&typeof o=="object"&&c!==null&&o!==null)Object.assign(c,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(n,o):n[a]=o}function s(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return;const a=e[o];if(a.endsWith("[]")){const c=a.slice(0,-2);if(c in n){const d=n[c];return Array.isArray(d)?d.map(p=>s(p,e.slice(o+1))):void 0}else return}else n=n[a]}return n}catch(o){if(o instanceof TypeError)return;throw o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function du(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qv(n){const e={},o=s(n,["operationName"]);o!=null&&r(e,["operationName"],o);const a=s(n,["resourceName"]);return a!=null&&r(e,["_url","resourceName"],a),e}function Gv(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const a=s(n,["metadata"]);a!=null&&r(e,["metadata"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const p=s(n,["response","generateVideoResponse"]);return p!=null&&r(e,["response"],Bv(p)),e}function Hv(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const a=s(n,["metadata"]);a!=null&&r(e,["metadata"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const p=s(n,["response"]);return p!=null&&r(e,["response"],zv(p)),e}function Bv(n){const e={},o=s(n,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>Pv(p))),r(e,["generatedVideos"],d)}const a=s(n,["raiMediaFilteredCount"]);a!=null&&r(e,["raiMediaFilteredCount"],a);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function zv(n){const e={},o=s(n,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>Fv(p))),r(e,["generatedVideos"],d)}const a=s(n,["raiMediaFilteredCount"]);a!=null&&r(e,["raiMediaFilteredCount"],a);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function Pv(n){const e={},o=s(n,["_self"]);return o!=null&&r(e,["video"],Ov(o)),e}function Fv(n){const e={},o=s(n,["_self"]);return o!=null&&r(e,["video"],$v(o)),e}function Jv(n){const e={},o=s(n,["operationName"]);return o!=null&&r(e,["_url","operationName"],o),e}function Yv(n){const e={},o=s(n,["operationName"]);return o!=null&&r(e,["_url","operationName"],o),e}function Ov(n){const e={},o=s(n,["video","uri"]);o!=null&&r(e,["uri"],o);const a=s(n,["video","encodedVideo"]);a!=null&&r(e,["videoBytes"],du(a));const c=s(n,["encoding"]);return c!=null&&r(e,["mimeType"],c),e}function $v(n){const e={},o=s(n,["gcsUri"]);o!=null&&r(e,["uri"],o);const a=s(n,["bytesBase64Encoded"]);a!=null&&r(e,["videoBytes"],du(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Vm||(Vm={}));var qm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(qm||(qm={}));var Ln;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Ln||(Ln={}));var Gm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Gm||(Gm={}));var Hm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Hm||(Hm={}));var Bm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Bm||(Bm={}));var zm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(zm||(zm={}));var Pm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Pm||(Pm={}));var Fm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Fm||(Fm={}));var Jm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Jm||(Jm={}));var Ym;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT"})(Ym||(Ym={}));var Om;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Om||(Om={}));var $m;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})($m||($m={}));var Km;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(Km||(Km={}));var Qm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Qm||(Qm={}));var Ta;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Ta||(Ta={}));var Xm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Xm||(Xm={}));var tu;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(tu||(tu={}));var Zm;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Zm||(Zm={}));var Wm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Wm||(Wm={}));var jm;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V"})(jm||(jm={}));var ep;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(ep||(ep={}));var tp;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(tp||(tp={}));var np;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(np||(np={}));var ip;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ip||(ip={}));var op;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(op||(op={}));var lp;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(lp||(lp={}));var ap;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(ap||(ap={}));var sp;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(sp||(sp={}));var rp;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(rp||(rp={}));var up;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(up||(up={}));var cp;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(cp||(cp={}));var fp;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(fp||(fp={}));var dp;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(dp||(dp={}));var mp;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(mp||(mp={}));var pp;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(pp||(pp={}));var hp;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(hp||(hp={}));var gp;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(gp||(gp={}));var yp;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(yp||(yp={}));var vp;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(vp||(vp={}));var Tp;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Tp||(Tp={}));var Cp;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Cp||(Cp={}));var Sp;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Sp||(Sp={}));var Ep;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Ep||(Ep={}));var xp;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(xp||(xp={}));var Ap;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Ap||(Ap={}));var _p;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(_p||(_p={}));var Mp;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Mp||(Mp={}));var Fi;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Fi||(Fi={}));class nu{constructor(e){const o={};for(const a of e.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class $o{get text(){var e,o,a,c,d,p,g,y;if(((c=(a=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const C=[];for(const S of(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[M,U]of Object.entries(S))M!=="text"&&M!=="thought"&&(U!==null||U!==void 0)&&C.push(M);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,h+=S.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var e,o,a,c,d,p,g,y;if(((c=(a=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const C of(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[S,M]of Object.entries(C))S!=="inlineData"&&(M!==null||M!==void 0)&&v.push(S);C.inlineData&&typeof C.inlineData.data=="string"&&(h+=atob(C.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,o,a,c,d,p,g,y;if(((c=(a=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,o,a,c,d,p,g,y,h;if(((c=(a=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,o,a,c,d,p,g,y,h;if(((c=(a=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class Rp{}class Np{}class Kv{}class Qv{}class Xv{}class Zv{}class Dp{}class bp{}class wp{}class Wv{}class Ca{_fromAPIResponse({apiResponse:e,isVertexAI:o}){const a=new Ca;let c;const d=e;return o?c=Hv(d):c=Gv(d),Object.assign(a,c),a}}class Up{}class Ip{}class Lp{}class jv{}class eT{}class tT{}class kp{}class nT{get text(){var e,o,a;let c="",d=!1;const p=[];for(const g of(a=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,c+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,o,a;let c="";const d=[];for(const p of(a=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&d.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}}class iT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ee(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function uh(n,e){const o=Ee(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function ch(n){return Array.isArray(n)?n.map(e=>Sa(e)):[Sa(n)]}function Sa(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function fh(n){const e=Sa(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function dh(n){const e=Sa(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Vp(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function mh(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Vp(e)):[Vp(n)]}function iu(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function qp(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Gp(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function it(n){if(n==null)throw new Error("ContentUnion is required");return iu(n)?n:{role:"user",parts:mh(n)}}function mu(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const a=it(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(n.isVertexAI()){const o=it(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>it(o)):[it(e)]}function It(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(qp(n)||Gp(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[it(n)]}const e=[],o=[],a=iu(n[0]);for(const c of n){const d=iu(c);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)e.push(c);else{if(qp(c)||Gp(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(c)}}return a||e.push({role:"user",parts:mh(o)}),e}function oT(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(a=>a!=="null");if(o.length===1)e.type=Object.values(Ln).includes(o[0].toUpperCase())?o[0].toUpperCase():Ln.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const a of o)e.anyOf.push({type:Object.values(Ln).includes(a.toUpperCase())?a.toUpperCase():Ln.TYPE_UNSPECIFIED})}}function Ji(n){const e={},o=["items"],a=["anyOf"],c=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=n.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(e.nullable=!0,n=d[1]):d[1].type==="null"&&(e.nullable=!0,n=d[0])),n.type instanceof Array&&oT(n.type,e);for(const[p,g]of Object.entries(n))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(Ln).includes(g.toUpperCase())?g.toUpperCase():Ln.TYPE_UNSPECIFIED}else if(o.includes(p))e[p]=Ji(g);else if(a.includes(p)){const y=[];for(const h of g){if(h.type=="null"){e.nullable=!0;continue}y.push(Ji(h))}e[p]=y}else if(c.includes(p)){const y={};for(const[h,v]of Object.entries(g))y[h]=Ji(v);e[p]=y}else{if(p==="additionalProperties")continue;e[p]=g}return e}function pu(n){return Ji(n)}function hu(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function gu(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function $i(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ji(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ji(e.response));return n}function Ki(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function lT(n,e,o,a=1){const c=!e.startsWith(`${o}/`)&&e.split("/").length===a;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:c?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:c?`${o}/${e}`:e}function rn(n,e){if(typeof e!="string")throw new Error("name must be a string");return lT(n,e,"cachedContents")}function ph(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function ii(n){return du(n)}function aT(n){return n!=null&&typeof n=="object"&&"name"in n}function sT(n){return n!=null&&typeof n=="object"&&"video"in n}function rT(n){return n!=null&&typeof n=="object"&&"uri"in n}function hh(n){var e;let o;if(aT(n)&&(o=n.name),!(rT(n)&&(o=n.uri,o===void 0))&&!(sT(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const c=o.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${o}`);o=c[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function gh(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function yh(n){for(const e of["models","tunedModels","publisherModels"])if(uT(n,e))return n[e];return[]}function uT(n,e){return n!==null&&typeof n=="object"&&e in n}function cT(n,e={}){const o=n,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),e.behavior&&(a.behavior=e.behavior),{functionDeclarations:[a]}}function fT(n,e={}){const o=[],a=new Set;for(const c of n){const d=c.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const p=cT(c,e);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function vh(n,e){let o;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,c=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(n.isVertexAI()){if(c>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||c!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function dT(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Th(n){if(typeof n!="object"||n===null)return{};const e=n,o=e.inlinedResponses;if(typeof o!="object"||o===null)return n;const c=o.inlinedResponses;if(!Array.isArray(c)||c.length===0)return n;let d=!1;for(const p of c){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Qi(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Ch(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mT(n){const e={},o=s(n,["responsesFile"]);o!=null&&r(e,["fileName"],o);const a=s(n,["inlinedResponses","inlinedResponses"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>t0(p))),r(e,["inlinedResponses"],d)}const c=s(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>jT(p))),r(e,["inlinedEmbedContentResponses"],d)}return e}function pT(n){const e={},o=s(n,["predictionsFormat"]);o!=null&&r(e,["format"],o);const a=s(n,["gcsDestination","outputUriPrefix"]);a!=null&&r(e,["gcsUri"],a);const c=s(n,["bigqueryDestination","outputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function hT(n){const e={},o=s(n,["format"]);o!=null&&r(e,["predictionsFormat"],o);const a=s(n,["gcsUri"]);a!=null&&r(e,["gcsDestination","outputUriPrefix"],a);const c=s(n,["bigqueryUri"]);if(c!=null&&r(e,["bigqueryDestination","outputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Pi(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const a=s(n,["metadata","displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["metadata","state"]);c!=null&&r(e,["state"],Ch(c));const d=s(n,["metadata","createTime"]);d!=null&&r(e,["createTime"],d);const p=s(n,["metadata","endTime"]);p!=null&&r(e,["endTime"],p);const g=s(n,["metadata","updateTime"]);g!=null&&r(e,["updateTime"],g);const y=s(n,["metadata","model"]);y!=null&&r(e,["model"],y);const h=s(n,["metadata","output"]);return h!=null&&r(e,["dest"],mT(Th(h))),e}function ou(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["state"]);c!=null&&r(e,["state"],Ch(c));const d=s(n,["error"]);d!=null&&r(e,["error"],Eh(d));const p=s(n,["createTime"]);p!=null&&r(e,["createTime"],p);const g=s(n,["startTime"]);g!=null&&r(e,["startTime"],g);const y=s(n,["endTime"]);y!=null&&r(e,["endTime"],y);const h=s(n,["updateTime"]);h!=null&&r(e,["updateTime"],h);const v=s(n,["model"]);v!=null&&r(e,["model"],v);const C=s(n,["inputConfig"]);C!=null&&r(e,["src"],gT(C));const S=s(n,["outputConfig"]);return S!=null&&r(e,["dest"],pT(Th(S))),e}function gT(n){const e={},o=s(n,["instancesFormat"]);o!=null&&r(e,["format"],o);const a=s(n,["gcsSource","uris"]);a!=null&&r(e,["gcsUri"],a);const c=s(n,["bigquerySource","inputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function yT(n,e){const o={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=s(e,["fileName"]);a!=null&&r(o,["fileName"],a);const c=s(e,["inlinedRequests"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>e0(n,p))),r(o,["requests","requests"],d)}return o}function vT(n){const e={},o=s(n,["format"]);o!=null&&r(e,["instancesFormat"],o);const a=s(n,["gcsUri"]);a!=null&&r(e,["gcsSource","uris"],a);const c=s(n,["bigqueryUri"]);if(c!=null&&r(e,["bigquerySource","inputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function TT(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function CT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function ST(n,e){const o={},a=s(e,["name"]);return a!=null&&r(o,["_url","name"],Qi(n,a)),o}function ET(n,e){const o={},a=s(e,["name"]);return a!=null&&r(o,["_url","name"],Qi(n,a)),o}function xT(n){const e={},o=s(n,["content"]);o!=null&&r(e,["content"],RT(o));const a=s(n,["citationMetadata"]);a!=null&&r(e,["citationMetadata"],AT(a));const c=s(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const p=s(n,["urlContextMetadata"]);p!=null&&r(e,["urlContextMetadata"],x0(p));const g=s(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const h=s(n,["index"]);h!=null&&r(e,["index"],h);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const C=s(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function AT(n){const e={},o=s(n,["citationSources"]);return o!=null&&r(e,["citations"],o),e}function _T(n){const e={},o=s(n,["environment"]);o!=null&&r(e,["environment"],o);const a=s(n,["excludedPredefinedFunctions"]);return a!=null&&r(e,["excludedPredefinedFunctions"],a),e}function MT(n){const e={},o=s(n,["values"]);return o!=null&&r(e,["values"],o),e}function RT(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>f0(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function Sh(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d0(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function NT(n,e){const o={},a=s(n,["displayName"]);if(e!==void 0&&a!=null&&r(e,["batch","displayName"],a),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function DT(n,e){const o={},a=s(n,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const c=s(n,["dest"]);return e!==void 0&&c!=null&&r(e,["outputConfig"],hT(dT(c))),o}function Zr(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],Ee(n,a));const c=s(e,["src"]);c!=null&&r(o,["batch","inputConfig"],yT(n,vh(n,c)));const d=s(e,["config"]);return d!=null&&NT(d,o),o}function bT(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["model"],Ee(n,a));const c=s(e,["src"]);c!=null&&r(o,["inputConfig"],vT(vh(n,c)));const d=s(e,["config"]);return d!=null&&DT(d,o),o}function wT(n,e){const o={},a=s(n,["displayName"]);return e!==void 0&&a!=null&&r(e,["batch","displayName"],a),o}function Wr(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],Ee(n,a));const c=s(e,["src"]);c!=null&&r(o,["batch","inputConfig"],HT(n,c));const d=s(e,["config"]);return d!=null&&wT(d,o),o}function UT(n,e){const o={},a=s(e,["name"]);return a!=null&&r(o,["_url","name"],Qi(n,a)),o}function IT(n,e){const o={},a=s(e,["name"]);return a!=null&&r(o,["_url","name"],Qi(n,a)),o}function LT(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);return d!=null&&r(e,["error"],yu(d)),e}function kT(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);return d!=null&&r(e,["error"],Eh(d)),e}function VT(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function qT(n,e){const o={},a=s(e,["contents"]);a!=null&&r(o,["requests[]","request","content"],mu(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],GT(c,o)),o}function GT(n,e){const o={},a=s(n,["taskType"]);e!==void 0&&a!=null&&r(e,["requests[]","taskType"],a);const c=s(n,["title"]);e!==void 0&&c!=null&&r(e,["requests[]","title"],c);const d=s(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&r(e,["requests[]","outputDimensionality"],d),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function HT(n,e){const o={},a=s(e,["fileName"]);a!=null&&r(o,["file_name"],a);const c=s(e,["inlinedRequests"]);return c!=null&&r(o,["requests"],qT(n,c)),o}function BT(n){const e={},o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function zT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function PT(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const a=s(n,["args"]);a!=null&&r(e,["args"],a);const c=s(n,["name"]);return c!=null&&r(e,["name"],c),e}function FT(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const a=s(n,["args"]);a!=null&&r(e,["args"],a);const c=s(n,["name"]);return c!=null&&r(e,["name"],c),e}function JT(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function YT(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const p=s(n,["parametersJsonSchema"]);p!=null&&r(e,["parametersJsonSchema"],p);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function OT(n,e,o){const a={},c=s(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],Sh(it(c)));const d=s(e,["temperature"]);d!=null&&r(a,["temperature"],d);const p=s(e,["topP"]);p!=null&&r(a,["topP"],p);const g=s(e,["topK"]);g!=null&&r(a,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&r(a,["candidateCount"],y);const h=s(e,["maxOutputTokens"]);h!=null&&r(a,["maxOutputTokens"],h);const v=s(e,["stopSequences"]);v!=null&&r(a,["stopSequences"],v);const C=s(e,["responseLogprobs"]);C!=null&&r(a,["responseLogprobs"],C);const S=s(e,["logprobs"]);S!=null&&r(a,["logprobs"],S);const M=s(e,["presencePenalty"]);M!=null&&r(a,["presencePenalty"],M);const U=s(e,["frequencyPenalty"]);U!=null&&r(a,["frequencyPenalty"],U);const q=s(e,["seed"]);q!=null&&r(a,["seed"],q);const B=s(e,["responseMimeType"]);B!=null&&r(a,["responseMimeType"],B);const V=s(e,["responseSchema"]);V!=null&&r(a,["responseSchema"],g0(pu(V)));const Y=s(e,["responseJsonSchema"]);if(Y!=null&&r(a,["responseJsonSchema"],Y),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=s(e,["safetySettings"]);if(o!==void 0&&F!=null){let fe=F;Array.isArray(fe)&&(fe=fe.map(Ve=>h0(Ve))),r(o,["safetySettings"],fe)}const K=s(e,["tools"]);if(o!==void 0&&K!=null){let fe=Ki(K);Array.isArray(fe)&&(fe=fe.map(Ve=>E0($i(Ve)))),r(o,["tools"],fe)}const W=s(e,["toolConfig"]);if(o!==void 0&&W!=null&&r(o,["toolConfig"],S0(W)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const J=s(e,["cachedContent"]);o!==void 0&&J!=null&&r(o,["cachedContent"],rn(n,J));const O=s(e,["responseModalities"]);O!=null&&r(a,["responseModalities"],O);const Q=s(e,["mediaResolution"]);Q!=null&&r(a,["mediaResolution"],Q);const $=s(e,["speechConfig"]);if($!=null&&r(a,["speechConfig"],T0(hu($))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=s(e,["thinkingConfig"]);ne!=null&&r(a,["thinkingConfig"],C0(ne));const me=s(e,["imageConfig"]);return me!=null&&r(a,["imageConfig"],WT(me)),a}function $T(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>xT(h))),r(e,["candidates"],y)}const c=s(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const d=s(n,["promptFeedback"]);d!=null&&r(e,["promptFeedback"],d);const p=s(n,["responseId"]);p!=null&&r(e,["responseId"],p);const g=s(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function KT(n,e){const o={},a=s(e,["name"]);return a!=null&&r(o,["_url","name"],Qi(n,a)),o}function QT(n,e){const o={},a=s(e,["name"]);return a!=null&&r(o,["_url","name"],Qi(n,a)),o}function XT(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],VT(o)),e}function ZT(n){const e={},o=s(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],n0(o)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function WT(n){const e={},o=s(n,["aspectRatio"]);return o!=null&&r(e,["aspectRatio"],o),e}function jT(n){const e={},o=s(n,["response"]);o!=null&&r(e,["response"],y0(o));const a=s(n,["error"]);return a!=null&&r(e,["error"],yu(a)),e}function e0(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["request","model"],Ee(n,a));const c=s(e,["contents"]);if(c!=null){let p=It(c);Array.isArray(p)&&(p=p.map(g=>Sh(g))),r(o,["request","contents"],p)}const d=s(e,["config"]);return d!=null&&r(o,["request","generationConfig"],OT(n,d,o)),o}function t0(n){const e={},o=s(n,["response"]);o!=null&&r(e,["response"],$T(o));const a=s(n,["error"]);return a!=null&&r(e,["error"],yu(a)),e}function n0(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function yu(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const a=s(n,["code"]);a!=null&&r(e,["code"],a);const c=s(n,["message"]);return c!=null&&r(e,["message"],c),e}function Eh(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const a=s(n,["code"]);a!=null&&r(e,["code"],a);const c=s(n,["message"]);return c!=null&&r(e,["message"],c),e}function i0(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function o0(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);if(e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function l0(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),o}function a0(n){const e={},o=s(n,["config"]);return o!=null&&o0(o,e),e}function s0(n){const e={},o=s(n,["config"]);return o!=null&&l0(o,e),e}function r0(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["operations"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>Pi(p))),r(e,["batchJobs"],d)}return e}function u0(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["batchPredictionJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>ou(p))),r(e,["batchJobs"],d)}return e}function c0(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>v0(c))),r(e,["speakerVoiceConfigs"],a)}return e}function f0(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],M0(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],TT(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],BT(d));const p=s(n,["thoughtSignature"]);p!=null&&r(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],PT(g));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function d0(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],R0(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],CT(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],zT(d));const p=s(n,["thoughtSignature"]);p!=null&&r(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],FT(g));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function m0(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function p0(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],i0(o));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function h0(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(n,["category"]);o!=null&&r(e,["category"],o);const a=s(n,["threshold"]);return a!=null&&r(e,["threshold"],a),e}function g0(n){const e={},o=s(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const a=s(n,["default"]);a!=null&&r(e,["default"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const p=s(n,["example"]);p!=null&&r(e,["example"],p);const g=s(n,["format"]);g!=null&&r(e,["format"],g);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const h=s(n,["maxItems"]);h!=null&&r(e,["maxItems"],h);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const C=s(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const S=s(n,["maximum"]);S!=null&&r(e,["maximum"],S);const M=s(n,["minItems"]);M!=null&&r(e,["minItems"],M);const U=s(n,["minLength"]);U!=null&&r(e,["minLength"],U);const q=s(n,["minProperties"]);q!=null&&r(e,["minProperties"],q);const B=s(n,["minimum"]);B!=null&&r(e,["minimum"],B);const V=s(n,["nullable"]);V!=null&&r(e,["nullable"],V);const Y=s(n,["pattern"]);Y!=null&&r(e,["pattern"],Y);const F=s(n,["properties"]);F!=null&&r(e,["properties"],F);const K=s(n,["propertyOrdering"]);K!=null&&r(e,["propertyOrdering"],K);const W=s(n,["required"]);W!=null&&r(e,["required"],W);const J=s(n,["title"]);J!=null&&r(e,["title"],J);const O=s(n,["type"]);return O!=null&&r(e,["type"],O),e}function y0(n){const e={},o=s(n,["embedding"]);o!=null&&r(e,["embedding"],MT(o));const a=s(n,["tokenCount"]);return a!=null&&r(e,["tokenCount"],a),e}function v0(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],xh(a)),e}function T0(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],xh(o));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],c0(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function C0(n){const e={},o=s(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const a=s(n,["thinkingBudget"]);return a!=null&&r(e,["thinkingBudget"],a),e}function S0(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],JT(o));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],p0(a)),e}function E0(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>YT(h))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],ZT(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],XT(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],A0());const p=s(n,["computerUse"]);p!=null&&r(e,["computerUse"],_T(p));const g=s(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function x0(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>_0(c))),r(e,["urlMetadata"],a)}return e}function A0(){return{}}function _0(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function M0(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function R0(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function xh(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],m0(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ti;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ti||(ti={}));class Qo{constructor(e,o,a,c){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,a,c)}init(e,o,a){var c,d;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(d=(c=p.config)===null||c===void 0?void 0:c.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N0 extends ni{constructor(e){super(),this.apiClient=e,this.create=async o=>{var a,c;if(this.apiClient.isVertexAI())return o.config=this.formatDestination(o.src,o.config),this.createInternal(o);const d=o.src;if(!(Array.isArray(o.src)||d.inlinedRequests!==void 0))return this.createInternal(o);const g=this.createInlinedGenerateContentRequest(o),y=g.path,h=g.body,v=Zr(this.apiClient,o)._query||{};return this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=o.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()).then(S=>Pi(S))},this.createEmbeddings=async o=>{var a,c;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(o.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(o);const g=this.createInlinedEmbedContentRequest(o),y=g.path,h=g.body,v=Wr(this.apiClient,o)._query||{};return this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=o.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(S=>S.json()).then(S=>Pi(S))},this.list=async(o={})=>new Qo(ti.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o)}createInlinedGenerateContentRequest(e){const o=Zr(this.apiClient,e),a=o._url,c=ee("{model}:batchGenerateContent",a),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const C=Object.assign({},v);if(C.systemInstruction){const S=C.systemInstruction;delete C.systemInstruction;const M=C.request;M.systemInstruction=S,C.request=M}h.push(C)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:c,body:o}}createInlinedEmbedContentRequest(e){const o=Wr(this.apiClient,e),a=o._url,c=ee("{model}:asyncBatchEmbedContent",a),g=o.batch.inputConfig.requests,y=g.requests,h=[];delete g.config;for(const v of y){const C=Object.assign({},v),S=C.request;for(const M in C)M!=="request"&&(S[M]=C[M],delete C[M]);h.push(C)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:c,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const a=o?Object.assign({},o):{},c=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${c}`),a.dest===void 0){const d=this.getGcsUri(e),p=this.getBigqueryUri(e);if(d)d.endsWith(".jsonl")?a.dest=`${d.slice(0,-6)}/dest`:a.dest=`${d}_dest_${c}`;else if(p)a.dest=`${p}_dest_${c}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=bT(this.apiClient,e);return g=ee("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>ou(v))}else{const h=Zr(this.apiClient,e);return g=ee("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>Pi(v))}}async createEmbeddingsInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Wr(this.apiClient,e);return d=ee("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Pi(y))}}async get(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=QT(this.apiClient,e);return g=ee("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>ou(v))}else{const h=KT(this.apiClient,e);return g=ee("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>Pi(v))}}async cancel(e){var o,a,c,d;let p="",g={};if(this.apiClient.isVertexAI()){const y=ET(this.apiClient,e);p=ee("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=ST(this.apiClient,e);p=ee("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=s0(e);return g=ee("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=u0(v),S=new kp;return Object.assign(S,C),S})}else{const h=a0(e);return g=ee("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=r0(v),S=new kp;return Object.assign(S,C),S})}}async delete(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=IT(this.apiClient,e);return g=ee("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>kT(v))}else{const h=UT(this.apiClient,e);return g=ee("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>LT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D0(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function b0(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],D0(o));const a=s(n,["authType"]);a!=null&&r(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const p=s(n,["oauthConfig"]);p!=null&&r(e,["oauthConfig"],p);const g=s(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function w0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function U0(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function ga(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["model"]);c!=null&&r(e,["model"],c);const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const p=s(n,["updateTime"]);p!=null&&r(e,["updateTime"],p);const g=s(n,["expireTime"]);g!=null&&r(e,["expireTime"],g);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function ya(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["model"]);c!=null&&r(e,["model"],c);const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const p=s(n,["updateTime"]);p!=null&&r(e,["updateTime"],p);const g=s(n,["expireTime"]);g!=null&&r(e,["expireTime"],g);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function I0(n){const e={},o=s(n,["environment"]);o!=null&&r(e,["environment"],o);const a=s(n,["excludedPredefinedFunctions"]);return a!=null&&r(e,["excludedPredefinedFunctions"],a),e}function L0(n){const e={},o=s(n,["environment"]);o!=null&&r(e,["environment"],o);const a=s(n,["excludedPredefinedFunctions"]);return a!=null&&r(e,["excludedPredefinedFunctions"],a),e}function Hp(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>yC(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function Bp(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>vC(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function k0(n,e){const o={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const d=s(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const p=s(n,["contents"]);if(e!==void 0&&p!=null){let v=It(p);Array.isArray(v)&&(v=v.map(C=>Hp(C))),r(e,["contents"],v)}const g=s(n,["systemInstruction"]);e!==void 0&&g!=null&&r(e,["systemInstruction"],Hp(it(g)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(C=>xC(C))),r(e,["tools"],v)}const h=s(n,["toolConfig"]);if(e!==void 0&&h!=null&&r(e,["toolConfig"],SC(h)),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function V0(n,e){const o={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const d=s(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const p=s(n,["contents"]);if(e!==void 0&&p!=null){let C=It(p);Array.isArray(C)&&(C=C.map(S=>Bp(S))),r(e,["contents"],C)}const g=s(n,["systemInstruction"]);e!==void 0&&g!=null&&r(e,["systemInstruction"],Bp(it(g)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let C=y;Array.isArray(C)&&(C=C.map(S=>AC(S))),r(e,["tools"],C)}const h=s(n,["toolConfig"]);e!==void 0&&h!=null&&r(e,["toolConfig"],EC(h));const v=s(n,["kmsKeyName"]);return e!==void 0&&v!=null&&r(e,["encryption_spec","kmsKeyName"],v),o}function q0(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["model"],uh(n,a));const c=s(e,["config"]);return c!=null&&k0(c,o),o}function G0(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["model"],uh(n,a));const c=s(e,["config"]);return c!=null&&V0(c,o),o}function H0(n,e){const o={},a=s(e,["name"]);return a!=null&&r(o,["_url","name"],rn(n,a)),o}function B0(n,e){const o={},a=s(e,["name"]);return a!=null&&r(o,["_url","name"],rn(n,a)),o}function z0(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function P0(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function F0(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function J0(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function Y0(n){const e={},o=s(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function O0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function $0(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function K0(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const a=s(n,["args"]);a!=null&&r(e,["args"],a);const c=s(n,["name"]);return c!=null&&r(e,["name"],c),e}function Q0(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const a=s(n,["args"]);a!=null&&r(e,["args"],a);const c=s(n,["name"]);return c!=null&&r(e,["name"],c),e}function X0(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function Z0(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function W0(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const p=s(n,["parametersJsonSchema"]);p!=null&&r(e,["parametersJsonSchema"],p);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function j0(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&r(e,["description"],o);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const p=s(n,["response"]);p!=null&&r(e,["response"],p);const g=s(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function eC(n,e){const o={},a=s(e,["name"]);return a!=null&&r(o,["_url","name"],rn(n,a)),o}function tC(n,e){const o={},a=s(e,["name"]);return a!=null&&r(o,["_url","name"],rn(n,a)),o}function nC(n){const e={},o=s(n,["authConfig"]);return o!=null&&r(e,["authConfig"],b0(o)),e}function iC(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],F0(o)),e}function oC(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],J0(o)),e}function lC(n){const e={},o=s(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],sC(o)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function aC(n){const e={},o=s(n,["timeRangeFilter"]);o!=null&&r(e,["timeRangeFilter"],rC(o));const a=s(n,["excludeDomains"]);return a!=null&&r(e,["excludeDomains"],a),e}function sC(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function rC(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function uC(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function cC(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function fC(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function dC(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function mC(n){const e={},o=s(n,["config"]);return o!=null&&fC(o,e),e}function pC(n){const e={},o=s(n,["config"]);return o!=null&&dC(o,e),e}function hC(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["cachedContents"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>ga(p))),r(e,["cachedContents"],d)}return e}function gC(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["cachedContents"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>ya(p))),r(e,["cachedContents"],d)}return e}function yC(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],wC(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],w0(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],O0(d));const p=s(n,["thoughtSignature"]);p!=null&&r(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],K0(g));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function vC(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],UC(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],U0(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],$0(d));const p=s(n,["thoughtSignature"]);p!=null&&r(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],Q0(g));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function TC(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],uC(o));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function CC(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],cC(o));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function SC(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],X0(o));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],TC(a)),e}function EC(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],Z0(o));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],CC(a)),e}function xC(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>W0(h))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],lC(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],iC(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],DC());const p=s(n,["computerUse"]);p!=null&&r(e,["computerUse"],I0(p));const g=s(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function AC(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(S=>j0(S))),r(e,["functionDeclarations"],C)}const a=s(n,["retrieval"]);a!=null&&r(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],aC(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],oC(d));const p=s(n,["enterpriseWebSearch"]);p!=null&&r(e,["enterpriseWebSearch"],Y0(p));const g=s(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],nC(g)),s(n,["urlContext"])!=null&&r(e,["urlContext"],bC());const h=s(n,["computerUse"]);h!=null&&r(e,["computerUse"],L0(h));const v=s(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function _C(n,e){const o={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),o}function MC(n,e){const o={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),o}function RC(n,e){const o={},a=s(e,["name"]);a!=null&&r(o,["_url","name"],rn(n,a));const c=s(e,["config"]);return c!=null&&_C(c,o),o}function NC(n,e){const o={},a=s(e,["name"]);a!=null&&r(o,["_url","name"],rn(n,a));const c=s(e,["config"]);return c!=null&&MC(c,o),o}function DC(){return{}}function bC(){return{}}function wC(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function UC(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IC extends ni{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Qo(ti.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=G0(this.apiClient,e);return g=ee("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>ya(v))}else{const h=q0(this.apiClient,e);return g=ee("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>ga(v))}}async get(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=tC(this.apiClient,e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>ya(v))}else{const h=eC(this.apiClient,e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>ga(v))}}async delete(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=B0(this.apiClient,e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=P0(v),S=new Ip;return Object.assign(S,C),S})}else{const h=H0(this.apiClient,e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=z0(v),S=new Ip;return Object.assign(S,C),S})}}async update(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=NC(this.apiClient,e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>ya(v))}else{const h=RC(this.apiClient,e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>ga(v))}}async listInternal(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=pC(e);return g=ee("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=gC(v),S=new Lp;return Object.assign(S,C),S})}else{const h=mC(e);return g=ee("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=hC(v),S=new Lp;return Object.assign(S,C),S})}}}function zp(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],a=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ke(n){return this instanceof ke?(this.v=n,this):new ke(n)}function Yi(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(n,e||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),c[Symbol.asyncIterator]=function(){return this},c;function p(M){return function(U){return Promise.resolve(U).then(M,C)}}function g(M,U){a[M]&&(c[M]=function(q){return new Promise(function(B,V){d.push([M,q,B,V])>1||y(M,q)})},U&&(c[M]=U(c[M])))}function y(M,U){try{h(a[M](U))}catch(q){S(d[0][3],q)}}function h(M){M.value instanceof ke?Promise.resolve(M.value.v).then(v,C):S(d[0][2],M)}function v(M){y("next",M)}function C(M){y("throw",M)}function S(M,U){M(U),d.shift(),d.length&&y(d[0][0],d[0][1])}}function Ko(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof zp=="function"?zp(n):n[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(d){o[d]=n[d]&&function(p){return new Promise(function(g,y){p=n[d](p),c(g,y,p.done,p.value)})}}function c(d,p,g,y){Promise.resolve(y).then(function(h){d({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LC(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:Ah(o)}function Ah(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function kC(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Pp(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let a=0;for(;a<o;)if(n[a].role==="user")e.push(n[a]),a++;else{const c=[];let d=!0;for(;a<o&&n[a].role==="model";)c.push(n[a]),d&&!Ah(n[a])&&(d=!1),a++;d?e.push(...c):e.pop()}return e}class VC{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new qC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class qC{constructor(e,o,a,c={},d=[]){this.apiClient=e,this.modelsModule=o,this.model=a,this.config=c,this.history=d,this.sendPromise=Promise.resolve(),kC(d)}async sendMessage(e){var o;await this.sendPromise;const a=it(e.message),c=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,p,g;const y=await c,h=(p=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let S=[];v!=null&&(S=(g=v.slice(C))!==null&&g!==void 0?g:[]);const M=h?[h]:[];this.recordHistory(a,M,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),c}async sendMessageStream(e){var o;await this.sendPromise;const a=it(e.message),c=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=c.then(()=>{}).catch(()=>{});const d=await c;return this.processStreamResponse(d,a)}getHistory(e=!1){const o=e?Pp(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){var a,c;return Yi(this,arguments,function*(){var p,g,y,h;const v=[];try{for(var C=!0,S=Ko(e),M;M=yield ke(S.next()),p=M.done,!p;C=!0){h=M.value,C=!1;const U=h;if(LC(U)){const q=(c=(a=U.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content;q!==void 0&&v.push(q)}yield yield ke(U)}}catch(U){g={error:U}}finally{try{!C&&!p&&(y=S.return)&&(yield ke(y.call(S)))}finally{if(g)throw g.error}}this.recordHistory(o,v)})}recordHistory(e,o,a){let c=[];o.length>0&&o.every(d=>d.role!==void 0)?c=o:c.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Pp(a)):this.history.push(e),this.history.push(...c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aa extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Aa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GC(n){const e={},o=s(n,["file"]);return o!=null&&r(e,["file"],JC(o)),e}function HC(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function BC(n){const e={},o=s(n,["name"]);return o!=null&&r(e,["_url","file"],hh(o)),e}function zC(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function lu(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const d=s(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const p=s(n,["createTime"]);p!=null&&r(e,["createTime"],p);const g=s(n,["expirationTime"]);g!=null&&r(e,["expirationTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const h=s(n,["sha256Hash"]);h!=null&&r(e,["sha256Hash"],h);const v=s(n,["uri"]);v!=null&&r(e,["uri"],v);const C=s(n,["downloadUri"]);C!=null&&r(e,["downloadUri"],C);const S=s(n,["state"]);S!=null&&r(e,["state"],S);const M=s(n,["source"]);M!=null&&r(e,["source"],M);const U=s(n,["videoMetadata"]);U!=null&&r(e,["videoMetadata"],U);const q=s(n,["error"]);return q!=null&&r(e,["error"],PC(q)),e}function PC(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const a=s(n,["message"]);a!=null&&r(e,["message"],a);const c=s(n,["code"]);return c!=null&&r(e,["code"],c),e}function FC(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const a=s(n,["message"]);a!=null&&r(e,["message"],a);const c=s(n,["code"]);return c!=null&&r(e,["code"],c),e}function JC(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const d=s(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const p=s(n,["createTime"]);p!=null&&r(e,["createTime"],p);const g=s(n,["expirationTime"]);g!=null&&r(e,["expirationTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const h=s(n,["sha256Hash"]);h!=null&&r(e,["sha256Hash"],h);const v=s(n,["uri"]);v!=null&&r(e,["uri"],v);const C=s(n,["downloadUri"]);C!=null&&r(e,["downloadUri"],C);const S=s(n,["state"]);S!=null&&r(e,["state"],S);const M=s(n,["source"]);M!=null&&r(e,["source"],M);const U=s(n,["videoMetadata"]);U!=null&&r(e,["videoMetadata"],U);const q=s(n,["error"]);return q!=null&&r(e,["error"],FC(q)),e}function YC(n){const e={},o=s(n,["name"]);return o!=null&&r(e,["_url","file"],hh(o)),e}function OC(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function $C(n){const e={},o=s(n,["config"]);return o!=null&&OC(o,e),e}function KC(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["files"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>lu(p))),r(e,["files"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QC extends ni{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Qo(ti.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>lu(o))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=$C(e);return d=ee("files",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const h=KC(y),v=new jv;return Object.assign(v,h),v})}}async createInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=GC(e);return d=ee("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const h=HC(y),v=new eT;return Object.assign(v,h),v})}}async get(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=YC(e);return d=ee("files/{file}",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>lu(y))}}async delete(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=BC(e);return d=ee("files/{file}",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const h=zC(y),v=new tT;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XC(){return{}}function ZC(){return{}}function WC(){return{}}function jC(){return{}}function eS(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function tS(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const a=s(n,["mimeType"]);a!=null&&r(e,["mimeType"],a);const c=s(n,["sourceMetadata"]);return c!=null&&r(e,["sourceMetadata"],$S(c)),e}function Fp(){return{}}function Jp(){return{}}function nS(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],eS(o));const a=s(n,["authType"]);a!=null&&r(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const p=s(n,["oauthConfig"]);p!=null&&r(e,["oauthConfig"],p);const g=s(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function iS(n){const e={},o=s(n,["disabled"]);o!=null&&r(e,["disabled"],o);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&r(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const p=s(n,["silenceDurationMs"]);return p!=null&&r(e,["silenceDurationMs"],p),e}function oS(n){const e={},o=s(n,["disabled"]);o!=null&&r(e,["disabled"],o);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&r(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const p=s(n,["silenceDurationMs"]);return p!=null&&r(e,["silenceDurationMs"],p),e}function lS(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function aS(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function sS(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function rS(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function uS(n){const e={},o=s(n,["environment"]);o!=null&&r(e,["environment"],o);const a=s(n,["excludedPredefinedFunctions"]);return a!=null&&r(e,["excludedPredefinedFunctions"],a),e}function cS(n){const e={},o=s(n,["environment"]);o!=null&&r(e,["environment"],o);const a=s(n,["excludedPredefinedFunctions"]);return a!=null&&r(e,["excludedPredefinedFunctions"],a),e}function fS(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>fE(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function dS(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>dE(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function mS(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>mE(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function pS(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>pE(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function hS(n){const e={},o=s(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const a=s(n,["slidingWindow"]);return a!=null&&r(e,["slidingWindow"],xE(a)),e}function gS(n){const e={},o=s(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const a=s(n,["slidingWindow"]);return a!=null&&r(e,["slidingWindow"],AE(a)),e}function yS(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function vS(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function TS(n){const e={},o=s(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function CS(n){const e={},o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function SS(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function ES(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function xS(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function _h(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const a=s(n,["args"]);a!=null&&r(e,["args"],a);const c=s(n,["name"]);return c!=null&&r(e,["name"],c),e}function Mh(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const a=s(n,["args"]);a!=null&&r(e,["args"],a);const c=s(n,["name"]);return c!=null&&r(e,["name"],c),e}function AS(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const a=s(n,["args"]);a!=null&&r(e,["args"],a);const c=s(n,["name"]);return c!=null&&r(e,["name"],c),e}function _S(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const a=s(n,["args"]);a!=null&&r(e,["args"],a);const c=s(n,["name"]);return c!=null&&r(e,["name"],c),e}function MS(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const p=s(n,["parametersJsonSchema"]);p!=null&&r(e,["parametersJsonSchema"],p);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function RS(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&r(e,["description"],o);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const p=s(n,["response"]);p!=null&&r(e,["response"],p);const g=s(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function NS(n){const e={},o=s(n,["authConfig"]);return o!=null&&r(e,["authConfig"],nS(o)),e}function DS(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],yS(o)),e}function bS(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],vS(o)),e}function wS(n){const e={},o=s(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],IS(o)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function US(n){const e={},o=s(n,["timeRangeFilter"]);o!=null&&r(e,["timeRangeFilter"],LS(o));const a=s(n,["excludeDomains"]);return a!=null&&r(e,["excludeDomains"],a),e}function IS(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function LS(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function kS(n,e){const o={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const p=s(n,["topP"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","topP"],p);const g=s(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const h=s(n,["mediaResolution"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","mediaResolution"],h);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const C=s(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],ME(gu(C)));const S=s(n,["thinkingConfig"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","thinkingConfig"],NE(S));const M=s(n,["enableAffectiveDialog"]);e!==void 0&&M!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],M);const U=s(n,["systemInstruction"]);e!==void 0&&U!=null&&r(e,["setup","systemInstruction"],mS(it(U)));const q=s(n,["tools"]);if(e!==void 0&&q!=null){let J=Ki(q);Array.isArray(J)&&(J=J.map(O=>bE($i(O)))),r(e,["setup","tools"],J)}const B=s(n,["sessionResumption"]);e!==void 0&&B!=null&&r(e,["setup","sessionResumption"],SE(B));const V=s(n,["inputAudioTranscription"]);e!==void 0&&V!=null&&r(e,["setup","inputAudioTranscription"],Fp());const Y=s(n,["outputAudioTranscription"]);e!==void 0&&Y!=null&&r(e,["setup","outputAudioTranscription"],Fp());const F=s(n,["realtimeInputConfig"]);e!==void 0&&F!=null&&r(e,["setup","realtimeInputConfig"],TE(F));const K=s(n,["contextWindowCompression"]);e!==void 0&&K!=null&&r(e,["setup","contextWindowCompression"],hS(K));const W=s(n,["proactivity"]);return e!==void 0&&W!=null&&r(e,["setup","proactivity"],yE(W)),o}function VS(n,e){const o={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const p=s(n,["topP"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","topP"],p);const g=s(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const h=s(n,["mediaResolution"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","mediaResolution"],h);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const C=s(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],RE(gu(C)));const S=s(n,["thinkingConfig"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","thinkingConfig"],DE(S));const M=s(n,["enableAffectiveDialog"]);e!==void 0&&M!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],M);const U=s(n,["systemInstruction"]);e!==void 0&&U!=null&&r(e,["setup","systemInstruction"],pS(it(U)));const q=s(n,["tools"]);if(e!==void 0&&q!=null){let J=Ki(q);Array.isArray(J)&&(J=J.map(O=>wE($i(O)))),r(e,["setup","tools"],J)}const B=s(n,["sessionResumption"]);e!==void 0&&B!=null&&r(e,["setup","sessionResumption"],EE(B));const V=s(n,["inputAudioTranscription"]);e!==void 0&&V!=null&&r(e,["setup","inputAudioTranscription"],Jp());const Y=s(n,["outputAudioTranscription"]);e!==void 0&&Y!=null&&r(e,["setup","outputAudioTranscription"],Jp());const F=s(n,["realtimeInputConfig"]);e!==void 0&&F!=null&&r(e,["setup","realtimeInputConfig"],CE(F));const K=s(n,["contextWindowCompression"]);e!==void 0&&K!=null&&r(e,["setup","contextWindowCompression"],gS(K));const W=s(n,["proactivity"]);return e!==void 0&&W!=null&&r(e,["setup","proactivity"],vE(W)),o}function qS(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["setup","model"],Ee(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],kS(c,o)),o}function GS(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["setup","model"],Ee(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],VS(c,o)),o}function HS(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>FE(c))),r(e,["weightedPrompts"],a)}return e}function Rh(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>wh(c))),r(e,["weightedPrompts"],a)}return e}function au(n){const e={},o=s(n,["setup"]);o!=null&&r(e,["setup"],Nh(o));const a=s(n,["clientContent"]);a!=null&&r(e,["clientContent"],Rh(a));const c=s(n,["musicGenerationConfig"]);c!=null&&r(e,["musicGenerationConfig"],Dh(c));const d=s(n,["playbackControl"]);return d!=null&&r(e,["playbackControl"],d),e}function Nh(n){const e={},o=s(n,["model"]);return o!=null&&r(e,["model"],o),e}function BS(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const a=s(n,["filteredReason"]);return a!=null&&r(e,["filteredReason"],a),e}function zS(n){const e={},o=s(n,["temperature"]);o!=null&&r(e,["temperature"],o);const a=s(n,["topK"]);a!=null&&r(e,["topK"],a);const c=s(n,["seed"]);c!=null&&r(e,["seed"],c);const d=s(n,["guidance"]);d!=null&&r(e,["guidance"],d);const p=s(n,["bpm"]);p!=null&&r(e,["bpm"],p);const g=s(n,["density"]);g!=null&&r(e,["density"],g);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const h=s(n,["scale"]);h!=null&&r(e,["scale"],h);const v=s(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const C=s(n,["muteDrums"]);C!=null&&r(e,["muteDrums"],C);const S=s(n,["onlyBassAndDrums"]);S!=null&&r(e,["onlyBassAndDrums"],S);const M=s(n,["musicGenerationMode"]);return M!=null&&r(e,["musicGenerationMode"],M),e}function Dh(n){const e={},o=s(n,["temperature"]);o!=null&&r(e,["temperature"],o);const a=s(n,["topK"]);a!=null&&r(e,["topK"],a);const c=s(n,["seed"]);c!=null&&r(e,["seed"],c);const d=s(n,["guidance"]);d!=null&&r(e,["guidance"],d);const p=s(n,["bpm"]);p!=null&&r(e,["bpm"],p);const g=s(n,["density"]);g!=null&&r(e,["density"],g);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const h=s(n,["scale"]);h!=null&&r(e,["scale"],h);const v=s(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const C=s(n,["muteDrums"]);C!=null&&r(e,["muteDrums"],C);const S=s(n,["onlyBassAndDrums"]);S!=null&&r(e,["onlyBassAndDrums"],S);const M=s(n,["musicGenerationMode"]);return M!=null&&r(e,["musicGenerationMode"],M),e}function PS(n){const e={},o=s(n,["audioChunks"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>tS(c))),r(e,["audioChunks"],a)}return e}function FS(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],JS());const a=s(n,["serverContent"]);a!=null&&r(e,["serverContent"],PS(a));const c=s(n,["filteredPrompt"]);return c!=null&&r(e,["filteredPrompt"],BS(c)),e}function JS(){return{}}function YS(n){const e={},o=s(n,["musicGenerationConfig"]);return o!=null&&r(e,["musicGenerationConfig"],Dh(o)),e}function OS(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>wh(c))),r(e,["weightedPrompts"],a)}return e}function $S(n){const e={},o=s(n,["clientContent"]);o!=null&&r(e,["clientContent"],HS(o));const a=s(n,["musicGenerationConfig"]);return a!=null&&r(e,["musicGenerationConfig"],zS(a)),e}function KS(n){const e={},o=s(n,["media"]);if(o!=null){let h=ch(o);Array.isArray(h)&&(h=h.map(v=>v)),r(e,["mediaChunks"],h)}const a=s(n,["audio"]);a!=null&&r(e,["audio"],dh(a));const c=s(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const d=s(n,["video"]);d!=null&&r(e,["video"],fh(d));const p=s(n,["text"]);return p!=null&&r(e,["text"],p),s(n,["activityStart"])!=null&&r(e,["activityStart"],WC()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],XC()),e}function QS(n){const e={},o=s(n,["media"]);if(o!=null){let h=ch(o);Array.isArray(h)&&(h=h.map(v=>v)),r(e,["mediaChunks"],h)}const a=s(n,["audio"]);a!=null&&r(e,["audio"],dh(a));const c=s(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const d=s(n,["video"]);d!=null&&r(e,["video"],fh(d));const p=s(n,["text"]);return p!=null&&r(e,["text"],p),s(n,["activityStart"])!=null&&r(e,["activityStart"],jC()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],ZC()),e}function XS(n){const e={},o=s(n,["modelTurn"]);o!=null&&r(e,["modelTurn"],fS(o));const a=s(n,["turnComplete"]);a!=null&&r(e,["turnComplete"],a);const c=s(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const d=s(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const p=s(n,["generationComplete"]);p!=null&&r(e,["generationComplete"],p);const g=s(n,["inputTranscription"]);g!=null&&r(e,["inputTranscription"],Yp(g));const y=s(n,["outputTranscription"]);y!=null&&r(e,["outputTranscription"],Yp(y));const h=s(n,["urlContextMetadata"]);h!=null&&r(e,["urlContextMetadata"],UE(h));const v=s(n,["turnCompleteReason"]);v!=null&&r(e,["turnCompleteReason"],v);const C=s(n,["waitingForInput"]);return C!=null&&r(e,["waitingForInput"],C),e}function ZS(n){const e={},o=s(n,["modelTurn"]);o!=null&&r(e,["modelTurn"],dS(o));const a=s(n,["turnComplete"]);a!=null&&r(e,["turnComplete"],a);const c=s(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const d=s(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const p=s(n,["generationComplete"]);p!=null&&r(e,["generationComplete"],p);const g=s(n,["inputTranscription"]);g!=null&&r(e,["inputTranscription"],Op(g));const y=s(n,["outputTranscription"]);y!=null&&r(e,["outputTranscription"],Op(y));const h=s(n,["turnCompleteReason"]);h!=null&&r(e,["turnCompleteReason"],h);const v=s(n,["waitingForInput"]);return v!=null&&r(e,["waitingForInput"],v),e}function WS(n){const e={},o=s(n,["timeLeft"]);return o!=null&&r(e,["timeLeft"],o),e}function jS(n){const e={},o=s(n,["timeLeft"]);return o!=null&&r(e,["timeLeft"],o),e}function eE(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],oE());const a=s(n,["serverContent"]);a!=null&&r(e,["serverContent"],XS(a));const c=s(n,["toolCall"]);c!=null&&r(e,["toolCall"],rE(c));const d=s(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],aE(d));const p=s(n,["usageMetadata"]);p!=null&&r(e,["usageMetadata"],VE(p));const g=s(n,["goAway"]);g!=null&&r(e,["goAway"],WS(g));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],nE(y)),e}function tE(n){const e={},o=s(n,["setupComplete"]);o!=null&&r(e,["setupComplete"],lE(o));const a=s(n,["serverContent"]);a!=null&&r(e,["serverContent"],ZS(a));const c=s(n,["toolCall"]);c!=null&&r(e,["toolCall"],uE(c));const d=s(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],sE(d));const p=s(n,["usageMetadata"]);p!=null&&r(e,["usageMetadata"],qE(p));const g=s(n,["goAway"]);g!=null&&r(e,["goAway"],jS(g));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],iE(y)),e}function nE(n){const e={},o=s(n,["newHandle"]);o!=null&&r(e,["newHandle"],o);const a=s(n,["resumable"]);a!=null&&r(e,["resumable"],a);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function iE(n){const e={},o=s(n,["newHandle"]);o!=null&&r(e,["newHandle"],o);const a=s(n,["resumable"]);a!=null&&r(e,["resumable"],a);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function oE(){return{}}function lE(n){const e={},o=s(n,["sessionId"]);return o!=null&&r(e,["sessionId"],o),e}function aE(n){const e={},o=s(n,["ids"]);return o!=null&&r(e,["ids"],o),e}function sE(n){const e={},o=s(n,["ids"]);return o!=null&&r(e,["ids"],o),e}function rE(n){const e={},o=s(n,["functionCalls"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>_h(c))),r(e,["functionCalls"],a)}return e}function uE(n){const e={},o=s(n,["functionCalls"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Mh(c))),r(e,["functionCalls"],a)}return e}function pa(n){const e={},o=s(n,["modality"]);o!=null&&r(e,["modality"],o);const a=s(n,["tokenCount"]);return a!=null&&r(e,["tokenCount"],a),e}function ha(n){const e={},o=s(n,["modality"]);o!=null&&r(e,["modality"],o);const a=s(n,["tokenCount"]);return a!=null&&r(e,["tokenCount"],a),e}function cE(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>_E(c))),r(e,["speakerVoiceConfigs"],a)}return e}function fE(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],GE(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],lS(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],CS(d));const p=s(n,["thoughtSignature"]);p!=null&&r(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],_h(g));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function dE(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],HE(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],aS(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],SS(d));const p=s(n,["thoughtSignature"]);p!=null&&r(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],Mh(g));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function mE(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],BE(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],sS(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],ES(d));const p=s(n,["thoughtSignature"]);p!=null&&r(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],AS(g));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function pE(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],zE(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],rS(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],xS(d));const p=s(n,["thoughtSignature"]);p!=null&&r(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],_S(g));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function hE(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function gE(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function yE(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function vE(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function TE(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],iS(o));const a=s(n,["activityHandling"]);a!=null&&r(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function CE(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],oS(o));const a=s(n,["activityHandling"]);a!=null&&r(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function SE(n){const e={},o=s(n,["handle"]);if(o!=null&&r(e,["handle"],o),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function EE(n){const e={},o=s(n,["handle"]);o!=null&&r(e,["handle"],o);const a=s(n,["transparent"]);return a!=null&&r(e,["transparent"],a),e}function xE(n){const e={},o=s(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function AE(n){const e={},o=s(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function _E(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],bh(a)),e}function ME(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],bh(o));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],cE(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function RE(n){const e={},o=s(n,["voiceConfig"]);if(o!=null&&r(e,["voiceConfig"],PE(o)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function NE(n){const e={},o=s(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const a=s(n,["thinkingBudget"]);return a!=null&&r(e,["thinkingBudget"],a),e}function DE(n){const e={},o=s(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const a=s(n,["thinkingBudget"]);return a!=null&&r(e,["thinkingBudget"],a),e}function bE(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>MS(h))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],wS(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],DS(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],IE());const p=s(n,["computerUse"]);p!=null&&r(e,["computerUse"],uS(p));const g=s(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function wE(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(S=>RS(S))),r(e,["functionDeclarations"],C)}const a=s(n,["retrieval"]);a!=null&&r(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],US(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],bS(d));const p=s(n,["enterpriseWebSearch"]);p!=null&&r(e,["enterpriseWebSearch"],TS(p));const g=s(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],NS(g)),s(n,["urlContext"])!=null&&r(e,["urlContext"],LE());const h=s(n,["computerUse"]);h!=null&&r(e,["computerUse"],cS(h));const v=s(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function Yp(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const a=s(n,["finished"]);return a!=null&&r(e,["finished"],a),e}function Op(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const a=s(n,["finished"]);return a!=null&&r(e,["finished"],a),e}function UE(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>kE(c))),r(e,["urlMetadata"],a)}return e}function IE(){return{}}function LE(){return{}}function kE(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function VE(n){const e={},o=s(n,["promptTokenCount"]);o!=null&&r(e,["promptTokenCount"],o);const a=s(n,["cachedContentTokenCount"]);a!=null&&r(e,["cachedContentTokenCount"],a);const c=s(n,["responseTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const d=s(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const p=s(n,["thoughtsTokenCount"]);p!=null&&r(e,["thoughtsTokenCount"],p);const g=s(n,["totalTokenCount"]);g!=null&&r(e,["totalTokenCount"],g);const y=s(n,["promptTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(M=>pa(M))),r(e,["promptTokensDetails"],S)}const h=s(n,["cacheTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(M=>pa(M))),r(e,["cacheTokensDetails"],S)}const v=s(n,["responseTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(M=>pa(M))),r(e,["responseTokensDetails"],S)}const C=s(n,["toolUsePromptTokensDetails"]);if(C!=null){let S=C;Array.isArray(S)&&(S=S.map(M=>pa(M))),r(e,["toolUsePromptTokensDetails"],S)}return e}function qE(n){const e={},o=s(n,["promptTokenCount"]);o!=null&&r(e,["promptTokenCount"],o);const a=s(n,["cachedContentTokenCount"]);a!=null&&r(e,["cachedContentTokenCount"],a);const c=s(n,["candidatesTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const d=s(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const p=s(n,["thoughtsTokenCount"]);p!=null&&r(e,["thoughtsTokenCount"],p);const g=s(n,["totalTokenCount"]);g!=null&&r(e,["totalTokenCount"],g);const y=s(n,["promptTokensDetails"]);if(y!=null){let M=y;Array.isArray(M)&&(M=M.map(U=>ha(U))),r(e,["promptTokensDetails"],M)}const h=s(n,["cacheTokensDetails"]);if(h!=null){let M=h;Array.isArray(M)&&(M=M.map(U=>ha(U))),r(e,["cacheTokensDetails"],M)}const v=s(n,["candidatesTokensDetails"]);if(v!=null){let M=v;Array.isArray(M)&&(M=M.map(U=>ha(U))),r(e,["responseTokensDetails"],M)}const C=s(n,["toolUsePromptTokensDetails"]);if(C!=null){let M=C;Array.isArray(M)&&(M=M.map(U=>ha(U))),r(e,["toolUsePromptTokensDetails"],M)}const S=s(n,["trafficType"]);return S!=null&&r(e,["trafficType"],S),e}function GE(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function HE(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function BE(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function zE(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function bh(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],hE(o)),e}function PE(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],gE(o)),e}function FE(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const a=s(n,["weight"]);return a!=null&&r(e,["weight"],a),e}function wh(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const a=s(n,["weight"]);return a!=null&&r(e,["weight"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JE(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function YE(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],JE(o));const a=s(n,["authType"]);a!=null&&r(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const p=s(n,["oauthConfig"]);p!=null&&r(e,["oauthConfig"],p);const g=s(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function OE(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function $E(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function KE(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function QE(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function XE(n){const e={},o=s(n,["content"]);o!=null&&r(e,["content"],rx(o));const a=s(n,["citationMetadata"]);a!=null&&r(e,["citationMetadata"],jE(a));const c=s(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const p=s(n,["urlContextMetadata"]);p!=null&&r(e,["urlContextMetadata"],N_(p));const g=s(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const h=s(n,["index"]);h!=null&&r(e,["index"],h);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const C=s(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function ZE(n){const e={},o=s(n,["content"]);o!=null&&r(e,["content"],ux(o));const a=s(n,["citationMetadata"]);a!=null&&r(e,["citationMetadata"],ex(a));const c=s(n,["finishMessage"]);c!=null&&r(e,["finishMessage"],c);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const p=s(n,["urlContextMetadata"]);p!=null&&r(e,["urlContextMetadata"],D_(p));const g=s(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const h=s(n,["index"]);h!=null&&r(e,["index"],h);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const C=s(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function WE(n){const e={},o=s(n,["checkpointId"]);o!=null&&r(e,["checkpointId"],o);const a=s(n,["epoch"]);a!=null&&r(e,["epoch"],a);const c=s(n,["step"]);return c!=null&&r(e,["step"],c),e}function jE(n){const e={},o=s(n,["citationSources"]);return o!=null&&r(e,["citations"],o),e}function ex(n){const e={},o=s(n,["citations"]);return o!=null&&r(e,["citations"],o),e}function tx(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],Ee(n,a));const c=s(e,["contents"]);if(c!=null){let d=It(c);Array.isArray(d)&&(d=d.map(p=>Xi(p))),r(o,["contents"],d)}return o}function nx(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["tokensInfo"]);return a!=null&&r(e,["tokensInfo"],a),e}function ix(n){const e={},o=s(n,["environment"]);o!=null&&r(e,["environment"],o);const a=s(n,["excludedPredefinedFunctions"]);return a!=null&&r(e,["excludedPredefinedFunctions"],a),e}function ox(n){const e={},o=s(n,["environment"]);o!=null&&r(e,["environment"],o);const a=s(n,["excludedPredefinedFunctions"]);return a!=null&&r(e,["excludedPredefinedFunctions"],a),e}function lx(n){const e={},o=s(n,["values"]);return o!=null&&r(e,["values"],o),e}function ax(n){const e={},o=s(n,["values"]);o!=null&&r(e,["values"],o);const a=s(n,["statistics"]);return a!=null&&r(e,["statistics"],sx(a)),e}function sx(n){const e={},o=s(n,["truncated"]);o!=null&&r(e,["truncated"],o);const a=s(n,["token_count"]);return a!=null&&r(e,["tokenCount"],a),e}function rx(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>BA(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function ux(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>zA(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function _a(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>PA(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function Xi(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>FA(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function cx(n){const e={},o=s(n,["controlType"]);o!=null&&r(e,["controlType"],o);const a=s(n,["enableControlImageComputation"]);return a!=null&&r(e,["computeControl"],a),e}function fx(n){const e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function dx(n,e){const o={},a=s(n,["systemInstruction"]);e!==void 0&&a!=null&&r(e,["systemInstruction"],Xi(it(a)));const c=s(n,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>Vh(g))),r(e,["tools"],p)}const d=s(n,["generationConfig"]);return e!==void 0&&d!=null&&r(e,["generationConfig"],d),o}function mx(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],Ee(n,a));const c=s(e,["contents"]);if(c!=null){let p=It(c);Array.isArray(p)&&(p=p.map(g=>_a(g))),r(o,["contents"],p)}const d=s(e,["config"]);return d!=null&&fx(d),o}function px(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],Ee(n,a));const c=s(e,["contents"]);if(c!=null){let p=It(c);Array.isArray(p)&&(p=p.map(g=>Xi(g))),r(o,["contents"],p)}const d=s(e,["config"]);return d!=null&&dx(d,o),o}function hx(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["totalTokens"]);a!=null&&r(e,["totalTokens"],a);const c=s(n,["cachedContentTokenCount"]);return c!=null&&r(e,["cachedContentTokenCount"],c),e}function gx(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["totalTokens"]);return a!=null&&r(e,["totalTokens"],a),e}function yx(n,e){const o={},a=s(e,["model"]);return a!=null&&r(o,["_url","name"],Ee(n,a)),o}function vx(n,e){const o={},a=s(e,["model"]);return a!=null&&r(o,["_url","name"],Ee(n,a)),o}function Tx(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function Cx(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function Sx(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function Ex(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function xx(n,e){const o={},a=s(n,["outputGcsUri"]);e!==void 0&&a!=null&&r(e,["parameters","storageUri"],a);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const d=s(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const p=s(n,["aspectRatio"]);e!==void 0&&p!=null&&r(e,["parameters","aspectRatio"],p);const g=s(n,["guidanceScale"]);e!==void 0&&g!=null&&r(e,["parameters","guidanceScale"],g);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const h=s(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&r(e,["parameters","safetySetting"],h);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const C=s(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&r(e,["parameters","includeSafetyAttributes"],C);const S=s(n,["includeRaiReason"]);e!==void 0&&S!=null&&r(e,["parameters","includeRaiReason"],S);const M=s(n,["language"]);e!==void 0&&M!=null&&r(e,["parameters","language"],M);const U=s(n,["outputMimeType"]);e!==void 0&&U!=null&&r(e,["parameters","outputOptions","mimeType"],U);const q=s(n,["outputCompressionQuality"]);e!==void 0&&q!=null&&r(e,["parameters","outputOptions","compressionQuality"],q);const B=s(n,["addWatermark"]);e!==void 0&&B!=null&&r(e,["parameters","addWatermark"],B);const V=s(n,["editMode"]);e!==void 0&&V!=null&&r(e,["parameters","editMode"],V);const Y=s(n,["baseSteps"]);return e!==void 0&&Y!=null&&r(e,["parameters","editConfig","baseSteps"],Y),o}function Ax(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],Ee(n,a));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const d=s(e,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>ZA(y))),r(o,["instances[0]","referenceImages"],g)}const p=s(e,["config"]);return p!=null&&xx(p,o),o}function _x(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Ma(d))),r(e,["generatedImages"],c)}return e}function Mx(n,e){const o={},a=s(n,["taskType"]);e!==void 0&&a!=null&&r(e,["requests[]","taskType"],a);const c=s(n,["title"]);e!==void 0&&c!=null&&r(e,["requests[]","title"],c);const d=s(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&r(e,["requests[]","outputDimensionality"],d),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Rx(n,e){const o={},a=s(n,["taskType"]);e!==void 0&&a!=null&&r(e,["instances[]","task_type"],a);const c=s(n,["title"]);e!==void 0&&c!=null&&r(e,["instances[]","title"],c);const d=s(n,["outputDimensionality"]);e!==void 0&&d!=null&&r(e,["parameters","outputDimensionality"],d);const p=s(n,["mimeType"]);e!==void 0&&p!=null&&r(e,["instances[]","mimeType"],p);const g=s(n,["autoTruncate"]);return e!==void 0&&g!=null&&r(e,["parameters","autoTruncate"],g),o}function Nx(){return{}}function Dx(n){const e={},o=s(n,["billableCharacterCount"]);return o!=null&&r(e,["billableCharacterCount"],o),e}function bx(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],Ee(n,a));const c=s(e,["contents"]);c!=null&&r(o,["requests[]","content"],mu(n,c));const d=s(e,["config"]);d!=null&&Mx(d,o);const p=s(e,["model"]);return p!==void 0&&r(o,["requests[]","model"],Ee(n,p)),o}function wx(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],Ee(n,a));const c=s(e,["contents"]);c!=null&&r(o,["instances[]","content"],mu(n,c));const d=s(e,["config"]);return d!=null&&Rx(d,o),o}function Ux(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>lx(p))),r(e,["embeddings"],d)}return s(n,["metadata"])!=null&&r(e,["metadata"],Nx()),e}function Ix(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>ax(p))),r(e,["embeddings"],d)}const c=s(n,["metadata"]);return c!=null&&r(e,["metadata"],Dx(c)),e}function Lx(n){const e={},o=s(n,["endpoint"]);o!=null&&r(e,["name"],o);const a=s(n,["deployedModelId"]);return a!=null&&r(e,["deployedModelId"],a),e}function kx(n){const e={},o=s(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function Vx(n){const e={},o=s(n,["label"]);o!=null&&r(e,["label"],o);const a=s(n,["score"]);return a!=null&&r(e,["score"],a),e}function qx(n){const e={},o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function Gx(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Hx(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function Bx(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function zx(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const a=s(n,["args"]);a!=null&&r(e,["args"],a);const c=s(n,["name"]);return c!=null&&r(e,["name"],c),e}function Px(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const a=s(n,["args"]);a!=null&&r(e,["args"],a);const c=s(n,["name"]);return c!=null&&r(e,["name"],c),e}function Fx(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const a=s(n,["args"]);a!=null&&r(e,["args"],a);const c=s(n,["name"]);return c!=null&&r(e,["name"],c),e}function Jx(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const a=s(n,["args"]);a!=null&&r(e,["args"],a);const c=s(n,["name"]);return c!=null&&r(e,["name"],c),e}function Yx(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function Ox(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function $x(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const p=s(n,["parametersJsonSchema"]);p!=null&&r(e,["parametersJsonSchema"],p);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function Kx(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&r(e,["description"],o);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const p=s(n,["response"]);p!=null&&r(e,["response"],p);const g=s(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function Qx(n,e,o){const a={},c=s(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],_a(it(c)));const d=s(e,["temperature"]);d!=null&&r(a,["temperature"],d);const p=s(e,["topP"]);p!=null&&r(a,["topP"],p);const g=s(e,["topK"]);g!=null&&r(a,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&r(a,["candidateCount"],y);const h=s(e,["maxOutputTokens"]);h!=null&&r(a,["maxOutputTokens"],h);const v=s(e,["stopSequences"]);v!=null&&r(a,["stopSequences"],v);const C=s(e,["responseLogprobs"]);C!=null&&r(a,["responseLogprobs"],C);const S=s(e,["logprobs"]);S!=null&&r(a,["logprobs"],S);const M=s(e,["presencePenalty"]);M!=null&&r(a,["presencePenalty"],M);const U=s(e,["frequencyPenalty"]);U!=null&&r(a,["frequencyPenalty"],U);const q=s(e,["seed"]);q!=null&&r(a,["seed"],q);const B=s(e,["responseMimeType"]);B!=null&&r(a,["responseMimeType"],B);const V=s(e,["responseSchema"]);V!=null&&r(a,["responseSchema"],n_(pu(V)));const Y=s(e,["responseJsonSchema"]);if(Y!=null&&r(a,["responseJsonSchema"],Y),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=s(e,["safetySettings"]);if(o!==void 0&&F!=null){let fe=F;Array.isArray(fe)&&(fe=fe.map(Ve=>e_(Ve))),r(o,["safetySettings"],fe)}const K=s(e,["tools"]);if(o!==void 0&&K!=null){let fe=Ki(K);Array.isArray(fe)&&(fe=fe.map(Ve=>v_($i(Ve)))),r(o,["tools"],fe)}const W=s(e,["toolConfig"]);if(o!==void 0&&W!=null&&r(o,["toolConfig"],g_(W)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const J=s(e,["cachedContent"]);o!==void 0&&J!=null&&r(o,["cachedContent"],rn(n,J));const O=s(e,["responseModalities"]);O!=null&&r(a,["responseModalities"],O);const Q=s(e,["mediaResolution"]);Q!=null&&r(a,["mediaResolution"],Q);const $=s(e,["speechConfig"]);if($!=null&&r(a,["speechConfig"],c_(hu($))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=s(e,["thinkingConfig"]);ne!=null&&r(a,["thinkingConfig"],p_(ne));const me=s(e,["imageConfig"]);return me!=null&&r(a,["imageConfig"],AA(me)),a}function Xx(n,e,o){const a={},c=s(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],Xi(it(c)));const d=s(e,["temperature"]);d!=null&&r(a,["temperature"],d);const p=s(e,["topP"]);p!=null&&r(a,["topP"],p);const g=s(e,["topK"]);g!=null&&r(a,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&r(a,["candidateCount"],y);const h=s(e,["maxOutputTokens"]);h!=null&&r(a,["maxOutputTokens"],h);const v=s(e,["stopSequences"]);v!=null&&r(a,["stopSequences"],v);const C=s(e,["responseLogprobs"]);C!=null&&r(a,["responseLogprobs"],C);const S=s(e,["logprobs"]);S!=null&&r(a,["logprobs"],S);const M=s(e,["presencePenalty"]);M!=null&&r(a,["presencePenalty"],M);const U=s(e,["frequencyPenalty"]);U!=null&&r(a,["frequencyPenalty"],U);const q=s(e,["seed"]);q!=null&&r(a,["seed"],q);const B=s(e,["responseMimeType"]);B!=null&&r(a,["responseMimeType"],B);const V=s(e,["responseSchema"]);V!=null&&r(a,["responseSchema"],i_(pu(V)));const Y=s(e,["responseJsonSchema"]);Y!=null&&r(a,["responseJsonSchema"],Y);const F=s(e,["routingConfig"]);F!=null&&r(a,["routingConfig"],F);const K=s(e,["modelSelectionConfig"]);K!=null&&r(a,["modelConfig"],GA(K));const W=s(e,["safetySettings"]);if(o!==void 0&&W!=null){let k=W;Array.isArray(k)&&(k=k.map(X=>t_(X))),r(o,["safetySettings"],k)}const J=s(e,["tools"]);if(o!==void 0&&J!=null){let k=Ki(J);Array.isArray(k)&&(k=k.map(X=>Vh($i(X)))),r(o,["tools"],k)}const O=s(e,["toolConfig"]);o!==void 0&&O!=null&&r(o,["toolConfig"],y_(O));const Q=s(e,["labels"]);o!==void 0&&Q!=null&&r(o,["labels"],Q);const $=s(e,["cachedContent"]);o!==void 0&&$!=null&&r(o,["cachedContent"],rn(n,$));const ne=s(e,["responseModalities"]);ne!=null&&r(a,["responseModalities"],ne);const me=s(e,["mediaResolution"]);me!=null&&r(a,["mediaResolution"],me);const fe=s(e,["speechConfig"]);fe!=null&&r(a,["speechConfig"],f_(hu(fe)));const Ve=s(e,["audioTimestamp"]);Ve!=null&&r(a,["audioTimestamp"],Ve);const ot=s(e,["thinkingConfig"]);ot!=null&&r(a,["thinkingConfig"],h_(ot));const $e=s(e,["imageConfig"]);return $e!=null&&r(a,["imageConfig"],_A($e)),a}function $p(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],Ee(n,a));const c=s(e,["contents"]);if(c!=null){let p=It(c);Array.isArray(p)&&(p=p.map(g=>_a(g))),r(o,["contents"],p)}const d=s(e,["config"]);return d!=null&&r(o,["generationConfig"],Qx(n,d,o)),o}function Kp(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],Ee(n,a));const c=s(e,["contents"]);if(c!=null){let p=It(c);Array.isArray(p)&&(p=p.map(g=>Xi(g))),r(o,["contents"],p)}const d=s(e,["config"]);return d!=null&&r(o,["generationConfig"],Xx(n,d,o)),o}function Qp(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>XE(h))),r(e,["candidates"],y)}const c=s(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const d=s(n,["promptFeedback"]);d!=null&&r(e,["promptFeedback"],d);const p=s(n,["responseId"]);p!=null&&r(e,["responseId"],p);const g=s(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function Xp(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(v=>ZE(v))),r(e,["candidates"],h)}const c=s(n,["createTime"]);c!=null&&r(e,["createTime"],c);const d=s(n,["modelVersion"]);d!=null&&r(e,["modelVersion"],d);const p=s(n,["promptFeedback"]);p!=null&&r(e,["promptFeedback"],p);const g=s(n,["responseId"]);g!=null&&r(e,["responseId"],g);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function Zx(n,e){const o={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=s(n,["numberOfImages"]);e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a);const c=s(n,["aspectRatio"]);e!==void 0&&c!=null&&r(e,["parameters","aspectRatio"],c);const d=s(n,["guidanceScale"]);if(e!==void 0&&d!=null&&r(e,["parameters","guidanceScale"],d),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const g=s(n,["personGeneration"]);e!==void 0&&g!=null&&r(e,["parameters","personGeneration"],g);const y=s(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&r(e,["parameters","includeSafetyAttributes"],y);const h=s(n,["includeRaiReason"]);e!==void 0&&h!=null&&r(e,["parameters","includeRaiReason"],h);const v=s(n,["language"]);e!==void 0&&v!=null&&r(e,["parameters","language"],v);const C=s(n,["outputMimeType"]);e!==void 0&&C!=null&&r(e,["parameters","outputOptions","mimeType"],C);const S=s(n,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&r(e,["parameters","outputOptions","compressionQuality"],S),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const M=s(n,["imageSize"]);if(e!==void 0&&M!=null&&r(e,["parameters","sampleImageSize"],M),s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function Wx(n,e){const o={},a=s(n,["outputGcsUri"]);e!==void 0&&a!=null&&r(e,["parameters","storageUri"],a);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const d=s(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const p=s(n,["aspectRatio"]);e!==void 0&&p!=null&&r(e,["parameters","aspectRatio"],p);const g=s(n,["guidanceScale"]);e!==void 0&&g!=null&&r(e,["parameters","guidanceScale"],g);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const h=s(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&r(e,["parameters","safetySetting"],h);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const C=s(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&r(e,["parameters","includeSafetyAttributes"],C);const S=s(n,["includeRaiReason"]);e!==void 0&&S!=null&&r(e,["parameters","includeRaiReason"],S);const M=s(n,["language"]);e!==void 0&&M!=null&&r(e,["parameters","language"],M);const U=s(n,["outputMimeType"]);e!==void 0&&U!=null&&r(e,["parameters","outputOptions","mimeType"],U);const q=s(n,["outputCompressionQuality"]);e!==void 0&&q!=null&&r(e,["parameters","outputOptions","compressionQuality"],q);const B=s(n,["addWatermark"]);e!==void 0&&B!=null&&r(e,["parameters","addWatermark"],B);const V=s(n,["imageSize"]);e!==void 0&&V!=null&&r(e,["parameters","sampleImageSize"],V);const Y=s(n,["enhancePrompt"]);return e!==void 0&&Y!=null&&r(e,["parameters","enhancePrompt"],Y),o}function jx(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],Ee(n,a));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const d=s(e,["config"]);return d!=null&&Zx(d,o),o}function eA(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],Ee(n,a));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const d=s(e,["config"]);return d!=null&&Wx(d,o),o}function tA(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>mA(p))),r(e,["generatedImages"],d)}const c=s(n,["positivePromptSafetyAttributes"]);return c!=null&&r(e,["positivePromptSafetyAttributes"],Lh(c)),e}function nA(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>Ma(p))),r(e,["generatedImages"],d)}const c=s(n,["positivePromptSafetyAttributes"]);return c!=null&&r(e,["positivePromptSafetyAttributes"],kh(c)),e}function iA(n,e){const o={},a=s(n,["numberOfVideos"]);if(e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=s(n,["durationSeconds"]);if(e!==void 0&&c!=null&&r(e,["parameters","durationSeconds"],c),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=s(n,["aspectRatio"]);e!==void 0&&d!=null&&r(e,["parameters","aspectRatio"],d);const p=s(n,["resolution"]);e!==void 0&&p!=null&&r(e,["parameters","resolution"],p);const g=s(n,["personGeneration"]);if(e!==void 0&&g!=null&&r(e,["parameters","personGeneration"],g),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=s(n,["negativePrompt"]);e!==void 0&&y!=null&&r(e,["parameters","negativePrompt"],y);const h=s(n,["enhancePrompt"]);if(e!==void 0&&h!=null&&r(e,["parameters","enhancePrompt"],h),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(n,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(s(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function oA(n,e){const o={},a=s(n,["numberOfVideos"]);e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a);const c=s(n,["outputGcsUri"]);e!==void 0&&c!=null&&r(e,["parameters","storageUri"],c);const d=s(n,["fps"]);e!==void 0&&d!=null&&r(e,["parameters","fps"],d);const p=s(n,["durationSeconds"]);e!==void 0&&p!=null&&r(e,["parameters","durationSeconds"],p);const g=s(n,["seed"]);e!==void 0&&g!=null&&r(e,["parameters","seed"],g);const y=s(n,["aspectRatio"]);e!==void 0&&y!=null&&r(e,["parameters","aspectRatio"],y);const h=s(n,["resolution"]);e!==void 0&&h!=null&&r(e,["parameters","resolution"],h);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const C=s(n,["pubsubTopic"]);e!==void 0&&C!=null&&r(e,["parameters","pubsubTopic"],C);const S=s(n,["negativePrompt"]);e!==void 0&&S!=null&&r(e,["parameters","negativePrompt"],S);const M=s(n,["enhancePrompt"]);e!==void 0&&M!=null&&r(e,["parameters","enhancePrompt"],M);const U=s(n,["generateAudio"]);e!==void 0&&U!=null&&r(e,["parameters","generateAudio"],U);const q=s(n,["lastFrame"]);e!==void 0&&q!=null&&r(e,["instances[0]","lastFrame"],qt(q));const B=s(n,["referenceImages"]);if(e!==void 0&&B!=null){let F=B;Array.isArray(F)&&(F=F.map(K=>q_(K))),r(e,["instances[0]","referenceImages"],F)}const V=s(n,["mask"]);e!==void 0&&V!=null&&r(e,["instances[0]","mask"],V_(V));const Y=s(n,["compressionQuality"]);return e!==void 0&&Y!=null&&r(e,["parameters","compressionQuality"],Y),o}function lA(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const a=s(n,["metadata"]);a!=null&&r(e,["metadata"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const p=s(n,["response","generateVideoResponse"]);return p!=null&&r(e,["response"],uA(p)),e}function aA(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const a=s(n,["metadata"]);a!=null&&r(e,["metadata"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const p=s(n,["response"]);return p!=null&&r(e,["response"],cA(p)),e}function sA(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],Ee(n,a));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const d=s(e,["image"]);if(d!=null&&r(o,["instances[0]","image"],Ih(d)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const p=s(e,["source"]);p!=null&&fA(p,o);const g=s(e,["config"]);return g!=null&&iA(g,o),o}function rA(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],Ee(n,a));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const d=s(e,["image"]);d!=null&&r(o,["instances[0]","image"],qt(d));const p=s(e,["video"]);p!=null&&r(o,["instances[0]","video"],qh(p));const g=s(e,["source"]);g!=null&&dA(g,o);const y=s(e,["config"]);return y!=null&&oA(y,o),o}function uA(n){const e={},o=s(n,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>hA(p))),r(e,["generatedVideos"],d)}const a=s(n,["raiMediaFilteredCount"]);a!=null&&r(e,["raiMediaFilteredCount"],a);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function cA(n){const e={},o=s(n,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>gA(p))),r(e,["generatedVideos"],d)}const a=s(n,["raiMediaFilteredCount"]);a!=null&&r(e,["raiMediaFilteredCount"],a);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function fA(n,e){const o={},a=s(n,["prompt"]);e!==void 0&&a!=null&&r(e,["instances[0]","prompt"],a);const c=s(n,["image"]);if(e!==void 0&&c!=null&&r(e,["instances[0]","image"],Ih(c)),s(n,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return o}function dA(n,e){const o={},a=s(n,["prompt"]);e!==void 0&&a!=null&&r(e,["instances[0]","prompt"],a);const c=s(n,["image"]);e!==void 0&&c!=null&&r(e,["instances[0]","image"],qt(c));const d=s(n,["video"]);return e!==void 0&&d!=null&&r(e,["instances[0]","video"],qh(d)),o}function mA(n){const e={},o=s(n,["_self"]);o!=null&&r(e,["image"],MA(o));const a=s(n,["raiFilteredReason"]);a!=null&&r(e,["raiFilteredReason"],a);const c=s(n,["_self"]);return c!=null&&r(e,["safetyAttributes"],Lh(c)),e}function Ma(n){const e={},o=s(n,["_self"]);o!=null&&r(e,["image"],Uh(o));const a=s(n,["raiFilteredReason"]);a!=null&&r(e,["raiFilteredReason"],a);const c=s(n,["_self"]);c!=null&&r(e,["safetyAttributes"],kh(c));const d=s(n,["prompt"]);return d!=null&&r(e,["enhancedPrompt"],d),e}function pA(n){const e={},o=s(n,["_self"]);o!=null&&r(e,["mask"],Uh(o));const a=s(n,["labels"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Vx(d))),r(e,["labels"],c)}return e}function hA(n){const e={},o=s(n,["_self"]);return o!=null&&r(e,["video"],L_(o)),e}function gA(n){const e={},o=s(n,["_self"]);return o!=null&&r(e,["video"],k_(o)),e}function yA(n,e){const o={},a=s(e,["model"]);return a!=null&&r(o,["_url","name"],Ee(n,a)),o}function vA(n,e){const o={},a=s(e,["model"]);return a!=null&&r(o,["_url","name"],Ee(n,a)),o}function TA(n){const e={},o=s(n,["authConfig"]);return o!=null&&r(e,["authConfig"],YE(o)),e}function CA(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],Sx(o)),e}function SA(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],Ex(o)),e}function EA(n){const e={},o=s(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],RA(o)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function xA(n){const e={},o=s(n,["timeRangeFilter"]);o!=null&&r(e,["timeRangeFilter"],NA(o));const a=s(n,["excludeDomains"]);return a!=null&&r(e,["excludeDomains"],a),e}function AA(n){const e={},o=s(n,["aspectRatio"]);return o!=null&&r(e,["aspectRatio"],o),e}function _A(n){const e={},o=s(n,["aspectRatio"]);return o!=null&&r(e,["aspectRatio"],o),e}function MA(n){const e={},o=s(n,["bytesBase64Encoded"]);o!=null&&r(e,["imageBytes"],ii(o));const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function Uh(n){const e={},o=s(n,["gcsUri"]);o!=null&&r(e,["gcsUri"],o);const a=s(n,["bytesBase64Encoded"]);a!=null&&r(e,["imageBytes"],ii(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Ih(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=s(n,["imageBytes"]);o!=null&&r(e,["bytesBase64Encoded"],ii(o));const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function qt(n){const e={},o=s(n,["gcsUri"]);o!=null&&r(e,["gcsUri"],o);const a=s(n,["imageBytes"]);a!=null&&r(e,["bytesBase64Encoded"],ii(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function RA(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function NA(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function DA(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function bA(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function wA(n,e,o){const a={},c=s(e,["pageSize"]);o!==void 0&&c!=null&&r(o,["_query","pageSize"],c);const d=s(e,["pageToken"]);o!==void 0&&d!=null&&r(o,["_query","pageToken"],d);const p=s(e,["filter"]);o!==void 0&&p!=null&&r(o,["_query","filter"],p);const g=s(e,["queryBase"]);return o!==void 0&&g!=null&&r(o,["_url","models_url"],gh(n,g)),a}function UA(n,e,o){const a={},c=s(e,["pageSize"]);o!==void 0&&c!=null&&r(o,["_query","pageSize"],c);const d=s(e,["pageToken"]);o!==void 0&&d!=null&&r(o,["_query","pageToken"],d);const p=s(e,["filter"]);o!==void 0&&p!=null&&r(o,["_query","filter"],p);const g=s(e,["queryBase"]);return o!==void 0&&g!=null&&r(o,["_url","models_url"],gh(n,g)),a}function IA(n,e){const o={},a=s(e,["config"]);return a!=null&&wA(n,a,o),o}function LA(n,e){const o={},a=s(e,["config"]);return a!=null&&UA(n,a,o),o}function kA(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["_self"]);if(c!=null){let d=yh(c);Array.isArray(d)&&(d=d.map(p=>su(p))),r(e,["models"],d)}return e}function VA(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["_self"]);if(c!=null){let d=yh(c);Array.isArray(d)&&(d=d.map(p=>ru(p))),r(e,["models"],d)}return e}function qA(n){const e={},o=s(n,["maskMode"]);o!=null&&r(e,["maskMode"],o);const a=s(n,["segmentationClasses"]);a!=null&&r(e,["maskClasses"],a);const c=s(n,["maskDilation"]);return c!=null&&r(e,["dilation"],c),e}function su(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["version"]);d!=null&&r(e,["version"],d);const p=s(n,["_self"]);p!=null&&r(e,["tunedModelInfo"],T_(p));const g=s(n,["inputTokenLimit"]);g!=null&&r(e,["inputTokenLimit"],g);const y=s(n,["outputTokenLimit"]);y!=null&&r(e,["outputTokenLimit"],y);const h=s(n,["supportedGenerationMethods"]);return h!=null&&r(e,["supportedActions"],h),e}function ru(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["versionId"]);d!=null&&r(e,["version"],d);const p=s(n,["deployedModels"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(S=>Lx(S))),r(e,["endpoints"],C)}const g=s(n,["labels"]);g!=null&&r(e,["labels"],g);const y=s(n,["_self"]);y!=null&&r(e,["tunedModelInfo"],C_(y));const h=s(n,["defaultCheckpointId"]);h!=null&&r(e,["defaultCheckpointId"],h);const v=s(n,["checkpoints"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(S=>WE(S))),r(e,["checkpoints"],C)}return e}function GA(n){const e={},o=s(n,["featureSelectionPreference"]);return o!=null&&r(e,["featureSelectionPreference"],o),e}function HA(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>u_(c))),r(e,["speakerVoiceConfigs"],a)}return e}function BA(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],G_(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],OE(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],qx(d));const p=s(n,["thoughtSignature"]);p!=null&&r(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],zx(g));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function zA(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],H_(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],$E(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],Gx(d));const p=s(n,["thoughtSignature"]);p!=null&&r(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],Px(g));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function PA(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],B_(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],KE(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],Hx(d));const p=s(n,["thoughtSignature"]);p!=null&&r(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],Fx(g));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function FA(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],z_(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],QE(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],Bx(d));const p=s(n,["thoughtSignature"]);p!=null&&r(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],Jx(g));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function JA(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function YA(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function OA(n){const e={},o=s(n,["productImage"]);return o!=null&&r(e,["image"],qt(o)),e}function $A(n,e){const o={},a=s(n,["numberOfImages"]);e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a);const c=s(n,["baseSteps"]);e!==void 0&&c!=null&&r(e,["parameters","editConfig","baseSteps"],c);const d=s(n,["outputGcsUri"]);e!==void 0&&d!=null&&r(e,["parameters","storageUri"],d);const p=s(n,["seed"]);e!==void 0&&p!=null&&r(e,["parameters","seed"],p);const g=s(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&r(e,["parameters","safetySetting"],g);const y=s(n,["personGeneration"]);e!==void 0&&y!=null&&r(e,["parameters","personGeneration"],y);const h=s(n,["addWatermark"]);e!==void 0&&h!=null&&r(e,["parameters","addWatermark"],h);const v=s(n,["outputMimeType"]);e!==void 0&&v!=null&&r(e,["parameters","outputOptions","mimeType"],v);const C=s(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&r(e,["parameters","outputOptions","compressionQuality"],C);const S=s(n,["enhancePrompt"]);return e!==void 0&&S!=null&&r(e,["parameters","enhancePrompt"],S),o}function KA(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],Ee(n,a));const c=s(e,["source"]);c!=null&&XA(c,o);const d=s(e,["config"]);return d!=null&&$A(d,o),o}function QA(n){const e={},o=s(n,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Ma(c))),r(e,["generatedImages"],a)}return e}function XA(n,e){const o={},a=s(n,["prompt"]);e!==void 0&&a!=null&&r(e,["instances[0]","prompt"],a);const c=s(n,["personImage"]);e!==void 0&&c!=null&&r(e,["instances[0]","personImage","image"],qt(c));const d=s(n,["productImages"]);if(e!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>OA(g))),r(e,["instances[0]","productImages"],p)}return o}function ZA(n){const e={},o=s(n,["referenceImage"]);o!=null&&r(e,["referenceImage"],qt(o));const a=s(n,["referenceId"]);a!=null&&r(e,["referenceId"],a);const c=s(n,["referenceType"]);c!=null&&r(e,["referenceType"],c);const d=s(n,["maskImageConfig"]);d!=null&&r(e,["maskImageConfig"],qA(d));const p=s(n,["controlImageConfig"]);p!=null&&r(e,["controlImageConfig"],cx(p));const g=s(n,["styleImageConfig"]);g!=null&&r(e,["styleImageConfig"],d_(g));const y=s(n,["subjectImageConfig"]);return y!=null&&r(e,["subjectImageConfig"],m_(y)),e}function WA(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],DA(o));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function jA(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],bA(o));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function Lh(n){const e={},o=s(n,["safetyAttributes","categories"]);o!=null&&r(e,["categories"],o);const a=s(n,["safetyAttributes","scores"]);a!=null&&r(e,["scores"],a);const c=s(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function kh(n){const e={},o=s(n,["safetyAttributes","categories"]);o!=null&&r(e,["categories"],o);const a=s(n,["safetyAttributes","scores"]);a!=null&&r(e,["scores"],a);const c=s(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function e_(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(n,["category"]);o!=null&&r(e,["category"],o);const a=s(n,["threshold"]);return a!=null&&r(e,["threshold"],a),e}function t_(n){const e={},o=s(n,["method"]);o!=null&&r(e,["method"],o);const a=s(n,["category"]);a!=null&&r(e,["category"],a);const c=s(n,["threshold"]);return c!=null&&r(e,["threshold"],c),e}function n_(n){const e={},o=s(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const a=s(n,["default"]);a!=null&&r(e,["default"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const p=s(n,["example"]);p!=null&&r(e,["example"],p);const g=s(n,["format"]);g!=null&&r(e,["format"],g);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const h=s(n,["maxItems"]);h!=null&&r(e,["maxItems"],h);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const C=s(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const S=s(n,["maximum"]);S!=null&&r(e,["maximum"],S);const M=s(n,["minItems"]);M!=null&&r(e,["minItems"],M);const U=s(n,["minLength"]);U!=null&&r(e,["minLength"],U);const q=s(n,["minProperties"]);q!=null&&r(e,["minProperties"],q);const B=s(n,["minimum"]);B!=null&&r(e,["minimum"],B);const V=s(n,["nullable"]);V!=null&&r(e,["nullable"],V);const Y=s(n,["pattern"]);Y!=null&&r(e,["pattern"],Y);const F=s(n,["properties"]);F!=null&&r(e,["properties"],F);const K=s(n,["propertyOrdering"]);K!=null&&r(e,["propertyOrdering"],K);const W=s(n,["required"]);W!=null&&r(e,["required"],W);const J=s(n,["title"]);J!=null&&r(e,["title"],J);const O=s(n,["type"]);return O!=null&&r(e,["type"],O),e}function i_(n){const e={},o=s(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const a=s(n,["default"]);a!=null&&r(e,["default"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const p=s(n,["example"]);p!=null&&r(e,["example"],p);const g=s(n,["format"]);g!=null&&r(e,["format"],g);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const h=s(n,["maxItems"]);h!=null&&r(e,["maxItems"],h);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const C=s(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const S=s(n,["maximum"]);S!=null&&r(e,["maximum"],S);const M=s(n,["minItems"]);M!=null&&r(e,["minItems"],M);const U=s(n,["minLength"]);U!=null&&r(e,["minLength"],U);const q=s(n,["minProperties"]);q!=null&&r(e,["minProperties"],q);const B=s(n,["minimum"]);B!=null&&r(e,["minimum"],B);const V=s(n,["nullable"]);V!=null&&r(e,["nullable"],V);const Y=s(n,["pattern"]);Y!=null&&r(e,["pattern"],Y);const F=s(n,["properties"]);F!=null&&r(e,["properties"],F);const K=s(n,["propertyOrdering"]);K!=null&&r(e,["propertyOrdering"],K);const W=s(n,["required"]);W!=null&&r(e,["required"],W);const J=s(n,["title"]);J!=null&&r(e,["title"],J);const O=s(n,["type"]);return O!=null&&r(e,["type"],O),e}function o_(n){const e={},o=s(n,["image"]);return o!=null&&r(e,["image"],qt(o)),e}function l_(n,e){const o={},a=s(n,["mode"]);e!==void 0&&a!=null&&r(e,["parameters","mode"],a);const c=s(n,["maxPredictions"]);e!==void 0&&c!=null&&r(e,["parameters","maxPredictions"],c);const d=s(n,["confidenceThreshold"]);e!==void 0&&d!=null&&r(e,["parameters","confidenceThreshold"],d);const p=s(n,["maskDilation"]);e!==void 0&&p!=null&&r(e,["parameters","maskDilation"],p);const g=s(n,["binaryColorThreshold"]);return e!==void 0&&g!=null&&r(e,["parameters","binaryColorThreshold"],g),o}function a_(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],Ee(n,a));const c=s(e,["source"]);c!=null&&r_(c,o);const d=s(e,["config"]);return d!=null&&l_(d,o),o}function s_(n){const e={},o=s(n,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>pA(c))),r(e,["generatedMasks"],a)}return e}function r_(n,e){const o={},a=s(n,["prompt"]);e!==void 0&&a!=null&&r(e,["instances[0]","prompt"],a);const c=s(n,["image"]);e!==void 0&&c!=null&&r(e,["instances[0]","image"],qt(c));const d=s(n,["scribbleImage"]);return e!==void 0&&d!=null&&r(e,["instances[0]","scribble"],o_(d)),o}function u_(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],Gh(a)),e}function c_(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],Gh(o));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],HA(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function f_(n){const e={},o=s(n,["voiceConfig"]);if(o!=null&&r(e,["voiceConfig"],P_(o)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function d_(n){const e={},o=s(n,["styleDescription"]);return o!=null&&r(e,["styleDescription"],o),e}function m_(n){const e={},o=s(n,["subjectType"]);o!=null&&r(e,["subjectType"],o);const a=s(n,["subjectDescription"]);return a!=null&&r(e,["subjectDescription"],a),e}function p_(n){const e={},o=s(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const a=s(n,["thinkingBudget"]);return a!=null&&r(e,["thinkingBudget"],a),e}function h_(n){const e={},o=s(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const a=s(n,["thinkingBudget"]);return a!=null&&r(e,["thinkingBudget"],a),e}function g_(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],Yx(o));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],WA(a)),e}function y_(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],Ox(o));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],jA(a)),e}function v_(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>$x(h))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],EA(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],CA(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],b_());const p=s(n,["computerUse"]);p!=null&&r(e,["computerUse"],ix(p));const g=s(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function Vh(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(S=>Kx(S))),r(e,["functionDeclarations"],C)}const a=s(n,["retrieval"]);a!=null&&r(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],xA(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],SA(d));const p=s(n,["enterpriseWebSearch"]);p!=null&&r(e,["enterpriseWebSearch"],kx(p));const g=s(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],TA(g)),s(n,["urlContext"])!=null&&r(e,["urlContext"],w_());const h=s(n,["computerUse"]);h!=null&&r(e,["computerUse"],ox(h));const v=s(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function T_(n){const e={},o=s(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const a=s(n,["createTime"]);a!=null&&r(e,["createTime"],a);const c=s(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function C_(n){const e={},o=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&r(e,["baseModel"],o);const a=s(n,["createTime"]);a!=null&&r(e,["createTime"],a);const c=s(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function S_(n,e){const o={},a=s(n,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const d=s(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),o}function E_(n,e){const o={},a=s(n,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const d=s(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),o}function x_(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","name"],Ee(n,a));const c=s(e,["config"]);return c!=null&&S_(c,o),o}function A_(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],Ee(n,a));const c=s(e,["config"]);return c!=null&&E_(c,o),o}function __(n,e){const o={},a=s(n,["outputGcsUri"]);e!==void 0&&a!=null&&r(e,["parameters","storageUri"],a);const c=s(n,["includeRaiReason"]);e!==void 0&&c!=null&&r(e,["parameters","includeRaiReason"],c);const d=s(n,["outputMimeType"]);e!==void 0&&d!=null&&r(e,["parameters","outputOptions","mimeType"],d);const p=s(n,["outputCompressionQuality"]);e!==void 0&&p!=null&&r(e,["parameters","outputOptions","compressionQuality"],p);const g=s(n,["enhanceInputImage"]);e!==void 0&&g!=null&&r(e,["parameters","upscaleConfig","enhanceInputImage"],g);const y=s(n,["imagePreservationFactor"]);e!==void 0&&y!=null&&r(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const h=s(n,["numberOfImages"]);e!==void 0&&h!=null&&r(e,["parameters","sampleCount"],h);const v=s(n,["mode"]);return e!==void 0&&v!=null&&r(e,["parameters","mode"],v),o}function M_(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],Ee(n,a));const c=s(e,["image"]);c!=null&&r(o,["instances[0]","image"],qt(c));const d=s(e,["upscaleFactor"]);d!=null&&r(o,["parameters","upscaleConfig","upscaleFactor"],d);const p=s(e,["config"]);return p!=null&&__(p,o),o}function R_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Ma(d))),r(e,["generatedImages"],c)}return e}function N_(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>U_(c))),r(e,["urlMetadata"],a)}return e}function D_(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>I_(c))),r(e,["urlMetadata"],a)}return e}function b_(){return{}}function w_(){return{}}function U_(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function I_(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function L_(n){const e={},o=s(n,["video","uri"]);o!=null&&r(e,["uri"],o);const a=s(n,["video","encodedVideo"]);a!=null&&r(e,["videoBytes"],ii(a));const c=s(n,["encoding"]);return c!=null&&r(e,["mimeType"],c),e}function k_(n){const e={},o=s(n,["gcsUri"]);o!=null&&r(e,["uri"],o);const a=s(n,["bytesBase64Encoded"]);a!=null&&r(e,["videoBytes"],ii(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function V_(n){const e={},o=s(n,["image"]);o!=null&&r(e,["_self"],qt(o));const a=s(n,["maskMode"]);return a!=null&&r(e,["maskMode"],a),e}function q_(n){const e={},o=s(n,["image"]);o!=null&&r(e,["image"],qt(o));const a=s(n,["referenceType"]);return a!=null&&r(e,["referenceType"],a),e}function G_(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function H_(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function B_(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function z_(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function qh(n){const e={},o=s(n,["uri"]);o!=null&&r(e,["gcsUri"],o);const a=s(n,["videoBytes"]);a!=null&&r(e,["bytesBase64Encoded"],ii(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Gh(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],JA(o)),e}function P_(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],YA(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const F_="Content-Type",J_="X-Server-Timeout",Y_="User-Agent",uu="x-goog-api-client",O_="1.22.0",$_=`google-genai-sdk/${O_}`,K_="v1beta1",Q_="v1beta",Zp=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class X_{constructor(e){var o,a;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const c={};this.clientOptions.vertexai?(c.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:K_,c.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(c.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:Q_,c.baseUrl="https://generativelanguage.googleapis.com/"),c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&a.push(e.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,a){const c=[this.getRequestUrlInternal(o)];return a&&c.push(this.getBaseResourcePath()),e!==""&&c.push(e),new URL(`${c.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,o,a);if(e.queryParams)for(const[p,g]of Object.entries(e.queryParams))c.searchParams.append(p,String(g));let d={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=e.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,e.abortSignal),this.unaryApiCall(c,d,e.httpMethod)}patchHttpOptions(e,o){const a=JSON.parse(JSON.stringify(e));for(const[c,d]of Object.entries(o))typeof d=="object"?a[c]=Object.assign(Object.assign({},a[c]),d):d!==void 0&&(a[c]=d);return a}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,o,a);(!c.searchParams.has("alt")||c.searchParams.get("alt")!=="sse")&&c.searchParams.set("alt","sse");let d={};return d.body=e.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,e.abortSignal),this.streamApiCall(c,d,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,a){if(o&&o.timeout||a){const c=new AbortController,d=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const p=setTimeout(()=>c.abort(),o.timeout);p&&typeof p.unref=="function"&&p.unref()}a&&a.addEventListener("abort",()=>{c.abort()}),e.signal=d}return o&&o.extraBody!==null&&Z_(e,o.extraBody),e.headers=await this.getHeadersInternal(o),e}async unaryApiCall(e,o,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:a})).then(async c=>(await Wp(c),new nu(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}async streamApiCall(e,o,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:a})).then(async c=>(await Wp(c),this.processStreamResponse(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}processStreamResponse(e){var o;return Yi(this,arguments,function*(){const c=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),d=new TextDecoder("utf-8");if(!c)throw new Error("Response body is empty");try{let p="";for(;;){const{done:g,value:y}=yield ke(c.read());if(g){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=d.decode(y,{stream:!0});try{const C=JSON.parse(h);if("error"in C){const S=JSON.parse(JSON.stringify(C.error)),M=S.status,U=S.code,q=`got status: ${M}. ${JSON.stringify(C)}`;if(U>=400&&U<600)throw new Aa({message:q,status:U})}}catch(C){if(C.name==="ApiError")throw C}p+=h;let v=p.match(Zp);for(;v;){const C=v[1];try{const S=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ke(new nu(S)),p=p.slice(v[0].length),v=p.match(Zp)}catch(S){throw new Error(`exception parsing stream chunk ${C}. ${S}`)}}}}finally{c.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const e={},o=$_+" "+this.clientOptions.userAgentExtra;return e[Y_]=o,e[uu]=o,e[F_]="application/json",e}async getHeadersInternal(e){const o=new Headers;if(e&&e.headers){for(const[a,c]of Object.entries(e.headers))o.append(a,c);e.timeout&&e.timeout>0&&o.append(J_,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o),o}async uploadFile(e,o){var a;const c={};o!=null&&(c.mimeType=o.mimeType,c.name=o.name,c.displayName=o.displayName),c.name&&!c.name.startsWith("files/")&&(c.name=`files/${c.name}`);const d=this.clientOptions.uploader,p=await d.stat(e);c.sizeBytes=String(p.size);const g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");c.mimeType=g;const y=await this.fetchUploadUrl(c,o);return d.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o){var a;let c={};o!=null&&o.httpOptions?c=o.httpOptions:c={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const d={file:e},p=await this.request({path:ee("upload/v1beta/files",d._url),body:JSON.stringify(d),httpMethod:"POST",httpOptions:c});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(a=p==null?void 0:p.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function Wp(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let a;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?a=await n.json():a={error:{message:await n.text(),code:n.status,status:n.statusText}};const c=JSON.stringify(a);throw o>=400&&o<600?new Aa({message:c,status:o}):new Error(c)}}function Z_(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const d=JSON.parse(n.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,p){const g=Object.assign({},d);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const c=a(o,e);n.body=JSON.stringify(c)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W_="mcp_used/unknown";let j_=!1;function Hh(n){for(const e of n)if(eM(e)||typeof e=="object"&&"inputSchema"in e)return!0;return j_}function Bh(n){var e;const o=(e=n[uu])!==null&&e!==void 0?e:"";n[uu]=(o+` ${W_}`).trimStart()}function eM(n){return n!==null&&typeof n=="object"&&n instanceof vu}function tM(n,e=100){return Yi(this,arguments,function*(){let a,c=0;for(;c<e;){const d=yield ke(n.listTools({cursor:a}));for(const p of d.tools)yield yield ke(p),c++;if(!d.nextCursor)break;a=d.nextCursor}})}class vu{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new vu(e,o)}async initialize(){var e,o,a,c;if(this.mcpTools.length>0)return;const d={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,Ko(tM(v))),h;h=await y.next(),e=h.done,!e;g=!0){c=h.value,g=!1;const C=c;p.push(C);const S=C.name;if(d[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);d[S]=v}}catch(C){o={error:C}}finally{try{!g&&!e&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),fT(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const a of e)if(a.name in this.functionNameToMcpClient){const c=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const p=await c.callTool({name:a.name,arguments:a.args},void 0,d);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function nM(n,e,o){const a=new iT;let c;o.data instanceof Blob?c=JSON.parse(await o.data.text()):c=JSON.parse(o.data);const d=FS(c);Object.assign(a,d),e(a)}class iM{constructor(e,o,a){this.apiClient=e,this.auth=o,this.webSocketFactory=a}async connect(e){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),p=aM(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(F=>{h=F}),C=e.callbacks,S=function(){h({})},M=this.apiClient,U={onopen:S,onmessage:F=>{nM(M,C.onmessage,F)},onerror:(o=C==null?void 0:C.onerror)!==null&&o!==void 0?o:function(F){},onclose:(a=C==null?void 0:C.onclose)!==null&&a!==void 0?a:function(F){}},q=this.webSocketFactory.create(y,lM(p),U);q.connect(),await v;const B=Ee(this.apiClient,e.model),V=Nh({model:B}),Y=au({setup:V});return q.send(JSON.stringify(Y)),new oM(q,this.apiClient)}}class oM{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=OS(e),a=Rh(o);this.conn.send(JSON.stringify({clientContent:a}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=YS(e),a=au(o);this.conn.send(JSON.stringify(a))}sendPlaybackControl(e){const o=au({playbackControl:e});this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Fi.PLAY)}pause(){this.sendPlaybackControl(Fi.PAUSE)}stop(){this.sendPlaybackControl(Fi.STOP)}resetContext(){this.sendPlaybackControl(Fi.RESET_CONTEXT)}close(){this.conn.close()}}function lM(n){const e={};return n.forEach((o,a)=>{e[a]=o}),e}function aM(n){const e=new Headers;for(const[o,a]of Object.entries(n))e.append(o,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function rM(n,e,o){const a=new nT;let c;o.data instanceof Blob?c=await o.data.text():o.data instanceof ArrayBuffer?c=new TextDecoder().decode(o.data):c=o.data;const d=JSON.parse(c);if(n.isVertexAI()){const p=tE(d);Object.assign(a,p)}else{const p=eE(d);Object.assign(a,p)}e(a)}class uM{constructor(e,o,a){this.apiClient=e,this.auth=o,this.webSocketFactory=a,this.music=new iM(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,a,c,d,p,g;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const C=this.apiClient.getHeaders();e.config&&e.config.tools&&Hh(e.config.tools)&&Bh(C);const S=mM(C);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const $=this.apiClient.getApiKey();let ne="BidiGenerateContent",me="key";$!=null&&$.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ne="BidiGenerateContentConstrained",me="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ne}?${me}=${$}`}let M=()=>{};const U=new Promise($=>{M=$}),q=e.callbacks,B=function(){var $;($=q==null?void 0:q.onopen)===null||$===void 0||$.call(q),M({})},V=this.apiClient,Y={onopen:B,onmessage:$=>{rM(V,q.onmessage,$)},onerror:(o=q==null?void 0:q.onerror)!==null&&o!==void 0?o:function($){},onclose:(a=q==null?void 0:q.onclose)!==null&&a!==void 0?a:function($){}},F=this.webSocketFactory.create(v,dM(S),Y);F.connect(),await U;let K=Ee(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&K.startsWith("publishers/")){const $=this.apiClient.getProject(),ne=this.apiClient.getLocation();K=`projects/${$}/locations/${ne}/`+K}let W={};this.apiClient.isVertexAI()&&((c=e.config)===null||c===void 0?void 0:c.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ta.AUDIO]}:e.config.responseModalities=[Ta.AUDIO]),!((d=e.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const J=(g=(p=e.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],O=[];for(const $ of J)if(this.isCallableTool($)){const ne=$;O.push(await ne.tool())}else O.push($);O.length>0&&(e.config.tools=O);const Q={model:K,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?W=GS(this.apiClient,Q):W=qS(this.apiClient,Q),delete W.config,F.send(JSON.stringify(W)),new fM(F,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const cM={turnComplete:!0};class fM{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=It(o.turns),e.isVertexAI()?a=a.map(c=>Xi(c)):a=a.map(c=>_a(c))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!e.isVertexAI()&&!("id"in d))throw new Error(sM)}return{toolResponse:{functionResponses:a}}}sendClientContent(e){e=Object.assign(Object.assign({},cM),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:QS(e)}:o={realtimeInput:KS(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function dM(n){const e={};return n.forEach((o,a)=>{e[a]=o}),e}function mM(n){const e=new Headers;for(const[o,a]of Object.entries(n))e.append(o,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jp=10;function eh(n){var e,o,a;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let c=!1;for(const p of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(Oi(p)){c=!0;break}if(!c)return!0;const d=(a=n==null?void 0:n.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Oi(n){return"callTool"in n&&typeof n.callTool=="function"}function pM(n){var e,o,a;return(a=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(c=>Oi(c)))!==null&&a!==void 0?a:!1}function hM(n){var e,o,a;return(a=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(c=>!Oi(c)))!==null&&a!==void 0?a:!1}function th(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gM extends ni{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var a,c,d,p,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!pM(o)||eh(o.config))return await this.generateContentInternal(y);if(hM(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,v;const C=It(y.contents),S=(d=(c=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||c===void 0?void 0:c.maximumRemoteCalls)!==null&&d!==void 0?d:jp;let M=0;for(;M<S&&(h=await this.generateContentInternal(y),!(!h.functionCalls||h.functionCalls.length===0));){const U=h.candidates[0].content,q=[];for(const B of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(Oi(B)){const Y=await B.callTool(h.functionCalls);q.push(...Y)}M++,v={role:"user",parts:q},y.contents=It(y.contents),y.contents.push(U),y.contents.push(v),th(y.config)&&(C.push(U),C.push(v))}return th(y.config)&&(h.automaticFunctionCallingHistory=C),h},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),eh(o.config)){const a=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(a)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var c;let d;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((c=y==null?void 0:y.safetyAttributes)===null||c===void 0?void 0:c.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:p.push(y);let g;return d?g={generatedImages:p,positivePromptSafetyAttributes:d,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new Qo(ti.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(c=>c.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const c={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(c)},this.generateVideos=async o=>{if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,a,c;const d=(o=e.config)===null||o===void 0?void 0:o.tools;if(!d)return e;const p=await Promise.all(d.map(async y=>Oi(y)?await y.tool():y)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:p})};if(g.config.tools=p,e.config&&e.config.tools&&Hh(e.config.tools)){const y=(c=(a=e.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&c!==void 0?c:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Bh(h),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(e){var o,a,c;const d=new Map;for(const p of(a=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(Oi(p)){const g=p,y=await g.tool();for(const h of(c=y.functionDeclarations)!==null&&c!==void 0?c:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,g)}}return d}async processAfcStream(e){var o,a,c;const d=(c=(a=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&c!==void 0?c:jp;let p=!1,g=0;const y=await this.initAfcToolsMap(e);return(function(h,v,C){var S,M;return Yi(this,arguments,function*(){for(var U,q,B,V;g<d;){p&&(g++,p=!1);const W=yield ke(h.processParamsMaybeAddMcpUsage(C)),J=yield ke(h.generateContentStreamInternal(W)),O=[],Q=[];try{for(var Y=!0,F=(q=void 0,Ko(J)),K;K=yield ke(F.next()),U=K.done,!U;Y=!0){V=K.value,Y=!1;const $=V;if(yield yield ke($),$.candidates&&(!((S=$.candidates[0])===null||S===void 0)&&S.content)){Q.push($.candidates[0].content);for(const ne of(M=$.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(g<d&&ne.functionCall){if(!ne.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ne.functionCall.name)){const me=yield ke(v.get(ne.functionCall.name).callTool([ne.functionCall]));O.push(...me)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ne.functionCall.name}`)}}}}catch($){q={error:$}}finally{try{!Y&&!U&&(B=F.return)&&(yield ke(B.call(F)))}finally{if(q)throw q.error}}if(O.length>0){p=!0;const $=new $o;$.candidates=[{content:{role:"user",parts:O}}],yield yield ke($);const ne=[];ne.push(...Q),ne.push({role:"user",parts:O});const me=It(C.contents).concat(ne);C.contents=me}else break}})})(this,y,e)}async generateContentInternal(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Kp(this.apiClient,e);return g=ee("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=Xp(v),S=new $o;return Object.assign(S,C),S})}else{const h=$p(this.apiClient,e);return g=ee("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=Qp(v),S=new $o;return Object.assign(S,C),S})}}async generateContentStreamInternal(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Kp(this.apiClient,e);return g=ee("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(C){return Yi(this,arguments,function*(){var S,M,U,q;try{for(var B=!0,V=Ko(C),Y;Y=yield ke(V.next()),S=Y.done,!S;B=!0){q=Y.value,B=!1;const F=q,K=Xp(yield ke(F.json()));K.sdkHttpResponse={headers:F.headers};const W=new $o;Object.assign(W,K),yield yield ke(W)}}catch(F){M={error:F}}finally{try{!B&&!S&&(U=V.return)&&(yield ke(U.call(V)))}finally{if(M)throw M.error}}})})}else{const h=$p(this.apiClient,e);return g=ee("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}),p.then(function(C){return Yi(this,arguments,function*(){var S,M,U,q;try{for(var B=!0,V=Ko(C),Y;Y=yield ke(V.next()),S=Y.done,!S;B=!0){q=Y.value,B=!1;const F=q,K=Qp(yield ke(F.json()));K.sdkHttpResponse={headers:F.headers};const W=new $o;Object.assign(W,K),yield yield ke(W)}}catch(F){M={error:F}}finally{try{!B&&!S&&(U=V.return)&&(yield ke(U.call(V)))}finally{if(M)throw M.error}}})})}}async embedContent(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=wx(this.apiClient,e);return g=ee("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=Ix(v),S=new Rp;return Object.assign(S,C),S})}else{const h=bx(this.apiClient,e);return g=ee("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=Ux(v),S=new Rp;return Object.assign(S,C),S})}}async generateImagesInternal(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=eA(this.apiClient,e);return g=ee("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=nA(v),S=new Np;return Object.assign(S,C),S})}else{const h=jx(this.apiClient,e);return g=ee("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=tA(v),S=new Np;return Object.assign(S,C),S})}}async editImageInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI()){const g=Ax(this.apiClient,e);return d=ee("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const h=_x(y),v=new Kv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI()){const g=M_(this.apiClient,e);return d=ee("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const h=R_(y),v=new Qv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI()){const g=KA(this.apiClient,e);return d=ee("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const h=QA(y),v=new Xv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI()){const g=a_(this.apiClient,e);return d=ee("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const h=s_(y),v=new Zv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=vA(this.apiClient,e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>ru(v))}else{const h=yA(this.apiClient,e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>su(v))}}async listInternal(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=LA(this.apiClient,e);return g=ee("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=VA(v),S=new Dp;return Object.assign(S,C),S})}else{const h=IA(this.apiClient,e);return g=ee("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=kA(v),S=new Dp;return Object.assign(S,C),S})}}async update(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=A_(this.apiClient,e);return g=ee("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>ru(v))}else{const h=x_(this.apiClient,e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>su(v))}}async delete(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=vx(this.apiClient,e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=Cx(v),S=new bp;return Object.assign(S,C),S})}else{const h=yx(this.apiClient,e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=Tx(v),S=new bp;return Object.assign(S,C),S})}}async countTokens(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=px(this.apiClient,e);return g=ee("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=gx(v),S=new wp;return Object.assign(S,C),S})}else{const h=mx(this.apiClient,e);return g=ee("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=hx(v),S=new wp;return Object.assign(S,C),S})}}async computeTokens(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI()){const g=tx(this.apiClient,e);return d=ee("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const h=nx(y),v=new Wv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=rA(this.apiClient,e);return g=ee("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const C=aA(v),S=new Ca;return Object.assign(S,C),S})}else{const h=sA(this.apiClient,e);return g=ee("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>{const C=lA(v),S=new Ca;return Object.assign(S,C),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yM extends ni{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,a=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:c,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async get(e){const o=e.operation,a=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:c,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async getVideosOperationInternal(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Yv(e);return g=ee("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const h=Jv(e);return g=ee("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI()){const g=qv(e);return d=ee("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nh(){return{}}function vM(n){const e={},o=s(n,["name"]);return o!=null&&r(e,["name"],o),e}function TM(n){const e={},o=s(n,["disabled"]);o!=null&&r(e,["disabled"],o);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&r(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const p=s(n,["silenceDurationMs"]);return p!=null&&r(e,["silenceDurationMs"],p),e}function CM(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function SM(n){const e={},o=s(n,["environment"]);o!=null&&r(e,["environment"],o);const a=s(n,["excludedPredefinedFunctions"]);return a!=null&&r(e,["excludedPredefinedFunctions"],a),e}function EM(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>VM(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function xM(n){const e={},o=s(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const a=s(n,["slidingWindow"]);return a!=null&&r(e,["slidingWindow"],zM(a)),e}function AM(n,e,o){const a={},c=s(e,["expireTime"]);o!==void 0&&c!=null&&r(o,["expireTime"],c);const d=s(e,["newSessionExpireTime"]);o!==void 0&&d!=null&&r(o,["newSessionExpireTime"],d);const p=s(e,["uses"]);o!==void 0&&p!=null&&r(o,["uses"],p);const g=s(e,["liveConnectConstraints"]);o!==void 0&&g!=null&&r(o,["bidiGenerateContentSetup"],LM(n,g));const y=s(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&r(o,["fieldMask"],y),a}function _M(n,e){const o={},a=s(e,["config"]);return a!=null&&r(o,["config"],AM(n,a,o)),o}function MM(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function RM(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function NM(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const a=s(n,["args"]);a!=null&&r(e,["args"],a);const c=s(n,["name"]);return c!=null&&r(e,["name"],c),e}function DM(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const p=s(n,["parametersJsonSchema"]);p!=null&&r(e,["parametersJsonSchema"],p);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function bM(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],MM(o)),e}function wM(n){const e={},o=s(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],UM(o)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function UM(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function IM(n,e){const o={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const p=s(n,["topP"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","topP"],p);const g=s(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const h=s(n,["mediaResolution"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","mediaResolution"],h);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const C=s(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],FM(gu(C)));const S=s(n,["thinkingConfig"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","thinkingConfig"],JM(S));const M=s(n,["enableAffectiveDialog"]);e!==void 0&&M!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],M);const U=s(n,["systemInstruction"]);e!==void 0&&U!=null&&r(e,["setup","systemInstruction"],EM(it(U)));const q=s(n,["tools"]);if(e!==void 0&&q!=null){let J=Ki(q);Array.isArray(J)&&(J=J.map(O=>YM($i(O)))),r(e,["setup","tools"],J)}const B=s(n,["sessionResumption"]);e!==void 0&&B!=null&&r(e,["setup","sessionResumption"],BM(B));const V=s(n,["inputAudioTranscription"]);e!==void 0&&V!=null&&r(e,["setup","inputAudioTranscription"],nh());const Y=s(n,["outputAudioTranscription"]);e!==void 0&&Y!=null&&r(e,["setup","outputAudioTranscription"],nh());const F=s(n,["realtimeInputConfig"]);e!==void 0&&F!=null&&r(e,["setup","realtimeInputConfig"],HM(F));const K=s(n,["contextWindowCompression"]);e!==void 0&&K!=null&&r(e,["setup","contextWindowCompression"],xM(K));const W=s(n,["proactivity"]);return e!==void 0&&W!=null&&r(e,["setup","proactivity"],GM(W)),o}function LM(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["setup","model"],Ee(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],IM(c,o)),o}function kM(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>PM(c))),r(e,["speakerVoiceConfigs"],a)}return e}function VM(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],$M(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],CM(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],RM(d));const p=s(n,["thoughtSignature"]);p!=null&&r(e,["thoughtSignature"],p);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],NM(g));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const h=s(n,["executableCode"]);h!=null&&r(e,["executableCode"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function qM(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function GM(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function HM(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],TM(o));const a=s(n,["activityHandling"]);a!=null&&r(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function BM(n){const e={},o=s(n,["handle"]);if(o!=null&&r(e,["handle"],o),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function zM(n){const e={},o=s(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function PM(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],zh(a)),e}function FM(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],zh(o));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],kM(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function JM(n){const e={},o=s(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const a=s(n,["thinkingBudget"]);return a!=null&&r(e,["thinkingBudget"],a),e}function YM(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>DM(h))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],wM(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],bM(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],OM());const p=s(n,["computerUse"]);p!=null&&r(e,["computerUse"],SM(p));const g=s(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function OM(){return{}}function $M(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function zh(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],qM(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KM(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const a=n[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const c=Object.keys(a).map(d=>`${o}.${d}`);e.push(...c)}else e.push(o)}return e.join(",")}function QM(n,e){let o=null;const a=n.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(n.bidiGenerateContentSetup=d,o=d):delete n.bidiGenerateContentSetup}else a!==void 0&&delete n.bidiGenerateContentSetup;const c=n.fieldMask;if(o){const d=KM(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)d?n.fieldMask=d:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&c!==null&&Array.isArray(c)&&c.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];c.length>0&&(g=c.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else c!==null&&Array.isArray(c)&&c.length>0?n.fieldMask=c.join(","):delete n.fieldMask;return n}class XM extends ni{constructor(e){super(),this.apiClient=e}async create(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=_M(this.apiClient,e);d=ee("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=QM(g,e.config);return c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),c.then(h=>vM(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZM(n){const e={},o=s(n,["name"]);return o!=null&&r(e,["_url","name"],o),e}function WM(n){const e={},o=s(n,["name"]);return o!=null&&r(e,["_url","name"],o),e}function jM(n,e){const o={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=s(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&r(e,["displayName"],a),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=s(n,["epochCount"]);e!==void 0&&c!=null&&r(e,["tuningTask","hyperparameters","epochCount"],c);const d=s(n,["learningRateMultiplier"]);if(d!=null&&r(o,["tuningTask","hyperparameters","learningRateMultiplier"],d),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=s(n,["batchSize"]);e!==void 0&&p!=null&&r(e,["tuningTask","hyperparameters","batchSize"],p);const g=s(n,["learningRate"]);if(e!==void 0&&g!=null&&r(e,["tuningTask","hyperparameters","learningRate"],g),s(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return o}function eR(n,e){const o={},a=s(n,["validationDataset"]);e!==void 0&&a!=null&&r(e,["supervisedTuningSpec"],vR(a,o));const c=s(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&r(e,["tunedModelDisplayName"],c);const d=s(n,["description"]);e!==void 0&&d!=null&&r(e,["description"],d);const p=s(n,["epochCount"]);e!==void 0&&p!=null&&r(e,["supervisedTuningSpec","hyperParameters","epochCount"],p);const g=s(n,["learningRateMultiplier"]);e!==void 0&&g!=null&&r(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g);const y=s(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&r(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const h=s(n,["adapterSize"]);if(e!==void 0&&h!=null&&r(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h),s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const v=s(n,["labels"]);return e!==void 0&&v!=null&&r(e,["labels"],v),o}function tR(n){const e={},o=s(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const a=s(n,["preTunedModel"]);a!=null&&r(e,["preTunedModel"],a);const c=s(n,["trainingDataset"]);c!=null&&r(e,["tuningTask","trainingData"],pR(c));const d=s(n,["config"]);return d!=null&&jM(d,e),e}function nR(n){const e={},o=s(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const a=s(n,["preTunedModel"]);a!=null&&r(e,["preTunedModel"],a);const c=s(n,["trainingDataset"]);c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],hR(c,e));const d=s(n,["config"]);return d!=null&&eR(d,e),e}function iR(n){const e={},o=s(n,["name"]);return o!=null&&r(e,["_url","name"],o),e}function oR(n){const e={},o=s(n,["name"]);return o!=null&&r(e,["_url","name"],o),e}function lR(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),o}function aR(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),o}function sR(n){const e={},o=s(n,["config"]);return o!=null&&lR(o,e),e}function rR(n){const e={},o=s(n,["config"]);return o!=null&&aR(o,e),e}function uR(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["tunedModels"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>Ph(p))),r(e,["tuningJobs"],d)}return e}function cR(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["tuningJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>cu(p))),r(e,["tuningJobs"],d)}return e}function fR(n){const e={},o=s(n,["checkpointId"]);o!=null&&r(e,["checkpointId"],o);const a=s(n,["epoch"]);a!=null&&r(e,["epoch"],a);const c=s(n,["step"]);c!=null&&r(e,["step"],c);const d=s(n,["endpoint"]);return d!=null&&r(e,["endpoint"],d),e}function dR(n){const e={},o=s(n,["name"]);o!=null&&r(e,["model"],o);const a=s(n,["name"]);return a!=null&&r(e,["endpoint"],a),e}function mR(n){const e={},o=s(n,["model"]);o!=null&&r(e,["model"],o);const a=s(n,["endpoint"]);a!=null&&r(e,["endpoint"],a);const c=s(n,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>fR(p))),r(e,["checkpoints"],d)}return e}function pR(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(n,["examples"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>gR(c))),r(e,["examples","examples"],a)}return e}function hR(n,e){const o={},a=s(n,["gcsUri"]);e!==void 0&&a!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],a);const c=s(n,["vertexDatasetResource"]);if(e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function gR(n){const e={},o=s(n,["textInput"]);o!=null&&r(e,["textInput"],o);const a=s(n,["output"]);return a!=null&&r(e,["output"],a),e}function Ph(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["state"]);c!=null&&r(e,["state"],ph(c));const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const p=s(n,["tuningTask","startTime"]);p!=null&&r(e,["startTime"],p);const g=s(n,["tuningTask","completeTime"]);g!=null&&r(e,["endTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const h=s(n,["description"]);h!=null&&r(e,["description"],h);const v=s(n,["baseModel"]);v!=null&&r(e,["baseModel"],v);const C=s(n,["_self"]);C!=null&&r(e,["tunedModel"],dR(C));const S=s(n,["customBaseModel"]);S!=null&&r(e,["customBaseModel"],S);const M=s(n,["experiment"]);M!=null&&r(e,["experiment"],M);const U=s(n,["labels"]);U!=null&&r(e,["labels"],U);const q=s(n,["outputUri"]);q!=null&&r(e,["outputUri"],q);const B=s(n,["pipelineJob"]);B!=null&&r(e,["pipelineJob"],B);const V=s(n,["serviceAccount"]);V!=null&&r(e,["serviceAccount"],V);const Y=s(n,["tunedModelDisplayName"]);Y!=null&&r(e,["tunedModelDisplayName"],Y);const F=s(n,["veoTuningSpec"]);return F!=null&&r(e,["veoTuningSpec"],F),e}function cu(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["state"]);c!=null&&r(e,["state"],ph(c));const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const p=s(n,["startTime"]);p!=null&&r(e,["startTime"],p);const g=s(n,["endTime"]);g!=null&&r(e,["endTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const h=s(n,["error"]);h!=null&&r(e,["error"],h);const v=s(n,["description"]);v!=null&&r(e,["description"],v);const C=s(n,["baseModel"]);C!=null&&r(e,["baseModel"],C);const S=s(n,["tunedModel"]);S!=null&&r(e,["tunedModel"],mR(S));const M=s(n,["preTunedModel"]);M!=null&&r(e,["preTunedModel"],M);const U=s(n,["supervisedTuningSpec"]);U!=null&&r(e,["supervisedTuningSpec"],U);const q=s(n,["tuningDataStats"]);q!=null&&r(e,["tuningDataStats"],q);const B=s(n,["encryptionSpec"]);B!=null&&r(e,["encryptionSpec"],B);const V=s(n,["partnerModelTuningSpec"]);V!=null&&r(e,["partnerModelTuningSpec"],V);const Y=s(n,["customBaseModel"]);Y!=null&&r(e,["customBaseModel"],Y);const F=s(n,["experiment"]);F!=null&&r(e,["experiment"],F);const K=s(n,["labels"]);K!=null&&r(e,["labels"],K);const W=s(n,["outputUri"]);W!=null&&r(e,["outputUri"],W);const J=s(n,["pipelineJob"]);J!=null&&r(e,["pipelineJob"],J);const O=s(n,["serviceAccount"]);O!=null&&r(e,["serviceAccount"],O);const Q=s(n,["tunedModelDisplayName"]);Q!=null&&r(e,["tunedModelDisplayName"],Q);const $=s(n,["veoTuningSpec"]);return $!=null&&r(e,["veoTuningSpec"],$),e}function yR(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["metadata"]);c!=null&&r(e,["metadata"],c);const d=s(n,["done"]);d!=null&&r(e,["done"],d);const p=s(n,["error"]);return p!=null&&r(e,["error"],p),e}function vR(n,e){const o={},a=s(n,["gcsUri"]);a!=null&&r(o,["validationDatasetUri"],a);const c=s(n,["vertexDatasetResource"]);return e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TR extends ni{constructor(e){super(),this.apiClient=e,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new Qo(ti.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const c={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(c.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:c});return d.baseModel=void 0,await this.tuneInternal(d)}else{const c=Object.assign({},o);return await this.tuneInternal(c)}else{const c=Object.assign({},o),d=await this.tuneMldevInternal(c);let p="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?p=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(p=d.name.split("/operations/")[0]),{name:p,state:tu.JOB_STATE_QUEUED}}}}async getInternal(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=oR(e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>cu(v))}else{const h=iR(e);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>Ph(v))}}async listInternal(e){var o,a,c,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=rR(e);return g=ee("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=cR(v),S=new Up;return Object.assign(S,C),S})}else{const h=sR(e);return g=ee("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const C=uR(v),S=new Up;return Object.assign(S,C),S})}}async cancel(e){var o,a,c,d;let p="",g={};if(this.apiClient.isVertexAI()){const y=WM(e);p=ee("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=ZM(e);p=ee("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async tuneInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI()){const g=nR(e);return d=ee("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>cu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,a;let c,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=tR(e);return d=ee("tunedModels",g._url),p=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>yR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CR{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const SR=1024*1024*8,ER=3,xR=1e3,AR=2,jr="x-goog-upload-status";async function _R(n,e,o){var a,c,d;let p=0,g=0,y=new nu(new Response),h="upload";for(p=n.size;g<p;){const C=Math.min(SR,p-g),S=n.slice(g,g+C);g+C>=p&&(h+=", finalize");let M=0,U=xR;for(;M<ER&&(y=await o.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(g),"Content-Length":String(C)}}}),!(!((a=y==null?void 0:y.headers)===null||a===void 0)&&a[jr]));)M++,await RR(U),U=U*AR;if(g+=C,((c=y==null?void 0:y.headers)===null||c===void 0?void 0:c[jr])!=="active")break;if(p<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((d=y==null?void 0:y.headers)===null||d===void 0?void 0:d[jr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function MR(n){return{size:n.size,type:n.type}}function RR(n){return new Promise(e=>setTimeout(e,n))}class NR{async upload(e,o,a){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _R(e,o,a)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await MR(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DR{create(e,o,a){return new bR(e,o,a)}}class bR{constructor(e,o,a){this.url=e,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ih="x-goog-api-key";class wR{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(ih)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ih,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UR="gl-node/";class IR{constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const a=Vv(e.httpOptions,e.vertexai,void 0,void 0);a&&(e.httpOptions?e.httpOptions.baseUrl=a:e.httpOptions={baseUrl:a}),this.apiVersion=e.apiVersion;const c=new wR(this.apiKey);this.apiClient=new X_({auth:c,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:UR+"web",uploader:new NR,downloader:new CR}),this.models=new gM(this.apiClient),this.live=new uM(this.apiClient,c,new DR),this.batches=new N0(this.apiClient),this.chats=new VC(this.models,this.apiClient),this.caches=new IC(this.apiClient),this.files=new QC(this.apiClient),this.operations=new yM(this.apiClient),this.authTokens=new XM(this.apiClient),this.tunings=new TR(this.apiClient)}}const Tu="saga_auth_credentials";function LR(n){localStorage.setItem(Tu,JSON.stringify(n))}function kn(){const n=localStorage.getItem(Tu);if(!n)return null;try{return JSON.parse(n)}catch{return null}}function oh(){localStorage.removeItem(Tu)}function kR(){const n=kn();return!!(n!=null&&n.githubPAT&&(n!=null&&n.geminiApiKey))}function VR(n){return/^(ghp_[a-zA-Z0-9]{36}|github_pat_[a-zA-Z0-9_]{82}|[a-f0-9]{40})$/.test(n)}function qR(n){return/^AI[a-zA-Z0-9_-]{37,}$/.test(n)}function Fh(){const n=kn();if(!(n!=null&&n.geminiApiKey))throw new Error("Gemini API key not found. Please log in again.");return new IR({apiKey:n.geminiApiKey})}async function GR(n){const e=Fh(),o=`
You are an expert literary analyst. Your task is to analyze the provided book chapter and generate a concise summary.

The response must be in the following format, with each item on a new line:
- Three separate lines, each starting with "BULLET: ", summarizing a key event.
- One final line, starting with "QUOTE: ", containing a thematically significant or encapsulating quote from the chapter. This quote MUST be at least 15 words long to provide sufficient context. If the quote is spoken by a character, you MUST include who said it (e.g., "Nothing is fair," Jon said.).

Do not include any other text, explanations, or formatting.

Here is the chapter text:
---
${n}
---
`;try{return await e.models.generateContentStream({model:"gemini-2.5-flash",contents:o})}catch(a){console.error("Error summarizing chapter:",a);const c=a instanceof Error?a.message:"An unknown error occurred.";throw new Error(`Could not get a valid summary from the AI model. ${c}`)}}async function HR(n,e){const o=Fh(),a=[];e&&a.push(`Context from the book:
---
${e}
---

You are a helpful assistant discussing this book with the reader. Use the context above to answer questions about the story, characters, themes, and events. Be conversational and engaging.`),n.forEach(d=>{a.push(`${d.role==="user"?"User":"Assistant"}: ${d.content}`)});const c=a.join(`

`);try{return await o.models.generateContentStream({model:"gemini-2.5-flash",contents:c})}catch(d){console.error("Error in chat:",d);const p=d instanceof Error?d.message:"An unknown error occurred.";throw new Error(`Could not get a response from the AI model. ${p}`)}}const Jh="SAGA App - Book Library Data",Ea="saga_library_index.json",BR=8e5;async function Cu(n){try{const e=await fetch("https://api.github.com/gists",{headers:{Authorization:`token ${n}`,Accept:"application/vnd.github.v3+json"}});if(!e.ok)throw new Error(`GitHub API error: ${e.status}`);const a=(await e.json()).find(c=>c.description===Jh);return(a==null?void 0:a.id)||null}catch(e){throw console.error("Error finding SAGA gist:",e),e}}async function zR(n,e){try{const o=Yh(e),a={};console.log(`Creating gist with ${Object.keys(o).length} files:`,Object.keys(o)),Object.entries(o).forEach(([g,y])=>{a[g]={content:y},console.log(`  ${g}: ${y.length} bytes`)});const c=JSON.stringify({description:Jh,public:!1,files:a});console.log(`Total payload size: ${c.length} bytes`);const d=await fetch("https://api.github.com/gists",{method:"POST",headers:{Authorization:`token ${n}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json"},body:c});if(!d.ok){const g=await d.text();throw console.error("Gist creation failed:",d.status,g),new Error(`Failed to create gist: ${d.status} - ${g}`)}const p=await d.json();return console.log(`Gist created successfully: ${p.id}`),p.id}catch(o){throw console.error("Error creating SAGA gist:",o),o}}async function PR(n,e,o){try{const a=Yh(o),c={};Object.entries(a).forEach(([p,g])=>{c[p]={content:g}});const d=await fetch(`https://api.github.com/gists/${e}`,{method:"PATCH",headers:{Authorization:`token ${n}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json"},body:JSON.stringify({files:c})});if(!d.ok)throw new Error(`Failed to update gist: ${d.status}`)}catch(a){throw console.error("Error updating gist:",a),a}}function Yh(n){const e={},o=n.map(a=>({id:a.id,title:a.title,chapterCount:a.chapters.length,summaries:a.summaries,images:a.images,lastAccessed:a.lastAccessed}));return e[Ea]=JSON.stringify(o,null,2),n.forEach(a=>{if(!a.id)return;const c=JSON.stringify(a,null,2);if(c.length<=BR)e[`book_${a.id}.json`]=c;else{console.log(`Book ${a.id} is too large (${c.length} bytes), splitting into chunks`);const d=10,p=[];for(let g=0;g<a.chapters.length;g+=d){const y=a.chapters.slice(g,g+d),h={},v={};y.forEach((C,S)=>{const M=g+S;a.summaries[M]&&(h[S]=a.summaries[M]),a.images[M]&&(v[S]=a.images[M])}),p.push({id:a.id,title:a.title,chapters:y,summaries:h,images:v,lastAccessed:a.lastAccessed})}e[`book_${a.id}_meta.json`]=JSON.stringify({id:a.id,title:a.title,totalChapters:a.chapters.length,chunkCount:p.length,lastAccessed:a.lastAccessed},null,2),p.forEach((g,y)=>{e[`book_${a.id}_chunk_${y}.json`]=JSON.stringify(g,null,2)})}}),e}async function sn(n){if(!n)return null;if(n.truncated&&n.raw_url)try{console.log(`Fetching truncated file from raw_url: ${n.raw_url}`);const e=await fetch(n.raw_url);if(e.ok){const o=await e.text();return console.log(`Fetched ${o.length} bytes from raw_url`),o}else console.error(`Failed to fetch raw content: ${e.status}`)}catch(e){console.error("Failed to fetch raw content:",e)}if(n.content)return n.content;if(n.raw_url)try{const e=await fetch(n.raw_url);if(e.ok)return await e.text()}catch(e){console.error("Failed to fetch raw content:",e)}return null}async function FR(n){try{const e=await Cu(n);if(!e)return console.log("No SAGA gist found"),[];const o=await fetch(`https://api.github.com/gists/${e}`,{headers:{Authorization:`token ${n}`,Accept:"application/vnd.github.v3+json"}});if(!o.ok)throw new Error(`Failed to load gist: ${o.status}`);const a=await o.json(),c=a.files[Ea],d=await sn(c);if(d)return JSON.parse(d).map(y=>({id:y.id,title:y.title,chapters:new Array(y.chapterCount).fill(null),summaries:y.summaries,images:y.images,lastAccessed:y.lastAccessed}));const p=[];for(const g of Object.keys(a.files)){const y=g.match(/^book_(\d+)_meta\.json$/);if(y){const h=parseInt(y[1]),v=await sn(a.files[g]);if(v){const C=JSON.parse(v);p.push({id:C.id,title:C.title,chapters:new Array(C.totalChapters).fill(null),summaries:{},images:{},lastAccessed:C.lastAccessed})}}}return p}catch(e){throw console.error("Error loading books metadata:",e),e}}async function JR(n){var e;try{const o=await Cu(n);if(!o)return console.log("No SAGA gist found"),[];const a=await fetch(`https://api.github.com/gists/${o}`,{headers:{Authorization:`token ${n}`,Accept:"application/vnd.github.v3+json"}});if(!a.ok)throw new Error(`Failed to load gist: ${a.status}`);const c=await a.json();console.log("Files in gist:",Object.keys(c.files)),console.log("Looking for index file:",Ea);const d=c.files[Ea],p=await sn(d);if(p){console.log("Loading books from new format (index + book files)"),console.log("Index content:",p);const v=JSON.parse(p);if(console.log("Parsed index:",v),v.length===0)console.log("Index is empty, falling through to reconstruction");else{const C=[];for(const S of v){const M=S.id,U=`book_${M}_meta.json`,q=await sn(c.files[U]);if(q)try{const B=JSON.parse(q),V=[],Y={},F={};for(let K=0;K<B.chunkCount;K++){const W=`book_${M}_chunk_${K}.json`,J=c.files[W],O=await sn(J);if(O)try{const Q=JSON.parse(O),$=V.length;Q.chapters.forEach(ne=>{V.push(ne)}),Object.entries(Q.summaries).forEach(([ne,me])=>{Y[$+parseInt(ne)]=me}),Object.entries(Q.images).forEach(([ne,me])=>{F[$+parseInt(ne)]=me})}catch(Q){console.error(`Failed to parse chunk ${K} for book ${M}:`,Q)}}C.push({id:B.id,title:B.title,chapters:V,summaries:Y,images:F,lastAccessed:B.lastAccessed}),console.log(`Loaded chunked book ${M} from ${B.chunkCount} chunks`)}catch(B){console.error(`Failed to load chunked book ${M}:`,B)}else console.log(`No metadata found for book ${M}, checking for regular file`);if(!q){const B=`book_${M}.json`,V=await sn(c.files[B]);if(V)try{const Y=JSON.parse(V);C.push(Y),console.log(`Loaded regular book ${M}`)}catch(Y){console.error(`Failed to parse book ${M}:`,Y)}}}return console.log(`Returning ${C.length} books from new format`),C}}const g=(e=c.files["saga_library.json"])==null?void 0:e.content;if(g){console.log("Loading books from old format (single file)");try{const v=JSON.parse(g);return console.log(`Loaded ${v.length} books from old format`),v}catch(v){return console.error("Failed to parse old format:",v),[]}}console.log("No index found, checking for individual book files...");const y=[],h=new Set;for(const v of Object.keys(c.files)){const C=v.match(/^book_(\d+)_chunk_(\d+)\.json$/);if(C){const S=parseInt(C[1]);if(!h.has(S)){h.add(S);const M=await sn(c.files[`book_${S}_meta.json`]);if(M)try{const U=JSON.parse(M),q=[],B={},V={};for(let Y=0;Y<U.chunkCount;Y++){const F=`book_${S}_chunk_${Y}.json`,K=c.files[F];console.log(`Loading chunk ${Y}: truncated=${K==null?void 0:K.truncated}, size=${K==null?void 0:K.size}`);const W=await sn(K);if(W)try{const J=JSON.parse(W),O=q.length;J.chapters.forEach(Q=>{q.push(Q)}),Object.entries(J.summaries).forEach(([Q,$])=>{B[O+parseInt(Q)]=$}),Object.entries(J.images).forEach(([Q,$])=>{V[O+parseInt(Q)]=$}),console.log(`Successfully loaded chunk ${Y}`)}catch(J){console.error(`Failed to parse chunk ${Y}:`,J)}else console.warn(`No content for chunk ${Y}`)}y.push({id:U.id,title:U.title,chapters:q,summaries:B,images:V,lastAccessed:U.lastAccessed}),console.log(`Reconstructed chunked book ${S} from ${U.chunkCount} chunks`)}catch(U){console.error(`Failed to load chunked book ${S}:`,U)}}continue}if(v.startsWith("book_")&&v.endsWith(".json")&&!v.includes("_meta")&&!v.includes("_chunk_")){const S=await sn(c.files[v]);if(S)try{const M=JSON.parse(S);M.id&&!h.has(M.id)&&(h.add(M.id),y.push(M),console.log(`Found book from file: ${v}`))}catch(M){console.error(`Failed to parse ${v}:`,M)}}}return y.length>0?(console.log(`Loaded ${y.length} books from individual files (no index)`),y):(console.log("No book data found in gist"),[])}catch(o){throw console.error("Error loading books from gist:",o),new Error("Failed to load library from GitHub. Please check your PAT and try again.")}}async function Su(n,e){try{const o=await Cu(n);o?await PR(n,o,e):await zR(n,e)}catch(o){throw console.error("Error saving books to gist:",o),new Error("Failed to save library to GitHub. Please check your PAT and try again.")}}async function YR(n){try{return(await fetch("https://api.github.com/user",{headers:{Authorization:`token ${n}`,Accept:"application/vnd.github.v3+json"}})).ok}catch{return!1}}async function lh(){return Promise.resolve()}function OR(n){const e=n.chapters.filter(o=>o!=null);if(e.length!==n.chapters.length){console.warn(`Book ${n.id} had ${n.chapters.length-e.length} null chapters, cleaning up`);const o=new Map;let a=0;n.chapters.forEach((p,g)=>{p!=null&&(o.set(g,a),a++)});const c={},d={};return Object.entries(n.summaries).forEach(([p,g])=>{const y=o.get(parseInt(p));y!==void 0&&(c[y]=g)}),Object.entries(n.images).forEach(([p,g])=>{const y=o.get(parseInt(p));y!==void 0&&(d[y]=g)}),{...n,chapters:e,summaries:c,images:d}}return n}async function ah(){const n=kn();if(!(n!=null&&n.githubPAT))throw new Error("GitHub PAT not found");try{return await FR(n.githubPAT)}catch(e){throw console.error("Error loading books metadata:",e),e}}async function Eu(){const n=kn();if(!(n!=null&&n.githubPAT))throw new Error("GitHub PAT not found");try{return(await JR(n.githubPAT)).map(OR)}catch(e){throw console.error("Error loading books:",e),e}}async function $R(n){return(await Eu()).find(o=>o.id===n)||null}async function KR(n){const e=kn();if(!(e!=null&&e.githubPAT))throw new Error("GitHub PAT not found");const o=await Eu(),c=o.reduce((g,y)=>Math.max(g,y.id||0),0)+1,p=[{...n,id:c},...o];return await Su(e.githubPAT,p),await new Promise(g=>setTimeout(g,1e3)),c}async function eu(n){const e=kn();if(!(e!=null&&e.githubPAT))throw new Error("GitHub PAT not found");const a=(await Eu()).map(c=>c.id===n.id?n:c);await Su(e.githubPAT,a)}async function QR(){const n=kn();if(!(n!=null&&n.githubPAT))throw new Error("GitHub PAT not found");await Su(n.githubPAT,[])}const xa="/saga-book-summarizer/assets/logo-CrjB4bHl.png",XR=({onLogin:n,error:e})=>{const[o,a]=oe.useState(""),[c,d]=oe.useState(""),[p,g]=oe.useState(!1),[y,h]=oe.useState(!1),[v,C]=oe.useState(!1),[S,M]=oe.useState(null),[U,q]=oe.useState(!1),[B,V]=oe.useState(""),Y=async F=>{F.preventDefault(),M(null);let K=o,W=c;if(U&&B)try{const J=atob(B),[O,Q]=J.split(":::");if(!O||!Q){M("Invalid quick login code");return}K=O,W=Q}catch{M("Invalid quick login code");return}if(!VR(K)){M("Invalid GitHub Personal Access Token format");return}if(!qR(W)){M("Invalid Gemini API key format");return}C(!0);try{if(!await YR(K)){M("GitHub PAT is invalid or expired. Please check your token."),C(!1);return}n(K,W)}catch{M("Failed to validate credentials. Please check your internet connection."),C(!1)}};return x.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-900",children:x.jsxs("div",{className:"max-w-md w-full p-8 space-y-8",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("img",{src:xa,alt:"SAGA Logo",className:"w-24 h-24"})}),x.jsx("h1",{className:"text-5xl font-extrabold mb-3 tracking-wide",children:x.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-amber-400 via-orange-400 to-amber-500",children:"SAGA"})}),x.jsx("p",{className:"text-xl text-amber-400/80 mb-2 font-semibold tracking-wider",children:"Your Story Companion"}),x.jsx("p",{className:"text-sm text-gray-400 mb-8",children:"Enter your credentials to access your library across all devices"})]}),x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("button",{type:"button",onClick:()=>q(!U),className:"text-sm text-amber-400 hover:text-amber-300 underline",children:U?"Use individual keys":"Have a quick login code?"})}),x.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[U?x.jsxs("div",{children:[x.jsx("label",{htmlFor:"quick-login",className:"block text-sm font-medium text-gray-300 mb-2",children:"Quick Login Code"}),x.jsx("input",{id:"quick-login",type:"text",value:B,onChange:F=>V(F.target.value),placeholder:"Paste your login code here",required:!0,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),x.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Enter the code you copied from another device"})]}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"github-pat",className:"block text-sm font-medium text-gray-300 mb-2",children:"GitHub Personal Access Token"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{id:"github-pat",type:p?"text":"password",value:o,onChange:F=>a(F.target.value),placeholder:"ghp_xxxxxxxxxxxx",required:!0,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),x.jsx("button",{type:"button",onClick:()=>g(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-amber-400 text-sm",children:p?"Hide":"Show"})]}),x.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:["Need a token? ",x.jsx("a",{href:"https://github.com/settings/tokens/new?scopes=gist",target:"_blank",rel:"noopener noreferrer",className:"text-amber-400 hover:text-amber-300 underline",children:"Create one here"})," with 'gist' scope"]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"gemini-key",className:"block text-sm font-medium text-gray-300 mb-2",children:"Gemini API Key"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{id:"gemini-key",type:y?"text":"password",value:c,onChange:F=>d(F.target.value),placeholder:"AIzaSyxxxxxxxxxx",required:!0,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),x.jsx("button",{type:"button",onClick:()=>h(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-amber-400 text-sm",children:y?"Hide":"Show"})]}),x.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:["Need a key? ",x.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-amber-400 hover:text-amber-300 underline",children:"Get one here"})]})]})]}),(S||e)&&x.jsx("div",{className:"bg-red-900/50 border border-red-700 text-red-300 px-4 py-3 rounded-lg",children:x.jsx("span",{className:"block text-sm",children:S||e})}),x.jsx("button",{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-amber-600 to-orange-600 text-white font-bold py-3 px-4 rounded-lg hover:from-amber-700 hover:to-orange-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:v?"Validating...":"Enter SAGA"})]}),x.jsx("div",{className:"text-center",children:x.jsx("p",{className:"text-xs text-gray-500",children:"Your credentials are stored locally and never sent to our servers"})})]})})},ZR=n=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[x.jsx("path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}),x.jsx("path",{d:"M12 12v9"}),x.jsx("path",{d:"m16 16-4-4-4 4"})]}),WR=n=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[x.jsx("path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 2v6c0 7 4 8 8 8Z"}),x.jsx("path",{d:"M14 21c3 0 7-1 7-8V5c0-1.25-.75-2.017-2-2h-4c-1.25 0-2 .75-2 2v6c0 7 4 8 8 8Z"})]}),jR=n=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[x.jsx("line",{x1:"8",x2:"21",y1:"6",y2:"6"}),x.jsx("line",{x1:"8",x2:"21",y1:"12",y2:"12"}),x.jsx("line",{x1:"8",x2:"21",y1:"18",y2:"18"}),x.jsx("line",{x1:"3",x2:"3.01",y1:"6",y2:"6"}),x.jsx("line",{x1:"3",x2:"3.01",y1:"12",y2:"12"}),x.jsx("line",{x1:"3",x2:"3.01",y1:"18",y2:"18"})]}),Oh=n=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`animate-spin ${n.className||""}`,...n,children:x.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),eN=n=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[x.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),x.jsx("polyline",{points:"14 2 14 8 20 8"}),x.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),x.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),x.jsx("line",{x1:"10",y1:"9",x2:"8",y2:"9"})]}),sh=n=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[x.jsx("path",{d:"M19 12H5"}),x.jsx("polyline",{points:"12 19 5 12 12 5"})]}),tN=n=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[x.jsx("polyline",{points:"3 6 5 6 21 6"}),x.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),x.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),x.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),nN=n=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[x.jsx("path",{d:"m16 6 4 14"}),x.jsx("path",{d:"M12 6v14"}),x.jsx("path",{d:"M8 8v12"}),x.jsx("path",{d:"M4 4v16"})]}),iN=n=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[x.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),x.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),x.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),$h=n=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[x.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),x.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),oN=n=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:x.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),lN=n=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[x.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),x.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]}),aN=n=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[x.jsx("circle",{cx:"12",cy:"12",r:"3"}),x.jsx("path",{d:"M12 1v6m0 6v6m-8-7h6m6 0h6m-13 7l4-4m6 6l-4-4m-4-8l4 4m6-6l-4 4"})]}),sN=({onFileUpload:n,error:e,history:o,onLoadFromHistory:a,onClearHistory:c,onLogout:d})=>{const[p,g]=oe.useState(!1),[y,h]=oe.useState(!1),v=()=>{const V=kn();return V?btoa(`${V.githubPAT}:::${V.geminiApiKey}`):""},C=()=>{const V=v();navigator.clipboard.writeText(V),alert("Quick login code copied! You can now paste this on another device to log in quickly.")},S=V=>{V.target.files&&V.target.files.length>0&&n(V.target.files[0])},M=oe.useCallback(V=>{V.preventDefault(),V.stopPropagation(),g(!0)},[]),U=oe.useCallback(V=>{V.preventDefault(),V.stopPropagation(),g(!1)},[]),q=oe.useCallback(V=>{V.preventDefault(),V.stopPropagation()},[]),B=oe.useCallback(V=>{V.preventDefault(),V.stopPropagation(),g(!1),V.dataTransfer.files&&V.dataTransfer.files.length>0&&(n(V.dataTransfer.files[0]),V.dataTransfer.clearData())},[n]);return x.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900",children:[d&&x.jsxs("div",{className:"hidden md:flex absolute top-4 right-4 gap-2",children:[x.jsx("button",{onClick:C,className:"text-xs px-3 py-1 bg-amber-600/20 text-amber-400 hover:bg-amber-600/30 rounded transition-colors",title:"Copy quick login code",children:"Copy Login Code"}),x.jsx("button",{onClick:d,className:"text-sm text-gray-400 hover:text-amber-400 transition-colors",children:"Logout"})]}),x.jsxs("div",{className:"max-w-4xl w-full p-8 space-y-12 flex-1 flex flex-col justify-center",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("img",{src:xa,alt:"SAGA Logo",className:"w-24 h-24"})}),x.jsx("h1",{className:"text-5xl font-extrabold text-white sm:text-6xl md:text-7xl mb-3 tracking-wide",children:x.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-amber-400 via-orange-400 to-amber-500",children:"SAGA"})}),x.jsx("p",{className:"text-xl text-amber-400/80 mb-2 font-semibold tracking-wider",children:"Your Story Companion"}),x.jsxs("p",{className:"text-base text-gray-400 mb-8 max-w-lg mx-auto",children:["Upload a book as ",x.jsx("code",{className:"bg-gray-800/50 text-amber-400/90 rounded px-2 py-0.5 text-sm",children:".txt"})," or ",x.jsx("code",{className:"bg-gray-800/50 text-amber-400/90 rounded px-2 py-0.5 text-sm",children:".epub"})," to generate chapter summaries"]}),x.jsxs("label",{onDragEnter:M,onDragLeave:U,onDragOver:q,onDrop:B,className:`relative block w-full rounded-lg border-2 border-dashed p-12 text-center hover:border-amber-500/50 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 focus:ring-offset-gray-900 cursor-pointer transition-colors ${p?"border-amber-500 bg-gray-800/50":"border-gray-600"}`,children:[x.jsx(ZR,{className:"mx-auto h-12 w-12 text-gray-500"}),x.jsx("span",{className:"mt-2 block text-sm font-medium text-gray-300",children:p?"Drop the file here":"Drag & Drop a file or click to upload"}),x.jsx("input",{id:"file-upload",name:"file-upload",type:"file",accept:".txt,.epub",className:"sr-only",onChange:S})]}),e&&x.jsxs("div",{className:"mt-6 bg-red-900/50 border border-red-700 text-red-300 px-4 py-3 rounded-lg relative",role:"alert",children:[x.jsx("strong",{className:"font-bold",children:"Oh no! "}),x.jsx("span",{className:"block sm:inline",children:e})]})]}),o.length>0&&x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(nN,{className:"w-8 h-8 text-amber-400"}),x.jsx("h2",{className:"text-3xl font-bold text-white",children:"My Library"})]}),x.jsxs("button",{onClick:c,className:"flex items-center gap-2 text-sm text-gray-400 hover:text-red-400 transition-colors",children:[x.jsx(tN,{className:"w-4 h-4"}),"Clear History"]})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(V=>x.jsxs("button",{onClick:()=>a(V.id),className:"bg-gray-800/50 p-4 rounded-lg text-left hover:bg-gray-700/50 transform hover:-translate-y-1 transition-all shadow-lg",children:[x.jsx("h3",{className:"font-bold text-lg text-gray-100 truncate",children:V.title}),x.jsxs("p",{className:"text-sm text-gray-400",children:[V.chapters.length," chapters"]})]},V.id))})]})]}),d&&x.jsxs("div",{className:"md:hidden w-full p-4 border-t border-gray-800 flex justify-center gap-4",children:[x.jsx("button",{onClick:C,className:"text-xs px-3 py-2 bg-amber-600/20 text-amber-400 hover:bg-amber-600/30 rounded transition-colors",title:"Copy quick login code",children:"Copy Login Code"}),x.jsx("button",{onClick:d,className:"text-sm px-3 py-2 text-gray-400 hover:text-amber-400 transition-colors",children:"Logout"})]})]})},rN=({chapters:n,summarizedChapters:e,selectedIndex:o,onSelectChapter:a,processingChapterIndex:c})=>{const[d,p]=va.useState(null),g=va.useRef({});return x.jsx("nav",{className:"flex-1 overflow-y-auto pr-2 -mr-2 space-y-1",children:n.map((y,h)=>{var B;if(y==null)return null;const v=e[h]!==void 0,C=c===h,S=h===o,M=e[h],U=(B=M==null?void 0:M.bullets)==null?void 0:B[0],q=d===h;return x.jsxs("div",{className:"relative",children:[x.jsxs("button",{ref:V=>{g.current[h]=V},onClick:()=>a(h),onMouseEnter:()=>p(h),onMouseLeave:()=>p(null),className:`w-full text-left flex items-center p-3 text-sm font-medium rounded-md transition-colors duration-150 ${S?"bg-gradient-to-r from-amber-600/30 to-orange-600/30 text-amber-100 border-l-2 border-amber-500":v?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-500 hover:bg-gray-700/50 hover:text-white"}`,children:[x.jsx("span",{className:"flex-1 truncate",children:y.title}),C&&x.jsx("div",{className:"ml-3 w-5 h-5 flex-shrink-0 flex items-center justify-center",children:x.jsx("div",{className:"w-5 h-5 border-2 border-amber-400 border-t-transparent rounded-full animate-spin"})})]}),U&&q&&g.current[h]&&(()=>{const V=g.current[h].getBoundingClientRect();return x.jsx("div",{className:"fixed pointer-events-none z-[9999]",style:{left:`${V.right+8}px`,top:`${V.top+V.height/2}px`,transform:"translateY(-50%)"},children:x.jsxs("div",{className:"chapter-tooltip bg-gray-800 border border-amber-500/30 rounded-lg shadow-xl p-3 min-w-[250px] max-w-[500px] max-h-[70vh] overflow-y-auto",children:[x.jsx("div",{className:"text-xs text-amber-400 font-semibold mb-1",children:"Quick Preview"}),x.jsx("div",{className:"text-sm text-gray-200 leading-relaxed",children:U}),x.jsx("div",{className:"absolute right-full top-1/2 -translate-y-1/2 border-8 border-transparent border-r-gray-800"})]})})})()]},h)})})},uN=()=>x.jsx("div",{className:"flex justify-center items-center",children:x.jsx("div",{className:"w-12 h-12 border-4 border-indigo-400 border-t-transparent rounded-full animate-spin"})}),cN=({chapter:n,summary:e,isProcessing:o,onPreviousChapter:a,onNextChapter:c,hasPrevious:d,hasNext:p})=>{const[g,y]=oe.useState(!1),[h,v]=oe.useState("medium"),[C,S]=oe.useState("dark"),[M,U]=oe.useState("serif"),[q,B]=oe.useState(!1);if(!n)return x.jsx("div",{className:"flex items-center justify-center h-full",children:x.jsx("p",{className:"text-gray-400",children:"Select a chapter to view its summary."})});const V=e&&(e.bullets.length>0||e.quote),Y={small:"text-sm md:text-base",medium:"text-base md:text-lg",large:"text-lg md:text-xl"},F={serif:"font-serif",sans:"font-sans",mono:"font-mono"},K={light:"bg-gray-100 text-gray-900",dark:"bg-gray-800/50 text-gray-300"};return x.jsxs("div",{className:"max-w-4xl mx-auto relative",children:[d&&a&&x.jsx("button",{onClick:a,className:"md:hidden fixed bottom-6 left-4 z-40 w-12 h-12 bg-gray-800/90 hover:bg-gray-700 text-amber-400 rounded-full shadow-lg flex items-center justify-center transition-all","aria-label":"Previous Chapter",children:x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),p&&c&&x.jsx("button",{onClick:c,className:"md:hidden fixed bottom-6 right-4 z-40 w-12 h-12 bg-gray-800/90 hover:bg-gray-700 text-amber-400 rounded-full shadow-lg flex items-center justify-center transition-all","aria-label":"Next Chapter",children:x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),x.jsx("h2",{className:"text-2xl md:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-orange-400 tracking-tight mb-4 pb-4 border-b-2 border-amber-900/30",children:n.title}),!V&&o&&x.jsxs("div",{className:"text-center bg-gray-800/50 p-12 rounded-lg mt-8",children:[x.jsx(uN,{}),x.jsx("p",{className:"text-lg text-gray-400 mt-4",children:"Generating summary..."})]}),!V&&!o&&x.jsxs("div",{className:"text-center bg-gray-800/50 p-12 rounded-lg mt-8",children:[x.jsx("p",{className:"text-lg text-gray-400 mt-4",children:"This chapter has not been summarized yet."}),x.jsx("p",{className:"text-sm text-gray-500",children:"Click its title in the sidebar to generate a summary."})]}),V&&x.jsxs("div",{className:"space-y-12 animate-fade-in",children:[e.bullets.length>0&&x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx(jR,{className:"w-6 h-6 md:w-7 md:h-7 text-amber-400"}),x.jsx("h3",{className:"text-xl md:text-2xl font-bold text-amber-100",children:"Summary"})]}),x.jsx("ul",{className:"space-y-3 list-disc list-inside text-base md:text-lg text-gray-300 pl-2",children:e.bullets.map((W,J)=>x.jsx("li",{className:"leading-relaxed",children:W},J))})]}),e.quote&&x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx(WR,{className:"w-6 h-6 md:w-7 md:h-7 text-amber-400"}),x.jsx("h3",{className:"text-xl md:text-2xl font-bold text-amber-100",children:"Key Quote"})]}),x.jsx("blockquote",{className:"relative p-4 md:p-6 bg-gradient-to-r from-amber-900/20 to-orange-900/20 border-l-4 border-amber-500 rounded-r-lg",children:x.jsx("p",{className:"text-base md:text-xl italic text-amber-50 leading-relaxed",children:e.quote})})]})]}),x.jsxs("div",{className:"mt-8 md:mt-12 pt-6 md:pt-8 border-t-2 border-amber-900/30",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4 flex-wrap gap-2",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(eN,{className:"w-6 h-6 md:w-7 md:h-7 text-amber-400"}),x.jsx("h3",{className:"text-xl md:text-2xl font-bold text-amber-100",children:"Full Chapter Text"})]}),x.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:x.jsx("button",{onClick:()=>y(!0),className:"text-xs md:text-sm px-3 py-1 bg-amber-600/20 text-amber-400 hover:bg-amber-600/30 rounded transition-colors",title:"Full screen reader",children:"Full Screen"})})]}),x.jsx("div",{className:`${K[C]} ${Y[h]} ${F[M]} p-4 md:p-6 rounded-lg leading-relaxed whitespace-pre-wrap max-h-[60vh] overflow-y-auto custom-scrollbar`,children:n.content})]}),g&&x.jsxs("div",{className:"fixed inset-0 z-50 bg-gray-900 overflow-hidden flex flex-col",children:[x.jsx("button",{onClick:()=>B(!q),className:"fixed top-4 right-4 z-50 w-10 h-10 md:w-12 md:h-12 bg-gray-800/90 hover:bg-gray-700 text-amber-400 rounded-full shadow-lg flex items-center justify-center transition-all","aria-label":"Settings",children:x.jsxs("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),x.jsx("button",{onClick:()=>y(!1),className:"fixed top-4 left-4 z-50 w-10 h-10 md:w-12 md:h-12 bg-gray-800/90 hover:bg-red-600/90 text-gray-400 hover:text-white rounded-full shadow-lg flex items-center justify-center transition-all","aria-label":"Close",children:x.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),q&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>B(!1)}),x.jsxs("div",{className:"fixed top-0 right-0 h-full w-72 md:w-80 bg-gray-800 shadow-2xl z-50 p-6 overflow-y-auto",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsx("h3",{className:"text-lg font-bold text-amber-400",children:"Reading Settings"}),x.jsx("button",{onClick:()=>B(!1),className:"text-gray-400 hover:text-white",children:x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Font Size"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>v("small"),className:`flex-1 px-3 py-2 text-xs rounded ${h==="small"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"A"}),x.jsx("button",{onClick:()=>v("medium"),className:`flex-1 px-3 py-2 text-sm rounded ${h==="medium"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"A"}),x.jsx("button",{onClick:()=>v("large"),className:`flex-1 px-3 py-2 text-base rounded ${h==="large"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"A"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Theme"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>S("dark"),className:`flex-1 px-4 py-2 text-sm rounded ${C==="dark"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Night"}),x.jsx("button",{onClick:()=>S("light"),className:`flex-1 px-4 py-2 text-sm rounded ${C==="light"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Day"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Font Family"}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("button",{onClick:()=>U("serif"),className:`w-full px-4 py-2 text-sm rounded font-serif text-left ${M==="serif"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Serif"}),x.jsx("button",{onClick:()=>U("sans"),className:`w-full px-4 py-2 text-sm rounded font-sans text-left ${M==="sans"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sans Serif"}),x.jsx("button",{onClick:()=>U("mono"),className:`w-full px-4 py-2 text-sm rounded font-mono text-left ${M==="mono"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Monospace"})]})]})]})]})]}),x.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:x.jsx("div",{className:`${K[C]} min-h-full`,children:x.jsx("div",{className:`max-w-4xl mx-auto p-6 md:p-12 ${Y[h]} ${F[M]} leading-relaxed whitespace-pre-wrap`,children:n.content})})})]}),x.jsx("style",{children:`
          @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
          }
          .animate-fade-in {
            animation: fade-in 0.5s ease-out forwards;
          }

          /* Custom Scrollbar Styles - Same as sidebar */
          .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
          }

          .custom-scrollbar::-webkit-scrollbar-track {
            background: rgba(31, 41, 55, 0.5);
            border-radius: 4px;
          }

          .custom-scrollbar::-webkit-scrollbar-thumb {
            background: rgba(217, 119, 6, 0.5);
            border-radius: 4px;
            transition: background 0.2s;
          }

          .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: rgba(217, 119, 6, 0.7);
          }

          /* Firefox */
          .custom-scrollbar {
            scrollbar-width: thin;
            scrollbar-color: rgba(217, 119, 6, 0.5) rgba(31, 41, 55, 0.5);
          }
        `})]})},fN=({currentBook:n,selectedChapterIndex:e,onClose:o})=>{var W;const[a,c]=oe.useState([]),[d,p]=oe.useState(""),[g,y]=oe.useState(!1),[h,v]=oe.useState(!1),[C,S]=oe.useState("current-chapter"),[M,U]=oe.useState(null),q=oe.useRef(null),B=oe.useRef(null);oe.useEffect(()=>{var J;(J=q.current)==null||J.scrollIntoView({behavior:"smooth"})},[a]);const V=()=>{const{chapters:J,summaries:O}=n;switch(C){case"current-chapter":return`Chapter ${e+1}: ${J[e].title}

${J[e].content}`;case"up-to-current":{let Q="";for(let $=0;$<=e;$++)Q+=`

=== Chapter ${$+1}: ${J[$].title} ===

${J[$].content}`;return Q}case"all-chapters":{let Q="";return J.forEach(($,ne)=>{Q+=`

=== Chapter ${ne+1}: ${$.title} ===

${$.content}`}),Q}case"all-summaries":{let Q="";return J.forEach(($,ne)=>{const me=O[ne];me?(Q+=`

=== Chapter ${ne+1}: ${$.title} ===
Summary:
`,me.bullets.forEach(fe=>{Q+=`- ${fe}
`}),me.quote&&(Q+=`Quote: "${me.quote}"
`)):Q+=`

=== Chapter ${ne+1}: ${$.title} ===
(Not yet summarized)
`}),Q}case"summaries-up-to-current":{let Q="";for(let $=0;$<=e;$++){const ne=O[$];ne?(Q+=`

=== Chapter ${$+1}: ${J[$].title} ===
Summary:
`,ne.bullets.forEach(me=>{Q+=`- ${me}
`}),ne.quote&&(Q+=`Quote: "${ne.quote}"
`)):Q+=`

=== Chapter ${$+1}: ${J[$].title} ===
(Not yet summarized)
`}return Q+=`

=== Current Chapter (Full Text) ===
Chapter ${e+1}: ${J[e].title}

${J[e].content}`,Q}default:return""}},Y=async()=>{if(!d.trim()||g)return;const J={role:"user",content:d.trim()};c(Q=>[...Q,J]),p(""),y(!0),U(null);const O={role:"assistant",content:""};c(Q=>[...Q,O]);try{const Q=V(),$=await HR([...a,J],Q);let ne="";for await(const me of $)ne+=me.text,c(fe=>{const Ve=[...fe];return Ve[Ve.length-1]={role:"assistant",content:ne},Ve})}catch(Q){const $=Q instanceof Error?Q.message:"An unknown error occurred.";U($),c(ne=>ne.slice(0,-1))}finally{y(!1)}},F=J=>{J.key==="Enter"&&!J.shiftKey&&(J.preventDefault(),Y())},K=J=>{switch(J){case"current-chapter":return"Current Chapter (Full Text)";case"up-to-current":return"All Chapters Up to Current (Full Text)";case"all-chapters":return"All Chapters (Full Text)";case"all-summaries":return"All Chapter Summaries";case"summaries-up-to-current":return"Summaries + Current Chapter (Full Text)";default:return""}};return x.jsxs("div",{className:"fixed inset-0 md:inset-auto md:bottom-4 md:right-4 md:w-[450px] md:h-[600px] z-50 flex flex-col bg-gray-800 rounded-none md:rounded-lg shadow-2xl border border-amber-900/30",children:[x.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-amber-900/20 bg-gray-900/50",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("h3",{className:"text-lg font-bold text-amber-400",children:"Chat with Gemini"}),x.jsx("button",{onClick:()=>v(!h),className:"p-1 text-gray-400 hover:text-amber-400 transition-colors","aria-label":"Settings",children:x.jsx(aN,{className:"w-5 h-5"})})]}),x.jsx("button",{onClick:o,className:"p-1 text-gray-400 hover:text-amber-400 transition-colors","aria-label":"Close chat",children:x.jsx($h,{className:"w-6 h-6"})})]}),h&&x.jsxs("div",{className:"p-4 border-b border-amber-900/20 bg-gray-900/30 space-y-2",children:[x.jsx("label",{className:"block text-sm font-semibold text-amber-400/90",children:"Context:"}),x.jsxs("select",{value:C,onChange:J=>S(J.target.value),className:"w-full bg-gray-700 text-gray-100 border border-amber-900/30 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-500",children:[x.jsx("option",{value:"current-chapter",children:"Current Chapter (Full Text)"}),x.jsx("option",{value:"summaries-up-to-current",children:"Summaries + Current Chapter"}),x.jsx("option",{value:"up-to-current",children:"All Chapters Up to Current"}),x.jsx("option",{value:"all-summaries",children:"All Chapter Summaries"}),x.jsx("option",{value:"all-chapters",children:"All Chapters (Full Text)"})]}),x.jsxs("p",{className:"text-xs text-gray-400",children:["Current: ",K(C)]})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 chatbot-messages",children:[a.length===0&&x.jsxs("div",{className:"text-center text-gray-400 py-8",children:[x.jsx("p",{className:"text-lg font-semibold text-amber-400/80 mb-2",children:"Start a conversation"}),x.jsx("p",{className:"text-sm",children:"Ask questions about the book, characters, themes, or events."}),x.jsxs("p",{className:"text-xs mt-4",children:["Using context: ",K(C)]})]}),a.map((J,O)=>x.jsx("div",{className:`flex ${J.role==="user"?"justify-end":"justify-start"}`,children:x.jsx("div",{className:`max-w-[85%] px-4 py-2 rounded-lg ${J.role==="user"?"bg-amber-600 text-white":"bg-gray-700 text-gray-100"}`,children:x.jsx("p",{className:"whitespace-pre-wrap break-words text-sm",children:J.content})})},O)),g&&((W=a[a.length-1])==null?void 0:W.content)===""&&x.jsx("div",{className:"flex justify-start",children:x.jsx("div",{className:"bg-gray-700 text-gray-100 px-4 py-2 rounded-lg",children:x.jsx(Oh,{className:"w-5 h-5 text-amber-400 animate-spin"})})}),x.jsx("div",{ref:q})]}),M&&x.jsx("div",{className:"px-4 py-2 bg-red-900/30 border-t border-red-900/50",children:x.jsx("p",{className:"text-sm text-red-400",children:M})}),x.jsxs("div",{className:"p-4 border-t border-amber-900/20 bg-gray-900/30",children:[x.jsxs("div",{className:"flex gap-2",children:[x.jsx("textarea",{ref:B,value:d,onChange:J=>p(J.target.value),onKeyDown:F,placeholder:"Ask about the book...",disabled:g,className:"flex-1 bg-gray-700 text-gray-100 border border-amber-900/30 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-500 resize-none disabled:opacity-50 disabled:cursor-not-allowed",rows:2}),x.jsx("button",{onClick:Y,disabled:!d.trim()||g,className:"self-end p-2 bg-amber-600 text-white rounded hover:bg-amber-700 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Send message",children:x.jsx(lN,{className:"w-5 h-5"})})]}),x.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})]})};function dN(){const[n,e]=oe.useState(!1),[o,a]=oe.useState(null),[c,d]=oe.useState([]),[p,g]=oe.useState(!0),[y,h]=oe.useState(null),[v,C]=oe.useState({}),[S,M]=oe.useState(null),[U,q]=oe.useState(!1),[B,V]=oe.useState(0),[Y,F]=oe.useState(null),[K,W]=oe.useState(!1),[J,O]=oe.useState(!1),Q=va.useRef(null);oe.useEffect(()=>((async()=>{const L=kR();if(e(L),L)try{await lh();const P=await ah();d(P)}catch{F("Could not load library from GitHub Gist.")}g(!1)})(),()=>{Q.current!==null&&clearTimeout(Q.current)}),[]);const $=oe.useCallback(async(_,L)=>{h(null),g(!0);try{LR({githubPAT:_,geminiApiKey:L}),await lh();const P=await ah();d(P),e(!0)}catch(P){const Z=P instanceof Error?P.message:"Failed to load library";h(Z),oh()}finally{g(!1)}},[]),ne=oe.useCallback(()=>{oh(),e(!1),a(null),d([]),F(null),h(null)},[]);oe.useCallback(_=>{a(L=>{if(!L)return null;const P={...L,..._};return Q.current!==null&&clearTimeout(Q.current),Q.current=window.setTimeout(()=>{eu(P).catch(Z=>{console.error("Failed to update book in storage:",Z),F("Could not save progress to GitHub Gist. Changes may be lost.")})},2e3),P})},[]);const me=oe.useCallback(async _=>{F(null),g(!0);try{let L,P=_.name;if(_.type==="text/plain"){const ue=await _.text();L=wv(ue),P=bv(ue)}else if(_.name.endsWith(".epub")){const ue=await _.arrayBuffer(),Ge=await Uv(ue);L=Ge.chapters,P=Ge.title}else throw new Error("Unsupported file type. Please use .txt or .epub.");if(L.length===0)throw new Error("Could not find any chapters in the uploaded file.");const Z={title:P,chapters:L,summaries:{},images:{},lastAccessed:Date.now()},le=await KR(Z),re={...Z,id:le};a(re),d(ue=>[re,...ue.filter(Ge=>Ge.id!==le)]),V(0),C({})}catch(L){const P=L instanceof Error?L.message:"An unknown error occurred.";F(P)}finally{g(!1)}},[]),fe=oe.useCallback(async _=>{F(null),g(!0);try{const L=await $R(_);L?(L.lastAccessed=Date.now(),await eu(L),a(L),V(0),C({}),d(P=>{const Z=P.filter(le=>le.id!==_);return[L,...Z]})):F("Could not load the selected book from history.")}finally{g(!1)}},[]),Ve=oe.useCallback(async()=>{window.confirm("Are you sure you want to delete all your books from GitHub Gist? This action cannot be undone.")&&(await QR(),d([]))},[]),ot=oe.useCallback(()=>{a(null),F(null)},[]),$e=oe.useCallback(async _=>{if(!o||o.summaries[_]||S===_)return;const L=o.chapters[_];if(L){M(_),F(null),C(P=>({...P,[_]:{bullets:[],quote:""}}));try{const P=await GR(L.content);let Z="",le=null;for await(const re of P){Z+=re.text;const ue={bullets:[],quote:""};Z.split(`
`).forEach(Ne=>{Ne.startsWith("BULLET: ")?ue.bullets.push(Ne.substring(8).trim()):Ne.startsWith("QUOTE: ")&&(ue.quote=Ne.substring(7).trim())}),le=ue,C(Ne=>({...Ne,[_]:le}))}le&&a(re=>{if(!re)return null;const ue={...re,summaries:{...re.summaries,[_]:le}};return Q.current!==null&&clearTimeout(Q.current),Q.current=window.setTimeout(()=>{eu(ue).catch(Ge=>{console.error("Failed to update book in storage:",Ge),F("Could not save progress to GitHub Gist. Changes may be lost.")})},2e3),ue})}catch(P){const Z=P instanceof Error?P.message:"An unknown error occurred.";F(`Failed to summarize chapter: ${L.title}. ${Z}`)}finally{M(P=>P===_?null:P)}}},[o,S]),k=oe.useCallback(async _=>{V(_),W(!1),await $e(_)},[$e]),X=oe.useCallback(async()=>{if(!o)return;q(!0);const _=[];for(let P=0;P<o.chapters.length;P++)o.summaries[P]||_.push(P);if(_.length===0){q(!1);return}const L=_.slice(0,5);for(const P of L)await $e(P);q(!1)},[o,$e]),se=oe.useMemo(()=>o==null?void 0:o.chapters[B],[o,B]),Ae=oe.useMemo(()=>(o==null?void 0:o.summaries[B])||v[B],[o,v,B]),_e=oe.useMemo(()=>S===B,[S,B]);return p?x.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-900 text-white gap-4",children:[x.jsx(Oh,{className:"w-12 h-12 text-amber-400 animate-spin"}),x.jsx("p",{className:"text-gray-400",children:"Loading..."})]}):n?o?x.jsxs("div",{className:"flex flex-col md:flex-row h-screen font-sans bg-gray-900 text-gray-100",children:[x.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-gray-800/50 border-b border-amber-900/20",children:[x.jsx("button",{onClick:()=>W(!0),className:"p-2 text-amber-400 hover:text-amber-300","aria-label":"Open menu",children:x.jsx(iN,{className:"w-6 h-6"})}),x.jsx("h1",{className:"text-lg font-bold text-amber-400/90 truncate flex-1 mx-4",title:o.title,children:o.title}),x.jsx("button",{onClick:ot,className:"p-2 text-gray-400 hover:text-amber-400","aria-label":"Back to library",children:x.jsx(sh,{className:"w-6 h-6"})})]}),x.jsxs("aside",{className:`
        ${K?"translate-x-0":"-translate-x-full"}
        md:translate-x-0
        fixed md:relative
        inset-y-0 left-0
        z-50
        w-80 md:w-1/4 md:min-w-[300px] md:max-w-[400px]
        bg-gray-800/95 md:bg-gray-800/50
        border-r border-amber-900/20
        flex flex-col p-4
        transition-transform duration-300 ease-in-out
      `,children:[x.jsxs("div",{className:"hidden md:flex items-start justify-between gap-3 mb-4 p-2",children:[x.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[x.jsx("img",{src:xa,alt:"SAGA Logo",className:"w-10 h-10 flex-shrink-0"}),x.jsx("h1",{className:"text-xl font-bold tracking-tight text-amber-400/90 break-words",title:o.title,children:o.title})]}),x.jsx("button",{onClick:ot,className:"p-1 flex-shrink-0 text-gray-400 hover:text-amber-400 transition-colors","aria-label":"Back to library",children:x.jsx(sh,{className:"w-6 h-6"})})]}),x.jsxs("div",{className:"md:hidden flex items-center justify-between mb-4 p-2",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("img",{src:xa,alt:"SAGA Logo",className:"w-10 h-10"}),x.jsx("h2",{className:"text-lg font-bold text-amber-400/90",children:"Chapters"})]}),x.jsx("button",{onClick:()=>W(!1),className:"p-2 text-gray-400 hover:text-amber-400","aria-label":"Close menu",children:x.jsx($h,{className:"w-6 h-6"})})]}),x.jsx(rN,{chapters:o.chapters,summarizedChapters:o.summaries,selectedIndex:B,onSelectChapter:k,processingChapterIndex:S}),x.jsxs("div",{className:"mt-auto pt-4 border-t border-amber-900/20 space-y-2",children:[x.jsx("button",{onClick:X,disabled:U||Object.keys(o.summaries).length===o.chapters.length,className:"w-full bg-gradient-to-r from-amber-600 to-orange-600 text-white font-bold py-2 px-4 rounded-md hover:from-amber-700 hover:to-orange-700 transition-all disabled:bg-gray-600 disabled:cursor-not-allowed disabled:opacity-50 shadow-lg",children:U?"Processing...":"Summarize Next 5"}),x.jsxs("p",{className:"text-sm text-center text-gray-400",children:[Object.keys(o.summaries).length," / ",o.chapters.length," chapters summarized"]}),Y&&x.jsx("p",{className:"text-red-400 text-sm mt-2 text-center px-2",children:Y}),x.jsx("button",{onClick:ne,className:"w-full text-sm text-gray-400 hover:text-amber-400 transition-colors py-2",children:"Logout"})]})]}),K&&x.jsx("div",{className:"md:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>W(!1)}),x.jsx("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto",children:x.jsx(cN,{chapter:se,summary:Ae,isProcessing:_e,onPreviousChapter:()=>{B>0&&k(B-1)},onNextChapter:()=>{o&&B<o.chapters.length-1&&k(B+1)},hasPrevious:B>0,hasNext:o?B<o.chapters.length-1:!1})}),!J&&x.jsx("button",{onClick:()=>O(!0),className:"fixed bottom-6 right-6 p-4 bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-full shadow-2xl hover:from-amber-700 hover:to-orange-700 transition-all transform hover:scale-110 z-40","aria-label":"Open chat",children:x.jsx(oN,{className:"w-6 h-6"})}),J&&x.jsx(fN,{currentBook:o,selectedChapterIndex:B,onClose:()=>O(!1)})]}):x.jsx(sN,{onFileUpload:me,error:Y,history:c,onLoadFromHistory:fe,onClearHistory:Ve,onLogout:ne}):x.jsx(XR,{onLogin:$,error:y})}const Kh=document.getElementById("root");if(!Kh)throw new Error("Could not find root element to mount to");const mN=Nv.createRoot(Kh);mN.render(x.jsx(va.StrictMode,{children:x.jsx(dN,{})}));
