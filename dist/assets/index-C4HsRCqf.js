var m0=Object.defineProperty;var p0=(n,e,l)=>e in n?m0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[e]=l;var Ue=(n,e,l)=>p0(n,typeof e!="symbol"?e+"":e,l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function l(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(u){if(u.ep)return;u.ep=!0;const f=l(u);fetch(u.href,f)}})();function $h(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var du={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp;function h0(){if(lp)return jl;lp=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function l(o,u,f){var m=null;if(f!==void 0&&(m=""+f),u.key!==void 0&&(m=""+u.key),"key"in u){f={};for(var g in u)g!=="key"&&(f[g]=u[g])}else f=u;return u=f.ref,{$$typeof:n,type:o,key:m,ref:u!==void 0?u:null,props:f}}return jl.Fragment=e,jl.jsx=l,jl.jsxs=l,jl}var op;function g0(){return op||(op=1,du.exports=h0()),du.exports}var E=g0(),mu={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function y0(){if(sp)return de;sp=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),S=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,G={};function V(M,L,J){this.props=M,this.context=L,this.refs=G,this.updater=J||N}V.prototype.isReactComponent={},V.prototype.setState=function(M,L){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,L,"setState")},V.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Y(){}Y.prototype=V.prototype;function F(M,L,J){this.props=M,this.context=L,this.refs=G,this.updater=J||N}var O=F.prototype=new Y;O.constructor=F,I(O,V.prototype),O.isPureReactComponent=!0;var Z=Array.isArray;function Q(){}var H={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function $(M,L,J){var X=J.ref;return{$$typeof:n,type:M,key:L,ref:X!==void 0?X:null,props:J}}function j(M,L){return $(M.type,L,M.props)}function re(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function ue(M){var L={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(J){return L[J]})}var Be=/\/+/g;function at(M,L){return typeof M=="object"&&M!==null&&M.key!=null?ue(""+M.key):L.toString(36)}function Xe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Q,Q):(M.status="pending",M.then(function(L){M.status==="pending"&&(M.status="fulfilled",M.value=L)},function(L){M.status==="pending"&&(M.status="rejected",M.reason=L)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function q(M,L,J,X,oe){var ce=typeof M;(ce==="undefined"||ce==="boolean")&&(M=null);var fe=!1;if(M===null)fe=!0;else switch(ce){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(M.$$typeof){case n:case e:fe=!0;break;case v:return fe=M._init,q(fe(M._payload),L,J,X,oe)}}if(fe)return oe=oe(M),fe=X===""?"."+at(M,0):X,Z(oe)?(J="",fe!=null&&(J=fe.replace(Be,"$&/")+"/"),q(oe,L,J,"",function(sl){return sl})):oe!=null&&(re(oe)&&(oe=j(oe,J+(oe.key==null||M&&M.key===oe.key?"":(""+oe.key).replace(Be,"$&/")+"/")+fe)),L.push(oe)),1;fe=0;var He=X===""?".":X+":";if(Z(M))for(var we=0;we<M.length;we++)X=M[we],ce=He+at(X,we),fe+=q(X,L,J,ce,oe);else if(we=A(M),typeof we=="function")for(M=we.call(M),we=0;!(X=M.next()).done;)X=X.value,ce=He+at(X,we++),fe+=q(X,L,J,ce,oe);else if(ce==="object"){if(typeof M.then=="function")return q(Xe(M),L,J,X,oe);throw L=String(M),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return fe}function K(M,L,J){if(M==null)return M;var X=[],oe=0;return q(M,X,"","",function(ce){return L.call(J,ce,oe++)}),X}function ae(M){if(M._status===-1){var L=M._result;L=L(),L.then(function(J){(M._status===0||M._status===-1)&&(M._status=1,M._result=J)},function(J){(M._status===0||M._status===-1)&&(M._status=2,M._result=J)}),M._status===-1&&(M._status=0,M._result=L)}if(M._status===1)return M._result.default;throw M._result}var Me=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Re={map:K,forEach:function(M,L,J){K(M,function(){L.apply(this,arguments)},J)},count:function(M){var L=0;return K(M,function(){L++}),L},toArray:function(M){return K(M,function(L){return L})||[]},only:function(M){if(!re(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return de.Activity=C,de.Children=Re,de.Component=V,de.Fragment=l,de.Profiler=u,de.PureComponent=F,de.StrictMode=o,de.Suspense=y,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,de.__COMPILER_RUNTIME={__proto__:null,c:function(M){return H.H.useMemoCache(M)}},de.cache=function(M){return function(){return M.apply(null,arguments)}},de.cacheSignal=function(){return null},de.cloneElement=function(M,L,J){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var X=I({},M.props),oe=M.key;if(L!=null)for(ce in L.key!==void 0&&(oe=""+L.key),L)!W.call(L,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&L.ref===void 0||(X[ce]=L[ce]);var ce=arguments.length-2;if(ce===1)X.children=J;else if(1<ce){for(var fe=Array(ce),He=0;He<ce;He++)fe[He]=arguments[He+2];X.children=fe}return $(M.type,oe,X)},de.createContext=function(M){return M={$$typeof:m,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:f,_context:M},M},de.createElement=function(M,L,J){var X,oe={},ce=null;if(L!=null)for(X in L.key!==void 0&&(ce=""+L.key),L)W.call(L,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(oe[X]=L[X]);var fe=arguments.length-2;if(fe===1)oe.children=J;else if(1<fe){for(var He=Array(fe),we=0;we<fe;we++)He[we]=arguments[we+2];oe.children=He}if(M&&M.defaultProps)for(X in fe=M.defaultProps,fe)oe[X]===void 0&&(oe[X]=fe[X]);return $(M,ce,oe)},de.createRef=function(){return{current:null}},de.forwardRef=function(M){return{$$typeof:g,render:M}},de.isValidElement=re,de.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ae}},de.memo=function(M,L){return{$$typeof:p,type:M,compare:L===void 0?null:L}},de.startTransition=function(M){var L=H.T,J={};H.T=J;try{var X=M(),oe=H.S;oe!==null&&oe(J,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Q,Me)}catch(ce){Me(ce)}finally{L!==null&&J.types!==null&&(L.types=J.types),H.T=L}},de.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},de.use=function(M){return H.H.use(M)},de.useActionState=function(M,L,J){return H.H.useActionState(M,L,J)},de.useCallback=function(M,L){return H.H.useCallback(M,L)},de.useContext=function(M){return H.H.useContext(M)},de.useDebugValue=function(){},de.useDeferredValue=function(M,L){return H.H.useDeferredValue(M,L)},de.useEffect=function(M,L){return H.H.useEffect(M,L)},de.useEffectEvent=function(M){return H.H.useEffectEvent(M)},de.useId=function(){return H.H.useId()},de.useImperativeHandle=function(M,L,J){return H.H.useImperativeHandle(M,L,J)},de.useInsertionEffect=function(M,L){return H.H.useInsertionEffect(M,L)},de.useLayoutEffect=function(M,L){return H.H.useLayoutEffect(M,L)},de.useMemo=function(M,L){return H.H.useMemo(M,L)},de.useOptimistic=function(M,L){return H.H.useOptimistic(M,L)},de.useReducer=function(M,L,J){return H.H.useReducer(M,L,J)},de.useRef=function(M){return H.H.useRef(M)},de.useState=function(M){return H.H.useState(M)},de.useSyncExternalStore=function(M,L,J){return H.H.useSyncExternalStore(M,L,J)},de.useTransition=function(){return H.H.useTransition()},de.version="19.2.0",de}var ap;function Lu(){return ap||(ap=1,mu.exports=y0()),mu.exports}var ie=Lu();const Us=$h(ie);var pu={exports:{}},eo={},hu={exports:{}},gu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function v0(){return rp||(rp=1,(function(n){function e(q,K){var ae=q.length;q.push(K);e:for(;0<ae;){var Me=ae-1>>>1,Re=q[Me];if(0<u(Re,K))q[Me]=K,q[ae]=Re,ae=Me;else break e}}function l(q){return q.length===0?null:q[0]}function o(q){if(q.length===0)return null;var K=q[0],ae=q.pop();if(ae!==K){q[0]=ae;e:for(var Me=0,Re=q.length,M=Re>>>1;Me<M;){var L=2*(Me+1)-1,J=q[L],X=L+1,oe=q[X];if(0>u(J,ae))X<Re&&0>u(oe,J)?(q[Me]=oe,q[X]=ae,Me=X):(q[Me]=J,q[L]=ae,Me=L);else if(X<Re&&0>u(oe,ae))q[Me]=oe,q[X]=ae,Me=X;else break e}}return K}function u(q,K){var ae=q.sortIndex-K.sortIndex;return ae!==0?ae:q.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var m=Date,g=m.now();n.unstable_now=function(){return m.now()-g}}var y=[],p=[],v=1,C=null,S=3,A=!1,N=!1,I=!1,G=!1,V=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function O(q){for(var K=l(p);K!==null;){if(K.callback===null)o(p);else if(K.startTime<=q)o(p),K.sortIndex=K.expirationTime,e(y,K);else break;K=l(p)}}function Z(q){if(I=!1,O(q),!N)if(l(y)!==null)N=!0,Q||(Q=!0,ue());else{var K=l(p);K!==null&&Xe(Z,K.startTime-q)}}var Q=!1,H=-1,W=5,$=-1;function j(){return G?!0:!(n.unstable_now()-$<W)}function re(){if(G=!1,Q){var q=n.unstable_now();$=q;var K=!0;try{e:{N=!1,I&&(I=!1,Y(H),H=-1),A=!0;var ae=S;try{t:{for(O(q),C=l(y);C!==null&&!(C.expirationTime>q&&j());){var Me=C.callback;if(typeof Me=="function"){C.callback=null,S=C.priorityLevel;var Re=Me(C.expirationTime<=q);if(q=n.unstable_now(),typeof Re=="function"){C.callback=Re,O(q),K=!0;break t}C===l(y)&&o(y),O(q)}else o(y);C=l(y)}if(C!==null)K=!0;else{var M=l(p);M!==null&&Xe(Z,M.startTime-q),K=!1}}break e}finally{C=null,S=ae,A=!1}K=void 0}}finally{K?ue():Q=!1}}}var ue;if(typeof F=="function")ue=function(){F(re)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,at=Be.port2;Be.port1.onmessage=re,ue=function(){at.postMessage(null)}}else ue=function(){V(re,0)};function Xe(q,K){H=V(function(){q(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(q){switch(S){case 1:case 2:case 3:var K=3;break;default:K=S}var ae=S;S=K;try{return q()}finally{S=ae}},n.unstable_requestPaint=function(){G=!0},n.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ae=S;S=q;try{return K()}finally{S=ae}},n.unstable_scheduleCallback=function(q,K,ae){var Me=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Me+ae:Me):ae=Me,q){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=ae+Re,q={id:v++,callback:K,priorityLevel:q,startTime:ae,expirationTime:Re,sortIndex:-1},ae>Me?(q.sortIndex=ae,e(p,q),l(y)===null&&q===l(p)&&(I?(Y(H),H=-1):I=!0,Xe(Z,ae-Me))):(q.sortIndex=Re,e(y,q),N||A||(N=!0,Q||(Q=!0,ue()))),q},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(q){var K=S;return function(){var ae=S;S=K;try{return q.apply(this,arguments)}finally{S=ae}}}})(gu)),gu}var up;function T0(){return up||(up=1,hu.exports=v0()),hu.exports}var yu={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp;function C0(){if(cp)return ot;cp=1;var n=Lu();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(e(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(y,p,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:y,containerInfo:p,implementation:v}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ot.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return f(y,p,null,v)},ot.flushSync=function(y){var p=m.T,v=o.p;try{if(m.T=null,o.p=2,y)return y()}finally{m.T=p,o.p=v,o.d.f()}},ot.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(y,p))},ot.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},ot.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,C=g(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?o.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:C,integrity:S,fetchPriority:A}):v==="script"&&o.d.X(y,{crossOrigin:C,integrity:S,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ot.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=g(p.as,p.crossOrigin);o.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(y)},ot.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,C=g(v,p.crossOrigin);o.d.L(y,v,{crossOrigin:C,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ot.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=g(p.as,p.crossOrigin);o.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(y)},ot.requestFormReset=function(y){o.d.r(y)},ot.unstable_batchedUpdates=function(y,p){return y(p)},ot.useFormState=function(y,p,v){return m.H.useFormState(y,p,v)},ot.useFormStatus=function(){return m.H.useHostTransitionStatus()},ot.version="19.2.0",ot}var fp;function S0(){if(fp)return yu.exports;fp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yu.exports=C0(),yu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function x0(){if(dp)return eo;dp=1;var n=T0(),e=Lu(),l=S0();function o(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function m(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(f(t)!==t)throw Error(o(188))}function p(t){var i=t.alternate;if(!i){if(i=f(t),i===null)throw Error(o(188));return i!==t?null:t}for(var s=t,c=i;;){var d=s.return;if(d===null)break;var h=d.alternate;if(h===null){if(c=d.return,c!==null){s=c;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===s)return y(d),t;if(h===c)return y(d),i;h=h.sibling}throw Error(o(188))}if(s.return!==c.return)s=d,c=h;else{for(var T=!1,x=d.child;x;){if(x===s){T=!0,s=d,c=h;break}if(x===c){T=!0,c=d,s=h;break}x=x.sibling}if(!T){for(x=h.child;x;){if(x===s){T=!0,s=h,c=d;break}if(x===c){T=!0,c=h,s=d;break}x=x.sibling}if(!T)throw Error(o(189))}}if(s.alternate!==c)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var C=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),F=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function ue(t){return t===null||typeof t!="object"?null:(t=re&&t[re]||t["@@iterator"],typeof t=="function"?t:null)}var Be=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Be?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case I:return"Fragment";case V:return"Profiler";case G:return"StrictMode";case Z:return"Suspense";case Q:return"SuspenseList";case $:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case F:return t.displayName||"Context";case Y:return(t._context.displayName||"Context")+".Consumer";case O:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case H:return i=t.displayName||null,i!==null?i:at(t.type)||"Memo";case W:i=t._payload,t=t._init;try{return at(t(i))}catch{}}return null}var Xe=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},Me=[],Re=-1;function M(t){return{current:t}}function L(t){0>Re||(t.current=Me[Re],Me[Re]=null,Re--)}function J(t,i){Re++,Me[Re]=t.current,t.current=i}var X=M(null),oe=M(null),ce=M(null),fe=M(null);function He(t,i){switch(J(ce,i),J(oe,t),J(X,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Rm(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Rm(i),t=Nm(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}L(X),J(X,t)}function we(){L(X),L(oe),L(ce)}function sl(t){t.memoizedState!==null&&J(fe,t);var i=X.current,s=Nm(i,t.type);i!==s&&(J(oe,t),J(X,s))}function uo(t){oe.current===t&&(L(X),L(oe)),fe.current===t&&(L(fe),Ql._currentValue=ae)}var Ks,nc;function Fn(t){if(Ks===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ks=i&&i[1]||"",nc=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ks+t+nc}var Qs=!1;function Xs(t,i){if(!t||Qs)return"";Qs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(U){var k=U}Reflect.construct(t,[],P)}else{try{P.call()}catch(U){k=U}t.call(P.prototype)}}else{try{throw Error()}catch(U){k=U}(P=t())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(U){if(U&&k&&typeof U.stack=="string")return[U.stack,k.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=c.DetermineComponentFrameRoot(),T=h[0],x=h[1];if(T&&x){var _=T.split(`
`),D=x.split(`
`);for(d=c=0;c<_.length&&!_[c].includes("DetermineComponentFrameRoot");)c++;for(;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;if(c===_.length||d===D.length)for(c=_.length-1,d=D.length-1;1<=c&&0<=d&&_[c]!==D[d];)d--;for(;1<=c&&0<=d;c--,d--)if(_[c]!==D[d]){if(c!==1||d!==1)do if(c--,d--,0>d||_[c]!==D[d]){var z=`
`+_[c].replace(" at new "," at ");return t.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",t.displayName)),z}while(1<=c&&0<=d);break}}}finally{Qs=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Fn(s):""}function Jg(t,i){switch(t.tag){case 26:case 27:case 5:return Fn(t.type);case 16:return Fn("Lazy");case 13:return t.child!==i&&i!==null?Fn("Suspense Fallback"):Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 15:return Xs(t.type,!1);case 11:return Xs(t.type.render,!1);case 1:return Xs(t.type,!0);case 31:return Fn("Activity");default:return""}}function ic(t){try{var i="",s=null;do i+=Jg(t,s),s=t,t=t.return;while(t);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Zs=Object.prototype.hasOwnProperty,Ws=n.unstable_scheduleCallback,js=n.unstable_cancelCallback,Yg=n.unstable_shouldYield,Og=n.unstable_requestPaint,yt=n.unstable_now,$g=n.unstable_getCurrentPriorityLevel,lc=n.unstable_ImmediatePriority,oc=n.unstable_UserBlockingPriority,co=n.unstable_NormalPriority,Kg=n.unstable_LowPriority,sc=n.unstable_IdlePriority,Qg=n.log,Xg=n.unstable_setDisableYieldValue,al=null,vt=null;function gn(t){if(typeof Qg=="function"&&Xg(t),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(al,t)}catch{}}var Tt=Math.clz32?Math.clz32:jg,Zg=Math.log,Wg=Math.LN2;function jg(t){return t>>>=0,t===0?32:31-(Zg(t)/Wg|0)|0}var fo=256,mo=262144,po=4194304;function Jn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ho(t,i,s){var c=t.pendingLanes;if(c===0)return 0;var d=0,h=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var x=c&134217727;return x!==0?(c=x&~h,c!==0?d=Jn(c):(T&=x,T!==0?d=Jn(T):s||(s=x&~t,s!==0&&(d=Jn(s))))):(x=c&~h,x!==0?d=Jn(x):T!==0?d=Jn(T):s||(s=c&~t,s!==0&&(d=Jn(s)))),d===0?0:i!==0&&i!==d&&(i&h)===0&&(h=d&-d,s=i&-i,h>=s||h===32&&(s&4194048)!==0)?i:d}function rl(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ey(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ac(){var t=po;return po<<=1,(po&62914560)===0&&(po=4194304),t}function ea(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function ul(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ty(t,i,s,c,d,h){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var x=t.entanglements,_=t.expirationTimes,D=t.hiddenUpdates;for(s=T&~s;0<s;){var z=31-Tt(s),P=1<<z;x[z]=0,_[z]=-1;var k=D[z];if(k!==null)for(D[z]=null,z=0;z<k.length;z++){var U=k[z];U!==null&&(U.lane&=-536870913)}s&=~P}c!==0&&rc(t,c,0),h!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=h&~(T&~i))}function rc(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var c=31-Tt(i);t.entangledLanes|=i,t.entanglements[c]=t.entanglements[c]|1073741824|s&261930}function uc(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var c=31-Tt(s),d=1<<c;d&i|t[c]&i&&(t[c]|=i),s&=~d}}function cc(t,i){var s=i&-i;return s=(s&42)!==0?1:ta(s),(s&(t.suspendedLanes|i))!==0?0:s}function ta(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function na(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fc(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:Zm(t.type))}function dc(t,i){var s=K.p;try{return K.p=t,i()}finally{K.p=s}}var yn=Math.random().toString(36).slice(2),et="__reactFiber$"+yn,ct="__reactProps$"+yn,mi="__reactContainer$"+yn,ia="__reactEvents$"+yn,ny="__reactListeners$"+yn,iy="__reactHandles$"+yn,mc="__reactResources$"+yn,cl="__reactMarker$"+yn;function la(t){delete t[et],delete t[ct],delete t[ia],delete t[ny],delete t[iy]}function pi(t){var i=t[et];if(i)return i;for(var s=t.parentNode;s;){if(i=s[mi]||s[et]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=Lm(t);t!==null;){if(s=t[et])return s;t=Lm(t)}return i}t=s,s=t.parentNode}return null}function hi(t){if(t=t[et]||t[mi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function fl(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(o(33))}function gi(t){var i=t[mc];return i||(i=t[mc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function We(t){t[cl]=!0}var pc=new Set,hc={};function Yn(t,i){yi(t,i),yi(t+"Capture",i)}function yi(t,i){for(hc[t]=i,t=0;t<i.length;t++)pc.add(i[t])}var ly=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gc={},yc={};function oy(t){return Zs.call(yc,t)?!0:Zs.call(gc,t)?!1:ly.test(t)?yc[t]=!0:(gc[t]=!0,!1)}function go(t,i,s){if(oy(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function yo(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Qt(t,i,s,c){if(c===null)t.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+c)}}function Rt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vc(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function sy(t,i,s){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,h=c.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(T){s=""+T,h.call(this,T)}}),Object.defineProperty(t,i,{enumerable:c.enumerable}),{getValue:function(){return s},setValue:function(T){s=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function oa(t){if(!t._valueTracker){var i=vc(t)?"checked":"value";t._valueTracker=sy(t,i,""+t[i])}}function Tc(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),c="";return t&&(c=vc(t)?t.checked?"true":"false":t.value),t=c,t!==s?(i.setValue(t),!0):!1}function vo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ay=/[\n"\\]/g;function Nt(t){return t.replace(ay,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function sa(t,i,s,c,d,h,T,x){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Rt(i)):t.value!==""+Rt(i)&&(t.value=""+Rt(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?aa(t,T,Rt(i)):s!=null?aa(t,T,Rt(s)):c!=null&&t.removeAttribute("value"),d==null&&h!=null&&(t.defaultChecked=!!h),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Rt(x):t.removeAttribute("name")}function Cc(t,i,s,c,d,h,T,x){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),i!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||i!=null)){oa(t);return}s=s!=null?""+Rt(s):"",i=i!=null?""+Rt(i):s,x||i===t.value||(t.value=i),t.defaultValue=i}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=x?t.checked:!!c,t.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),oa(t)}function aa(t,i,s){i==="number"&&vo(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function vi(t,i,s,c){if(t=t.options,i){i={};for(var d=0;d<s.length;d++)i["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=i.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&c&&(t[s].defaultSelected=!0)}else{for(s=""+Rt(s),i=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,c&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Sc(t,i,s){if(i!=null&&(i=""+Rt(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Rt(s):""}function xc(t,i,s,c){if(i==null){if(c!=null){if(s!=null)throw Error(o(92));if(Xe(c)){if(1<c.length)throw Error(o(93));c=c[0]}s=c}s==null&&(s=""),i=s}s=Rt(i),t.defaultValue=s,c=t.textContent,c===s&&c!==""&&c!==null&&(t.value=c),oa(t)}function Ti(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var ry=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ec(t,i,s){var c=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":c?t.setProperty(i,s):typeof s!="number"||s===0||ry.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Ac(t,i,s){if(i!=null&&typeof i!="object")throw Error(o(62));if(t=t.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var d in i)c=i[d],i.hasOwnProperty(d)&&s[d]!==c&&Ec(t,d,c)}else for(var h in i)i.hasOwnProperty(h)&&Ec(t,h,i[h])}function ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function To(t){return cy.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Xt(){}var ua=null;function ca(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ci=null,Si=null;function _c(t){var i=hi(t);if(i&&(t=i.stateNode)){var s=t[ct]||null;e:switch(t=i.stateNode,i.type){case"input":if(sa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Nt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var c=s[i];if(c!==t&&c.form===t.form){var d=c[ct]||null;if(!d)throw Error(o(90));sa(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<s.length;i++)c=s[i],c.form===t.form&&Tc(c)}break e;case"textarea":Sc(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&vi(t,!!s.multiple,i,!1)}}}var fa=!1;function Mc(t,i,s){if(fa)return t(i,s);fa=!0;try{var c=t(i);return c}finally{if(fa=!1,(Ci!==null||Si!==null)&&(ss(),Ci&&(i=Ci,t=Si,Si=Ci=null,_c(i),t)))for(i=0;i<t.length;i++)_c(t[i])}}function dl(t,i){var s=t.stateNode;if(s===null)return null;var c=s[ct]||null;if(c===null)return null;s=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(o(231,i,typeof s));return s}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),da=!1;if(Zt)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){da=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{da=!1}var vn=null,ma=null,Co=null;function Rc(){if(Co)return Co;var t,i=ma,s=i.length,c,d="value"in vn?vn.value:vn.textContent,h=d.length;for(t=0;t<s&&i[t]===d[t];t++);var T=s-t;for(c=1;c<=T&&i[s-c]===d[h-c];c++);return Co=d.slice(t,1<c?1-c:void 0)}function So(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function xo(){return!0}function Nc(){return!1}function ft(t){function i(s,c,d,h,T){this._reactName=s,this._targetInst=d,this.type=c,this.nativeEvent=h,this.target=T,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(s=t[x],this[x]=s?s(h):h[x]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?xo:Nc,this.isPropagationStopped=Nc,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=xo)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=xo)},persist:function(){},isPersistent:xo}),i}var On={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eo=ft(On),pl=C({},On,{view:0,detail:0}),fy=ft(pl),pa,ha,hl,Ao=C({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ya,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hl&&(hl&&t.type==="mousemove"?(pa=t.screenX-hl.screenX,ha=t.screenY-hl.screenY):ha=pa=0,hl=t),pa)},movementY:function(t){return"movementY"in t?t.movementY:ha}}),bc=ft(Ao),dy=C({},Ao,{dataTransfer:0}),my=ft(dy),py=C({},pl,{relatedTarget:0}),ga=ft(py),hy=C({},On,{animationName:0,elapsedTime:0,pseudoElement:0}),gy=ft(hy),yy=C({},On,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vy=ft(yy),Ty=C({},On,{data:0}),wc=ft(Ty),Cy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ey(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=xy[t])?!!i[t]:!1}function ya(){return Ey}var Ay=C({},pl,{key:function(t){if(t.key){var i=Cy[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=So(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Sy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ya,charCode:function(t){return t.type==="keypress"?So(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?So(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_y=ft(Ay),My=C({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dc=ft(My),Ry=C({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ya}),Ny=ft(Ry),by=C({},On,{propertyName:0,elapsedTime:0,pseudoElement:0}),wy=ft(by),Dy=C({},Ao,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ky=ft(Dy),Iy=C({},On,{newState:0,oldState:0}),Uy=ft(Iy),Ly=[9,13,27,32],va=Zt&&"CompositionEvent"in window,gl=null;Zt&&"documentMode"in document&&(gl=document.documentMode);var Vy=Zt&&"TextEvent"in window&&!gl,kc=Zt&&(!va||gl&&8<gl&&11>=gl),Ic=" ",Uc=!1;function Lc(t,i){switch(t){case"keyup":return Ly.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xi=!1;function qy(t,i){switch(t){case"compositionend":return Vc(i);case"keypress":return i.which!==32?null:(Uc=!0,Ic);case"textInput":return t=i.data,t===Ic&&Uc?null:t;default:return null}}function Gy(t,i){if(xi)return t==="compositionend"||!va&&Lc(t,i)?(t=Rc(),Co=ma=vn=null,xi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return kc&&i.locale!=="ko"?null:i.data;default:return null}}var zy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!zy[t.type]:i==="textarea"}function Gc(t,i,s,c){Ci?Si?Si.push(c):Si=[c]:Ci=c,i=ms(i,"onChange"),0<i.length&&(s=new Eo("onChange","change",null,s,c),t.push({event:s,listeners:i}))}var yl=null,vl=null;function Hy(t){Sm(t,0)}function _o(t){var i=fl(t);if(Tc(i))return t}function zc(t,i){if(t==="change")return i}var Hc=!1;if(Zt){var Ta;if(Zt){var Ca="oninput"in document;if(!Ca){var Bc=document.createElement("div");Bc.setAttribute("oninput","return;"),Ca=typeof Bc.oninput=="function"}Ta=Ca}else Ta=!1;Hc=Ta&&(!document.documentMode||9<document.documentMode)}function Pc(){yl&&(yl.detachEvent("onpropertychange",Fc),vl=yl=null)}function Fc(t){if(t.propertyName==="value"&&_o(vl)){var i=[];Gc(i,vl,t,ca(t)),Mc(Hy,i)}}function By(t,i,s){t==="focusin"?(Pc(),yl=i,vl=s,yl.attachEvent("onpropertychange",Fc)):t==="focusout"&&Pc()}function Py(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _o(vl)}function Fy(t,i){if(t==="click")return _o(i)}function Jy(t,i){if(t==="input"||t==="change")return _o(i)}function Yy(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Ct=typeof Object.is=="function"?Object.is:Yy;function Tl(t,i){if(Ct(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),c=Object.keys(i);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var d=s[c];if(!Zs.call(i,d)||!Ct(t[d],i[d]))return!1}return!0}function Jc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yc(t,i){var s=Jc(t);t=0;for(var c;s;){if(s.nodeType===3){if(c=t+s.textContent.length,t<=i&&c>=i)return{node:s,offset:i-t};t=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Jc(s)}}function Oc(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Oc(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function $c(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=vo(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=vo(t.document)}return i}function Sa(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Oy=Zt&&"documentMode"in document&&11>=document.documentMode,Ei=null,xa=null,Cl=null,Ea=!1;function Kc(t,i,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ea||Ei==null||Ei!==vo(c)||(c=Ei,"selectionStart"in c&&Sa(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Cl&&Tl(Cl,c)||(Cl=c,c=ms(xa,"onSelect"),0<c.length&&(i=new Eo("onSelect","select",null,i,s),t.push({event:i,listeners:c}),i.target=Ei)))}function $n(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Ai={animationend:$n("Animation","AnimationEnd"),animationiteration:$n("Animation","AnimationIteration"),animationstart:$n("Animation","AnimationStart"),transitionrun:$n("Transition","TransitionRun"),transitionstart:$n("Transition","TransitionStart"),transitioncancel:$n("Transition","TransitionCancel"),transitionend:$n("Transition","TransitionEnd")},Aa={},Qc={};Zt&&(Qc=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function Kn(t){if(Aa[t])return Aa[t];if(!Ai[t])return t;var i=Ai[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Qc)return Aa[t]=i[s];return t}var Xc=Kn("animationend"),Zc=Kn("animationiteration"),Wc=Kn("animationstart"),$y=Kn("transitionrun"),Ky=Kn("transitionstart"),Qy=Kn("transitioncancel"),jc=Kn("transitionend"),ef=new Map,_a="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_a.push("scrollEnd");function Gt(t,i){ef.set(t,i),Yn(i,[t])}var Mo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},bt=[],_i=0,Ma=0;function Ro(){for(var t=_i,i=Ma=_i=0;i<t;){var s=bt[i];bt[i++]=null;var c=bt[i];bt[i++]=null;var d=bt[i];bt[i++]=null;var h=bt[i];if(bt[i++]=null,c!==null&&d!==null){var T=c.pending;T===null?d.next=d:(d.next=T.next,T.next=d),c.pending=d}h!==0&&tf(s,d,h)}}function No(t,i,s,c){bt[_i++]=t,bt[_i++]=i,bt[_i++]=s,bt[_i++]=c,Ma|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Ra(t,i,s,c){return No(t,i,s,c),bo(t)}function Qn(t,i){return No(t,null,null,i),bo(t)}function tf(t,i,s){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s);for(var d=!1,h=t.return;h!==null;)h.childLanes|=s,c=h.alternate,c!==null&&(c.childLanes|=s),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(d=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,d&&i!==null&&(d=31-Tt(s),t=h.hiddenUpdates,c=t[d],c===null?t[d]=[i]:c.push(i),i.lane=s|536870912),h):null}function bo(t){if(50<Pl)throw Pl=0,Vr=null,Error(o(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Mi={};function Xy(t,i,s,c){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(t,i,s,c){return new Xy(t,i,s,c)}function Na(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wt(t,i){var s=t.alternate;return s===null?(s=St(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function nf(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function wo(t,i,s,c,d,h){var T=0;if(c=t,typeof t=="function")Na(t)&&(T=1);else if(typeof t=="string")T=t0(t,s,X.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case $:return t=St(31,s,i,d),t.elementType=$,t.lanes=h,t;case I:return Xn(s.children,d,h,i);case G:T=8,d|=24;break;case V:return t=St(12,s,i,d|2),t.elementType=V,t.lanes=h,t;case Z:return t=St(13,s,i,d),t.elementType=Z,t.lanes=h,t;case Q:return t=St(19,s,i,d),t.elementType=Q,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F:T=10;break e;case Y:T=9;break e;case O:T=11;break e;case H:T=14;break e;case W:T=16,c=null;break e}T=29,s=Error(o(130,t===null?"null":typeof t,"")),c=null}return i=St(T,s,i,d),i.elementType=t,i.type=c,i.lanes=h,i}function Xn(t,i,s,c){return t=St(7,t,c,i),t.lanes=s,t}function ba(t,i,s){return t=St(6,t,null,i),t.lanes=s,t}function lf(t){var i=St(18,null,null,0);return i.stateNode=t,i}function wa(t,i,s){return i=St(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var of=new WeakMap;function wt(t,i){if(typeof t=="object"&&t!==null){var s=of.get(t);return s!==void 0?s:(i={value:t,source:i,stack:ic(i)},of.set(t,i),i)}return{value:t,source:i,stack:ic(i)}}var Ri=[],Ni=0,Do=null,Sl=0,Dt=[],kt=0,Tn=null,Jt=1,Yt="";function jt(t,i){Ri[Ni++]=Sl,Ri[Ni++]=Do,Do=t,Sl=i}function sf(t,i,s){Dt[kt++]=Jt,Dt[kt++]=Yt,Dt[kt++]=Tn,Tn=t;var c=Jt;t=Yt;var d=32-Tt(c)-1;c&=~(1<<d),s+=1;var h=32-Tt(i)+d;if(30<h){var T=d-d%5;h=(c&(1<<T)-1).toString(32),c>>=T,d-=T,Jt=1<<32-Tt(i)+d|s<<d|c,Yt=h+t}else Jt=1<<h|s<<d|c,Yt=t}function Da(t){t.return!==null&&(jt(t,1),sf(t,1,0))}function ka(t){for(;t===Do;)Do=Ri[--Ni],Ri[Ni]=null,Sl=Ri[--Ni],Ri[Ni]=null;for(;t===Tn;)Tn=Dt[--kt],Dt[kt]=null,Yt=Dt[--kt],Dt[kt]=null,Jt=Dt[--kt],Dt[kt]=null}function af(t,i){Dt[kt++]=Jt,Dt[kt++]=Yt,Dt[kt++]=Tn,Jt=i.id,Yt=i.overflow,Tn=t}var tt=null,Ve=null,Te=!1,Cn=null,It=!1,Ia=Error(o(519));function Sn(t){var i=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xl(wt(i,t)),Ia}function rf(t){var i=t.stateNode,s=t.type,c=t.memoizedProps;switch(i[et]=t,i[ct]=c,s){case"dialog":ge("cancel",i),ge("close",i);break;case"iframe":case"object":case"embed":ge("load",i);break;case"video":case"audio":for(s=0;s<Jl.length;s++)ge(Jl[s],i);break;case"source":ge("error",i);break;case"img":case"image":case"link":ge("error",i),ge("load",i);break;case"details":ge("toggle",i);break;case"input":ge("invalid",i),Cc(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ge("invalid",i);break;case"textarea":ge("invalid",i),xc(i,c.value,c.defaultValue,c.children)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||c.suppressHydrationWarning===!0||_m(i.textContent,s)?(c.popover!=null&&(ge("beforetoggle",i),ge("toggle",i)),c.onScroll!=null&&ge("scroll",i),c.onScrollEnd!=null&&ge("scrollend",i),c.onClick!=null&&(i.onclick=Xt),i=!0):i=!1,i||Sn(t,!0)}function uf(t){for(tt=t.return;tt;)switch(tt.tag){case 5:case 31:case 13:It=!1;return;case 27:case 3:It=!0;return;default:tt=tt.return}}function bi(t){if(t!==tt)return!1;if(!Te)return uf(t),Te=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Zr(t.type,t.memoizedProps)),s=!s),s&&Ve&&Sn(t),uf(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Ve=Um(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Ve=Um(t)}else i===27?(i=Ve,Ln(t.type)?(t=nu,nu=null,Ve=t):Ve=i):Ve=tt?Lt(t.stateNode.nextSibling):null;return!0}function Zn(){Ve=tt=null,Te=!1}function Ua(){var t=Cn;return t!==null&&(ht===null?ht=t:ht.push.apply(ht,t),Cn=null),t}function xl(t){Cn===null?Cn=[t]:Cn.push(t)}var La=M(null),Wn=null,en=null;function xn(t,i,s){J(La,i._currentValue),i._currentValue=s}function tn(t){t._currentValue=La.current,L(La)}function Va(t,i,s){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===s)break;t=t.return}}function qa(t,i,s,c){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var h=d.dependencies;if(h!==null){var T=d.child;h=h.firstContext;e:for(;h!==null;){var x=h;h=d;for(var _=0;_<i.length;_++)if(x.context===i[_]){h.lanes|=s,x=h.alternate,x!==null&&(x.lanes|=s),Va(h.return,s,t),c||(T=null);break e}h=x.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(o(341));T.lanes|=s,h=T.alternate,h!==null&&(h.lanes|=s),Va(T,s,t),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===t){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function wi(t,i,s,c){t=null;for(var d=i,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(o(387));if(T=T.memoizedProps,T!==null){var x=d.type;Ct(d.pendingProps.value,T.value)||(t!==null?t.push(x):t=[x])}}else if(d===fe.current){if(T=d.alternate,T===null)throw Error(o(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Ql):t=[Ql])}d=d.return}t!==null&&qa(i,t,s,c),i.flags|=262144}function ko(t){for(t=t.firstContext;t!==null;){if(!Ct(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function jn(t){Wn=t,en=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nt(t){return cf(Wn,t)}function Io(t,i){return Wn===null&&jn(t),cf(t,i)}function cf(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},en===null){if(t===null)throw Error(o(308));en=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else en=en.next=i;return s}var Zy=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,c){t.push(c)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},Wy=n.unstable_scheduleCallback,jy=n.unstable_NormalPriority,Oe={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ga(){return{controller:new Zy,data:new Map,refCount:0}}function El(t){t.refCount--,t.refCount===0&&Wy(jy,function(){t.controller.abort()})}var Al=null,za=0,Di=0,ki=null;function ev(t,i){if(Al===null){var s=Al=[];za=0,Di=Pr(),ki={status:"pending",value:void 0,then:function(c){s.push(c)}}}return za++,i.then(ff,ff),i}function ff(){if(--za===0&&Al!==null){ki!==null&&(ki.status="fulfilled");var t=Al;Al=null,Di=0,ki=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function tv(t,i){var s=[],c={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){c.status="fulfilled",c.value=i;for(var d=0;d<s.length;d++)(0,s[d])(i)},function(d){for(c.status="rejected",c.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),c}var df=q.S;q.S=function(t,i){Qd=yt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ev(t,i),df!==null&&df(t,i)};var ei=M(null);function Ha(){var t=ei.current;return t!==null?t:Le.pooledCache}function Uo(t,i){i===null?J(ei,ei.current):J(ei,i.pool)}function mf(){var t=Ha();return t===null?null:{parent:Oe._currentValue,pool:t}}var Ii=Error(o(460)),Ba=Error(o(474)),Lo=Error(o(542)),Vo={then:function(){}};function pf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hf(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Xt,Xt),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,yf(t),t;default:if(typeof i.status=="string")i.then(Xt,Xt);else{if(t=Le,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=i,t.status="pending",t.then(function(c){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=c}},function(c){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,yf(t),t}throw ni=i,Ii}}function ti(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ni=s,Ii):s}}var ni=null;function gf(){if(ni===null)throw Error(o(459));var t=ni;return ni=null,t}function yf(t){if(t===Ii||t===Lo)throw Error(o(483))}var Ui=null,_l=0;function qo(t){var i=_l;return _l+=1,Ui===null&&(Ui=[]),hf(Ui,t,i)}function Ml(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Go(t,i){throw i.$$typeof===S?Error(o(525)):(t=Object.prototype.toString.call(i),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function vf(t){function i(b,R){if(t){var w=b.deletions;w===null?(b.deletions=[R],b.flags|=16):w.push(R)}}function s(b,R){if(!t)return null;for(;R!==null;)i(b,R),R=R.sibling;return null}function c(b){for(var R=new Map;b!==null;)b.key!==null?R.set(b.key,b):R.set(b.index,b),b=b.sibling;return R}function d(b,R){return b=Wt(b,R),b.index=0,b.sibling=null,b}function h(b,R,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<R?(b.flags|=67108866,R):w):(b.flags|=67108866,R)):(b.flags|=1048576,R)}function T(b){return t&&b.alternate===null&&(b.flags|=67108866),b}function x(b,R,w,B){return R===null||R.tag!==6?(R=ba(w,b.mode,B),R.return=b,R):(R=d(R,w),R.return=b,R)}function _(b,R,w,B){var le=w.type;return le===I?z(b,R,w.props.children,B,w.key):R!==null&&(R.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===W&&ti(le)===R.type)?(R=d(R,w.props),Ml(R,w),R.return=b,R):(R=wo(w.type,w.key,w.props,null,b.mode,B),Ml(R,w),R.return=b,R)}function D(b,R,w,B){return R===null||R.tag!==4||R.stateNode.containerInfo!==w.containerInfo||R.stateNode.implementation!==w.implementation?(R=wa(w,b.mode,B),R.return=b,R):(R=d(R,w.children||[]),R.return=b,R)}function z(b,R,w,B,le){return R===null||R.tag!==7?(R=Xn(w,b.mode,B,le),R.return=b,R):(R=d(R,w),R.return=b,R)}function P(b,R,w){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=ba(""+R,b.mode,w),R.return=b,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case A:return w=wo(R.type,R.key,R.props,null,b.mode,w),Ml(w,R),w.return=b,w;case N:return R=wa(R,b.mode,w),R.return=b,R;case W:return R=ti(R),P(b,R,w)}if(Xe(R)||ue(R))return R=Xn(R,b.mode,w,null),R.return=b,R;if(typeof R.then=="function")return P(b,qo(R),w);if(R.$$typeof===F)return P(b,Io(b,R),w);Go(b,R)}return null}function k(b,R,w,B){var le=R!==null?R.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return le!==null?null:x(b,R,""+w,B);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case A:return w.key===le?_(b,R,w,B):null;case N:return w.key===le?D(b,R,w,B):null;case W:return w=ti(w),k(b,R,w,B)}if(Xe(w)||ue(w))return le!==null?null:z(b,R,w,B,null);if(typeof w.then=="function")return k(b,R,qo(w),B);if(w.$$typeof===F)return k(b,R,Io(b,w),B);Go(b,w)}return null}function U(b,R,w,B,le){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return b=b.get(w)||null,x(R,b,""+B,le);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return b=b.get(B.key===null?w:B.key)||null,_(R,b,B,le);case N:return b=b.get(B.key===null?w:B.key)||null,D(R,b,B,le);case W:return B=ti(B),U(b,R,w,B,le)}if(Xe(B)||ue(B))return b=b.get(w)||null,z(R,b,B,le,null);if(typeof B.then=="function")return U(b,R,w,qo(B),le);if(B.$$typeof===F)return U(b,R,w,Io(R,B),le);Go(R,B)}return null}function ee(b,R,w,B){for(var le=null,Ce=null,ne=R,pe=R=0,ve=null;ne!==null&&pe<w.length;pe++){ne.index>pe?(ve=ne,ne=null):ve=ne.sibling;var Se=k(b,ne,w[pe],B);if(Se===null){ne===null&&(ne=ve);break}t&&ne&&Se.alternate===null&&i(b,ne),R=h(Se,R,pe),Ce===null?le=Se:Ce.sibling=Se,Ce=Se,ne=ve}if(pe===w.length)return s(b,ne),Te&&jt(b,pe),le;if(ne===null){for(;pe<w.length;pe++)ne=P(b,w[pe],B),ne!==null&&(R=h(ne,R,pe),Ce===null?le=ne:Ce.sibling=ne,Ce=ne);return Te&&jt(b,pe),le}for(ne=c(ne);pe<w.length;pe++)ve=U(ne,b,pe,w[pe],B),ve!==null&&(t&&ve.alternate!==null&&ne.delete(ve.key===null?pe:ve.key),R=h(ve,R,pe),Ce===null?le=ve:Ce.sibling=ve,Ce=ve);return t&&ne.forEach(function(Hn){return i(b,Hn)}),Te&&jt(b,pe),le}function se(b,R,w,B){if(w==null)throw Error(o(151));for(var le=null,Ce=null,ne=R,pe=R=0,ve=null,Se=w.next();ne!==null&&!Se.done;pe++,Se=w.next()){ne.index>pe?(ve=ne,ne=null):ve=ne.sibling;var Hn=k(b,ne,Se.value,B);if(Hn===null){ne===null&&(ne=ve);break}t&&ne&&Hn.alternate===null&&i(b,ne),R=h(Hn,R,pe),Ce===null?le=Hn:Ce.sibling=Hn,Ce=Hn,ne=ve}if(Se.done)return s(b,ne),Te&&jt(b,pe),le;if(ne===null){for(;!Se.done;pe++,Se=w.next())Se=P(b,Se.value,B),Se!==null&&(R=h(Se,R,pe),Ce===null?le=Se:Ce.sibling=Se,Ce=Se);return Te&&jt(b,pe),le}for(ne=c(ne);!Se.done;pe++,Se=w.next())Se=U(ne,b,pe,Se.value,B),Se!==null&&(t&&Se.alternate!==null&&ne.delete(Se.key===null?pe:Se.key),R=h(Se,R,pe),Ce===null?le=Se:Ce.sibling=Se,Ce=Se);return t&&ne.forEach(function(d0){return i(b,d0)}),Te&&jt(b,pe),le}function Ie(b,R,w,B){if(typeof w=="object"&&w!==null&&w.type===I&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case A:e:{for(var le=w.key;R!==null;){if(R.key===le){if(le=w.type,le===I){if(R.tag===7){s(b,R.sibling),B=d(R,w.props.children),B.return=b,b=B;break e}}else if(R.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===W&&ti(le)===R.type){s(b,R.sibling),B=d(R,w.props),Ml(B,w),B.return=b,b=B;break e}s(b,R);break}else i(b,R);R=R.sibling}w.type===I?(B=Xn(w.props.children,b.mode,B,w.key),B.return=b,b=B):(B=wo(w.type,w.key,w.props,null,b.mode,B),Ml(B,w),B.return=b,b=B)}return T(b);case N:e:{for(le=w.key;R!==null;){if(R.key===le)if(R.tag===4&&R.stateNode.containerInfo===w.containerInfo&&R.stateNode.implementation===w.implementation){s(b,R.sibling),B=d(R,w.children||[]),B.return=b,b=B;break e}else{s(b,R);break}else i(b,R);R=R.sibling}B=wa(w,b.mode,B),B.return=b,b=B}return T(b);case W:return w=ti(w),Ie(b,R,w,B)}if(Xe(w))return ee(b,R,w,B);if(ue(w)){if(le=ue(w),typeof le!="function")throw Error(o(150));return w=le.call(w),se(b,R,w,B)}if(typeof w.then=="function")return Ie(b,R,qo(w),B);if(w.$$typeof===F)return Ie(b,R,Io(b,w),B);Go(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,R!==null&&R.tag===6?(s(b,R.sibling),B=d(R,w),B.return=b,b=B):(s(b,R),B=ba(w,b.mode,B),B.return=b,b=B),T(b)):s(b,R)}return function(b,R,w,B){try{_l=0;var le=Ie(b,R,w,B);return Ui=null,le}catch(ne){if(ne===Ii||ne===Lo)throw ne;var Ce=St(29,ne,null,b.mode);return Ce.lanes=B,Ce.return=b,Ce}finally{}}}var ii=vf(!0),Tf=vf(!1),En=!1;function Pa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fa(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function An(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _n(t,i,s){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Ee&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,i=bo(t),tf(t,null,s),i}return No(t,c,i,s),bo(t)}function Rl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var c=i.lanes;c&=t.pendingLanes,s|=c,i.lanes=s,uc(t,s)}}function Ja(t,i){var s=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var d=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?d=h=T:h=h.next=T,s=s.next}while(s!==null);h===null?d=h=i:h=h.next=i}else d=h=i;s={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:c.shared,callbacks:c.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Ya=!1;function Nl(){if(Ya){var t=ki;if(t!==null)throw t}}function bl(t,i,s,c){Ya=!1;var d=t.updateQueue;En=!1;var h=d.firstBaseUpdate,T=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var _=x,D=_.next;_.next=null,T===null?h=D:T.next=D,T=_;var z=t.alternate;z!==null&&(z=z.updateQueue,x=z.lastBaseUpdate,x!==T&&(x===null?z.firstBaseUpdate=D:x.next=D,z.lastBaseUpdate=_))}if(h!==null){var P=d.baseState;T=0,z=D=_=null,x=h;do{var k=x.lane&-536870913,U=k!==x.lane;if(U?(ye&k)===k:(c&k)===k){k!==0&&k===Di&&(Ya=!0),z!==null&&(z=z.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ee=t,se=x;k=i;var Ie=s;switch(se.tag){case 1:if(ee=se.payload,typeof ee=="function"){P=ee.call(Ie,P,k);break e}P=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=se.payload,k=typeof ee=="function"?ee.call(Ie,P,k):ee,k==null)break e;P=C({},P,k);break e;case 2:En=!0}}k=x.callback,k!==null&&(t.flags|=64,U&&(t.flags|=8192),U=d.callbacks,U===null?d.callbacks=[k]:U.push(k))}else U={lane:k,tag:x.tag,payload:x.payload,callback:x.callback,next:null},z===null?(D=z=U,_=P):z=z.next=U,T|=k;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;U=x,x=U.next,U.next=null,d.lastBaseUpdate=U,d.shared.pending=null}}while(!0);z===null&&(_=P),d.baseState=_,d.firstBaseUpdate=D,d.lastBaseUpdate=z,h===null&&(d.shared.lanes=0),wn|=T,t.lanes=T,t.memoizedState=P}}function Cf(t,i){if(typeof t!="function")throw Error(o(191,t));t.call(i)}function Sf(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Cf(s[t],i)}var Li=M(null),zo=M(0);function xf(t,i){t=fn,J(zo,t),J(Li,i),fn=t|i.baseLanes}function Oa(){J(zo,fn),J(Li,Li.current)}function $a(){fn=zo.current,L(Li),L(zo)}var xt=M(null),Ut=null;function Mn(t){var i=t.alternate;J(Je,Je.current&1),J(xt,t),Ut===null&&(i===null||Li.current!==null||i.memoizedState!==null)&&(Ut=t)}function Ka(t){J(Je,Je.current),J(xt,t),Ut===null&&(Ut=t)}function Ef(t){t.tag===22?(J(Je,Je.current),J(xt,t),Ut===null&&(Ut=t)):Rn()}function Rn(){J(Je,Je.current),J(xt,xt.current)}function Et(t){L(xt),Ut===t&&(Ut=null),L(Je)}var Je=M(0);function Ho(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||eu(s)||tu(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var nn=0,me=null,De=null,$e=null,Bo=!1,Vi=!1,li=!1,Po=0,wl=0,qi=null,nv=0;function Pe(){throw Error(o(321))}function Qa(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Ct(t[s],i[s]))return!1;return!0}function Xa(t,i,s,c,d,h){return nn=h,me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=t===null||t.memoizedState===null?sd:fr,li=!1,h=s(c,d),li=!1,Vi&&(h=_f(i,s,c,d)),Af(t),h}function Af(t){q.H=Il;var i=De!==null&&De.next!==null;if(nn=0,$e=De=me=null,Bo=!1,wl=0,qi=null,i)throw Error(o(300));t===null||Ke||(t=t.dependencies,t!==null&&ko(t)&&(Ke=!0))}function _f(t,i,s,c){me=t;var d=0;do{if(Vi&&(qi=null),wl=0,Vi=!1,25<=d)throw Error(o(301));if(d+=1,$e=De=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}q.H=ad,h=i(s,c)}while(Vi);return h}function iv(){var t=q.H,i=t.useState()[0];return i=typeof i.then=="function"?Dl(i):i,t=t.useState()[0],(De!==null?De.memoizedState:null)!==t&&(me.flags|=1024),i}function Za(){var t=Po!==0;return Po=0,t}function Wa(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function ja(t){if(Bo){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Bo=!1}nn=0,$e=De=me=null,Vi=!1,wl=Po=0,qi=null}function rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?me.memoizedState=$e=t:$e=$e.next=t,$e}function Ye(){if(De===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var i=$e===null?me.memoizedState:$e.next;if(i!==null)$e=i,De=t;else{if(t===null)throw me.alternate===null?Error(o(467)):Error(o(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},$e===null?me.memoizedState=$e=t:$e=$e.next=t}return $e}function Fo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(t){var i=wl;return wl+=1,qi===null&&(qi=[]),t=hf(qi,t,i),i=me,($e===null?i.memoizedState:$e.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?sd:fr),t}function Jo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Dl(t);if(t.$$typeof===F)return nt(t)}throw Error(o(438,String(t)))}function er(t){var i=null,s=me.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var c=me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Fo(),me.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),c=0;c<t;c++)s[c]=j;return i.index++,s}function ln(t,i){return typeof i=="function"?i(t):i}function Yo(t){var i=Ye();return tr(i,De,t)}function tr(t,i,s){var c=t.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=s;var d=t.baseQueue,h=c.pending;if(h!==null){if(d!==null){var T=d.next;d.next=h.next,h.next=T}i.baseQueue=d=h,c.pending=null}if(h=t.baseState,d===null)t.memoizedState=h;else{i=d.next;var x=T=null,_=null,D=i,z=!1;do{var P=D.lane&-536870913;if(P!==D.lane?(ye&P)===P:(nn&P)===P){var k=D.revertLane;if(k===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),P===Di&&(z=!0);else if((nn&k)===k){D=D.next,k===Di&&(z=!0);continue}else P={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},_===null?(x=_=P,T=h):_=_.next=P,me.lanes|=k,wn|=k;P=D.action,li&&s(h,P),h=D.hasEagerState?D.eagerState:s(h,P)}else k={lane:P,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},_===null?(x=_=k,T=h):_=_.next=k,me.lanes|=P,wn|=P;D=D.next}while(D!==null&&D!==i);if(_===null?T=h:_.next=x,!Ct(h,t.memoizedState)&&(Ke=!0,z&&(s=ki,s!==null)))throw s;t.memoizedState=h,t.baseState=T,t.baseQueue=_,c.lastRenderedState=h}return d===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function nr(t){var i=Ye(),s=i.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=t;var c=s.dispatch,d=s.pending,h=i.memoizedState;if(d!==null){s.pending=null;var T=d=d.next;do h=t(h,T.action),T=T.next;while(T!==d);Ct(h,i.memoizedState)||(Ke=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),s.lastRenderedState=h}return[h,c]}function Mf(t,i,s){var c=me,d=Ye(),h=Te;if(h){if(s===void 0)throw Error(o(407));s=s()}else s=i();var T=!Ct((De||d).memoizedState,s);if(T&&(d.memoizedState=s,Ke=!0),d=d.queue,or(bf.bind(null,c,d,t),[t]),d.getSnapshot!==i||T||$e!==null&&$e.memoizedState.tag&1){if(c.flags|=2048,Gi(9,{destroy:void 0},Nf.bind(null,c,d,s,i),null),Le===null)throw Error(o(349));h||(nn&127)!==0||Rf(c,i,s)}return s}function Rf(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=me.updateQueue,i===null?(i=Fo(),me.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Nf(t,i,s,c){i.value=s,i.getSnapshot=c,wf(i)&&Df(t)}function bf(t,i,s){return s(function(){wf(i)&&Df(t)})}function wf(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Ct(t,s)}catch{return!0}}function Df(t){var i=Qn(t,2);i!==null&&gt(i,t,2)}function ir(t){var i=rt();if(typeof t=="function"){var s=t;if(t=s(),li){gn(!0);try{s()}finally{gn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:t},i}function kf(t,i,s,c){return t.baseState=s,tr(t,De,typeof c=="function"?c:ln)}function lv(t,i,s,c,d){if(Ko(t))throw Error(o(485));if(t=i.action,t!==null){var h={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){h.listeners.push(T)}};q.T!==null?s(!0):h.isTransition=!1,c(h),s=i.pending,s===null?(h.next=i.pending=h,If(i,h)):(h.next=s.next,i.pending=s.next=h)}}function If(t,i){var s=i.action,c=i.payload,d=t.state;if(i.isTransition){var h=q.T,T={};q.T=T;try{var x=s(d,c),_=q.S;_!==null&&_(T,x),Uf(t,i,x)}catch(D){lr(t,i,D)}finally{h!==null&&T.types!==null&&(h.types=T.types),q.T=h}}else try{h=s(d,c),Uf(t,i,h)}catch(D){lr(t,i,D)}}function Uf(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){Lf(t,i,c)},function(c){return lr(t,i,c)}):Lf(t,i,s)}function Lf(t,i,s){i.status="fulfilled",i.value=s,Vf(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,If(t,s)))}function lr(t,i,s){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=s,Vf(i),i=i.next;while(i!==c)}t.action=null}function Vf(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function qf(t,i){return i}function Gf(t,i){if(Te){var s=Le.formState;if(s!==null){e:{var c=me;if(Te){if(Ve){t:{for(var d=Ve,h=It;d.nodeType!==8;){if(!h){d=null;break t}if(d=Lt(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){Ve=Lt(d.nextSibling),c=d.data==="F!";break e}}Sn(c)}c=!1}c&&(i=s[0])}}return s=rt(),s.memoizedState=s.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qf,lastRenderedState:i},s.queue=c,s=id.bind(null,me,c),c.dispatch=s,c=ir(!1),h=cr.bind(null,me,!1,c.queue),c=rt(),d={state:i,dispatch:null,action:t,pending:null},c.queue=d,s=lv.bind(null,me,d,h,s),d.dispatch=s,c.memoizedState=t,[i,s,!1]}function zf(t){var i=Ye();return Hf(i,De,t)}function Hf(t,i,s){if(i=tr(t,i,qf)[0],t=Yo(ln)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Dl(i)}catch(T){throw T===Ii?Lo:T}else c=i;i=Ye();var d=i.queue,h=d.dispatch;return s!==i.memoizedState&&(me.flags|=2048,Gi(9,{destroy:void 0},ov.bind(null,d,s),null)),[c,h,t]}function ov(t,i){t.action=i}function Bf(t){var i=Ye(),s=De;if(s!==null)return Hf(i,s,t);Ye(),i=i.memoizedState,s=Ye();var c=s.queue.dispatch;return s.memoizedState=t,[i,c,!1]}function Gi(t,i,s,c){return t={tag:t,create:s,deps:c,inst:i,next:null},i=me.updateQueue,i===null&&(i=Fo(),me.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(c=s.next,s.next=t,t.next=c,i.lastEffect=t),t}function Pf(){return Ye().memoizedState}function Oo(t,i,s,c){var d=rt();me.flags|=t,d.memoizedState=Gi(1|i,{destroy:void 0},s,c===void 0?null:c)}function $o(t,i,s,c){var d=Ye();c=c===void 0?null:c;var h=d.memoizedState.inst;De!==null&&c!==null&&Qa(c,De.memoizedState.deps)?d.memoizedState=Gi(i,h,s,c):(me.flags|=t,d.memoizedState=Gi(1|i,h,s,c))}function Ff(t,i){Oo(8390656,8,t,i)}function or(t,i){$o(2048,8,t,i)}function sv(t){me.flags|=4;var i=me.updateQueue;if(i===null)i=Fo(),me.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function Jf(t){var i=Ye().memoizedState;return sv({ref:i,nextImpl:t}),function(){if((Ee&2)!==0)throw Error(o(440));return i.impl.apply(void 0,arguments)}}function Yf(t,i){return $o(4,2,t,i)}function Of(t,i){return $o(4,4,t,i)}function $f(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Kf(t,i,s){s=s!=null?s.concat([t]):null,$o(4,4,$f.bind(null,i,t),s)}function sr(){}function Qf(t,i){var s=Ye();i=i===void 0?null:i;var c=s.memoizedState;return i!==null&&Qa(i,c[1])?c[0]:(s.memoizedState=[t,i],t)}function Xf(t,i){var s=Ye();i=i===void 0?null:i;var c=s.memoizedState;if(i!==null&&Qa(i,c[1]))return c[0];if(c=t(),li){gn(!0);try{t()}finally{gn(!1)}}return s.memoizedState=[c,i],c}function ar(t,i,s){return s===void 0||(nn&1073741824)!==0&&(ye&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=Zd(),me.lanes|=t,wn|=t,s)}function Zf(t,i,s,c){return Ct(s,i)?s:Li.current!==null?(t=ar(t,s,c),Ct(t,i)||(Ke=!0),t):(nn&42)===0||(nn&1073741824)!==0&&(ye&261930)===0?(Ke=!0,t.memoizedState=s):(t=Zd(),me.lanes|=t,wn|=t,i)}function Wf(t,i,s,c,d){var h=K.p;K.p=h!==0&&8>h?h:8;var T=q.T,x={};q.T=x,cr(t,!1,i,s);try{var _=d(),D=q.S;if(D!==null&&D(x,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var z=tv(_,c);kl(t,i,z,Mt(t))}else kl(t,i,c,Mt(t))}catch(P){kl(t,i,{then:function(){},status:"rejected",reason:P},Mt())}finally{K.p=h,T!==null&&x.types!==null&&(T.types=x.types),q.T=T}}function av(){}function rr(t,i,s,c){if(t.tag!==5)throw Error(o(476));var d=jf(t).queue;Wf(t,d,i,ae,s===null?av:function(){return ed(t),s(c)})}function jf(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:ae},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ed(t){var i=jf(t);i.next===null&&(i=t.alternate.memoizedState),kl(t,i.next.queue,{},Mt())}function ur(){return nt(Ql)}function td(){return Ye().memoizedState}function nd(){return Ye().memoizedState}function rv(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Mt();t=An(s);var c=_n(i,t,s);c!==null&&(gt(c,i,s),Rl(c,i,s)),i={cache:Ga()},t.payload=i;return}i=i.return}}function uv(t,i,s){var c=Mt();s={lane:c,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ko(t)?ld(i,s):(s=Ra(t,i,s,c),s!==null&&(gt(s,t,c),od(s,i,c)))}function id(t,i,s){var c=Mt();kl(t,i,s,c)}function kl(t,i,s,c){var d={lane:c,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ko(t))ld(i,d);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var T=i.lastRenderedState,x=h(T,s);if(d.hasEagerState=!0,d.eagerState=x,Ct(x,T))return No(t,i,d,0),Le===null&&Ro(),!1}catch{}finally{}if(s=Ra(t,i,d,c),s!==null)return gt(s,t,c),od(s,i,c),!0}return!1}function cr(t,i,s,c){if(c={lane:2,revertLane:Pr(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ko(t)){if(i)throw Error(o(479))}else i=Ra(t,s,c,2),i!==null&&gt(i,t,2)}function Ko(t){var i=t.alternate;return t===me||i!==null&&i===me}function ld(t,i){Vi=Bo=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function od(t,i,s){if((s&4194048)!==0){var c=i.lanes;c&=t.pendingLanes,s|=c,i.lanes=s,uc(t,s)}}var Il={readContext:nt,use:Jo,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};Il.useEffectEvent=Pe;var sd={readContext:nt,use:Jo,useCallback:function(t,i){return rt().memoizedState=[t,i===void 0?null:i],t},useContext:nt,useEffect:Ff,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Oo(4194308,4,$f.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Oo(4194308,4,t,i)},useInsertionEffect:function(t,i){Oo(4,2,t,i)},useMemo:function(t,i){var s=rt();i=i===void 0?null:i;var c=t();if(li){gn(!0);try{t()}finally{gn(!1)}}return s.memoizedState=[c,i],c},useReducer:function(t,i,s){var c=rt();if(s!==void 0){var d=s(i);if(li){gn(!0);try{s(i)}finally{gn(!1)}}}else d=i;return c.memoizedState=c.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},c.queue=t,t=t.dispatch=uv.bind(null,me,t),[c.memoizedState,t]},useRef:function(t){var i=rt();return t={current:t},i.memoizedState=t},useState:function(t){t=ir(t);var i=t.queue,s=id.bind(null,me,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:sr,useDeferredValue:function(t,i){var s=rt();return ar(s,t,i)},useTransition:function(){var t=ir(!1);return t=Wf.bind(null,me,t.queue,!0,!1),rt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var c=me,d=rt();if(Te){if(s===void 0)throw Error(o(407));s=s()}else{if(s=i(),Le===null)throw Error(o(349));(ye&127)!==0||Rf(c,i,s)}d.memoizedState=s;var h={value:s,getSnapshot:i};return d.queue=h,Ff(bf.bind(null,c,h,t),[t]),c.flags|=2048,Gi(9,{destroy:void 0},Nf.bind(null,c,h,s,i),null),s},useId:function(){var t=rt(),i=Le.identifierPrefix;if(Te){var s=Yt,c=Jt;s=(c&~(1<<32-Tt(c)-1)).toString(32)+s,i="_"+i+"R_"+s,s=Po++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=nv++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:ur,useFormState:Gf,useActionState:Gf,useOptimistic:function(t){var i=rt();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=cr.bind(null,me,!0,s),s.dispatch=i,[t,i]},useMemoCache:er,useCacheRefresh:function(){return rt().memoizedState=rv.bind(null,me)},useEffectEvent:function(t){var i=rt(),s={impl:t};return i.memoizedState=s,function(){if((Ee&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}},fr={readContext:nt,use:Jo,useCallback:Qf,useContext:nt,useEffect:or,useImperativeHandle:Kf,useInsertionEffect:Yf,useLayoutEffect:Of,useMemo:Xf,useReducer:Yo,useRef:Pf,useState:function(){return Yo(ln)},useDebugValue:sr,useDeferredValue:function(t,i){var s=Ye();return Zf(s,De.memoizedState,t,i)},useTransition:function(){var t=Yo(ln)[0],i=Ye().memoizedState;return[typeof t=="boolean"?t:Dl(t),i]},useSyncExternalStore:Mf,useId:td,useHostTransitionStatus:ur,useFormState:zf,useActionState:zf,useOptimistic:function(t,i){var s=Ye();return kf(s,De,t,i)},useMemoCache:er,useCacheRefresh:nd};fr.useEffectEvent=Jf;var ad={readContext:nt,use:Jo,useCallback:Qf,useContext:nt,useEffect:or,useImperativeHandle:Kf,useInsertionEffect:Yf,useLayoutEffect:Of,useMemo:Xf,useReducer:nr,useRef:Pf,useState:function(){return nr(ln)},useDebugValue:sr,useDeferredValue:function(t,i){var s=Ye();return De===null?ar(s,t,i):Zf(s,De.memoizedState,t,i)},useTransition:function(){var t=nr(ln)[0],i=Ye().memoizedState;return[typeof t=="boolean"?t:Dl(t),i]},useSyncExternalStore:Mf,useId:td,useHostTransitionStatus:ur,useFormState:Bf,useActionState:Bf,useOptimistic:function(t,i){var s=Ye();return De!==null?kf(s,De,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:er,useCacheRefresh:nd};ad.useEffectEvent=Jf;function dr(t,i,s,c){i=t.memoizedState,s=s(c,i),s=s==null?i:C({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var mr={enqueueSetState:function(t,i,s){t=t._reactInternals;var c=Mt(),d=An(c);d.payload=i,s!=null&&(d.callback=s),i=_n(t,d,c),i!==null&&(gt(i,t,c),Rl(i,t,c))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var c=Mt(),d=An(c);d.tag=1,d.payload=i,s!=null&&(d.callback=s),i=_n(t,d,c),i!==null&&(gt(i,t,c),Rl(i,t,c))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Mt(),c=An(s);c.tag=2,i!=null&&(c.callback=i),i=_n(t,c,s),i!==null&&(gt(i,t,s),Rl(i,t,s))}};function rd(t,i,s,c,d,h,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,h,T):i.prototype&&i.prototype.isPureReactComponent?!Tl(s,c)||!Tl(d,h):!0}function ud(t,i,s,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,c),i.state!==t&&mr.enqueueReplaceState(i,i.state,null)}function oi(t,i){var s=i;if("ref"in i){s={};for(var c in i)c!=="ref"&&(s[c]=i[c])}if(t=t.defaultProps){s===i&&(s=C({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}function cd(t){Mo(t)}function fd(t){console.error(t)}function dd(t){Mo(t)}function Qo(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function md(t,i,s){try{var c=t.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function pr(t,i,s){return s=An(s),s.tag=3,s.payload={element:null},s.callback=function(){Qo(t,i)},s}function pd(t){return t=An(t),t.tag=3,t}function hd(t,i,s,c){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var h=c.value;t.payload=function(){return d(h)},t.callback=function(){md(i,s,c)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){md(i,s,c),typeof d!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function cv(t,i,s,c,d){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=s.alternate,i!==null&&wi(i,s,d,!0),s=xt.current,s!==null){switch(s.tag){case 31:case 13:return Ut===null?as():s.alternate===null&&Fe===0&&(Fe=3),s.flags&=-257,s.flags|=65536,s.lanes=d,c===Vo?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([c]):i.add(c),zr(t,c,d)),!1;case 22:return s.flags|=65536,c===Vo?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([c]):s.add(c)),zr(t,c,d)),!1}throw Error(o(435,s.tag))}return zr(t,c,d),as(),!1}if(Te)return i=xt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,c!==Ia&&(t=Error(o(422),{cause:c}),xl(wt(t,s)))):(c!==Ia&&(i=Error(o(423),{cause:c}),xl(wt(i,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,c=wt(c,s),d=pr(t.stateNode,c,d),Ja(t,d),Fe!==4&&(Fe=2)),!1;var h=Error(o(520),{cause:c});if(h=wt(h,s),Bl===null?Bl=[h]:Bl.push(h),Fe!==4&&(Fe=2),i===null)return!0;c=wt(c,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=pr(s.stateNode,c,t),Ja(s,t),!1;case 1:if(i=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Dn===null||!Dn.has(h))))return s.flags|=65536,d&=-d,s.lanes|=d,d=pd(d),hd(d,t,s,c),Ja(s,d),!1}s=s.return}while(s!==null);return!1}var hr=Error(o(461)),Ke=!1;function it(t,i,s,c){i.child=t===null?Tf(i,null,s,c):ii(i,t.child,s,c)}function gd(t,i,s,c,d){s=s.render;var h=i.ref;if("ref"in c){var T={};for(var x in c)x!=="ref"&&(T[x]=c[x])}else T=c;return jn(i),c=Xa(t,i,s,T,h,d),x=Za(),t!==null&&!Ke?(Wa(t,i,d),on(t,i,d)):(Te&&x&&Da(i),i.flags|=1,it(t,i,c,d),i.child)}function yd(t,i,s,c,d){if(t===null){var h=s.type;return typeof h=="function"&&!Na(h)&&h.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=h,vd(t,i,h,c,d)):(t=wo(s.type,null,c,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(h=t.child,!Er(t,d)){var T=h.memoizedProps;if(s=s.compare,s=s!==null?s:Tl,s(T,c)&&t.ref===i.ref)return on(t,i,d)}return i.flags|=1,t=Wt(h,c),t.ref=i.ref,t.return=i,i.child=t}function vd(t,i,s,c,d){if(t!==null){var h=t.memoizedProps;if(Tl(h,c)&&t.ref===i.ref)if(Ke=!1,i.pendingProps=c=h,Er(t,d))(t.flags&131072)!==0&&(Ke=!0);else return i.lanes=t.lanes,on(t,i,d)}return gr(t,i,s,c,d)}function Td(t,i,s,c){var d=c.children,h=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(h=h!==null?h.baseLanes|s:s,t!==null){for(c=i.child=t.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~h}else c=0,i.child=null;return Cd(t,i,h,s,c)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uo(i,h!==null?h.cachePool:null),h!==null?xf(i,h):Oa(),Ef(i);else return c=i.lanes=536870912,Cd(t,i,h!==null?h.baseLanes|s:s,s,c)}else h!==null?(Uo(i,h.cachePool),xf(i,h),Rn(),i.memoizedState=null):(t!==null&&Uo(i,null),Oa(),Rn());return it(t,i,d,s),i.child}function Ul(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Cd(t,i,s,c,d){var h=Ha();return h=h===null?null:{parent:Oe._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},t!==null&&Uo(i,null),Oa(),Ef(i),t!==null&&wi(t,i,c,!0),i.childLanes=d,null}function Xo(t,i){return i=Wo({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Sd(t,i,s){return ii(i,t.child,null,s),t=Xo(i,i.pendingProps),t.flags|=2,Et(i),i.memoizedState=null,t}function fv(t,i,s){var c=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Te){if(c.mode==="hidden")return t=Xo(i,c),i.lanes=536870912,Ul(null,t);if(Ka(i),(t=Ve)?(t=Im(t,It),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Tn!==null?{id:Jt,overflow:Yt}:null,retryLane:536870912,hydrationErrors:null},s=lf(t),s.return=i,i.child=s,tt=i,Ve=null)):t=null,t===null)throw Sn(i);return i.lanes=536870912,null}return Xo(i,c)}var h=t.memoizedState;if(h!==null){var T=h.dehydrated;if(Ka(i),d)if(i.flags&256)i.flags&=-257,i=Sd(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(o(558));else if(Ke||wi(t,i,s,!1),d=(s&t.childLanes)!==0,Ke||d){if(c=Le,c!==null&&(T=cc(c,s),T!==0&&T!==h.retryLane))throw h.retryLane=T,Qn(t,T),gt(c,t,T),hr;as(),i=Sd(t,i,s)}else t=h.treeContext,Ve=Lt(T.nextSibling),tt=i,Te=!0,Cn=null,It=!1,t!==null&&af(i,t),i=Xo(i,c),i.flags|=4096;return i}return t=Wt(t.child,{mode:c.mode,children:c.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Zo(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function gr(t,i,s,c,d){return jn(i),s=Xa(t,i,s,c,void 0,d),c=Za(),t!==null&&!Ke?(Wa(t,i,d),on(t,i,d)):(Te&&c&&Da(i),i.flags|=1,it(t,i,s,d),i.child)}function xd(t,i,s,c,d,h){return jn(i),i.updateQueue=null,s=_f(i,c,s,d),Af(t),c=Za(),t!==null&&!Ke?(Wa(t,i,h),on(t,i,h)):(Te&&c&&Da(i),i.flags|=1,it(t,i,s,h),i.child)}function Ed(t,i,s,c,d){if(jn(i),i.stateNode===null){var h=Mi,T=s.contextType;typeof T=="object"&&T!==null&&(h=nt(T)),h=new s(c,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=mr,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=c,h.state=i.memoizedState,h.refs={},Pa(i),T=s.contextType,h.context=typeof T=="object"&&T!==null?nt(T):Mi,h.state=i.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(dr(i,s,T,c),h.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(T=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),T!==h.state&&mr.enqueueReplaceState(h,h.state,null),bl(i,c,h,d),Nl(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(t===null){h=i.stateNode;var x=i.memoizedProps,_=oi(s,x);h.props=_;var D=h.context,z=s.contextType;T=Mi,typeof z=="object"&&z!==null&&(T=nt(z));var P=s.getDerivedStateFromProps;z=typeof P=="function"||typeof h.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,z||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(x||D!==T)&&ud(i,h,c,T),En=!1;var k=i.memoizedState;h.state=k,bl(i,c,h,d),Nl(),D=i.memoizedState,x||k!==D||En?(typeof P=="function"&&(dr(i,s,P,c),D=i.memoizedState),(_=En||rd(i,s,_,c,k,D,T))?(z||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=D),h.props=c,h.state=D,h.context=T,c=_):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{h=i.stateNode,Fa(t,i),T=i.memoizedProps,z=oi(s,T),h.props=z,P=i.pendingProps,k=h.context,D=s.contextType,_=Mi,typeof D=="object"&&D!==null&&(_=nt(D)),x=s.getDerivedStateFromProps,(D=typeof x=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T!==P||k!==_)&&ud(i,h,c,_),En=!1,k=i.memoizedState,h.state=k,bl(i,c,h,d),Nl();var U=i.memoizedState;T!==P||k!==U||En||t!==null&&t.dependencies!==null&&ko(t.dependencies)?(typeof x=="function"&&(dr(i,s,x,c),U=i.memoizedState),(z=En||rd(i,s,z,c,k,U,_)||t!==null&&t.dependencies!==null&&ko(t.dependencies))?(D||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(c,U,_),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(c,U,_)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=U),h.props=c,h.state=U,h.context=_,c=z):(typeof h.componentDidUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=1024),c=!1)}return h=c,Zo(t,i),c=(i.flags&128)!==0,h||c?(h=i.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,t!==null&&c?(i.child=ii(i,t.child,null,d),i.child=ii(i,null,s,d)):it(t,i,s,d),i.memoizedState=h.state,t=i.child):t=on(t,i,d),t}function Ad(t,i,s,c){return Zn(),i.flags|=256,it(t,i,s,c),i.child}var yr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vr(t){return{baseLanes:t,cachePool:mf()}}function Tr(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=_t),t}function _d(t,i,s){var c=i.pendingProps,d=!1,h=(i.flags&128)!==0,T;if((T=h)||(T=t!==null&&t.memoizedState===null?!1:(Je.current&2)!==0),T&&(d=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(Te){if(d?Mn(i):Rn(),(t=Ve)?(t=Im(t,It),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Tn!==null?{id:Jt,overflow:Yt}:null,retryLane:536870912,hydrationErrors:null},s=lf(t),s.return=i,i.child=s,tt=i,Ve=null)):t=null,t===null)throw Sn(i);return tu(t)?i.lanes=32:i.lanes=536870912,null}var x=c.children;return c=c.fallback,d?(Rn(),d=i.mode,x=Wo({mode:"hidden",children:x},d),c=Xn(c,d,s,null),x.return=i,c.return=i,x.sibling=c,i.child=x,c=i.child,c.memoizedState=vr(s),c.childLanes=Tr(t,T,s),i.memoizedState=yr,Ul(null,c)):(Mn(i),Cr(i,x))}var _=t.memoizedState;if(_!==null&&(x=_.dehydrated,x!==null)){if(h)i.flags&256?(Mn(i),i.flags&=-257,i=Sr(t,i,s)):i.memoizedState!==null?(Rn(),i.child=t.child,i.flags|=128,i=null):(Rn(),x=c.fallback,d=i.mode,c=Wo({mode:"visible",children:c.children},d),x=Xn(x,d,s,null),x.flags|=2,c.return=i,x.return=i,c.sibling=x,i.child=c,ii(i,t.child,null,s),c=i.child,c.memoizedState=vr(s),c.childLanes=Tr(t,T,s),i.memoizedState=yr,i=Ul(null,c));else if(Mn(i),tu(x)){if(T=x.nextSibling&&x.nextSibling.dataset,T)var D=T.dgst;T=D,c=Error(o(419)),c.stack="",c.digest=T,xl({value:c,source:null,stack:null}),i=Sr(t,i,s)}else if(Ke||wi(t,i,s,!1),T=(s&t.childLanes)!==0,Ke||T){if(T=Le,T!==null&&(c=cc(T,s),c!==0&&c!==_.retryLane))throw _.retryLane=c,Qn(t,c),gt(T,t,c),hr;eu(x)||as(),i=Sr(t,i,s)}else eu(x)?(i.flags|=192,i.child=t.child,i=null):(t=_.treeContext,Ve=Lt(x.nextSibling),tt=i,Te=!0,Cn=null,It=!1,t!==null&&af(i,t),i=Cr(i,c.children),i.flags|=4096);return i}return d?(Rn(),x=c.fallback,d=i.mode,_=t.child,D=_.sibling,c=Wt(_,{mode:"hidden",children:c.children}),c.subtreeFlags=_.subtreeFlags&65011712,D!==null?x=Wt(D,x):(x=Xn(x,d,s,null),x.flags|=2),x.return=i,c.return=i,c.sibling=x,i.child=c,Ul(null,c),c=i.child,x=t.child.memoizedState,x===null?x=vr(s):(d=x.cachePool,d!==null?(_=Oe._currentValue,d=d.parent!==_?{parent:_,pool:_}:d):d=mf(),x={baseLanes:x.baseLanes|s,cachePool:d}),c.memoizedState=x,c.childLanes=Tr(t,T,s),i.memoizedState=yr,Ul(t.child,c)):(Mn(i),s=t.child,t=s.sibling,s=Wt(s,{mode:"visible",children:c.children}),s.return=i,s.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=s,i.memoizedState=null,s)}function Cr(t,i){return i=Wo({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Wo(t,i){return t=St(22,t,null,i),t.lanes=0,t}function Sr(t,i,s){return ii(i,t.child,null,s),t=Cr(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Md(t,i,s){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),Va(t.return,i,s)}function xr(t,i,s,c,d,h){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:d,treeForkCount:h}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=s,T.tailMode=d,T.treeForkCount=h)}function Rd(t,i,s){var c=i.pendingProps,d=c.revealOrder,h=c.tail;c=c.children;var T=Je.current,x=(T&2)!==0;if(x?(T=T&1|2,i.flags|=128):T&=1,J(Je,T),it(t,i,c,s),c=Te?Sl:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Md(t,s,i);else if(t.tag===19)Md(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(s=i.child,d=null;s!==null;)t=s.alternate,t!==null&&Ho(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=i.child,i.child=null):(d=s.sibling,s.sibling=null),xr(i,!1,d,s,h,c);break;case"backwards":case"unstable_legacy-backwards":for(s=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Ho(t)===null){i.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}xr(i,!0,s,null,h,c);break;case"together":xr(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function on(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),wn|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(wi(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(o(153));if(i.child!==null){for(t=i.child,s=Wt(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Wt(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Er(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ko(t)))}function dv(t,i,s){switch(i.tag){case 3:He(i,i.stateNode.containerInfo),xn(i,Oe,t.memoizedState.cache),Zn();break;case 27:case 5:sl(i);break;case 4:He(i,i.stateNode.containerInfo);break;case 10:xn(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ka(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Mn(i),i.flags|=128,null):(s&i.child.childLanes)!==0?_d(t,i,s):(Mn(i),t=on(t,i,s),t!==null?t.sibling:null);Mn(i);break;case 19:var d=(t.flags&128)!==0;if(c=(s&i.childLanes)!==0,c||(wi(t,i,s,!1),c=(s&i.childLanes)!==0),d){if(c)return Rd(t,i,s);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),J(Je,Je.current),c)break;return null;case 22:return i.lanes=0,Td(t,i,s,i.pendingProps);case 24:xn(i,Oe,t.memoizedState.cache)}return on(t,i,s)}function Nd(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ke=!0;else{if(!Er(t,s)&&(i.flags&128)===0)return Ke=!1,dv(t,i,s);Ke=(t.flags&131072)!==0}else Ke=!1,Te&&(i.flags&1048576)!==0&&sf(i,Sl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(t=ti(i.elementType),i.type=t,typeof t=="function")Na(t)?(c=oi(t,c),i.tag=1,i=Ed(null,i,t,c,s)):(i.tag=0,i=gr(null,i,t,c,s));else{if(t!=null){var d=t.$$typeof;if(d===O){i.tag=11,i=gd(null,i,t,c,s);break e}else if(d===H){i.tag=14,i=yd(null,i,t,c,s);break e}}throw i=at(t)||t,Error(o(306,i,""))}}return i;case 0:return gr(t,i,i.type,i.pendingProps,s);case 1:return c=i.type,d=oi(c,i.pendingProps),Ed(t,i,c,d,s);case 3:e:{if(He(i,i.stateNode.containerInfo),t===null)throw Error(o(387));c=i.pendingProps;var h=i.memoizedState;d=h.element,Fa(t,i),bl(i,c,null,s);var T=i.memoizedState;if(c=T.cache,xn(i,Oe,c),c!==h.cache&&qa(i,[Oe],s,!0),Nl(),c=T.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Ad(t,i,c,s);break e}else if(c!==d){d=wt(Error(o(424)),i),xl(d),i=Ad(t,i,c,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ve=Lt(t.firstChild),tt=i,Te=!0,Cn=null,It=!0,s=Tf(i,null,c,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Zn(),c===d){i=on(t,i,s);break e}it(t,i,c,s)}i=i.child}return i;case 26:return Zo(t,i),t===null?(s=zm(i.type,null,i.pendingProps,null))?i.memoizedState=s:Te||(s=i.type,t=i.pendingProps,c=ps(ce.current).createElement(s),c[et]=i,c[ct]=t,lt(c,s,t),We(c),i.stateNode=c):i.memoizedState=zm(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return sl(i),t===null&&Te&&(c=i.stateNode=Vm(i.type,i.pendingProps,ce.current),tt=i,It=!0,d=Ve,Ln(i.type)?(nu=d,Ve=Lt(c.firstChild)):Ve=d),it(t,i,i.pendingProps.children,s),Zo(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Te&&((d=c=Ve)&&(c=Pv(c,i.type,i.pendingProps,It),c!==null?(i.stateNode=c,tt=i,Ve=Lt(c.firstChild),It=!1,d=!0):d=!1),d||Sn(i)),sl(i),d=i.type,h=i.pendingProps,T=t!==null?t.memoizedProps:null,c=h.children,Zr(d,h)?c=null:T!==null&&Zr(d,T)&&(i.flags|=32),i.memoizedState!==null&&(d=Xa(t,i,iv,null,null,s),Ql._currentValue=d),Zo(t,i),it(t,i,c,s),i.child;case 6:return t===null&&Te&&((t=s=Ve)&&(s=Fv(s,i.pendingProps,It),s!==null?(i.stateNode=s,tt=i,Ve=null,t=!0):t=!1),t||Sn(i)),null;case 13:return _d(t,i,s);case 4:return He(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=ii(i,null,c,s):it(t,i,c,s),i.child;case 11:return gd(t,i,i.type,i.pendingProps,s);case 7:return it(t,i,i.pendingProps,s),i.child;case 8:return it(t,i,i.pendingProps.children,s),i.child;case 12:return it(t,i,i.pendingProps.children,s),i.child;case 10:return c=i.pendingProps,xn(i,i.type,c.value),it(t,i,c.children,s),i.child;case 9:return d=i.type._context,c=i.pendingProps.children,jn(i),d=nt(d),c=c(d),i.flags|=1,it(t,i,c,s),i.child;case 14:return yd(t,i,i.type,i.pendingProps,s);case 15:return vd(t,i,i.type,i.pendingProps,s);case 19:return Rd(t,i,s);case 31:return fv(t,i,s);case 22:return Td(t,i,s,i.pendingProps);case 24:return jn(i),c=nt(Oe),t===null?(d=Ha(),d===null&&(d=Le,h=Ga(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=s),d=h),i.memoizedState={parent:c,cache:d},Pa(i),xn(i,Oe,d)):((t.lanes&s)!==0&&(Fa(t,i),bl(i,null,null,s),Nl()),d=t.memoizedState,h=i.memoizedState,d.parent!==c?(d={parent:c,cache:c},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),xn(i,Oe,c)):(c=h.cache,xn(i,Oe,c),c!==d.cache&&qa(i,[Oe],s,!0))),it(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function sn(t){t.flags|=4}function Ar(t,i,s,c,d){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(tm())t.flags|=8192;else throw ni=Vo,Ba}else t.flags&=-16777217}function bd(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Jm(i))if(tm())t.flags|=8192;else throw ni=Vo,Ba}function jo(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ac():536870912,t.lanes|=i,Pi|=i)}function Ll(t,i){if(!Te)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function qe(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,c=0;if(i)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=c,t.childLanes=s,i}function mv(t,i,s){var c=i.pendingProps;switch(ka(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(i),null;case 1:return qe(i),null;case 3:return s=i.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),tn(Oe),we(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(bi(i)?sn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ua())),qe(i),null;case 26:var d=i.type,h=i.memoizedState;return t===null?(sn(i),h!==null?(qe(i),bd(i,h)):(qe(i),Ar(i,d,null,c,s))):h?h!==t.memoizedState?(sn(i),qe(i),bd(i,h)):(qe(i),i.flags&=-16777217):(t=t.memoizedProps,t!==c&&sn(i),qe(i),Ar(i,d,t,c,s)),null;case 27:if(uo(i),s=ce.current,d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&sn(i);else{if(!c){if(i.stateNode===null)throw Error(o(166));return qe(i),null}t=X.current,bi(i)?rf(i):(t=Vm(d,c,s),i.stateNode=t,sn(i))}return qe(i),null;case 5:if(uo(i),d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&sn(i);else{if(!c){if(i.stateNode===null)throw Error(o(166));return qe(i),null}if(h=X.current,bi(i))rf(i);else{var T=ps(ce.current);switch(h){case 1:h=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=T.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?h.multiple=!0:c.size&&(h.size=c.size);break;default:h=typeof c.is=="string"?T.createElement(d,{is:c.is}):T.createElement(d)}}h[et]=i,h[ct]=c;e:for(T=i.child;T!==null;){if(T.tag===5||T.tag===6)h.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===i)break e;for(;T.sibling===null;){if(T.return===null||T.return===i)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}i.stateNode=h;e:switch(lt(h,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&sn(i)}}return qe(i),Ar(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==c&&sn(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(o(166));if(t=ce.current,bi(i)){if(t=i.stateNode,s=i.memoizedProps,c=null,d=tt,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}t[et]=i,t=!!(t.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||_m(t.nodeValue,s)),t||Sn(i,!0)}else t=ps(t).createTextNode(c),t[et]=i,i.stateNode=t}return qe(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(c=bi(i),s!==null){if(t===null){if(!c)throw Error(o(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[et]=i}else Zn(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;qe(i),t=!1}else s=Ua(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(Et(i),i):(Et(i),null);if((i.flags&128)!==0)throw Error(o(558))}return qe(i),null;case 13:if(c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=bi(i),c!==null&&c.dehydrated!==null){if(t===null){if(!d)throw Error(o(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[et]=i}else Zn(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;qe(i),d=!1}else d=Ua(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Et(i),i):(Et(i),null)}return Et(i),(i.flags&128)!==0?(i.lanes=s,i):(s=c!==null,t=t!==null&&t.memoizedState!==null,s&&(c=i.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),h=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),h!==d&&(c.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),jo(i,i.updateQueue),qe(i),null);case 4:return we(),t===null&&Or(i.stateNode.containerInfo),qe(i),null;case 10:return tn(i.type),qe(i),null;case 19:if(L(Je),c=i.memoizedState,c===null)return qe(i),null;if(d=(i.flags&128)!==0,h=c.rendering,h===null)if(d)Ll(c,!1);else{if(Fe!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(h=Ho(t),h!==null){for(i.flags|=128,Ll(c,!1),t=h.updateQueue,i.updateQueue=t,jo(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)nf(s,t),s=s.sibling;return J(Je,Je.current&1|2),Te&&jt(i,c.treeForkCount),i.child}t=t.sibling}c.tail!==null&&yt()>ls&&(i.flags|=128,d=!0,Ll(c,!1),i.lanes=4194304)}else{if(!d)if(t=Ho(h),t!==null){if(i.flags|=128,d=!0,t=t.updateQueue,i.updateQueue=t,jo(i,t),Ll(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Te)return qe(i),null}else 2*yt()-c.renderingStartTime>ls&&s!==536870912&&(i.flags|=128,d=!0,Ll(c,!1),i.lanes=4194304);c.isBackwards?(h.sibling=i.child,i.child=h):(t=c.last,t!==null?t.sibling=h:i.child=h,c.last=h)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=yt(),t.sibling=null,s=Je.current,J(Je,d?s&1|2:s&1),Te&&jt(i,c.treeForkCount),t):(qe(i),null);case 22:case 23:return Et(i),$a(),c=i.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(s&536870912)!==0&&(i.flags&128)===0&&(qe(i),i.subtreeFlags&6&&(i.flags|=8192)):qe(i),s=i.updateQueue,s!==null&&jo(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==s&&(i.flags|=2048),t!==null&&L(ei),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),tn(Oe),qe(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function pv(t,i){switch(ka(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return tn(Oe),we(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return uo(i),null;case 31:if(i.memoizedState!==null){if(Et(i),i.alternate===null)throw Error(o(340));Zn()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Et(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(o(340));Zn()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return L(Je),null;case 4:return we(),null;case 10:return tn(i.type),null;case 22:case 23:return Et(i),$a(),t!==null&&L(ei),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return tn(Oe),null;case 25:return null;default:return null}}function wd(t,i){switch(ka(i),i.tag){case 3:tn(Oe),we();break;case 26:case 27:case 5:uo(i);break;case 4:we();break;case 31:i.memoizedState!==null&&Et(i);break;case 13:Et(i);break;case 19:L(Je);break;case 10:tn(i.type);break;case 22:case 23:Et(i),$a(),t!==null&&L(ei);break;case 24:tn(Oe)}}function Vl(t,i){try{var s=i.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var d=c.next;s=d;do{if((s.tag&t)===t){c=void 0;var h=s.create,T=s.inst;c=h(),T.destroy=c}s=s.next}while(s!==d)}}catch(x){be(i,i.return,x)}}function Nn(t,i,s){try{var c=i.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var h=d.next;c=h;do{if((c.tag&t)===t){var T=c.inst,x=T.destroy;if(x!==void 0){T.destroy=void 0,d=i;var _=s,D=x;try{D()}catch(z){be(d,_,z)}}}c=c.next}while(c!==h)}}catch(z){be(i,i.return,z)}}function Dd(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Sf(i,s)}catch(c){be(t,t.return,c)}}}function kd(t,i,s){s.props=oi(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(c){be(t,i,c)}}function ql(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof s=="function"?t.refCleanup=s(c):s.current=c}}catch(d){be(t,i,d)}}function Ot(t,i){var s=t.ref,c=t.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(d){be(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){be(t,i,d)}else s.current=null}function Id(t){var i=t.type,s=t.memoizedProps,c=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(d){be(t,t.return,d)}}function _r(t,i,s){try{var c=t.stateNode;Vv(c,t.type,s,i),c[ct]=i}catch(d){be(t,t.return,d)}}function Ud(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ln(t.type)||t.tag===4}function Mr(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ud(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ln(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rr(t,i,s){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Xt));else if(c!==4&&(c===27&&Ln(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(Rr(t,i,s),t=t.sibling;t!==null;)Rr(t,i,s),t=t.sibling}function es(t,i,s){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(c!==4&&(c===27&&Ln(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(es(t,i,s),t=t.sibling;t!==null;)es(t,i,s),t=t.sibling}function Ld(t){var i=t.stateNode,s=t.memoizedProps;try{for(var c=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);lt(i,c,s),i[et]=t,i[ct]=s}catch(h){be(t,t.return,h)}}var an=!1,Qe=!1,Nr=!1,Vd=typeof WeakSet=="function"?WeakSet:Set,je=null;function hv(t,i){if(t=t.containerInfo,Qr=Ss,t=$c(t),Sa(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var d=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var T=0,x=-1,_=-1,D=0,z=0,P=t,k=null;t:for(;;){for(var U;P!==s||d!==0&&P.nodeType!==3||(x=T+d),P!==h||c!==0&&P.nodeType!==3||(_=T+c),P.nodeType===3&&(T+=P.nodeValue.length),(U=P.firstChild)!==null;)k=P,P=U;for(;;){if(P===t)break t;if(k===s&&++D===d&&(x=T),k===h&&++z===c&&(_=T),(U=P.nextSibling)!==null)break;P=k,k=P.parentNode}P=U}s=x===-1||_===-1?null:{start:x,end:_}}else s=null}s=s||{start:0,end:0}}else s=null;for(Xr={focusedElem:t,selectionRange:s},Ss=!1,je=i;je!==null;)if(i=je,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,je=t;else for(;je!==null;){switch(i=je,h=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)d=t[s],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,s=i,d=h.memoizedProps,h=h.memoizedState,c=s.stateNode;try{var ee=oi(s.type,d);t=c.getSnapshotBeforeUpdate(ee,h),c.__reactInternalSnapshotBeforeUpdate=t}catch(se){be(s,s.return,se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)jr(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":jr(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=i.sibling,t!==null){t.return=i.return,je=t;break}je=i.return}}function qd(t,i,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:un(t,s),c&4&&Vl(5,s);break;case 1:if(un(t,s),c&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(T){be(s,s.return,T)}else{var d=oi(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){be(s,s.return,T)}}c&64&&Dd(s),c&512&&ql(s,s.return);break;case 3:if(un(t,s),c&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Sf(t,i)}catch(T){be(s,s.return,T)}}break;case 27:i===null&&c&4&&Ld(s);case 26:case 5:un(t,s),i===null&&c&4&&Id(s),c&512&&ql(s,s.return);break;case 12:un(t,s);break;case 31:un(t,s),c&4&&Hd(t,s);break;case 13:un(t,s),c&4&&Bd(t,s),c&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Av.bind(null,s),Jv(t,s))));break;case 22:if(c=s.memoizedState!==null||an,!c){i=i!==null&&i.memoizedState!==null||Qe,d=an;var h=Qe;an=c,(Qe=i)&&!h?cn(t,s,(s.subtreeFlags&8772)!==0):un(t,s),an=d,Qe=h}break;case 30:break;default:un(t,s)}}function Gd(t){var i=t.alternate;i!==null&&(t.alternate=null,Gd(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&la(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ze=null,dt=!1;function rn(t,i,s){for(s=s.child;s!==null;)zd(t,i,s),s=s.sibling}function zd(t,i,s){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(al,s)}catch{}switch(s.tag){case 26:Qe||Ot(s,i),rn(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Qe||Ot(s,i);var c=ze,d=dt;Ln(s.type)&&(ze=s.stateNode,dt=!1),rn(t,i,s),Ol(s.stateNode),ze=c,dt=d;break;case 5:Qe||Ot(s,i);case 6:if(c=ze,d=dt,ze=null,rn(t,i,s),ze=c,dt=d,ze!==null)if(dt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(s.stateNode)}catch(h){be(s,i,h)}else try{ze.removeChild(s.stateNode)}catch(h){be(s,i,h)}break;case 18:ze!==null&&(dt?(t=ze,Dm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Xi(t)):Dm(ze,s.stateNode));break;case 4:c=ze,d=dt,ze=s.stateNode.containerInfo,dt=!0,rn(t,i,s),ze=c,dt=d;break;case 0:case 11:case 14:case 15:Nn(2,s,i),Qe||Nn(4,s,i),rn(t,i,s);break;case 1:Qe||(Ot(s,i),c=s.stateNode,typeof c.componentWillUnmount=="function"&&kd(s,i,c)),rn(t,i,s);break;case 21:rn(t,i,s);break;case 22:Qe=(c=Qe)||s.memoizedState!==null,rn(t,i,s),Qe=c;break;default:rn(t,i,s)}}function Hd(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xi(t)}catch(s){be(i,i.return,s)}}}function Bd(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xi(t)}catch(s){be(i,i.return,s)}}function gv(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Vd),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Vd),i;default:throw Error(o(435,t.tag))}}function ts(t,i){var s=gv(t);i.forEach(function(c){if(!s.has(c)){s.add(c);var d=_v.bind(null,t,c);c.then(d,d)}})}function mt(t,i){var s=i.deletions;if(s!==null)for(var c=0;c<s.length;c++){var d=s[c],h=t,T=i,x=T;e:for(;x!==null;){switch(x.tag){case 27:if(Ln(x.type)){ze=x.stateNode,dt=!1;break e}break;case 5:ze=x.stateNode,dt=!1;break e;case 3:case 4:ze=x.stateNode.containerInfo,dt=!0;break e}x=x.return}if(ze===null)throw Error(o(160));zd(h,T,d),ze=null,dt=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Pd(i,t),i=i.sibling}var zt=null;function Pd(t,i){var s=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mt(i,t),pt(t),c&4&&(Nn(3,t,t.return),Vl(3,t),Nn(5,t,t.return));break;case 1:mt(i,t),pt(t),c&512&&(Qe||s===null||Ot(s,s.return)),c&64&&an&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var d=zt;if(mt(i,t),pt(t),c&512&&(Qe||s===null||Ot(s,s.return)),c&4){var h=s!==null?s.memoizedState:null;if(c=t.memoizedState,s===null)if(c===null)if(t.stateNode===null){e:{c=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":h=d.getElementsByTagName("title")[0],(!h||h[cl]||h[et]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(c),d.head.insertBefore(h,d.querySelector("head > title"))),lt(h,c,s),h[et]=t,We(h),c=h;break e;case"link":var T=Pm("link","href",d).get(c+(s.href||""));if(T){for(var x=0;x<T.length;x++)if(h=T[x],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(x,1);break t}}h=d.createElement(c),lt(h,c,s),d.head.appendChild(h);break;case"meta":if(T=Pm("meta","content",d).get(c+(s.content||""))){for(x=0;x<T.length;x++)if(h=T[x],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(x,1);break t}}h=d.createElement(c),lt(h,c,s),d.head.appendChild(h);break;default:throw Error(o(468,c))}h[et]=t,We(h),c=h}t.stateNode=c}else Fm(d,t.type,t.stateNode);else t.stateNode=Bm(d,c,t.memoizedProps);else h!==c?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,c===null?Fm(d,t.type,t.stateNode):Bm(d,c,t.memoizedProps)):c===null&&t.stateNode!==null&&_r(t,t.memoizedProps,s.memoizedProps)}break;case 27:mt(i,t),pt(t),c&512&&(Qe||s===null||Ot(s,s.return)),s!==null&&c&4&&_r(t,t.memoizedProps,s.memoizedProps);break;case 5:if(mt(i,t),pt(t),c&512&&(Qe||s===null||Ot(s,s.return)),t.flags&32){d=t.stateNode;try{Ti(d,"")}catch(ee){be(t,t.return,ee)}}c&4&&t.stateNode!=null&&(d=t.memoizedProps,_r(t,d,s!==null?s.memoizedProps:d)),c&1024&&(Nr=!0);break;case 6:if(mt(i,t),pt(t),c&4){if(t.stateNode===null)throw Error(o(162));c=t.memoizedProps,s=t.stateNode;try{s.nodeValue=c}catch(ee){be(t,t.return,ee)}}break;case 3:if(ys=null,d=zt,zt=hs(i.containerInfo),mt(i,t),zt=d,pt(t),c&4&&s!==null&&s.memoizedState.isDehydrated)try{Xi(i.containerInfo)}catch(ee){be(t,t.return,ee)}Nr&&(Nr=!1,Fd(t));break;case 4:c=zt,zt=hs(t.stateNode.containerInfo),mt(i,t),pt(t),zt=c;break;case 12:mt(i,t),pt(t);break;case 31:mt(i,t),pt(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,ts(t,c)));break;case 13:mt(i,t),pt(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(is=yt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,ts(t,c)));break;case 22:d=t.memoizedState!==null;var _=s!==null&&s.memoizedState!==null,D=an,z=Qe;if(an=D||d,Qe=z||_,mt(i,t),Qe=z,an=D,pt(t),c&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(s===null||_||an||Qe||si(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){_=s=i;try{if(h=_.stateNode,d)T=h.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{x=_.stateNode;var P=_.memoizedProps.style,k=P!=null&&P.hasOwnProperty("display")?P.display:null;x.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(ee){be(_,_.return,ee)}}}else if(i.tag===6){if(s===null){_=i;try{_.stateNode.nodeValue=d?"":_.memoizedProps}catch(ee){be(_,_.return,ee)}}}else if(i.tag===18){if(s===null){_=i;try{var U=_.stateNode;d?km(U,!0):km(_.stateNode,!1)}catch(ee){be(_,_.return,ee)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=t.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,ts(t,s))));break;case 19:mt(i,t),pt(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,ts(t,c)));break;case 30:break;case 21:break;default:mt(i,t),pt(t)}}function pt(t){var i=t.flags;if(i&2){try{for(var s,c=t.return;c!==null;){if(Ud(c)){s=c;break}c=c.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var d=s.stateNode,h=Mr(t);es(t,h,d);break;case 5:var T=s.stateNode;s.flags&32&&(Ti(T,""),s.flags&=-33);var x=Mr(t);es(t,x,T);break;case 3:case 4:var _=s.stateNode.containerInfo,D=Mr(t);Rr(t,D,_);break;default:throw Error(o(161))}}catch(z){be(t,t.return,z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Fd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Fd(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function un(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)qd(t,i.alternate,i),i=i.sibling}function si(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Nn(4,i,i.return),si(i);break;case 1:Ot(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&kd(i,i.return,s),si(i);break;case 27:Ol(i.stateNode);case 26:case 5:Ot(i,i.return),si(i);break;case 22:i.memoizedState===null&&si(i);break;case 30:si(i);break;default:si(i)}t=t.sibling}}function cn(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,d=t,h=i,T=h.flags;switch(h.tag){case 0:case 11:case 15:cn(d,h,s),Vl(4,h);break;case 1:if(cn(d,h,s),c=h,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(D){be(c,c.return,D)}if(c=h,d=c.updateQueue,d!==null){var x=c.stateNode;try{var _=d.shared.hiddenCallbacks;if(_!==null)for(d.shared.hiddenCallbacks=null,d=0;d<_.length;d++)Cf(_[d],x)}catch(D){be(c,c.return,D)}}s&&T&64&&Dd(h),ql(h,h.return);break;case 27:Ld(h);case 26:case 5:cn(d,h,s),s&&c===null&&T&4&&Id(h),ql(h,h.return);break;case 12:cn(d,h,s);break;case 31:cn(d,h,s),s&&T&4&&Hd(d,h);break;case 13:cn(d,h,s),s&&T&4&&Bd(d,h);break;case 22:h.memoizedState===null&&cn(d,h,s),ql(h,h.return);break;case 30:break;default:cn(d,h,s)}i=i.sibling}}function br(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&El(s))}function wr(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&El(t))}function Ht(t,i,s,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Jd(t,i,s,c),i=i.sibling}function Jd(t,i,s,c){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Ht(t,i,s,c),d&2048&&Vl(9,i);break;case 1:Ht(t,i,s,c);break;case 3:Ht(t,i,s,c),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&El(t)));break;case 12:if(d&2048){Ht(t,i,s,c),t=i.stateNode;try{var h=i.memoizedProps,T=h.id,x=h.onPostCommit;typeof x=="function"&&x(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(_){be(i,i.return,_)}}else Ht(t,i,s,c);break;case 31:Ht(t,i,s,c);break;case 13:Ht(t,i,s,c);break;case 23:break;case 22:h=i.stateNode,T=i.alternate,i.memoizedState!==null?h._visibility&2?Ht(t,i,s,c):Gl(t,i):h._visibility&2?Ht(t,i,s,c):(h._visibility|=2,zi(t,i,s,c,(i.subtreeFlags&10256)!==0||!1)),d&2048&&br(T,i);break;case 24:Ht(t,i,s,c),d&2048&&wr(i.alternate,i);break;default:Ht(t,i,s,c)}}function zi(t,i,s,c,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var h=t,T=i,x=s,_=c,D=T.flags;switch(T.tag){case 0:case 11:case 15:zi(h,T,x,_,d),Vl(8,T);break;case 23:break;case 22:var z=T.stateNode;T.memoizedState!==null?z._visibility&2?zi(h,T,x,_,d):Gl(h,T):(z._visibility|=2,zi(h,T,x,_,d)),d&&D&2048&&br(T.alternate,T);break;case 24:zi(h,T,x,_,d),d&&D&2048&&wr(T.alternate,T);break;default:zi(h,T,x,_,d)}i=i.sibling}}function Gl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,c=i,d=c.flags;switch(c.tag){case 22:Gl(s,c),d&2048&&br(c.alternate,c);break;case 24:Gl(s,c),d&2048&&wr(c.alternate,c);break;default:Gl(s,c)}i=i.sibling}}var zl=8192;function Hi(t,i,s){if(t.subtreeFlags&zl)for(t=t.child;t!==null;)Yd(t,i,s),t=t.sibling}function Yd(t,i,s){switch(t.tag){case 26:Hi(t,i,s),t.flags&zl&&t.memoizedState!==null&&n0(s,zt,t.memoizedState,t.memoizedProps);break;case 5:Hi(t,i,s);break;case 3:case 4:var c=zt;zt=hs(t.stateNode.containerInfo),Hi(t,i,s),zt=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=zl,zl=16777216,Hi(t,i,s),zl=c):Hi(t,i,s));break;default:Hi(t,i,s)}}function Od(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Hl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var c=i[s];je=c,Kd(c,t)}Od(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$d(t),t=t.sibling}function $d(t){switch(t.tag){case 0:case 11:case 15:Hl(t),t.flags&2048&&Nn(9,t,t.return);break;case 3:Hl(t);break;case 12:Hl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,ns(t)):Hl(t);break;default:Hl(t)}}function ns(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var c=i[s];je=c,Kd(c,t)}Od(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Nn(8,i,i.return),ns(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,ns(i));break;default:ns(i)}t=t.sibling}}function Kd(t,i){for(;je!==null;){var s=je;switch(s.tag){case 0:case 11:case 15:Nn(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:El(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,je=c;else e:for(s=t;je!==null;){c=je;var d=c.sibling,h=c.return;if(Gd(c),c===s){je=null;break e}if(d!==null){d.return=h,je=d;break e}je=h}}}var yv={getCacheForType:function(t){var i=nt(Oe),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return nt(Oe).controller.signal}},vv=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Le=null,he=null,ye=0,Ne=0,At=null,bn=!1,Bi=!1,Dr=!1,fn=0,Fe=0,wn=0,ai=0,kr=0,_t=0,Pi=0,Bl=null,ht=null,Ir=!1,is=0,Qd=0,ls=1/0,os=null,Dn=null,Ze=0,kn=null,Fi=null,dn=0,Ur=0,Lr=null,Xd=null,Pl=0,Vr=null;function Mt(){return(Ee&2)!==0&&ye!==0?ye&-ye:q.T!==null?Pr():fc()}function Zd(){if(_t===0)if((ye&536870912)===0||Te){var t=mo;mo<<=1,(mo&3932160)===0&&(mo=262144),_t=t}else _t=536870912;return t=xt.current,t!==null&&(t.flags|=32),_t}function gt(t,i,s){(t===Le&&(Ne===2||Ne===9)||t.cancelPendingCommit!==null)&&(Ji(t,0),In(t,ye,_t,!1)),ul(t,s),((Ee&2)===0||t!==Le)&&(t===Le&&((Ee&2)===0&&(ai|=s),Fe===4&&In(t,ye,_t,!1)),$t(t))}function Wd(t,i,s){if((Ee&6)!==0)throw Error(o(327));var c=!s&&(i&127)===0&&(i&t.expiredLanes)===0||rl(t,i),d=c?Sv(t,i):Gr(t,i,!0),h=c;do{if(d===0){Bi&&!c&&In(t,i,0,!1);break}else{if(s=t.current.alternate,h&&!Tv(s)){d=Gr(t,i,!1),h=!1;continue}if(d===2){if(h=i,t.errorRecoveryDisabledLanes&h)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var x=t;d=Bl;var _=x.current.memoizedState.isDehydrated;if(_&&(Ji(x,T).flags|=256),T=Gr(x,T,!1),T!==2){if(Dr&&!_){x.errorRecoveryDisabledLanes|=h,ai|=h,d=4;break e}h=ht,ht=d,h!==null&&(ht===null?ht=h:ht.push.apply(ht,h))}d=T}if(h=!1,d!==2)continue}}if(d===1){Ji(t,0),In(t,i,0,!0);break}e:{switch(c=t,h=d,h){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:In(c,i,_t,!bn);break e;case 2:ht=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(d=is+300-yt(),10<d)){if(In(c,i,_t,!bn),ho(c,0,!0)!==0)break e;dn=i,c.timeoutHandle=bm(jd.bind(null,c,s,ht,os,Ir,i,_t,ai,Pi,bn,h,"Throttled",-0,0),d);break e}jd(c,s,ht,os,Ir,i,_t,ai,Pi,bn,h,null,-0,0)}}break}while(!0);$t(t)}function jd(t,i,s,c,d,h,T,x,_,D,z,P,k,U){if(t.timeoutHandle=-1,P=i.subtreeFlags,P&8192||(P&16785408)===16785408){P={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xt},Yd(i,h,P);var ee=(h&62914560)===h?is-yt():(h&4194048)===h?Qd-yt():0;if(ee=i0(P,ee),ee!==null){dn=h,t.cancelPendingCommit=ee(am.bind(null,t,i,h,s,c,d,T,x,_,z,P,null,k,U)),In(t,h,T,!D);return}}am(t,i,h,s,c,d,T,x,_)}function Tv(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var d=s[c],h=d.getSnapshot;d=d.value;try{if(!Ct(h(),d))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function In(t,i,s,c){i&=~kr,i&=~ai,t.suspendedLanes|=i,t.pingedLanes&=~i,c&&(t.warmLanes|=i),c=t.expirationTimes;for(var d=i;0<d;){var h=31-Tt(d),T=1<<h;c[h]=-1,d&=~T}s!==0&&rc(t,s,i)}function ss(){return(Ee&6)===0?(Fl(0),!1):!0}function qr(){if(he!==null){if(Ne===0)var t=he.return;else t=he,en=Wn=null,ja(t),Ui=null,_l=0,t=he;for(;t!==null;)wd(t.alternate,t),t=t.return;he=null}}function Ji(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,zv(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),dn=0,qr(),Le=t,he=s=Wt(t.current,null),ye=i,Ne=0,At=null,bn=!1,Bi=rl(t,i),Dr=!1,Pi=_t=kr=ai=wn=Fe=0,ht=Bl=null,Ir=!1,(i&8)!==0&&(i|=i&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=i;0<c;){var d=31-Tt(c),h=1<<d;i|=t[d],c&=~h}return fn=i,Ro(),s}function em(t,i){me=null,q.H=Il,i===Ii||i===Lo?(i=gf(),Ne=3):i===Ba?(i=gf(),Ne=4):Ne=i===hr?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,At=i,he===null&&(Fe=1,Qo(t,wt(i,t.current)))}function tm(){var t=xt.current;return t===null?!0:(ye&4194048)===ye?Ut===null:(ye&62914560)===ye||(ye&536870912)!==0?t===Ut:!1}function nm(){var t=q.H;return q.H=Il,t===null?Il:t}function im(){var t=q.A;return q.A=yv,t}function as(){Fe=4,bn||(ye&4194048)!==ye&&xt.current!==null||(Bi=!0),(wn&134217727)===0&&(ai&134217727)===0||Le===null||In(Le,ye,_t,!1)}function Gr(t,i,s){var c=Ee;Ee|=2;var d=nm(),h=im();(Le!==t||ye!==i)&&(os=null,Ji(t,i)),i=!1;var T=Fe;e:do try{if(Ne!==0&&he!==null){var x=he,_=At;switch(Ne){case 8:qr(),T=6;break e;case 3:case 2:case 9:case 6:xt.current===null&&(i=!0);var D=Ne;if(Ne=0,At=null,Yi(t,x,_,D),s&&Bi){T=0;break e}break;default:D=Ne,Ne=0,At=null,Yi(t,x,_,D)}}Cv(),T=Fe;break}catch(z){em(t,z)}while(!0);return i&&t.shellSuspendCounter++,en=Wn=null,Ee=c,q.H=d,q.A=h,he===null&&(Le=null,ye=0,Ro()),T}function Cv(){for(;he!==null;)lm(he)}function Sv(t,i){var s=Ee;Ee|=2;var c=nm(),d=im();Le!==t||ye!==i?(os=null,ls=yt()+500,Ji(t,i)):Bi=rl(t,i);e:do try{if(Ne!==0&&he!==null){i=he;var h=At;t:switch(Ne){case 1:Ne=0,At=null,Yi(t,i,h,1);break;case 2:case 9:if(pf(h)){Ne=0,At=null,om(i);break}i=function(){Ne!==2&&Ne!==9||Le!==t||(Ne=7),$t(t)},h.then(i,i);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:pf(h)?(Ne=0,At=null,om(i)):(Ne=0,At=null,Yi(t,i,h,7));break;case 5:var T=null;switch(he.tag){case 26:T=he.memoizedState;case 5:case 27:var x=he;if(T?Jm(T):x.stateNode.complete){Ne=0,At=null;var _=x.sibling;if(_!==null)he=_;else{var D=x.return;D!==null?(he=D,rs(D)):he=null}break t}}Ne=0,At=null,Yi(t,i,h,5);break;case 6:Ne=0,At=null,Yi(t,i,h,6);break;case 8:qr(),Fe=6;break e;default:throw Error(o(462))}}xv();break}catch(z){em(t,z)}while(!0);return en=Wn=null,q.H=c,q.A=d,Ee=s,he!==null?0:(Le=null,ye=0,Ro(),Fe)}function xv(){for(;he!==null&&!Yg();)lm(he)}function lm(t){var i=Nd(t.alternate,t,fn);t.memoizedProps=t.pendingProps,i===null?rs(t):he=i}function om(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=xd(s,i,i.pendingProps,i.type,void 0,ye);break;case 11:i=xd(s,i,i.pendingProps,i.type.render,i.ref,ye);break;case 5:ja(i);default:wd(s,i),i=he=nf(i,fn),i=Nd(s,i,fn)}t.memoizedProps=t.pendingProps,i===null?rs(t):he=i}function Yi(t,i,s,c){en=Wn=null,ja(i),Ui=null,_l=0;var d=i.return;try{if(cv(t,d,i,s,ye)){Fe=1,Qo(t,wt(s,t.current)),he=null;return}}catch(h){if(d!==null)throw he=d,h;Fe=1,Qo(t,wt(s,t.current)),he=null;return}i.flags&32768?(Te||c===1?t=!0:Bi||(ye&536870912)!==0?t=!1:(bn=t=!0,(c===2||c===9||c===3||c===6)&&(c=xt.current,c!==null&&c.tag===13&&(c.flags|=16384))),sm(i,t)):rs(i)}function rs(t){var i=t;do{if((i.flags&32768)!==0){sm(i,bn);return}t=i.return;var s=mv(i.alternate,i,fn);if(s!==null){he=s;return}if(i=i.sibling,i!==null){he=i;return}he=i=t}while(i!==null);Fe===0&&(Fe=5)}function sm(t,i){do{var s=pv(t.alternate,t);if(s!==null){s.flags&=32767,he=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){he=t;return}he=t=s}while(t!==null);Fe=6,he=null}function am(t,i,s,c,d,h,T,x,_){t.cancelPendingCommit=null;do us();while(Ze!==0);if((Ee&6)!==0)throw Error(o(327));if(i!==null){if(i===t.current)throw Error(o(177));if(h=i.lanes|i.childLanes,h|=Ma,ty(t,s,h,T,x,_),t===Le&&(he=Le=null,ye=0),Fi=i,kn=t,dn=s,Ur=h,Lr=d,Xd=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Mv(co,function(){return dm(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=q.T,q.T=null,d=K.p,K.p=2,T=Ee,Ee|=4;try{hv(t,i,s)}finally{Ee=T,K.p=d,q.T=c}}Ze=1,rm(),um(),cm()}}function rm(){if(Ze===1){Ze=0;var t=kn,i=Fi,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var c=K.p;K.p=2;var d=Ee;Ee|=4;try{Pd(i,t);var h=Xr,T=$c(t.containerInfo),x=h.focusedElem,_=h.selectionRange;if(T!==x&&x&&x.ownerDocument&&Oc(x.ownerDocument.documentElement,x)){if(_!==null&&Sa(x)){var D=_.start,z=_.end;if(z===void 0&&(z=D),"selectionStart"in x)x.selectionStart=D,x.selectionEnd=Math.min(z,x.value.length);else{var P=x.ownerDocument||document,k=P&&P.defaultView||window;if(k.getSelection){var U=k.getSelection(),ee=x.textContent.length,se=Math.min(_.start,ee),Ie=_.end===void 0?se:Math.min(_.end,ee);!U.extend&&se>Ie&&(T=Ie,Ie=se,se=T);var b=Yc(x,se),R=Yc(x,Ie);if(b&&R&&(U.rangeCount!==1||U.anchorNode!==b.node||U.anchorOffset!==b.offset||U.focusNode!==R.node||U.focusOffset!==R.offset)){var w=P.createRange();w.setStart(b.node,b.offset),U.removeAllRanges(),se>Ie?(U.addRange(w),U.extend(R.node,R.offset)):(w.setEnd(R.node,R.offset),U.addRange(w))}}}}for(P=[],U=x;U=U.parentNode;)U.nodeType===1&&P.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<P.length;x++){var B=P[x];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Ss=!!Qr,Xr=Qr=null}finally{Ee=d,K.p=c,q.T=s}}t.current=i,Ze=2}}function um(){if(Ze===2){Ze=0;var t=kn,i=Fi,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var c=K.p;K.p=2;var d=Ee;Ee|=4;try{qd(t,i.alternate,i)}finally{Ee=d,K.p=c,q.T=s}}Ze=3}}function cm(){if(Ze===4||Ze===3){Ze=0,Og();var t=kn,i=Fi,s=dn,c=Xd;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ze=5:(Ze=0,Fi=kn=null,fm(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Dn=null),na(s),i=i.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(al,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=q.T,d=K.p,K.p=2,q.T=null;try{for(var h=t.onRecoverableError,T=0;T<c.length;T++){var x=c[T];h(x.value,{componentStack:x.stack})}}finally{q.T=i,K.p=d}}(dn&3)!==0&&us(),$t(t),d=t.pendingLanes,(s&261930)!==0&&(d&42)!==0?t===Vr?Pl++:(Pl=0,Vr=t):Pl=0,Fl(0)}}function fm(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,El(i)))}function us(){return rm(),um(),cm(),dm()}function dm(){if(Ze!==5)return!1;var t=kn,i=Ur;Ur=0;var s=na(dn),c=q.T,d=K.p;try{K.p=32>s?32:s,q.T=null,s=Lr,Lr=null;var h=kn,T=dn;if(Ze=0,Fi=kn=null,dn=0,(Ee&6)!==0)throw Error(o(331));var x=Ee;if(Ee|=4,$d(h.current),Jd(h,h.current,T,s),Ee=x,Fl(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(al,h)}catch{}return!0}finally{K.p=d,q.T=c,fm(t,i)}}function mm(t,i,s){i=wt(s,i),i=pr(t.stateNode,i,2),t=_n(t,i,2),t!==null&&(ul(t,2),$t(t))}function be(t,i,s){if(t.tag===3)mm(t,t,s);else for(;i!==null;){if(i.tag===3){mm(i,t,s);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Dn===null||!Dn.has(c))){t=wt(s,t),s=pd(2),c=_n(i,s,2),c!==null&&(hd(s,c,i,t),ul(c,2),$t(c));break}}i=i.return}}function zr(t,i,s){var c=t.pingCache;if(c===null){c=t.pingCache=new vv;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(s)||(Dr=!0,d.add(s),t=Ev.bind(null,t,i,s),i.then(t,t))}function Ev(t,i,s){var c=t.pingCache;c!==null&&c.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Le===t&&(ye&s)===s&&(Fe===4||Fe===3&&(ye&62914560)===ye&&300>yt()-is?(Ee&2)===0&&Ji(t,0):kr|=s,Pi===ye&&(Pi=0)),$t(t)}function pm(t,i){i===0&&(i=ac()),t=Qn(t,i),t!==null&&(ul(t,i),$t(t))}function Av(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),pm(t,s)}function _v(t,i){var s=0;switch(t.tag){case 31:case 13:var c=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(i),pm(t,s)}function Mv(t,i){return Ws(t,i)}var cs=null,Oi=null,Hr=!1,fs=!1,Br=!1,Un=0;function $t(t){t!==Oi&&t.next===null&&(Oi===null?cs=Oi=t:Oi=Oi.next=t),fs=!0,Hr||(Hr=!0,Nv())}function Fl(t,i){if(!Br&&fs){Br=!0;do for(var s=!1,c=cs;c!==null;){if(t!==0){var d=c.pendingLanes;if(d===0)var h=0;else{var T=c.suspendedLanes,x=c.pingedLanes;h=(1<<31-Tt(42|t)+1)-1,h&=d&~(T&~x),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,vm(c,h))}else h=ye,h=ho(c,c===Le?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(h&3)===0||rl(c,h)||(s=!0,vm(c,h));c=c.next}while(s);Br=!1}}function Rv(){hm()}function hm(){fs=Hr=!1;var t=0;Un!==0&&Gv()&&(t=Un);for(var i=yt(),s=null,c=cs;c!==null;){var d=c.next,h=gm(c,i);h===0?(c.next=null,s===null?cs=d:s.next=d,d===null&&(Oi=s)):(s=c,(t!==0||(h&3)!==0)&&(fs=!0)),c=d}Ze!==0&&Ze!==5||Fl(t),Un!==0&&(Un=0)}function gm(t,i){for(var s=t.suspendedLanes,c=t.pingedLanes,d=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var T=31-Tt(h),x=1<<T,_=d[T];_===-1?((x&s)===0||(x&c)!==0)&&(d[T]=ey(x,i)):_<=i&&(t.expiredLanes|=x),h&=~x}if(i=Le,s=ye,s=ho(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,s===0||t===i&&(Ne===2||Ne===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&js(c),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||rl(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(c!==null&&js(c),na(s)){case 2:case 8:s=oc;break;case 32:s=co;break;case 268435456:s=sc;break;default:s=co}return c=ym.bind(null,t),s=Ws(s,c),t.callbackPriority=i,t.callbackNode=s,i}return c!==null&&c!==null&&js(c),t.callbackPriority=2,t.callbackNode=null,2}function ym(t,i){if(Ze!==0&&Ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(us()&&t.callbackNode!==s)return null;var c=ye;return c=ho(t,t===Le?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(Wd(t,c,i),gm(t,yt()),t.callbackNode!=null&&t.callbackNode===s?ym.bind(null,t):null)}function vm(t,i){if(us())return null;Wd(t,i,!0)}function Nv(){Hv(function(){(Ee&6)!==0?Ws(lc,Rv):hm()})}function Pr(){if(Un===0){var t=Di;t===0&&(t=fo,fo<<=1,(fo&261888)===0&&(fo=256)),Un=t}return Un}function Tm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:To(""+t)}function Cm(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function bv(t,i,s,c,d){if(i==="submit"&&s&&s.stateNode===d){var h=Tm((d[ct]||null).action),T=c.submitter;T&&(i=(i=T[ct]||null)?Tm(i.formAction):T.getAttribute("formAction"),i!==null&&(h=i,T=null));var x=new Eo("action","action",null,c,d);t.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Un!==0){var _=T?Cm(d,T):new FormData(d);rr(s,{pending:!0,data:_,method:d.method,action:h},null,_)}}else typeof h=="function"&&(x.preventDefault(),_=T?Cm(d,T):new FormData(d),rr(s,{pending:!0,data:_,method:d.method,action:h},h,_))},currentTarget:d}]})}}for(var Fr=0;Fr<_a.length;Fr++){var Jr=_a[Fr],wv=Jr.toLowerCase(),Dv=Jr[0].toUpperCase()+Jr.slice(1);Gt(wv,"on"+Dv)}Gt(Xc,"onAnimationEnd"),Gt(Zc,"onAnimationIteration"),Gt(Wc,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt($y,"onTransitionRun"),Gt(Ky,"onTransitionStart"),Gt(Qy,"onTransitionCancel"),Gt(jc,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function Sm(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var c=t[s],d=c.event;c=c.listeners;e:{var h=void 0;if(i)for(var T=c.length-1;0<=T;T--){var x=c[T],_=x.instance,D=x.currentTarget;if(x=x.listener,_!==h&&d.isPropagationStopped())break e;h=x,d.currentTarget=D;try{h(d)}catch(z){Mo(z)}d.currentTarget=null,h=_}else for(T=0;T<c.length;T++){if(x=c[T],_=x.instance,D=x.currentTarget,x=x.listener,_!==h&&d.isPropagationStopped())break e;h=x,d.currentTarget=D;try{h(d)}catch(z){Mo(z)}d.currentTarget=null,h=_}}}}function ge(t,i){var s=i[ia];s===void 0&&(s=i[ia]=new Set);var c=t+"__bubble";s.has(c)||(xm(i,t,2,!1),s.add(c))}function Yr(t,i,s){var c=0;i&&(c|=4),xm(s,t,c,i)}var ds="_reactListening"+Math.random().toString(36).slice(2);function Or(t){if(!t[ds]){t[ds]=!0,pc.forEach(function(s){s!=="selectionchange"&&(kv.has(s)||Yr(s,!1,t),Yr(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ds]||(i[ds]=!0,Yr("selectionchange",!1,i))}}function xm(t,i,s,c){switch(Zm(i)){case 2:var d=s0;break;case 8:d=a0;break;default:d=au}s=d.bind(null,i,s,t),d=void 0,!da||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?t.addEventListener(i,s,{capture:!0,passive:d}):t.addEventListener(i,s,!0):d!==void 0?t.addEventListener(i,s,{passive:d}):t.addEventListener(i,s,!1)}function $r(t,i,s,c,d){var h=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var x=c.stateNode.containerInfo;if(x===d)break;if(T===4)for(T=c.return;T!==null;){var _=T.tag;if((_===3||_===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;x!==null;){if(T=pi(x),T===null)return;if(_=T.tag,_===5||_===6||_===26||_===27){c=h=T;continue e}x=x.parentNode}}c=c.return}Mc(function(){var D=h,z=ca(s),P=[];e:{var k=ef.get(t);if(k!==void 0){var U=Eo,ee=t;switch(t){case"keypress":if(So(s)===0)break e;case"keydown":case"keyup":U=_y;break;case"focusin":ee="focus",U=ga;break;case"focusout":ee="blur",U=ga;break;case"beforeblur":case"afterblur":U=ga;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=my;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Ny;break;case Xc:case Zc:case Wc:U=gy;break;case jc:U=wy;break;case"scroll":case"scrollend":U=fy;break;case"wheel":U=ky;break;case"copy":case"cut":case"paste":U=vy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Dc;break;case"toggle":case"beforetoggle":U=Uy}var se=(i&4)!==0,Ie=!se&&(t==="scroll"||t==="scrollend"),b=se?k!==null?k+"Capture":null:k;se=[];for(var R=D,w;R!==null;){var B=R;if(w=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||w===null||b===null||(B=dl(R,b),B!=null&&se.push(Yl(R,B,w))),Ie)break;R=R.return}0<se.length&&(k=new U(k,ee,null,s,z),P.push({event:k,listeners:se}))}}if((i&7)===0){e:{if(k=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",k&&s!==ua&&(ee=s.relatedTarget||s.fromElement)&&(pi(ee)||ee[mi]))break e;if((U||k)&&(k=z.window===z?z:(k=z.ownerDocument)?k.defaultView||k.parentWindow:window,U?(ee=s.relatedTarget||s.toElement,U=D,ee=ee?pi(ee):null,ee!==null&&(Ie=f(ee),se=ee.tag,ee!==Ie||se!==5&&se!==27&&se!==6)&&(ee=null)):(U=null,ee=D),U!==ee)){if(se=bc,B="onMouseLeave",b="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(se=Dc,B="onPointerLeave",b="onPointerEnter",R="pointer"),Ie=U==null?k:fl(U),w=ee==null?k:fl(ee),k=new se(B,R+"leave",U,s,z),k.target=Ie,k.relatedTarget=w,B=null,pi(z)===D&&(se=new se(b,R+"enter",ee,s,z),se.target=w,se.relatedTarget=Ie,B=se),Ie=B,U&&ee)t:{for(se=Iv,b=U,R=ee,w=0,B=b;B;B=se(B))w++;B=0;for(var le=R;le;le=se(le))B++;for(;0<w-B;)b=se(b),w--;for(;0<B-w;)R=se(R),B--;for(;w--;){if(b===R||R!==null&&b===R.alternate){se=b;break t}b=se(b),R=se(R)}se=null}else se=null;U!==null&&Em(P,k,U,se,!1),ee!==null&&Ie!==null&&Em(P,Ie,ee,se,!0)}}e:{if(k=D?fl(D):window,U=k.nodeName&&k.nodeName.toLowerCase(),U==="select"||U==="input"&&k.type==="file")var Ce=zc;else if(qc(k))if(Hc)Ce=Jy;else{Ce=Py;var ne=By}else U=k.nodeName,!U||U.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?D&&ra(D.elementType)&&(Ce=zc):Ce=Fy;if(Ce&&(Ce=Ce(t,D))){Gc(P,Ce,s,z);break e}ne&&ne(t,k,D),t==="focusout"&&D&&k.type==="number"&&D.memoizedProps.value!=null&&aa(k,"number",k.value)}switch(ne=D?fl(D):window,t){case"focusin":(qc(ne)||ne.contentEditable==="true")&&(Ei=ne,xa=D,Cl=null);break;case"focusout":Cl=xa=Ei=null;break;case"mousedown":Ea=!0;break;case"contextmenu":case"mouseup":case"dragend":Ea=!1,Kc(P,s,z);break;case"selectionchange":if(Oy)break;case"keydown":case"keyup":Kc(P,s,z)}var pe;if(va)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else xi?Lc(t,s)&&(ve="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ve="onCompositionStart");ve&&(kc&&s.locale!=="ko"&&(xi||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&xi&&(pe=Rc()):(vn=z,ma="value"in vn?vn.value:vn.textContent,xi=!0)),ne=ms(D,ve),0<ne.length&&(ve=new wc(ve,t,null,s,z),P.push({event:ve,listeners:ne}),pe?ve.data=pe:(pe=Vc(s),pe!==null&&(ve.data=pe)))),(pe=Vy?qy(t,s):Gy(t,s))&&(ve=ms(D,"onBeforeInput"),0<ve.length&&(ne=new wc("onBeforeInput","beforeinput",null,s,z),P.push({event:ne,listeners:ve}),ne.data=pe)),bv(P,t,D,s,z)}Sm(P,i)})}function Yl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function ms(t,i){for(var s=i+"Capture",c=[];t!==null;){var d=t,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=dl(t,s),d!=null&&c.unshift(Yl(t,d,h)),d=dl(t,i),d!=null&&c.push(Yl(t,d,h))),t.tag===3)return c;t=t.return}return[]}function Iv(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Em(t,i,s,c,d){for(var h=i._reactName,T=[];s!==null&&s!==c;){var x=s,_=x.alternate,D=x.stateNode;if(x=x.tag,_!==null&&_===c)break;x!==5&&x!==26&&x!==27||D===null||(_=D,d?(D=dl(s,h),D!=null&&T.unshift(Yl(s,D,_))):d||(D=dl(s,h),D!=null&&T.push(Yl(s,D,_)))),s=s.return}T.length!==0&&t.push({event:i,listeners:T})}var Uv=/\r\n?/g,Lv=/\u0000|\uFFFD/g;function Am(t){return(typeof t=="string"?t:""+t).replace(Uv,`
`).replace(Lv,"")}function _m(t,i){return i=Am(i),Am(t)===i}function ke(t,i,s,c,d,h){switch(s){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Ti(t,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Ti(t,""+c);break;case"className":yo(t,"class",c);break;case"tabIndex":yo(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":yo(t,s,c);break;case"style":Ac(t,c,h);break;case"data":if(i!=="object"){yo(t,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(s);break}c=To(""+c),t.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(i!=="input"&&ke(t,i,"name",d.name,d,null),ke(t,i,"formEncType",d.formEncType,d,null),ke(t,i,"formMethod",d.formMethod,d,null),ke(t,i,"formTarget",d.formTarget,d,null)):(ke(t,i,"encType",d.encType,d,null),ke(t,i,"method",d.method,d,null),ke(t,i,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(s);break}c=To(""+c),t.setAttribute(s,c);break;case"onClick":c!=null&&(t.onclick=Xt);break;case"onScroll":c!=null&&ge("scroll",t);break;case"onScrollEnd":c!=null&&ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(s=c.__html,s!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=s}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}s=To(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(s,""+c):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":c===!0?t.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(s,c):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(s,c):t.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(s):t.setAttribute(s,c);break;case"popover":ge("beforetoggle",t),ge("toggle",t),go(t,"popover",c);break;case"xlinkActuate":Qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Qt(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Qt(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Qt(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Qt(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":go(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=uy.get(s)||s,go(t,s,c))}}function Kr(t,i,s,c,d,h){switch(s){case"style":Ac(t,c,h);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(s=c.__html,s!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=s}}break;case"children":typeof c=="string"?Ti(t,c):(typeof c=="number"||typeof c=="bigint")&&Ti(t,""+c);break;case"onScroll":c!=null&&ge("scroll",t);break;case"onScrollEnd":c!=null&&ge("scrollend",t);break;case"onClick":c!=null&&(t.onclick=Xt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hc.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),i=s.slice(2,d?s.length-7:void 0),h=t[ct]||null,h=h!=null?h[s]:null,typeof h=="function"&&t.removeEventListener(i,h,d),typeof c=="function")){typeof h!="function"&&h!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,c,d);break e}s in t?t[s]=c:c===!0?t.setAttribute(s,""):go(t,s,c)}}}function lt(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",t),ge("load",t);var c=!1,d=!1,h;for(h in s)if(s.hasOwnProperty(h)){var T=s[h];if(T!=null)switch(h){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:ke(t,i,h,T,s,null)}}d&&ke(t,i,"srcSet",s.srcSet,s,null),c&&ke(t,i,"src",s.src,s,null);return;case"input":ge("invalid",t);var x=h=T=d=null,_=null,D=null;for(c in s)if(s.hasOwnProperty(c)){var z=s[c];if(z!=null)switch(c){case"name":d=z;break;case"type":T=z;break;case"checked":_=z;break;case"defaultChecked":D=z;break;case"value":h=z;break;case"defaultValue":x=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(o(137,i));break;default:ke(t,i,c,z,s,null)}}Cc(t,h,x,_,D,T,d,!1);return;case"select":ge("invalid",t),c=T=h=null;for(d in s)if(s.hasOwnProperty(d)&&(x=s[d],x!=null))switch(d){case"value":h=x;break;case"defaultValue":T=x;break;case"multiple":c=x;default:ke(t,i,d,x,s,null)}i=h,s=T,t.multiple=!!c,i!=null?vi(t,!!c,i,!1):s!=null&&vi(t,!!c,s,!0);return;case"textarea":ge("invalid",t),h=d=c=null;for(T in s)if(s.hasOwnProperty(T)&&(x=s[T],x!=null))switch(T){case"value":c=x;break;case"defaultValue":d=x;break;case"children":h=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(o(91));break;default:ke(t,i,T,x,s,null)}xc(t,c,d,h);return;case"option":for(_ in s)if(s.hasOwnProperty(_)&&(c=s[_],c!=null))switch(_){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ke(t,i,_,c,s,null)}return;case"dialog":ge("beforetoggle",t),ge("toggle",t),ge("cancel",t),ge("close",t);break;case"iframe":case"object":ge("load",t);break;case"video":case"audio":for(c=0;c<Jl.length;c++)ge(Jl[c],t);break;case"image":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"embed":case"source":case"link":ge("error",t),ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in s)if(s.hasOwnProperty(D)&&(c=s[D],c!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:ke(t,i,D,c,s,null)}return;default:if(ra(i)){for(z in s)s.hasOwnProperty(z)&&(c=s[z],c!==void 0&&Kr(t,i,z,c,s,void 0));return}}for(x in s)s.hasOwnProperty(x)&&(c=s[x],c!=null&&ke(t,i,x,c,s,null))}function Vv(t,i,s,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,T=null,x=null,_=null,D=null,z=null;for(U in s){var P=s[U];if(s.hasOwnProperty(U)&&P!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":_=P;default:c.hasOwnProperty(U)||ke(t,i,U,null,c,P)}}for(var k in c){var U=c[k];if(P=s[k],c.hasOwnProperty(k)&&(U!=null||P!=null))switch(k){case"type":h=U;break;case"name":d=U;break;case"checked":D=U;break;case"defaultChecked":z=U;break;case"value":T=U;break;case"defaultValue":x=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(o(137,i));break;default:U!==P&&ke(t,i,k,U,c,P)}}sa(t,T,x,_,D,z,h,d);return;case"select":U=T=x=k=null;for(h in s)if(_=s[h],s.hasOwnProperty(h)&&_!=null)switch(h){case"value":break;case"multiple":U=_;default:c.hasOwnProperty(h)||ke(t,i,h,null,c,_)}for(d in c)if(h=c[d],_=s[d],c.hasOwnProperty(d)&&(h!=null||_!=null))switch(d){case"value":k=h;break;case"defaultValue":x=h;break;case"multiple":T=h;default:h!==_&&ke(t,i,d,h,c,_)}i=x,s=T,c=U,k!=null?vi(t,!!s,k,!1):!!c!=!!s&&(i!=null?vi(t,!!s,i,!0):vi(t,!!s,s?[]:"",!1));return;case"textarea":U=k=null;for(x in s)if(d=s[x],s.hasOwnProperty(x)&&d!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:ke(t,i,x,null,c,d)}for(T in c)if(d=c[T],h=s[T],c.hasOwnProperty(T)&&(d!=null||h!=null))switch(T){case"value":k=d;break;case"defaultValue":U=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:d!==h&&ke(t,i,T,d,c,h)}Sc(t,k,U);return;case"option":for(var ee in s)if(k=s[ee],s.hasOwnProperty(ee)&&k!=null&&!c.hasOwnProperty(ee))switch(ee){case"selected":t.selected=!1;break;default:ke(t,i,ee,null,c,k)}for(_ in c)if(k=c[_],U=s[_],c.hasOwnProperty(_)&&k!==U&&(k!=null||U!=null))switch(_){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:ke(t,i,_,k,c,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in s)k=s[se],s.hasOwnProperty(se)&&k!=null&&!c.hasOwnProperty(se)&&ke(t,i,se,null,c,k);for(D in c)if(k=c[D],U=s[D],c.hasOwnProperty(D)&&k!==U&&(k!=null||U!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(o(137,i));break;default:ke(t,i,D,k,c,U)}return;default:if(ra(i)){for(var Ie in s)k=s[Ie],s.hasOwnProperty(Ie)&&k!==void 0&&!c.hasOwnProperty(Ie)&&Kr(t,i,Ie,void 0,c,k);for(z in c)k=c[z],U=s[z],!c.hasOwnProperty(z)||k===U||k===void 0&&U===void 0||Kr(t,i,z,k,c,U);return}}for(var b in s)k=s[b],s.hasOwnProperty(b)&&k!=null&&!c.hasOwnProperty(b)&&ke(t,i,b,null,c,k);for(P in c)k=c[P],U=s[P],!c.hasOwnProperty(P)||k===U||k==null&&U==null||ke(t,i,P,k,c,U)}function Mm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qv(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),c=0;c<s.length;c++){var d=s[c],h=d.transferSize,T=d.initiatorType,x=d.duration;if(h&&x&&Mm(T)){for(T=0,x=d.responseEnd,c+=1;c<s.length;c++){var _=s[c],D=_.startTime;if(D>x)break;var z=_.transferSize,P=_.initiatorType;z&&Mm(P)&&(_=_.responseEnd,T+=z*(_<x?1:(x-D)/(_-D)))}if(--c,i+=8*(h+T)/(d.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Qr=null,Xr=null;function ps(t){return t.nodeType===9?t:t.ownerDocument}function Rm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nm(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Zr(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wr=null;function Gv(){var t=window.event;return t&&t.type==="popstate"?t===Wr?!1:(Wr=t,!0):(Wr=null,!1)}var bm=typeof setTimeout=="function"?setTimeout:void 0,zv=typeof clearTimeout=="function"?clearTimeout:void 0,wm=typeof Promise=="function"?Promise:void 0,Hv=typeof queueMicrotask=="function"?queueMicrotask:typeof wm<"u"?function(t){return wm.resolve(null).then(t).catch(Bv)}:bm;function Bv(t){setTimeout(function(){throw t})}function Ln(t){return t==="head"}function Dm(t,i){var s=i,c=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"||s==="/&"){if(c===0){t.removeChild(d),Xi(i);return}c--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")c++;else if(s==="html")Ol(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Ol(s);for(var h=s.firstChild;h;){var T=h.nextSibling,x=h.nodeName;h[cl]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&h.rel.toLowerCase()==="stylesheet"||s.removeChild(h),h=T}}else s==="body"&&Ol(t.ownerDocument.body);s=d}while(s);Xi(i)}function km(t,i){var s=t;t=0;do{var c=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=c}while(s)}function jr(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":jr(s),la(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Pv(t,i,s,c){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[cl])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Lt(t.nextSibling),t===null)break}return null}function Fv(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Lt(t.nextSibling),t===null))return null;return t}function Im(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Lt(t.nextSibling),t===null))return null;return t}function eu(t){return t.data==="$?"||t.data==="$~"}function tu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Jv(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var c=function(){i(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Lt(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var nu=null;function Um(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return Lt(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function Lm(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function Vm(t,i,s){switch(i=ps(s),t){case"html":if(t=i.documentElement,!t)throw Error(o(452));return t;case"head":if(t=i.head,!t)throw Error(o(453));return t;case"body":if(t=i.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Ol(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);la(t)}var Vt=new Map,qm=new Set;function hs(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var mn=K.d;K.d={f:Yv,r:Ov,D:$v,C:Kv,L:Qv,m:Xv,X:Wv,S:Zv,M:jv};function Yv(){var t=mn.f(),i=ss();return t||i}function Ov(t){var i=hi(t);i!==null&&i.tag===5&&i.type==="form"?ed(i):mn.r(t)}var $i=typeof document>"u"?null:document;function Gm(t,i,s){var c=$i;if(c&&typeof i=="string"&&i){var d=Nt(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),qm.has(d)||(qm.add(d),t={rel:t,crossOrigin:s,href:i},c.querySelector(d)===null&&(i=c.createElement("link"),lt(i,"link",t),We(i),c.head.appendChild(i)))}}function $v(t){mn.D(t),Gm("dns-prefetch",t,null)}function Kv(t,i){mn.C(t,i),Gm("preconnect",t,i)}function Qv(t,i,s){mn.L(t,i,s);var c=$i;if(c&&t&&i){var d='link[rel="preload"][as="'+Nt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+Nt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+Nt(s.imageSizes)+'"]')):d+='[href="'+Nt(t)+'"]';var h=d;switch(i){case"style":h=Ki(t);break;case"script":h=Qi(t)}Vt.has(h)||(t=C({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Vt.set(h,t),c.querySelector(d)!==null||i==="style"&&c.querySelector($l(h))||i==="script"&&c.querySelector(Kl(h))||(i=c.createElement("link"),lt(i,"link",t),We(i),c.head.appendChild(i)))}}function Xv(t,i){mn.m(t,i);var s=$i;if(s&&t){var c=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Nt(c)+'"][href="'+Nt(t)+'"]',h=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Qi(t)}if(!Vt.has(h)&&(t=C({rel:"modulepreload",href:t},i),Vt.set(h,t),s.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Kl(h)))return}c=s.createElement("link"),lt(c,"link",t),We(c),s.head.appendChild(c)}}}function Zv(t,i,s){mn.S(t,i,s);var c=$i;if(c&&t){var d=gi(c).hoistableStyles,h=Ki(t);i=i||"default";var T=d.get(h);if(!T){var x={loading:0,preload:null};if(T=c.querySelector($l(h)))x.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Vt.get(h))&&iu(t,s);var _=T=c.createElement("link");We(_),lt(_,"link",t),_._p=new Promise(function(D,z){_.onload=D,_.onerror=z}),_.addEventListener("load",function(){x.loading|=1}),_.addEventListener("error",function(){x.loading|=2}),x.loading|=4,gs(T,i,c)}T={type:"stylesheet",instance:T,count:1,state:x},d.set(h,T)}}}function Wv(t,i){mn.X(t,i);var s=$i;if(s&&t){var c=gi(s).hoistableScripts,d=Qi(t),h=c.get(d);h||(h=s.querySelector(Kl(d)),h||(t=C({src:t,async:!0},i),(i=Vt.get(d))&&lu(t,i),h=s.createElement("script"),We(h),lt(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(d,h))}}function jv(t,i){mn.M(t,i);var s=$i;if(s&&t){var c=gi(s).hoistableScripts,d=Qi(t),h=c.get(d);h||(h=s.querySelector(Kl(d)),h||(t=C({src:t,async:!0,type:"module"},i),(i=Vt.get(d))&&lu(t,i),h=s.createElement("script"),We(h),lt(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(d,h))}}function zm(t,i,s,c){var d=(d=ce.current)?hs(d):null;if(!d)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Ki(s.href),s=gi(d).hoistableStyles,c=s.get(i),c||(c={type:"style",instance:null,count:0,state:null},s.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ki(s.href);var h=gi(d).hoistableStyles,T=h.get(t);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,T),(h=d.querySelector($l(t)))&&!h._p&&(T.instance=h,T.state.loading=5),Vt.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Vt.set(t,s),h||e0(d,t,s,T.state))),i&&c===null)throw Error(o(528,""));return T}if(i&&c!==null)throw Error(o(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Qi(s),s=gi(d).hoistableScripts,c=s.get(i),c||(c={type:"script",instance:null,count:0,state:null},s.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function Ki(t){return'href="'+Nt(t)+'"'}function $l(t){return'link[rel="stylesheet"]['+t+"]"}function Hm(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function e0(t,i,s,c){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=t.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),lt(i,"link",s),We(i),t.head.appendChild(i))}function Qi(t){return'[src="'+Nt(t)+'"]'}function Kl(t){return"script[async]"+t}function Bm(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var c=t.querySelector('style[data-href~="'+Nt(s.href)+'"]');if(c)return i.instance=c,We(c),c;var d=C({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),We(c),lt(c,"style",d),gs(c,s.precedence,t),i.instance=c;case"stylesheet":d=Ki(s.href);var h=t.querySelector($l(d));if(h)return i.state.loading|=4,i.instance=h,We(h),h;c=Hm(s),(d=Vt.get(d))&&iu(c,d),h=(t.ownerDocument||t).createElement("link"),We(h);var T=h;return T._p=new Promise(function(x,_){T.onload=x,T.onerror=_}),lt(h,"link",c),i.state.loading|=4,gs(h,s.precedence,t),i.instance=h;case"script":return h=Qi(s.src),(d=t.querySelector(Kl(h)))?(i.instance=d,We(d),d):(c=s,(d=Vt.get(h))&&(c=C({},s),lu(c,d)),t=t.ownerDocument||t,d=t.createElement("script"),We(d),lt(d,"link",c),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,gs(c,s.precedence,t));return i.instance}function gs(t,i,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,h=d,T=0;T<c.length;T++){var x=c[T];if(x.dataset.precedence===i)h=x;else if(h!==d)break}h?h.parentNode.insertBefore(t,h.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function iu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function lu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ys=null;function Pm(t,i,s){if(ys===null){var c=new Map,d=ys=new Map;d.set(s,c)}else d=ys,c=d.get(s),c||(c=new Map,d.set(s,c));if(c.has(t))return c;for(c.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var h=s[d];if(!(h[cl]||h[et]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var T=h.getAttribute(i)||"";T=t+T;var x=c.get(T);x?x.push(h):c.set(T,[h])}}return c}function Fm(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function t0(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Jm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function n0(t,i,s,c){if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Ki(c.href),h=i.querySelector($l(d));if(h){i=h._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=vs.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=h,We(h);return}h=i.ownerDocument||i,c=Hm(c),(d=Vt.get(d))&&iu(c,d),h=h.createElement("link"),We(h);var T=h;T._p=new Promise(function(x,_){T.onload=x,T.onerror=_}),lt(h,"link",c),s.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=vs.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var ou=0;function i0(t,i){return t.stylesheets&&t.count===0&&Cs(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var c=setTimeout(function(){if(t.stylesheets&&Cs(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+i);0<t.imgBytes&&ou===0&&(ou=62500*qv());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Cs(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>ou?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function vs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cs(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ts=null;function Cs(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ts=new Map,i.forEach(l0,t),Ts=null,vs.call(t))}function l0(t,i){if(!(i.state.loading&4)){var s=Ts.get(t);if(s)var c=s.get(null);else{s=new Map,Ts.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var T=d[h];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),c=T)}c&&s.set(null,c)}d=i.instance,T=d.getAttribute("data-precedence"),h=s.get(T)||c,h===c&&s.set(null,d),s.set(T,d),this.count++,c=vs.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),h?h.parentNode.insertBefore(d,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Ql={$$typeof:F,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function o0(t,i,s,c,d,h,T,x,_){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ea(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ea(0),this.hiddenUpdates=ea(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Ym(t,i,s,c,d,h,T,x,_,D,z,P){return t=new o0(t,i,s,T,_,D,z,P,x),i=1,h===!0&&(i|=24),h=St(3,null,null,i),t.current=h,h.stateNode=t,i=Ga(),i.refCount++,t.pooledCache=i,i.refCount++,h.memoizedState={element:c,isDehydrated:s,cache:i},Pa(h),t}function Om(t){return t?(t=Mi,t):Mi}function $m(t,i,s,c,d,h){d=Om(d),c.context===null?c.context=d:c.pendingContext=d,c=An(i),c.payload={element:s},h=h===void 0?null:h,h!==null&&(c.callback=h),s=_n(t,c,i),s!==null&&(gt(s,t,i),Rl(s,t,i))}function Km(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function su(t,i){Km(t,i),(t=t.alternate)&&Km(t,i)}function Qm(t){if(t.tag===13||t.tag===31){var i=Qn(t,67108864);i!==null&&gt(i,t,67108864),su(t,67108864)}}function Xm(t){if(t.tag===13||t.tag===31){var i=Mt();i=ta(i);var s=Qn(t,i);s!==null&&gt(s,t,i),su(t,i)}}var Ss=!0;function s0(t,i,s,c){var d=q.T;q.T=null;var h=K.p;try{K.p=2,au(t,i,s,c)}finally{K.p=h,q.T=d}}function a0(t,i,s,c){var d=q.T;q.T=null;var h=K.p;try{K.p=8,au(t,i,s,c)}finally{K.p=h,q.T=d}}function au(t,i,s,c){if(Ss){var d=ru(c);if(d===null)$r(t,i,c,xs,s),Wm(t,c);else if(u0(d,t,i,s,c))c.stopPropagation();else if(Wm(t,c),i&4&&-1<r0.indexOf(t)){for(;d!==null;){var h=hi(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var T=Jn(h.pendingLanes);if(T!==0){var x=h;for(x.pendingLanes|=2,x.entangledLanes|=2;T;){var _=1<<31-Tt(T);x.entanglements[1]|=_,T&=~_}$t(h),(Ee&6)===0&&(ls=yt()+500,Fl(0))}}break;case 31:case 13:x=Qn(h,2),x!==null&&gt(x,h,2),ss(),su(h,2)}if(h=ru(c),h===null&&$r(t,i,c,xs,s),h===d)break;d=h}d!==null&&c.stopPropagation()}else $r(t,i,c,null,s)}}function ru(t){return t=ca(t),uu(t)}var xs=null;function uu(t){if(xs=null,t=pi(t),t!==null){var i=f(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=m(i),t!==null)return t;t=null}else if(s===31){if(t=g(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return xs=t,null}function Zm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($g()){case lc:return 2;case oc:return 8;case co:case Kg:return 32;case sc:return 268435456;default:return 32}default:return 32}}var cu=!1,Vn=null,qn=null,Gn=null,Xl=new Map,Zl=new Map,zn=[],r0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wm(t,i){switch(t){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":Xl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(i.pointerId)}}function Wl(t,i,s,c,d,h){return t===null||t.nativeEvent!==h?(t={blockedOn:i,domEventName:s,eventSystemFlags:c,nativeEvent:h,targetContainers:[d]},i!==null&&(i=hi(i),i!==null&&Qm(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function u0(t,i,s,c,d){switch(i){case"focusin":return Vn=Wl(Vn,t,i,s,c,d),!0;case"dragenter":return qn=Wl(qn,t,i,s,c,d),!0;case"mouseover":return Gn=Wl(Gn,t,i,s,c,d),!0;case"pointerover":var h=d.pointerId;return Xl.set(h,Wl(Xl.get(h)||null,t,i,s,c,d)),!0;case"gotpointercapture":return h=d.pointerId,Zl.set(h,Wl(Zl.get(h)||null,t,i,s,c,d)),!0}return!1}function jm(t){var i=pi(t.target);if(i!==null){var s=f(i);if(s!==null){if(i=s.tag,i===13){if(i=m(s),i!==null){t.blockedOn=i,dc(t.priority,function(){Xm(s)});return}}else if(i===31){if(i=g(s),i!==null){t.blockedOn=i,dc(t.priority,function(){Xm(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Es(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=ru(t.nativeEvent);if(s===null){s=t.nativeEvent;var c=new s.constructor(s.type,s);ua=c,s.target.dispatchEvent(c),ua=null}else return i=hi(s),i!==null&&Qm(i),t.blockedOn=s,!1;i.shift()}return!0}function ep(t,i,s){Es(t)&&s.delete(i)}function c0(){cu=!1,Vn!==null&&Es(Vn)&&(Vn=null),qn!==null&&Es(qn)&&(qn=null),Gn!==null&&Es(Gn)&&(Gn=null),Xl.forEach(ep),Zl.forEach(ep)}function As(t,i){t.blockedOn===i&&(t.blockedOn=null,cu||(cu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,c0)))}var _s=null;function tp(t){_s!==t&&(_s=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){_s===t&&(_s=null);for(var i=0;i<t.length;i+=3){var s=t[i],c=t[i+1],d=t[i+2];if(typeof c!="function"){if(uu(c||s)===null)continue;break}var h=hi(s);h!==null&&(t.splice(i,3),i-=3,rr(h,{pending:!0,data:d,method:s.method,action:c},c,d))}}))}function Xi(t){function i(_){return As(_,t)}Vn!==null&&As(Vn,t),qn!==null&&As(qn,t),Gn!==null&&As(Gn,t),Xl.forEach(i),Zl.forEach(i);for(var s=0;s<zn.length;s++){var c=zn[s];c.blockedOn===t&&(c.blockedOn=null)}for(;0<zn.length&&(s=zn[0],s.blockedOn===null);)jm(s),s.blockedOn===null&&zn.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var d=s[c],h=s[c+1],T=d[ct]||null;if(typeof h=="function")T||tp(s);else if(T){var x=null;if(h&&h.hasAttribute("formAction")){if(d=h,T=h[ct]||null)x=T.formAction;else if(uu(d)!==null)continue}else x=T.action;typeof x=="function"?s[c+1]=x:(s.splice(c,3),c-=3),tp(s)}}}function np(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),c||setTimeout(s,20)}function s(){if(!c&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function fu(t){this._internalRoot=t}Ms.prototype.render=fu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(o(409));var s=i.current,c=Mt();$m(s,c,t,i,null,null)},Ms.prototype.unmount=fu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;$m(t.current,2,null,t,null,null),ss(),i[mi]=null}};function Ms(t){this._internalRoot=t}Ms.prototype.unstable_scheduleHydration=function(t){if(t){var i=fc();t={blockedOn:null,target:t,priority:i};for(var s=0;s<zn.length&&i!==0&&i<zn[s].priority;s++);zn.splice(s,0,t),s===0&&jm(t)}};var ip=e.version;if(ip!=="19.2.0")throw Error(o(527,ip,"19.2.0"));K.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=p(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var f0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rs.isDisabled&&Rs.supportsFiber)try{al=Rs.inject(f0),vt=Rs}catch{}}return eo.createRoot=function(t,i){if(!u(t))throw Error(o(299));var s=!1,c="",d=cd,h=fd,T=dd;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=Ym(t,1,!1,null,null,s,c,null,d,h,T,np),t[mi]=i.current,Or(t),new fu(i)},eo.hydrateRoot=function(t,i,s){if(!u(t))throw Error(o(299));var c=!1,d="",h=cd,T=fd,x=dd,_=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.formState!==void 0&&(_=s.formState)),i=Ym(t,1,!0,i,s??null,c,d,_,h,T,x,np),i.context=Om(null),s=i.current,c=Mt(),c=ta(c),d=An(c),d.callback=null,_n(s,d,c),s=c,i.current.lanes=s,ul(i,s),$t(i),t[mi]=i.current,Or(t),new Ms(i)},eo.version="19.2.0",eo}var mp;function E0(){if(mp)return pu.exports;mp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pu.exports=x0(),pu.exports}var A0=E0();const _0=$h(A0),M0=new Set(["CONTENTS","TABLE OF CONTENTS","COVER","TITLE","AUTHOR","COPYRIGHT","DEDICATION","PUBLISHING HISTORY","ACKNOWLEDGMENTS","EPIGRAPH"]);function R0(n){if(!n)return"Untitled Book";const e=n.split(`
`);for(const l of e){const o=l.trim();if(o.length>0)return o.substring(0,100)}return"Untitled Book"}function N0(n){const e=[];if(!n)return e;const o=(`



`+n).split(`
`);let u=null;for(let f=0;f<o.length;f++){const m=o[f],g=m.trim(),y=g.length>0&&g.length<50&&g===g.toUpperCase()&&/[A-Z]/.test(g)&&!/^[0-9\s.,!?-]+$/.test(g)&&!M0.has(g),p=f>=4&&o[f-1].trim()===""&&o[f-2].trim()===""&&o[f-3].trim()===""&&o[f-4].trim()==="";y&&p?(u&&e.push({...u,content:u.content.trim()}),u={title:g,content:""}):u&&(u.content+=m+`
`)}return u&&u.content.trim()&&e.push({...u,content:u.content.trim()}),e}function pp(n){const e=new Set(["P","DIV","H1","H2","H3","H4","H5","H6","LI","BLOCKQUOTE","SECTION","ARTICLE"]),l=[];function o(g){if(g.nodeType===Node.TEXT_NODE){const p=(g.textContent||"").replace(/\s+/g," ");p.trim().length>0&&l.push(p)}else if(g.nodeType===Node.ELEMENT_NODE){const y=g,p=y.tagName;if(p==="BR"){l.push(`
`);return}for(let v=0;v<y.childNodes.length;v++)o(y.childNodes[v]);e.has(p)&&l.push(`

`)}}o(n);let u=l.join("");u=u.replace(/ +/g," ");const f=u.split(`
`).map(g=>g.trim()),m=[];for(let g=0;g<f.length;g++){const y=f[g];y.length>0?m.push(y):m.length>0&&g<f.length-1&&f[g+1].length>0&&m[m.length-1]!==""&&m.push("")}return u=m.join(`
`),u=u.replace(/\n{3,}/g,`

`),u.trim()}async function b0(n){var l,o,u;const e=[];try{const f=ePub(n);await f.ready;const m=((o=(l=f.packaging)==null?void 0:l.metadata)==null?void 0:o.title)||"Untitled Book";console.log("EPUB loaded successfully"),console.log("Book title:",m),console.log("Spine items:",f.spine.items.length),console.log("TOC items:",f.navigation.toc.length);const g=f.navigation.toc;for(const y of f.spine.items)if(y.href)try{const p=await f.load(y.href);let v;typeof p=="string"?v=new DOMParser().parseFromString(p,"text/html"):p instanceof Document?v=p:v=p.documentElement?p:new DOMParser().parseFromString(String(p),"text/html");const C=pp(v.body);if(console.log(`Section ${y.href}: ${C.length} chars, preview: "${C.substring(0,100)}"`),C.length>50){const S=g.find(N=>f.path.resolve(N.href)===f.path.resolve(y.href)),A=((u=S==null?void 0:S.label)==null?void 0:u.trim().replace(/\s+/g," "))||`Chapter ${e.length+1}`;e.push({title:A,content:C})}}catch(p){console.warn(`Failed to load section ${y.href}:`,p)}if(e.length===0&&g.length>0){console.warn("Could not parse chapters from EPUB spine, trying TOC directly.");for(const y of g)if(y.href)try{const p=await f.load(y.href);let v;typeof p=="string"?v=new DOMParser().parseFromString(p,"text/html"):p instanceof Document?v=p:v=p.documentElement?p:new DOMParser().parseFromString(String(p),"text/html");const C=pp(v.body);console.log(`TOC ${y.href}: ${C.length} chars`),C.length>50&&e.push({title:y.label.trim().replace(/\s+/g," "),content:C})}catch(p){console.warn(`Failed to load TOC section ${y.href}:`,p)}}return console.log(`Successfully parsed ${e.length} chapters`),{title:m,chapters:e}}catch(f){throw console.error("EPUB parsing error:",f),new Error(`Failed to parse EPUB: ${f instanceof Error?f.message:"Unknown error"}`)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let w0,D0;function k0(){return{geminiUrl:w0,vertexUrl:D0}}function I0(n,e,l,o){var u,f;if(!(n!=null&&n.baseUrl)){const m=k0();return e?(u=m.vertexUrl)!==null&&u!==void 0?u:l:(f=m.geminiUrl)!==null&&f!==void 0?f:o}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ci{}function te(n,e){const l=/\{([^}]+)\}/g;return n.replace(l,(o,u)=>{if(Object.prototype.hasOwnProperty.call(e,u)){const f=e[u];return f!=null?String(f):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function r(n,e,l){for(let f=0;f<e.length-1;f++){const m=e[f];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in n))if(Array.isArray(l))n[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(n[g])){const y=n[g];if(Array.isArray(l))for(let p=0;p<y.length;p++){const v=y[p];r(v,e.slice(f+1),l[p])}else for(const p of y)r(p,e.slice(f+1),l)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in n||(n[g]=[{}]);const y=n[g];r(y[0],e.slice(f+1),l);return}(!n[m]||typeof n[m]!="object")&&(n[m]={}),n=n[m]}const o=e[e.length-1],u=n[o];if(u!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===u)return;if(typeof u=="object"&&typeof l=="object"&&u!==null&&l!==null)Object.assign(u,l);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(n,l):n[o]=l}function a(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let l=0;l<e.length;l++){if(typeof n!="object"||n===null)return;const o=e[l];if(o.endsWith("[]")){const u=o.slice(0,-2);if(u in n){const f=n[u];return Array.isArray(f)?f.map(m=>a(m,e.slice(l+1))):void 0}else return}else n=n[o]}return n}catch(l){if(l instanceof TypeError)return;throw l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vu(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U0(n){const e={},l=a(n,["operationName"]);l!=null&&r(e,["operationName"],l);const o=a(n,["resourceName"]);return o!=null&&r(e,["_url","resourceName"],o),e}function L0(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["metadata"]);o!=null&&r(e,["metadata"],o);const u=a(n,["done"]);u!=null&&r(e,["done"],u);const f=a(n,["error"]);f!=null&&r(e,["error"],f);const m=a(n,["response","generateVideoResponse"]);return m!=null&&r(e,["response"],q0(m)),e}function V0(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["metadata"]);o!=null&&r(e,["metadata"],o);const u=a(n,["done"]);u!=null&&r(e,["done"],u);const f=a(n,["error"]);f!=null&&r(e,["error"],f);const m=a(n,["response"]);return m!=null&&r(e,["response"],G0(m)),e}function q0(n){const e={},l=a(n,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>z0(m))),r(e,["generatedVideos"],f)}const o=a(n,["raiMediaFilteredCount"]);o!=null&&r(e,["raiMediaFilteredCount"],o);const u=a(n,["raiMediaFilteredReasons"]);return u!=null&&r(e,["raiMediaFilteredReasons"],u),e}function G0(n){const e={},l=a(n,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>H0(m))),r(e,["generatedVideos"],f)}const o=a(n,["raiMediaFilteredCount"]);o!=null&&r(e,["raiMediaFilteredCount"],o);const u=a(n,["raiMediaFilteredReasons"]);return u!=null&&r(e,["raiMediaFilteredReasons"],u),e}function z0(n){const e={},l=a(n,["_self"]);return l!=null&&r(e,["video"],F0(l)),e}function H0(n){const e={},l=a(n,["_self"]);return l!=null&&r(e,["video"],J0(l)),e}function B0(n){const e={},l=a(n,["operationName"]);return l!=null&&r(e,["_url","operationName"],l),e}function P0(n){const e={},l=a(n,["operationName"]);return l!=null&&r(e,["_url","operationName"],l),e}function F0(n){const e={},l=a(n,["video","uri"]);l!=null&&r(e,["uri"],l);const o=a(n,["video","encodedVideo"]);o!=null&&r(e,["videoBytes"],Vu(o));const u=a(n,["encoding"]);return u!=null&&r(e,["mimeType"],u),e}function J0(n){const e={},l=a(n,["gcsUri"]);l!=null&&r(e,["uri"],l);const o=a(n,["bytesBase64Encoded"]);o!=null&&r(e,["videoBytes"],Vu(o));const u=a(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hp;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(hp||(hp={}));var gp;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(gp||(gp={}));var Bn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Bn||(Bn={}));var yp;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(yp||(yp={}));var vp;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(vp||(vp={}));var Tp;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Tp||(Tp={}));var Cp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Cp||(Cp={}));var Sp;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Sp||(Sp={}));var xp;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(xp||(xp={}));var Ep;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Ep||(Ep={}));var Ap;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT"})(Ap||(Ap={}));var _p;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(_p||(_p={}));var Mp;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Mp||(Mp={}));var Rp;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(Rp||(Rp={}));var Np;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Np||(Np={}));var Ls;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Ls||(Ls={}));var bp;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(bp||(bp={}));var xu;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(xu||(xu={}));var wp;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(wp||(wp={}));var Dp;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Dp||(Dp={}));var kp;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V"})(kp||(kp={}));var Ip;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Ip||(Ip={}));var Up;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Up||(Up={}));var Lp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Lp||(Lp={}));var Vp;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Vp||(Vp={}));var qp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(qp||(qp={}));var Gp;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Gp||(Gp={}));var zp;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(zp||(zp={}));var Hp;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Hp||(Hp={}));var Bp;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Bp||(Bp={}));var Pp;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Pp||(Pp={}));var Fp;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Fp||(Fp={}));var Jp;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Jp||(Jp={}));var Yp;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Yp||(Yp={}));var Op;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Op||(Op={}));var $p;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})($p||($p={}));var Kp;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Kp||(Kp={}));var Qp;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Qp||(Qp={}));var Xp;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Xp||(Xp={}));var Zp;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Zp||(Zp={}));var Wp;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Wp||(Wp={}));var jp;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(jp||(jp={}));var eh;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(eh||(eh={}));var th;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(th||(th={}));var nh;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(nh||(nh={}));var ih;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(ih||(ih={}));var lh;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(lh||(lh={}));var oh;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(oh||(oh={}));var Wi;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Wi||(Wi={}));class Eu{constructor(e){const l={};for(const o of e.headers.entries())l[o[0]]=o[1];this.headers=l,this.responseInternal=e}json(){return this.responseInternal.json()}}class to{get text(){var e,l,o,u,f,m,g,y;if(((u=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const C=[];for(const S of(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[A,N]of Object.entries(S))A!=="text"&&A!=="thought"&&(N!==null||N!==void 0)&&C.push(A);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,p+=S.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,l,o,u,f,m,g,y;if(((u=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const C of(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[S,A]of Object.entries(C))S!=="inlineData"&&(A!==null||A!==void 0)&&v.push(S);C.inlineData&&typeof C.inlineData.data=="string"&&(p+=atob(C.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,l,o,u,f,m,g,y;if(((u=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,l,o,u,f,m,g,y,p;if(((u=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,l,o,u,f,m,g,y,p;if(((u=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class sh{}class ah{}class Y0{}class O0{}class $0{}class K0{}class rh{}class uh{}class ch{}class Q0{}class Vs{_fromAPIResponse({apiResponse:e,isVertexAI:l}){const o=new Vs;let u;const f=e;return l?u=V0(f):u=L0(f),Object.assign(o,u),o}}class fh{}class dh{}class mh{}class X0{}class Z0{}class W0{}class ph{}class j0{get text(){var e,l,o;let u="",f=!1;const m=[];for(const g of(o=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&o!==void 0?o:[]){for(const[y,p]of Object.entries(g))y!=="text"&&y!=="thought"&&p!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,u+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?u:void 0}get data(){var e,l,o;let u="";const f=[];for(const m of(o=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&o!==void 0?o:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&f.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(u+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class eT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xe(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const l=e.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Kh(n,e){const l=xe(n,e);return l?l.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}`:l.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${l}`:l:""}function Qh(n){return Array.isArray(n)?n.map(e=>qs(e)):[qs(n)]}function qs(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Xh(n){const e=qs(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Zh(n){const e=qs(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function hh(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Wh(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>hh(e)):[hh(n)]}function Au(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function gh(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function yh(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function st(n){if(n==null)throw new Error("ContentUnion is required");return Au(n)?n:{role:"user",parts:Wh(n)}}function qu(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(l=>{const o=st(l);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const l=st(e);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(e)?e.map(l=>st(l)):[st(e)]}function qt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(gh(n)||yh(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[st(n)]}const e=[],l=[],o=Au(n[0]);for(const u of n){const f=Au(u);if(f!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)e.push(u);else{if(gh(u)||yh(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(u)}}return o||e.push({role:"user",parts:Wh(l)}),e}function tT(n,e){n.includes("null")&&(e.nullable=!0);const l=n.filter(o=>o!=="null");if(l.length===1)e.type=Object.values(Bn).includes(l[0].toUpperCase())?l[0].toUpperCase():Bn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of l)e.anyOf.push({type:Object.values(Bn).includes(o.toUpperCase())?o.toUpperCase():Bn.TYPE_UNSPECIFIED})}}function ji(n){const e={},l=["items"],o=["anyOf"],u=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=n.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(e.nullable=!0,n=f[1]):f[1].type==="null"&&(e.nullable=!0,n=f[0])),n.type instanceof Array&&tT(n.type,e);for(const[m,g]of Object.entries(n))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(Bn).includes(g.toUpperCase())?g.toUpperCase():Bn.TYPE_UNSPECIFIED}else if(l.includes(m))e[m]=ji(g);else if(o.includes(m)){const y=[];for(const p of g){if(p.type=="null"){e.nullable=!0;continue}y.push(ji(p))}e[m]=y}else if(u.includes(m)){const y={};for(const[p,v]of Object.entries(g))y[p]=ji(v);e[m]=y}else{if(m==="additionalProperties")continue;e[m]=g}return e}function Gu(n){return ji(n)}function zu(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Hu(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function nl(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ji(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ji(e.response));return n}function il(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const l of n)e.push(l);return e}function nT(n,e,l,o=1){const u=!e.startsWith(`${l}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${l}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:u?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}/${e}`:e:u?`${l}/${e}`:e}function hn(n,e){if(typeof e!="string")throw new Error("name must be a string");return nT(n,e,"cachedContents")}function jh(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function fi(n){return Vu(n)}function iT(n){return n!=null&&typeof n=="object"&&"name"in n}function lT(n){return n!=null&&typeof n=="object"&&"video"in n}function oT(n){return n!=null&&typeof n=="object"&&"uri"in n}function eg(n){var e;let l;if(iT(n)&&(l=n.name),!(oT(n)&&(l=n.uri,l===void 0))&&!(lT(n)&&(l=(e=n.video)===null||e===void 0?void 0:e.uri,l===void 0))){if(typeof n=="string"&&(l=n),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const u=l.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${l}`);l=u[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function tg(n,e){let l;return n.isVertexAI()?l=e?"publishers/google/models":"models":l=e?"models":"tunedModels",l}function ng(n){for(const e of["models","tunedModels","publisherModels"])if(sT(n,e))return n[e];return[]}function sT(n,e){return n!==null&&typeof n=="object"&&e in n}function aT(n,e={}){const l=n,o={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(o.responseJsonSchema=l.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function rT(n,e={}){const l=[],o=new Set;for(const u of n){const f=u.name;if(o.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);o.add(f);const m=aT(u,e);m.functionDeclarations&&l.push(...m.functionDeclarations)}return{functionDeclarations:l}}function ig(n,e){let l;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))l={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))l={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))l={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:e}}else l=e;const o=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,u=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(n.isVertexAI()){if(u>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function uT(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function lg(n){if(typeof n!="object"||n===null)return{};const e=n,l=e.inlinedResponses;if(typeof l!="object"||l===null)return n;const u=l.inlinedResponses;if(!Array.isArray(u)||u.length===0)return n;let f=!1;for(const m of u){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function ll(n,e){const l=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function og(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cT(n){const e={},l=a(n,["responsesFile"]);l!=null&&r(e,["fileName"],l);const o=a(n,["inlinedResponses","inlinedResponses"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>WT(m))),r(e,["inlinedResponses"],f)}const u=a(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>XT(m))),r(e,["inlinedEmbedContentResponses"],f)}return e}function fT(n){const e={},l=a(n,["predictionsFormat"]);l!=null&&r(e,["format"],l);const o=a(n,["gcsDestination","outputUriPrefix"]);o!=null&&r(e,["gcsUri"],o);const u=a(n,["bigqueryDestination","outputUri"]);return u!=null&&r(e,["bigqueryUri"],u),e}function dT(n){const e={},l=a(n,["format"]);l!=null&&r(e,["predictionsFormat"],l);const o=a(n,["gcsUri"]);o!=null&&r(e,["gcsDestination","outputUriPrefix"],o);const u=a(n,["bigqueryUri"]);if(u!=null&&r(e,["bigqueryDestination","outputUri"],u),a(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Zi(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["metadata","displayName"]);o!=null&&r(e,["displayName"],o);const u=a(n,["metadata","state"]);u!=null&&r(e,["state"],og(u));const f=a(n,["metadata","createTime"]);f!=null&&r(e,["createTime"],f);const m=a(n,["metadata","endTime"]);m!=null&&r(e,["endTime"],m);const g=a(n,["metadata","updateTime"]);g!=null&&r(e,["updateTime"],g);const y=a(n,["metadata","model"]);y!=null&&r(e,["model"],y);const p=a(n,["metadata","output"]);return p!=null&&r(e,["dest"],cT(lg(p))),e}function _u(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const u=a(n,["state"]);u!=null&&r(e,["state"],og(u));const f=a(n,["error"]);f!=null&&r(e,["error"],ag(f));const m=a(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=a(n,["startTime"]);g!=null&&r(e,["startTime"],g);const y=a(n,["endTime"]);y!=null&&r(e,["endTime"],y);const p=a(n,["updateTime"]);p!=null&&r(e,["updateTime"],p);const v=a(n,["model"]);v!=null&&r(e,["model"],v);const C=a(n,["inputConfig"]);C!=null&&r(e,["src"],mT(C));const S=a(n,["outputConfig"]);return S!=null&&r(e,["dest"],fT(lg(S))),e}function mT(n){const e={},l=a(n,["instancesFormat"]);l!=null&&r(e,["format"],l);const o=a(n,["gcsSource","uris"]);o!=null&&r(e,["gcsUri"],o);const u=a(n,["bigquerySource","inputUri"]);return u!=null&&r(e,["bigqueryUri"],u),e}function pT(n,e){const l={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=a(e,["fileName"]);o!=null&&r(l,["fileName"],o);const u=a(e,["inlinedRequests"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>ZT(n,m))),r(l,["requests","requests"],f)}return l}function hT(n){const e={},l=a(n,["format"]);l!=null&&r(e,["instancesFormat"],l);const o=a(n,["gcsUri"]);o!=null&&r(e,["gcsSource","uris"],o);const u=a(n,["bigqueryUri"]);if(u!=null&&r(e,["bigquerySource","inputUri"],u),a(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function gT(n){const e={},l=a(n,["data"]);l!=null&&r(e,["data"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function yT(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=a(n,["data"]);l!=null&&r(e,["data"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function vT(n,e){const l={},o=a(e,["name"]);return o!=null&&r(l,["_url","name"],ll(n,o)),l}function TT(n,e){const l={},o=a(e,["name"]);return o!=null&&r(l,["_url","name"],ll(n,o)),l}function CT(n){const e={},l=a(n,["content"]);l!=null&&r(e,["content"],AT(l));const o=a(n,["citationMetadata"]);o!=null&&r(e,["citationMetadata"],ST(o));const u=a(n,["tokenCount"]);u!=null&&r(e,["tokenCount"],u);const f=a(n,["finishReason"]);f!=null&&r(e,["finishReason"],f);const m=a(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],CC(m));const g=a(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=a(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=a(n,["index"]);p!=null&&r(e,["index"],p);const v=a(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const C=a(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function ST(n){const e={},l=a(n,["citationSources"]);return l!=null&&r(e,["citations"],l),e}function xT(n){const e={},l=a(n,["environment"]);l!=null&&r(e,["environment"],l);const o=a(n,["excludedPredefinedFunctions"]);return o!=null&&r(e,["excludedPredefinedFunctions"],o),e}function ET(n){const e={},l=a(n,["values"]);return l!=null&&r(e,["values"],l),e}function AT(n){const e={},l=a(n,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>rC(f))),r(e,["parts"],u)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function sg(n){const e={},l=a(n,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>uC(f))),r(e,["parts"],u)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function _T(n,e){const l={},o=a(n,["displayName"]);if(e!==void 0&&o!=null&&r(e,["batch","displayName"],o),a(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function MT(n,e){const l={},o=a(n,["displayName"]);e!==void 0&&o!=null&&r(e,["displayName"],o);const u=a(n,["dest"]);return e!==void 0&&u!=null&&r(e,["outputConfig"],dT(uT(u))),l}function vu(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const u=a(e,["src"]);u!=null&&r(l,["batch","inputConfig"],pT(n,ig(n,u)));const f=a(e,["config"]);return f!=null&&_T(f,l),l}function RT(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["model"],xe(n,o));const u=a(e,["src"]);u!=null&&r(l,["inputConfig"],hT(ig(n,u)));const f=a(e,["config"]);return f!=null&&MT(f,l),l}function NT(n,e){const l={},o=a(n,["displayName"]);return e!==void 0&&o!=null&&r(e,["batch","displayName"],o),l}function Tu(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const u=a(e,["src"]);u!=null&&r(l,["batch","inputConfig"],VT(n,u));const f=a(e,["config"]);return f!=null&&NT(f,l),l}function bT(n,e){const l={},o=a(e,["name"]);return o!=null&&r(l,["_url","name"],ll(n,o)),l}function wT(n,e){const l={},o=a(e,["name"]);return o!=null&&r(l,["_url","name"],ll(n,o)),l}function DT(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["name"]);o!=null&&r(e,["name"],o);const u=a(n,["done"]);u!=null&&r(e,["done"],u);const f=a(n,["error"]);return f!=null&&r(e,["error"],Bu(f)),e}function kT(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["name"]);o!=null&&r(e,["name"],o);const u=a(n,["done"]);u!=null&&r(e,["done"],u);const f=a(n,["error"]);return f!=null&&r(e,["error"],ag(f)),e}function IT(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function UT(n,e){const l={},o=a(e,["contents"]);o!=null&&r(l,["requests[]","request","content"],qu(n,o));const u=a(e,["config"]);return u!=null&&r(l,["config"],LT(u,l)),l}function LT(n,e){const l={},o=a(n,["taskType"]);e!==void 0&&o!=null&&r(e,["requests[]","taskType"],o);const u=a(n,["title"]);e!==void 0&&u!=null&&r(e,["requests[]","title"],u);const f=a(n,["outputDimensionality"]);if(e!==void 0&&f!=null&&r(e,["requests[]","outputDimensionality"],f),a(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function VT(n,e){const l={},o=a(e,["fileName"]);o!=null&&r(l,["file_name"],o);const u=a(e,["inlinedRequests"]);return u!=null&&r(l,["requests"],UT(n,u)),l}function qT(n){const e={},l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function GT(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function zT(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const u=a(n,["name"]);return u!=null&&r(e,["name"],u),e}function HT(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const u=a(n,["name"]);return u!=null&&r(e,["name"],u),e}function BT(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["allowedFunctionNames"]);return o!=null&&r(e,["allowedFunctionNames"],o),e}function PT(n){const e={},l=a(n,["behavior"]);l!=null&&r(e,["behavior"],l);const o=a(n,["description"]);o!=null&&r(e,["description"],o);const u=a(n,["name"]);u!=null&&r(e,["name"],u);const f=a(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=a(n,["response"]);g!=null&&r(e,["response"],g);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function FT(n,e,l){const o={},u=a(e,["systemInstruction"]);l!==void 0&&u!=null&&r(l,["systemInstruction"],sg(st(u)));const f=a(e,["temperature"]);f!=null&&r(o,["temperature"],f);const m=a(e,["topP"]);m!=null&&r(o,["topP"],m);const g=a(e,["topK"]);g!=null&&r(o,["topK"],g);const y=a(e,["candidateCount"]);y!=null&&r(o,["candidateCount"],y);const p=a(e,["maxOutputTokens"]);p!=null&&r(o,["maxOutputTokens"],p);const v=a(e,["stopSequences"]);v!=null&&r(o,["stopSequences"],v);const C=a(e,["responseLogprobs"]);C!=null&&r(o,["responseLogprobs"],C);const S=a(e,["logprobs"]);S!=null&&r(o,["logprobs"],S);const A=a(e,["presencePenalty"]);A!=null&&r(o,["presencePenalty"],A);const N=a(e,["frequencyPenalty"]);N!=null&&r(o,["frequencyPenalty"],N);const I=a(e,["seed"]);I!=null&&r(o,["seed"],I);const G=a(e,["responseMimeType"]);G!=null&&r(o,["responseMimeType"],G);const V=a(e,["responseSchema"]);V!=null&&r(o,["responseSchema"],mC(Gu(V)));const Y=a(e,["responseJsonSchema"]);if(Y!=null&&r(o,["responseJsonSchema"],Y),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=a(e,["safetySettings"]);if(l!==void 0&&F!=null){let ue=F;Array.isArray(ue)&&(ue=ue.map(Be=>dC(Be))),r(l,["safetySettings"],ue)}const O=a(e,["tools"]);if(l!==void 0&&O!=null){let ue=il(O);Array.isArray(ue)&&(ue=ue.map(Be=>TC(nl(Be)))),r(l,["tools"],ue)}const Z=a(e,["toolConfig"]);if(l!==void 0&&Z!=null&&r(l,["toolConfig"],vC(Z)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=a(e,["cachedContent"]);l!==void 0&&Q!=null&&r(l,["cachedContent"],hn(n,Q));const H=a(e,["responseModalities"]);H!=null&&r(o,["responseModalities"],H);const W=a(e,["mediaResolution"]);W!=null&&r(o,["mediaResolution"],W);const $=a(e,["speechConfig"]);if($!=null&&r(o,["speechConfig"],gC(zu($))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=a(e,["thinkingConfig"]);j!=null&&r(o,["thinkingConfig"],yC(j));const re=a(e,["imageConfig"]);return re!=null&&r(o,["imageConfig"],QT(re)),o}function JT(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["candidates"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>CT(p))),r(e,["candidates"],y)}const u=a(n,["modelVersion"]);u!=null&&r(e,["modelVersion"],u);const f=a(n,["promptFeedback"]);f!=null&&r(e,["promptFeedback"],f);const m=a(n,["responseId"]);m!=null&&r(e,["responseId"],m);const g=a(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function YT(n,e){const l={},o=a(e,["name"]);return o!=null&&r(l,["_url","name"],ll(n,o)),l}function OT(n,e){const l={},o=a(e,["name"]);return o!=null&&r(l,["_url","name"],ll(n,o)),l}function $T(n){const e={},l=a(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],IT(l)),e}function KT(n){const e={},l=a(n,["timeRangeFilter"]);if(l!=null&&r(e,["timeRangeFilter"],jT(l)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function QT(n){const e={},l=a(n,["aspectRatio"]);return l!=null&&r(e,["aspectRatio"],l),e}function XT(n){const e={},l=a(n,["response"]);l!=null&&r(e,["response"],pC(l));const o=a(n,["error"]);return o!=null&&r(e,["error"],Bu(o)),e}function ZT(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["request","model"],xe(n,o));const u=a(e,["contents"]);if(u!=null){let m=qt(u);Array.isArray(m)&&(m=m.map(g=>sg(g))),r(l,["request","contents"],m)}const f=a(e,["config"]);return f!=null&&r(l,["request","generationConfig"],FT(n,f,l)),l}function WT(n){const e={},l=a(n,["response"]);l!=null&&r(e,["response"],JT(l));const o=a(n,["error"]);return o!=null&&r(e,["error"],Bu(o)),e}function jT(n){const e={},l=a(n,["startTime"]);l!=null&&r(e,["startTime"],l);const o=a(n,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function Bu(n){const e={},l=a(n,["details"]);l!=null&&r(e,["details"],l);const o=a(n,["code"]);o!=null&&r(e,["code"],o);const u=a(n,["message"]);return u!=null&&r(e,["message"],u),e}function ag(n){const e={},l=a(n,["details"]);l!=null&&r(e,["details"],l);const o=a(n,["code"]);o!=null&&r(e,["code"],o);const u=a(n,["message"]);return u!=null&&r(e,["message"],u),e}function eC(n){const e={},l=a(n,["latitude"]);l!=null&&r(e,["latitude"],l);const o=a(n,["longitude"]);return o!=null&&r(e,["longitude"],o),e}function tC(n,e){const l={},o=a(n,["pageSize"]);e!==void 0&&o!=null&&r(e,["_query","pageSize"],o);const u=a(n,["pageToken"]);if(e!==void 0&&u!=null&&r(e,["_query","pageToken"],u),a(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function nC(n,e){const l={},o=a(n,["pageSize"]);e!==void 0&&o!=null&&r(e,["_query","pageSize"],o);const u=a(n,["pageToken"]);e!==void 0&&u!=null&&r(e,["_query","pageToken"],u);const f=a(n,["filter"]);return e!==void 0&&f!=null&&r(e,["_query","filter"],f),l}function iC(n){const e={},l=a(n,["config"]);return l!=null&&tC(l,e),e}function lC(n){const e={},l=a(n,["config"]);return l!=null&&nC(l,e),e}function oC(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const u=a(n,["operations"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>Zi(m))),r(e,["batchJobs"],f)}return e}function sC(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const u=a(n,["batchPredictionJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>_u(m))),r(e,["batchJobs"],f)}return e}function aC(n){const e={},l=a(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>hC(u))),r(e,["speakerVoiceConfigs"],o)}return e}function rC(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],EC(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const u=a(n,["inlineData"]);u!=null&&r(e,["inlineData"],gT(u));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],qT(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],zT(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function uC(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],AC(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const u=a(n,["inlineData"]);u!=null&&r(e,["inlineData"],yT(u));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],GT(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],HT(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function cC(n){const e={},l=a(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function fC(n){const e={},l=a(n,["latLng"]);l!=null&&r(e,["latLng"],eC(l));const o=a(n,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function dC(n){const e={};if(a(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=a(n,["category"]);l!=null&&r(e,["category"],l);const o=a(n,["threshold"]);return o!=null&&r(e,["threshold"],o),e}function mC(n){const e={},l=a(n,["anyOf"]);l!=null&&r(e,["anyOf"],l);const o=a(n,["default"]);o!=null&&r(e,["default"],o);const u=a(n,["description"]);u!=null&&r(e,["description"],u);const f=a(n,["enum"]);f!=null&&r(e,["enum"],f);const m=a(n,["example"]);m!=null&&r(e,["example"],m);const g=a(n,["format"]);g!=null&&r(e,["format"],g);const y=a(n,["items"]);y!=null&&r(e,["items"],y);const p=a(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=a(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const C=a(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const S=a(n,["maximum"]);S!=null&&r(e,["maximum"],S);const A=a(n,["minItems"]);A!=null&&r(e,["minItems"],A);const N=a(n,["minLength"]);N!=null&&r(e,["minLength"],N);const I=a(n,["minProperties"]);I!=null&&r(e,["minProperties"],I);const G=a(n,["minimum"]);G!=null&&r(e,["minimum"],G);const V=a(n,["nullable"]);V!=null&&r(e,["nullable"],V);const Y=a(n,["pattern"]);Y!=null&&r(e,["pattern"],Y);const F=a(n,["properties"]);F!=null&&r(e,["properties"],F);const O=a(n,["propertyOrdering"]);O!=null&&r(e,["propertyOrdering"],O);const Z=a(n,["required"]);Z!=null&&r(e,["required"],Z);const Q=a(n,["title"]);Q!=null&&r(e,["title"],Q);const H=a(n,["type"]);return H!=null&&r(e,["type"],H),e}function pC(n){const e={},l=a(n,["embedding"]);l!=null&&r(e,["embedding"],ET(l));const o=a(n,["tokenCount"]);return o!=null&&r(e,["tokenCount"],o),e}function hC(n){const e={},l=a(n,["speaker"]);l!=null&&r(e,["speaker"],l);const o=a(n,["voiceConfig"]);return o!=null&&r(e,["voiceConfig"],rg(o)),e}function gC(n){const e={},l=a(n,["voiceConfig"]);l!=null&&r(e,["voiceConfig"],rg(l));const o=a(n,["multiSpeakerVoiceConfig"]);o!=null&&r(e,["multiSpeakerVoiceConfig"],aC(o));const u=a(n,["languageCode"]);return u!=null&&r(e,["languageCode"],u),e}function yC(n){const e={},l=a(n,["includeThoughts"]);l!=null&&r(e,["includeThoughts"],l);const o=a(n,["thinkingBudget"]);return o!=null&&r(e,["thinkingBudget"],o),e}function vC(n){const e={},l=a(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],BT(l));const o=a(n,["retrievalConfig"]);return o!=null&&r(e,["retrievalConfig"],fC(o)),e}function TC(n){const e={},l=a(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>PT(p))),r(e,["functionDeclarations"],y)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(n,["googleSearch"]);o!=null&&r(e,["googleSearch"],KT(o));const u=a(n,["googleSearchRetrieval"]);if(u!=null&&r(e,["googleSearchRetrieval"],$T(u)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],SC());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],xT(m));const g=a(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function CC(n){const e={},l=a(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>xC(u))),r(e,["urlMetadata"],o)}return e}function SC(){return{}}function xC(n){const e={},l=a(n,["retrievedUrl"]);l!=null&&r(e,["retrievedUrl"],l);const o=a(n,["urlRetrievalStatus"]);return o!=null&&r(e,["urlRetrievalStatus"],o),e}function EC(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const u=a(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function AC(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const u=a(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function rg(n){const e={},l=a(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],cC(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ri;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ri||(ri={}));class ao{constructor(e,l,o,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(e,o,u)}init(e,l,o){var u,f;this.nameInternal=e,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!o||Object.keys(o).length===0?m={config:{}}:typeof o=="object"?m=Object.assign({},o):m=o,m.config&&(m.config.pageToken=l.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(f=(u=m.config)===null||u===void 0?void 0:u.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _C extends ci{constructor(e){super(),this.apiClient=e,this.create=async l=>{var o,u;if(this.apiClient.isVertexAI())return l.config=this.formatDestination(l.src,l.config),this.createInternal(l);const f=l.src;if(!(Array.isArray(l.src)||f.inlinedRequests!==void 0))return this.createInternal(l);const g=this.createInlinedGenerateContentRequest(l),y=g.path,p=g.body,v=vu(this.apiClient,l)._query||{};return this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=l.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=l.config)===null||u===void 0?void 0:u.abortSignal}).then(S=>S.json()).then(S=>Zi(S))},this.createEmbeddings=async l=>{var o,u;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(l.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(l);const g=this.createInlinedEmbedContentRequest(l),y=g.path,p=g.body,v=Tu(this.apiClient,l)._query||{};return this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=l.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=l.config)===null||u===void 0?void 0:u.abortSignal}).then(S=>S.json()).then(S=>Zi(S))},this.list=async(l={})=>new ao(ri.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(l),l)}createInlinedGenerateContentRequest(e){const l=vu(this.apiClient,e),o=l._url,u=te("{model}:batchGenerateContent",o),g=l.batch.inputConfig.requests,y=g.requests,p=[];for(const v of y){const C=Object.assign({},v);if(C.systemInstruction){const S=C.systemInstruction;delete C.systemInstruction;const A=C.request;A.systemInstruction=S,C.request=A}p.push(C)}return g.requests=p,delete l.config,delete l._url,delete l._query,{path:u,body:l}}createInlinedEmbedContentRequest(e){const l=Tu(this.apiClient,e),o=l._url,u=te("{model}:asyncBatchEmbedContent",o),g=l.batch.inputConfig.requests,y=g.requests,p=[];delete g.config;for(const v of y){const C=Object.assign({},v),S=C.request;for(const A in C)A!=="request"&&(S[A]=C[A],delete C[A]);p.push(C)}return g.requests=p,delete l.config,delete l._url,delete l._query,{path:u,body:l}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,l){const o=l?Object.assign({},l):{},u=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${u}`),o.dest===void 0){const f=this.getGcsUri(e),m=this.getBigqueryUri(e);if(f)f.endsWith(".jsonl")?o.dest=`${f.slice(0,-6)}/dest`:o.dest=`${f}_dest_${u}`;else if(m)o.dest=`${m}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var l,o,u,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=RT(this.apiClient,e);return g=te("batchPredictionJobs",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>_u(v))}else{const p=vu(this.apiClient,e);return g=te("{model}:batchGenerateContent",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Zi(v))}}async createEmbeddingsInternal(e){var l,o;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Tu(this.apiClient,e);return f=te("{model}:asyncBatchEmbedContent",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>Zi(y))}}async get(e){var l,o,u,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=OT(this.apiClient,e);return g=te("batchPredictionJobs/{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>_u(v))}else{const p=YT(this.apiClient,e);return g=te("batches/{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Zi(v))}}async cancel(e){var l,o,u,f;let m="",g={};if(this.apiClient.isVertexAI()){const y=TT(this.apiClient,e);m=te("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const y=vT(this.apiClient,e);m=te("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(e){var l,o,u,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=lC(e);return g=te("batchPredictionJobs",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=sC(v),S=new ph;return Object.assign(S,C),S})}else{const p=iC(e);return g=te("batches",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=oC(v),S=new ph;return Object.assign(S,C),S})}}async delete(e){var l,o,u,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=wT(this.apiClient,e);return g=te("batchPredictionJobs/{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>kT(v))}else{const p=bT(this.apiClient,e);return g=te("batches/{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>DT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MC(n){const e={},l=a(n,["apiKeyString"]);return l!=null&&r(e,["apiKeyString"],l),e}function RC(n){const e={},l=a(n,["apiKeyConfig"]);l!=null&&r(e,["apiKeyConfig"],MC(l));const o=a(n,["authType"]);o!=null&&r(e,["authType"],o);const u=a(n,["googleServiceAccountConfig"]);u!=null&&r(e,["googleServiceAccountConfig"],u);const f=a(n,["httpBasicAuthConfig"]);f!=null&&r(e,["httpBasicAuthConfig"],f);const m=a(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=a(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function NC(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=a(n,["data"]);l!=null&&r(e,["data"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function bC(n){const e={},l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const o=a(n,["data"]);o!=null&&r(e,["data"],o);const u=a(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function ks(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const u=a(n,["model"]);u!=null&&r(e,["model"],u);const f=a(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=a(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const g=a(n,["expireTime"]);g!=null&&r(e,["expireTime"],g);const y=a(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function Is(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const u=a(n,["model"]);u!=null&&r(e,["model"],u);const f=a(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=a(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const g=a(n,["expireTime"]);g!=null&&r(e,["expireTime"],g);const y=a(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function wC(n){const e={},l=a(n,["environment"]);l!=null&&r(e,["environment"],l);const o=a(n,["excludedPredefinedFunctions"]);return o!=null&&r(e,["excludedPredefinedFunctions"],o),e}function DC(n){const e={},l=a(n,["environment"]);l!=null&&r(e,["environment"],l);const o=a(n,["excludedPredefinedFunctions"]);return o!=null&&r(e,["excludedPredefinedFunctions"],o),e}function vh(n){const e={},l=a(n,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>pS(f))),r(e,["parts"],u)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function Th(n){const e={},l=a(n,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>hS(f))),r(e,["parts"],u)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function kC(n,e){const l={},o=a(n,["ttl"]);e!==void 0&&o!=null&&r(e,["ttl"],o);const u=a(n,["expireTime"]);e!==void 0&&u!=null&&r(e,["expireTime"],u);const f=a(n,["displayName"]);e!==void 0&&f!=null&&r(e,["displayName"],f);const m=a(n,["contents"]);if(e!==void 0&&m!=null){let v=qt(m);Array.isArray(v)&&(v=v.map(C=>vh(C))),r(e,["contents"],v)}const g=a(n,["systemInstruction"]);e!==void 0&&g!=null&&r(e,["systemInstruction"],vh(st(g)));const y=a(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(C=>CS(C))),r(e,["tools"],v)}const p=a(n,["toolConfig"]);if(e!==void 0&&p!=null&&r(e,["toolConfig"],vS(p)),a(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function IC(n,e){const l={},o=a(n,["ttl"]);e!==void 0&&o!=null&&r(e,["ttl"],o);const u=a(n,["expireTime"]);e!==void 0&&u!=null&&r(e,["expireTime"],u);const f=a(n,["displayName"]);e!==void 0&&f!=null&&r(e,["displayName"],f);const m=a(n,["contents"]);if(e!==void 0&&m!=null){let C=qt(m);Array.isArray(C)&&(C=C.map(S=>Th(S))),r(e,["contents"],C)}const g=a(n,["systemInstruction"]);e!==void 0&&g!=null&&r(e,["systemInstruction"],Th(st(g)));const y=a(n,["tools"]);if(e!==void 0&&y!=null){let C=y;Array.isArray(C)&&(C=C.map(S=>SS(S))),r(e,["tools"],C)}const p=a(n,["toolConfig"]);e!==void 0&&p!=null&&r(e,["toolConfig"],TS(p));const v=a(n,["kmsKeyName"]);return e!==void 0&&v!=null&&r(e,["encryption_spec","kmsKeyName"],v),l}function UC(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["model"],Kh(n,o));const u=a(e,["config"]);return u!=null&&kC(u,l),l}function LC(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["model"],Kh(n,o));const u=a(e,["config"]);return u!=null&&IC(u,l),l}function VC(n,e){const l={},o=a(e,["name"]);return o!=null&&r(l,["_url","name"],hn(n,o)),l}function qC(n,e){const l={},o=a(e,["name"]);return o!=null&&r(l,["_url","name"],hn(n,o)),l}function GC(n){const e={},l=a(n,["sdkHttpResponse"]);return l!=null&&r(e,["sdkHttpResponse"],l),e}function zC(n){const e={},l=a(n,["sdkHttpResponse"]);return l!=null&&r(e,["sdkHttpResponse"],l),e}function HC(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function BC(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function PC(n){const e={},l=a(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function FC(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function JC(n){const e={},l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const u=a(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function YC(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const u=a(n,["name"]);return u!=null&&r(e,["name"],u),e}function OC(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const u=a(n,["name"]);return u!=null&&r(e,["name"],u),e}function $C(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["allowedFunctionNames"]);return o!=null&&r(e,["allowedFunctionNames"],o),e}function KC(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["allowedFunctionNames"]);return o!=null&&r(e,["allowedFunctionNames"],o),e}function QC(n){const e={},l=a(n,["behavior"]);l!=null&&r(e,["behavior"],l);const o=a(n,["description"]);o!=null&&r(e,["description"],o);const u=a(n,["name"]);u!=null&&r(e,["name"],u);const f=a(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=a(n,["response"]);g!=null&&r(e,["response"],g);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function XC(n){const e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=a(n,["description"]);l!=null&&r(e,["description"],l);const o=a(n,["name"]);o!=null&&r(e,["name"],o);const u=a(n,["parameters"]);u!=null&&r(e,["parameters"],u);const f=a(n,["parametersJsonSchema"]);f!=null&&r(e,["parametersJsonSchema"],f);const m=a(n,["response"]);m!=null&&r(e,["response"],m);const g=a(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function ZC(n,e){const l={},o=a(e,["name"]);return o!=null&&r(l,["_url","name"],hn(n,o)),l}function WC(n,e){const l={},o=a(e,["name"]);return o!=null&&r(l,["_url","name"],hn(n,o)),l}function jC(n){const e={},l=a(n,["authConfig"]);return l!=null&&r(e,["authConfig"],RC(l)),e}function eS(n){const e={},l=a(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],HC(l)),e}function tS(n){const e={},l=a(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],BC(l)),e}function nS(n){const e={},l=a(n,["timeRangeFilter"]);if(l!=null&&r(e,["timeRangeFilter"],lS(l)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function iS(n){const e={},l=a(n,["timeRangeFilter"]);l!=null&&r(e,["timeRangeFilter"],oS(l));const o=a(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function lS(n){const e={},l=a(n,["startTime"]);l!=null&&r(e,["startTime"],l);const o=a(n,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function oS(n){const e={},l=a(n,["startTime"]);l!=null&&r(e,["startTime"],l);const o=a(n,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function sS(n){const e={},l=a(n,["latitude"]);l!=null&&r(e,["latitude"],l);const o=a(n,["longitude"]);return o!=null&&r(e,["longitude"],o),e}function aS(n){const e={},l=a(n,["latitude"]);l!=null&&r(e,["latitude"],l);const o=a(n,["longitude"]);return o!=null&&r(e,["longitude"],o),e}function rS(n,e){const l={},o=a(n,["pageSize"]);e!==void 0&&o!=null&&r(e,["_query","pageSize"],o);const u=a(n,["pageToken"]);return e!==void 0&&u!=null&&r(e,["_query","pageToken"],u),l}function uS(n,e){const l={},o=a(n,["pageSize"]);e!==void 0&&o!=null&&r(e,["_query","pageSize"],o);const u=a(n,["pageToken"]);return e!==void 0&&u!=null&&r(e,["_query","pageToken"],u),l}function cS(n){const e={},l=a(n,["config"]);return l!=null&&rS(l,e),e}function fS(n){const e={},l=a(n,["config"]);return l!=null&&uS(l,e),e}function dS(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const u=a(n,["cachedContents"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>ks(m))),r(e,["cachedContents"],f)}return e}function mS(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const u=a(n,["cachedContents"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>Is(m))),r(e,["cachedContents"],f)}return e}function pS(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],NS(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const u=a(n,["inlineData"]);u!=null&&r(e,["inlineData"],NC(u));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],FC(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],YC(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function hS(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],bS(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const u=a(n,["inlineData"]);u!=null&&r(e,["inlineData"],bC(u));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],JC(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],OC(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function gS(n){const e={},l=a(n,["latLng"]);l!=null&&r(e,["latLng"],sS(l));const o=a(n,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function yS(n){const e={},l=a(n,["latLng"]);l!=null&&r(e,["latLng"],aS(l));const o=a(n,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function vS(n){const e={},l=a(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],$C(l));const o=a(n,["retrievalConfig"]);return o!=null&&r(e,["retrievalConfig"],gS(o)),e}function TS(n){const e={},l=a(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],KC(l));const o=a(n,["retrievalConfig"]);return o!=null&&r(e,["retrievalConfig"],yS(o)),e}function CS(n){const e={},l=a(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>QC(p))),r(e,["functionDeclarations"],y)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(n,["googleSearch"]);o!=null&&r(e,["googleSearch"],nS(o));const u=a(n,["googleSearchRetrieval"]);if(u!=null&&r(e,["googleSearchRetrieval"],eS(u)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],MS());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],wC(m));const g=a(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function SS(n){const e={},l=a(n,["functionDeclarations"]);if(l!=null){let C=l;Array.isArray(C)&&(C=C.map(S=>XC(S))),r(e,["functionDeclarations"],C)}const o=a(n,["retrieval"]);o!=null&&r(e,["retrieval"],o);const u=a(n,["googleSearch"]);u!=null&&r(e,["googleSearch"],iS(u));const f=a(n,["googleSearchRetrieval"]);f!=null&&r(e,["googleSearchRetrieval"],tS(f));const m=a(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],PC(m));const g=a(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],jC(g)),a(n,["urlContext"])!=null&&r(e,["urlContext"],RS());const p=a(n,["computerUse"]);p!=null&&r(e,["computerUse"],DC(p));const v=a(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function xS(n,e){const l={},o=a(n,["ttl"]);e!==void 0&&o!=null&&r(e,["ttl"],o);const u=a(n,["expireTime"]);return e!==void 0&&u!=null&&r(e,["expireTime"],u),l}function ES(n,e){const l={},o=a(n,["ttl"]);e!==void 0&&o!=null&&r(e,["ttl"],o);const u=a(n,["expireTime"]);return e!==void 0&&u!=null&&r(e,["expireTime"],u),l}function AS(n,e){const l={},o=a(e,["name"]);o!=null&&r(l,["_url","name"],hn(n,o));const u=a(e,["config"]);return u!=null&&xS(u,l),l}function _S(n,e){const l={},o=a(e,["name"]);o!=null&&r(l,["_url","name"],hn(n,o));const u=a(e,["config"]);return u!=null&&ES(u,l),l}function MS(){return{}}function RS(){return{}}function NS(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const u=a(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function bS(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const u=a(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wS extends ci{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new ao(ri.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(l),l)}async create(e){var l,o,u,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=LC(this.apiClient,e);return g=te("cachedContents",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Is(v))}else{const p=UC(this.apiClient,e);return g=te("cachedContents",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>ks(v))}}async get(e){var l,o,u,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=WC(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Is(v))}else{const p=ZC(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>ks(v))}}async delete(e){var l,o,u,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=qC(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=zC(v),S=new dh;return Object.assign(S,C),S})}else{const p=VC(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=GC(v),S=new dh;return Object.assign(S,C),S})}}async update(e){var l,o,u,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=_S(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Is(v))}else{const p=AS(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>ks(v))}}async listInternal(e){var l,o,u,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=fS(e);return g=te("cachedContents",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=mS(v),S=new mh;return Object.assign(S,C),S})}else{const p=cS(e);return g=te("cachedContents",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=dS(v),S=new mh;return Object.assign(S,C),S})}}}function Ch(n){var e=typeof Symbol=="function"&&Symbol.iterator,l=e&&n[e],o=0;if(l)return l.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ge(n){return this instanceof Ge?(this.v=n,this):new Ge(n)}function el(n,e,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=l.apply(n,e||[]),u,f=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),u[Symbol.asyncIterator]=function(){return this},u;function m(A){return function(N){return Promise.resolve(N).then(A,C)}}function g(A,N){o[A]&&(u[A]=function(I){return new Promise(function(G,V){f.push([A,I,G,V])>1||y(A,I)})},N&&(u[A]=N(u[A])))}function y(A,N){try{p(o[A](N))}catch(I){S(f[0][3],I)}}function p(A){A.value instanceof Ge?Promise.resolve(A.value.v).then(v,C):S(f[0][2],A)}function v(A){y("next",A)}function C(A){y("throw",A)}function S(A,N){A(N),f.shift(),f.length&&y(f[0][0],f[0][1])}}function oo(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],l;return e?e.call(n):(n=typeof Ch=="function"?Ch(n):n[Symbol.iterator](),l={},o("next"),o("throw"),o("return"),l[Symbol.asyncIterator]=function(){return this},l);function o(f){l[f]=n[f]&&function(m){return new Promise(function(g,y){m=n[f](m),u(g,y,m.done,m.value)})}}function u(f,m,g,y){Promise.resolve(y).then(function(p){f({value:p,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DS(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const l=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return l===void 0?!1:ug(l)}function ug(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function kS(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Sh(n){if(n===void 0||n.length===0)return[];const e=[],l=n.length;let o=0;for(;o<l;)if(n[o].role==="user")e.push(n[o]),o++;else{const u=[];let f=!0;for(;o<l&&n[o].role==="model";)u.push(n[o]),f&&!ug(n[o])&&(f=!1),o++;f?e.push(...u):e.pop()}return e}class IS{constructor(e,l){this.modelsModule=e,this.apiClient=l}create(e){return new US(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class US{constructor(e,l,o,u={},f=[]){this.apiClient=e,this.modelsModule=l,this.model=o,this.config=u,this.history=f,this.sendPromise=Promise.resolve(),kS(f)}async sendMessage(e){var l;await this.sendPromise;const o=st(e.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(l=e.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var f,m,g;const y=await u,p=(m=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let S=[];v!=null&&(S=(g=v.slice(C))!==null&&g!==void 0?g:[]);const A=p?[p]:[];this.recordHistory(o,A,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(e){var l;await this.sendPromise;const o=st(e.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(l=e.config)!==null&&l!==void 0?l:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const f=await u;return this.processStreamResponse(f,o)}getHistory(e=!1){const l=e?Sh(this.history):this.history;return structuredClone(l)}processStreamResponse(e,l){var o,u;return el(this,arguments,function*(){var m,g,y,p;const v=[];try{for(var C=!0,S=oo(e),A;A=yield Ge(S.next()),m=A.done,!m;C=!0){p=A.value,C=!1;const N=p;if(DS(N)){const I=(u=(o=N.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content;I!==void 0&&v.push(I)}yield yield Ge(N)}}catch(N){g={error:N}}finally{try{!C&&!m&&(y=S.return)&&(yield Ge(y.call(S)))}finally{if(g)throw g.error}}this.recordHistory(l,v)})}recordHistory(e,l,o){let u=[];l.length>0&&l.every(f=>f.role!==void 0)?u=l:u.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Sh(o)):this.history.push(e),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fs extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Fs.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LS(n){const e={},l=a(n,["file"]);return l!=null&&r(e,["file"],BS(l)),e}function VS(n){const e={},l=a(n,["sdkHttpResponse"]);return l!=null&&r(e,["sdkHttpResponse"],l),e}function qS(n){const e={},l=a(n,["name"]);return l!=null&&r(e,["_url","file"],eg(l)),e}function GS(n){const e={},l=a(n,["sdkHttpResponse"]);return l!=null&&r(e,["sdkHttpResponse"],l),e}function Mu(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const u=a(n,["mimeType"]);u!=null&&r(e,["mimeType"],u);const f=a(n,["sizeBytes"]);f!=null&&r(e,["sizeBytes"],f);const m=a(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=a(n,["expirationTime"]);g!=null&&r(e,["expirationTime"],g);const y=a(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=a(n,["sha256Hash"]);p!=null&&r(e,["sha256Hash"],p);const v=a(n,["uri"]);v!=null&&r(e,["uri"],v);const C=a(n,["downloadUri"]);C!=null&&r(e,["downloadUri"],C);const S=a(n,["state"]);S!=null&&r(e,["state"],S);const A=a(n,["source"]);A!=null&&r(e,["source"],A);const N=a(n,["videoMetadata"]);N!=null&&r(e,["videoMetadata"],N);const I=a(n,["error"]);return I!=null&&r(e,["error"],zS(I)),e}function zS(n){const e={},l=a(n,["details"]);l!=null&&r(e,["details"],l);const o=a(n,["message"]);o!=null&&r(e,["message"],o);const u=a(n,["code"]);return u!=null&&r(e,["code"],u),e}function HS(n){const e={},l=a(n,["details"]);l!=null&&r(e,["details"],l);const o=a(n,["message"]);o!=null&&r(e,["message"],o);const u=a(n,["code"]);return u!=null&&r(e,["code"],u),e}function BS(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const u=a(n,["mimeType"]);u!=null&&r(e,["mimeType"],u);const f=a(n,["sizeBytes"]);f!=null&&r(e,["sizeBytes"],f);const m=a(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=a(n,["expirationTime"]);g!=null&&r(e,["expirationTime"],g);const y=a(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=a(n,["sha256Hash"]);p!=null&&r(e,["sha256Hash"],p);const v=a(n,["uri"]);v!=null&&r(e,["uri"],v);const C=a(n,["downloadUri"]);C!=null&&r(e,["downloadUri"],C);const S=a(n,["state"]);S!=null&&r(e,["state"],S);const A=a(n,["source"]);A!=null&&r(e,["source"],A);const N=a(n,["videoMetadata"]);N!=null&&r(e,["videoMetadata"],N);const I=a(n,["error"]);return I!=null&&r(e,["error"],HS(I)),e}function PS(n){const e={},l=a(n,["name"]);return l!=null&&r(e,["_url","file"],eg(l)),e}function FS(n,e){const l={},o=a(n,["pageSize"]);e!==void 0&&o!=null&&r(e,["_query","pageSize"],o);const u=a(n,["pageToken"]);return e!==void 0&&u!=null&&r(e,["_query","pageToken"],u),l}function JS(n){const e={},l=a(n,["config"]);return l!=null&&FS(l,e),e}function YS(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const u=a(n,["files"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>Mu(m))),r(e,["files"],f)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OS extends ci{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new ao(ri.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(l),l)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(l=>Mu(l))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var l,o;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=JS(e);return f=te("files",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const p=YS(y),v=new X0;return Object.assign(v,p),v})}}async createInternal(e){var l,o;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=LS(e);return f=te("upload/v1beta/files",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>{const p=VS(y),v=new Z0;return Object.assign(v,p),v})}}async get(e){var l,o;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=PS(e);return f=te("files/{file}",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>Mu(y))}}async delete(e){var l,o;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=qS(e);return f=te("files/{file}",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const p=GS(y),v=new W0;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $S(){return{}}function KS(){return{}}function QS(){return{}}function XS(){return{}}function ZS(n){const e={},l=a(n,["apiKeyString"]);return l!=null&&r(e,["apiKeyString"],l),e}function WS(n){const e={},l=a(n,["data"]);l!=null&&r(e,["data"],l);const o=a(n,["mimeType"]);o!=null&&r(e,["mimeType"],o);const u=a(n,["sourceMetadata"]);return u!=null&&r(e,["sourceMetadata"],Jx(u)),e}function xh(){return{}}function Eh(){return{}}function jS(n){const e={},l=a(n,["apiKeyConfig"]);l!=null&&r(e,["apiKeyConfig"],ZS(l));const o=a(n,["authType"]);o!=null&&r(e,["authType"],o);const u=a(n,["googleServiceAccountConfig"]);u!=null&&r(e,["googleServiceAccountConfig"],u);const f=a(n,["httpBasicAuthConfig"]);f!=null&&r(e,["httpBasicAuthConfig"],f);const m=a(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=a(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function ex(n){const e={},l=a(n,["disabled"]);l!=null&&r(e,["disabled"],l);const o=a(n,["startOfSpeechSensitivity"]);o!=null&&r(e,["startOfSpeechSensitivity"],o);const u=a(n,["endOfSpeechSensitivity"]);u!=null&&r(e,["endOfSpeechSensitivity"],u);const f=a(n,["prefixPaddingMs"]);f!=null&&r(e,["prefixPaddingMs"],f);const m=a(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function tx(n){const e={},l=a(n,["disabled"]);l!=null&&r(e,["disabled"],l);const o=a(n,["startOfSpeechSensitivity"]);o!=null&&r(e,["startOfSpeechSensitivity"],o);const u=a(n,["endOfSpeechSensitivity"]);u!=null&&r(e,["endOfSpeechSensitivity"],u);const f=a(n,["prefixPaddingMs"]);f!=null&&r(e,["prefixPaddingMs"],f);const m=a(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function nx(n){const e={},l=a(n,["data"]);l!=null&&r(e,["data"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function ix(n){const e={},l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const o=a(n,["data"]);o!=null&&r(e,["data"],o);const u=a(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function lx(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=a(n,["data"]);l!=null&&r(e,["data"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function ox(n){const e={},l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const o=a(n,["data"]);o!=null&&r(e,["data"],o);const u=a(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function sx(n){const e={},l=a(n,["environment"]);l!=null&&r(e,["environment"],l);const o=a(n,["excludedPredefinedFunctions"]);return o!=null&&r(e,["excludedPredefinedFunctions"],o),e}function ax(n){const e={},l=a(n,["environment"]);l!=null&&r(e,["environment"],l);const o=a(n,["excludedPredefinedFunctions"]);return o!=null&&r(e,["excludedPredefinedFunctions"],o),e}function rx(n){const e={},l=a(n,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>rE(f))),r(e,["parts"],u)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function ux(n){const e={},l=a(n,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>uE(f))),r(e,["parts"],u)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function cx(n){const e={},l=a(n,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>cE(f))),r(e,["parts"],u)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function fx(n){const e={},l=a(n,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>fE(f))),r(e,["parts"],u)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function dx(n){const e={},l=a(n,["triggerTokens"]);l!=null&&r(e,["triggerTokens"],l);const o=a(n,["slidingWindow"]);return o!=null&&r(e,["slidingWindow"],CE(o)),e}function mx(n){const e={},l=a(n,["triggerTokens"]);l!=null&&r(e,["triggerTokens"],l);const o=a(n,["slidingWindow"]);return o!=null&&r(e,["slidingWindow"],SE(o)),e}function px(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function hx(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function gx(n){const e={},l=a(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function yx(n){const e={},l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function vx(n){const e={},l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const u=a(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function Tx(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Cx(n){const e={},l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const u=a(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function cg(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const u=a(n,["name"]);return u!=null&&r(e,["name"],u),e}function fg(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const u=a(n,["name"]);return u!=null&&r(e,["name"],u),e}function Sx(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const u=a(n,["name"]);return u!=null&&r(e,["name"],u),e}function xx(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const u=a(n,["name"]);return u!=null&&r(e,["name"],u),e}function Ex(n){const e={},l=a(n,["behavior"]);l!=null&&r(e,["behavior"],l);const o=a(n,["description"]);o!=null&&r(e,["description"],o);const u=a(n,["name"]);u!=null&&r(e,["name"],u);const f=a(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=a(n,["response"]);g!=null&&r(e,["response"],g);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function Ax(n){const e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=a(n,["description"]);l!=null&&r(e,["description"],l);const o=a(n,["name"]);o!=null&&r(e,["name"],o);const u=a(n,["parameters"]);u!=null&&r(e,["parameters"],u);const f=a(n,["parametersJsonSchema"]);f!=null&&r(e,["parametersJsonSchema"],f);const m=a(n,["response"]);m!=null&&r(e,["response"],m);const g=a(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function _x(n){const e={},l=a(n,["authConfig"]);return l!=null&&r(e,["authConfig"],jS(l)),e}function Mx(n){const e={},l=a(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],px(l)),e}function Rx(n){const e={},l=a(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],hx(l)),e}function Nx(n){const e={},l=a(n,["timeRangeFilter"]);if(l!=null&&r(e,["timeRangeFilter"],wx(l)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function bx(n){const e={},l=a(n,["timeRangeFilter"]);l!=null&&r(e,["timeRangeFilter"],Dx(l));const o=a(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function wx(n){const e={},l=a(n,["startTime"]);l!=null&&r(e,["startTime"],l);const o=a(n,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function Dx(n){const e={},l=a(n,["startTime"]);l!=null&&r(e,["startTime"],l);const o=a(n,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function kx(n,e){const l={},o=a(n,["generationConfig"]);e!==void 0&&o!=null&&r(e,["setup","generationConfig"],o);const u=a(n,["responseModalities"]);e!==void 0&&u!=null&&r(e,["setup","generationConfig","responseModalities"],u);const f=a(n,["temperature"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","temperature"],f);const m=a(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=a(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=a(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=a(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=a(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const C=a(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],EE(Hu(C)));const S=a(n,["thinkingConfig"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","thinkingConfig"],_E(S));const A=a(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],A);const N=a(n,["systemInstruction"]);e!==void 0&&N!=null&&r(e,["setup","systemInstruction"],cx(st(N)));const I=a(n,["tools"]);if(e!==void 0&&I!=null){let Q=il(I);Array.isArray(Q)&&(Q=Q.map(H=>RE(nl(H)))),r(e,["setup","tools"],Q)}const G=a(n,["sessionResumption"]);e!==void 0&&G!=null&&r(e,["setup","sessionResumption"],vE(G));const V=a(n,["inputAudioTranscription"]);e!==void 0&&V!=null&&r(e,["setup","inputAudioTranscription"],xh());const Y=a(n,["outputAudioTranscription"]);e!==void 0&&Y!=null&&r(e,["setup","outputAudioTranscription"],xh());const F=a(n,["realtimeInputConfig"]);e!==void 0&&F!=null&&r(e,["setup","realtimeInputConfig"],gE(F));const O=a(n,["contextWindowCompression"]);e!==void 0&&O!=null&&r(e,["setup","contextWindowCompression"],dx(O));const Z=a(n,["proactivity"]);return e!==void 0&&Z!=null&&r(e,["setup","proactivity"],pE(Z)),l}function Ix(n,e){const l={},o=a(n,["generationConfig"]);e!==void 0&&o!=null&&r(e,["setup","generationConfig"],o);const u=a(n,["responseModalities"]);e!==void 0&&u!=null&&r(e,["setup","generationConfig","responseModalities"],u);const f=a(n,["temperature"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","temperature"],f);const m=a(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=a(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=a(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=a(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=a(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const C=a(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],AE(Hu(C)));const S=a(n,["thinkingConfig"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","thinkingConfig"],ME(S));const A=a(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],A);const N=a(n,["systemInstruction"]);e!==void 0&&N!=null&&r(e,["setup","systemInstruction"],fx(st(N)));const I=a(n,["tools"]);if(e!==void 0&&I!=null){let Q=il(I);Array.isArray(Q)&&(Q=Q.map(H=>NE(nl(H)))),r(e,["setup","tools"],Q)}const G=a(n,["sessionResumption"]);e!==void 0&&G!=null&&r(e,["setup","sessionResumption"],TE(G));const V=a(n,["inputAudioTranscription"]);e!==void 0&&V!=null&&r(e,["setup","inputAudioTranscription"],Eh());const Y=a(n,["outputAudioTranscription"]);e!==void 0&&Y!=null&&r(e,["setup","outputAudioTranscription"],Eh());const F=a(n,["realtimeInputConfig"]);e!==void 0&&F!=null&&r(e,["setup","realtimeInputConfig"],yE(F));const O=a(n,["contextWindowCompression"]);e!==void 0&&O!=null&&r(e,["setup","contextWindowCompression"],mx(O));const Z=a(n,["proactivity"]);return e!==void 0&&Z!=null&&r(e,["setup","proactivity"],hE(Z)),l}function Ux(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["setup","model"],xe(n,o));const u=a(e,["config"]);return u!=null&&r(l,["config"],kx(u,l)),l}function Lx(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["setup","model"],xe(n,o));const u=a(e,["config"]);return u!=null&&r(l,["config"],Ix(u,l)),l}function Vx(n){const e={},l=a(n,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>HE(u))),r(e,["weightedPrompts"],o)}return e}function dg(n){const e={},l=a(n,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>gg(u))),r(e,["weightedPrompts"],o)}return e}function Ru(n){const e={},l=a(n,["setup"]);l!=null&&r(e,["setup"],mg(l));const o=a(n,["clientContent"]);o!=null&&r(e,["clientContent"],dg(o));const u=a(n,["musicGenerationConfig"]);u!=null&&r(e,["musicGenerationConfig"],pg(u));const f=a(n,["playbackControl"]);return f!=null&&r(e,["playbackControl"],f),e}function mg(n){const e={},l=a(n,["model"]);return l!=null&&r(e,["model"],l),e}function qx(n){const e={},l=a(n,["text"]);l!=null&&r(e,["text"],l);const o=a(n,["filteredReason"]);return o!=null&&r(e,["filteredReason"],o),e}function Gx(n){const e={},l=a(n,["temperature"]);l!=null&&r(e,["temperature"],l);const o=a(n,["topK"]);o!=null&&r(e,["topK"],o);const u=a(n,["seed"]);u!=null&&r(e,["seed"],u);const f=a(n,["guidance"]);f!=null&&r(e,["guidance"],f);const m=a(n,["bpm"]);m!=null&&r(e,["bpm"],m);const g=a(n,["density"]);g!=null&&r(e,["density"],g);const y=a(n,["brightness"]);y!=null&&r(e,["brightness"],y);const p=a(n,["scale"]);p!=null&&r(e,["scale"],p);const v=a(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const C=a(n,["muteDrums"]);C!=null&&r(e,["muteDrums"],C);const S=a(n,["onlyBassAndDrums"]);S!=null&&r(e,["onlyBassAndDrums"],S);const A=a(n,["musicGenerationMode"]);return A!=null&&r(e,["musicGenerationMode"],A),e}function pg(n){const e={},l=a(n,["temperature"]);l!=null&&r(e,["temperature"],l);const o=a(n,["topK"]);o!=null&&r(e,["topK"],o);const u=a(n,["seed"]);u!=null&&r(e,["seed"],u);const f=a(n,["guidance"]);f!=null&&r(e,["guidance"],f);const m=a(n,["bpm"]);m!=null&&r(e,["bpm"],m);const g=a(n,["density"]);g!=null&&r(e,["density"],g);const y=a(n,["brightness"]);y!=null&&r(e,["brightness"],y);const p=a(n,["scale"]);p!=null&&r(e,["scale"],p);const v=a(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const C=a(n,["muteDrums"]);C!=null&&r(e,["muteDrums"],C);const S=a(n,["onlyBassAndDrums"]);S!=null&&r(e,["onlyBassAndDrums"],S);const A=a(n,["musicGenerationMode"]);return A!=null&&r(e,["musicGenerationMode"],A),e}function zx(n){const e={},l=a(n,["audioChunks"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>WS(u))),r(e,["audioChunks"],o)}return e}function Hx(n){const e={};a(n,["setupComplete"])!=null&&r(e,["setupComplete"],Bx());const o=a(n,["serverContent"]);o!=null&&r(e,["serverContent"],zx(o));const u=a(n,["filteredPrompt"]);return u!=null&&r(e,["filteredPrompt"],qx(u)),e}function Bx(){return{}}function Px(n){const e={},l=a(n,["musicGenerationConfig"]);return l!=null&&r(e,["musicGenerationConfig"],pg(l)),e}function Fx(n){const e={},l=a(n,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>gg(u))),r(e,["weightedPrompts"],o)}return e}function Jx(n){const e={},l=a(n,["clientContent"]);l!=null&&r(e,["clientContent"],Vx(l));const o=a(n,["musicGenerationConfig"]);return o!=null&&r(e,["musicGenerationConfig"],Gx(o)),e}function Yx(n){const e={},l=a(n,["media"]);if(l!=null){let p=Qh(l);Array.isArray(p)&&(p=p.map(v=>v)),r(e,["mediaChunks"],p)}const o=a(n,["audio"]);o!=null&&r(e,["audio"],Zh(o));const u=a(n,["audioStreamEnd"]);u!=null&&r(e,["audioStreamEnd"],u);const f=a(n,["video"]);f!=null&&r(e,["video"],Xh(f));const m=a(n,["text"]);return m!=null&&r(e,["text"],m),a(n,["activityStart"])!=null&&r(e,["activityStart"],QS()),a(n,["activityEnd"])!=null&&r(e,["activityEnd"],$S()),e}function Ox(n){const e={},l=a(n,["media"]);if(l!=null){let p=Qh(l);Array.isArray(p)&&(p=p.map(v=>v)),r(e,["mediaChunks"],p)}const o=a(n,["audio"]);o!=null&&r(e,["audio"],Zh(o));const u=a(n,["audioStreamEnd"]);u!=null&&r(e,["audioStreamEnd"],u);const f=a(n,["video"]);f!=null&&r(e,["video"],Xh(f));const m=a(n,["text"]);return m!=null&&r(e,["text"],m),a(n,["activityStart"])!=null&&r(e,["activityStart"],XS()),a(n,["activityEnd"])!=null&&r(e,["activityEnd"],KS()),e}function $x(n){const e={},l=a(n,["modelTurn"]);l!=null&&r(e,["modelTurn"],rx(l));const o=a(n,["turnComplete"]);o!=null&&r(e,["turnComplete"],o);const u=a(n,["interrupted"]);u!=null&&r(e,["interrupted"],u);const f=a(n,["groundingMetadata"]);f!=null&&r(e,["groundingMetadata"],f);const m=a(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const g=a(n,["inputTranscription"]);g!=null&&r(e,["inputTranscription"],Ah(g));const y=a(n,["outputTranscription"]);y!=null&&r(e,["outputTranscription"],Ah(y));const p=a(n,["urlContextMetadata"]);p!=null&&r(e,["urlContextMetadata"],bE(p));const v=a(n,["turnCompleteReason"]);v!=null&&r(e,["turnCompleteReason"],v);const C=a(n,["waitingForInput"]);return C!=null&&r(e,["waitingForInput"],C),e}function Kx(n){const e={},l=a(n,["modelTurn"]);l!=null&&r(e,["modelTurn"],ux(l));const o=a(n,["turnComplete"]);o!=null&&r(e,["turnComplete"],o);const u=a(n,["interrupted"]);u!=null&&r(e,["interrupted"],u);const f=a(n,["groundingMetadata"]);f!=null&&r(e,["groundingMetadata"],f);const m=a(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const g=a(n,["inputTranscription"]);g!=null&&r(e,["inputTranscription"],_h(g));const y=a(n,["outputTranscription"]);y!=null&&r(e,["outputTranscription"],_h(y));const p=a(n,["turnCompleteReason"]);p!=null&&r(e,["turnCompleteReason"],p);const v=a(n,["waitingForInput"]);return v!=null&&r(e,["waitingForInput"],v),e}function Qx(n){const e={},l=a(n,["timeLeft"]);return l!=null&&r(e,["timeLeft"],l),e}function Xx(n){const e={},l=a(n,["timeLeft"]);return l!=null&&r(e,["timeLeft"],l),e}function Zx(n){const e={};a(n,["setupComplete"])!=null&&r(e,["setupComplete"],tE());const o=a(n,["serverContent"]);o!=null&&r(e,["serverContent"],$x(o));const u=a(n,["toolCall"]);u!=null&&r(e,["toolCall"],oE(u));const f=a(n,["toolCallCancellation"]);f!=null&&r(e,["toolCallCancellation"],iE(f));const m=a(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],IE(m));const g=a(n,["goAway"]);g!=null&&r(e,["goAway"],Qx(g));const y=a(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],jx(y)),e}function Wx(n){const e={},l=a(n,["setupComplete"]);l!=null&&r(e,["setupComplete"],nE(l));const o=a(n,["serverContent"]);o!=null&&r(e,["serverContent"],Kx(o));const u=a(n,["toolCall"]);u!=null&&r(e,["toolCall"],sE(u));const f=a(n,["toolCallCancellation"]);f!=null&&r(e,["toolCallCancellation"],lE(f));const m=a(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],UE(m));const g=a(n,["goAway"]);g!=null&&r(e,["goAway"],Xx(g));const y=a(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],eE(y)),e}function jx(n){const e={},l=a(n,["newHandle"]);l!=null&&r(e,["newHandle"],l);const o=a(n,["resumable"]);o!=null&&r(e,["resumable"],o);const u=a(n,["lastConsumedClientMessageIndex"]);return u!=null&&r(e,["lastConsumedClientMessageIndex"],u),e}function eE(n){const e={},l=a(n,["newHandle"]);l!=null&&r(e,["newHandle"],l);const o=a(n,["resumable"]);o!=null&&r(e,["resumable"],o);const u=a(n,["lastConsumedClientMessageIndex"]);return u!=null&&r(e,["lastConsumedClientMessageIndex"],u),e}function tE(){return{}}function nE(n){const e={},l=a(n,["sessionId"]);return l!=null&&r(e,["sessionId"],l),e}function iE(n){const e={},l=a(n,["ids"]);return l!=null&&r(e,["ids"],l),e}function lE(n){const e={},l=a(n,["ids"]);return l!=null&&r(e,["ids"],l),e}function oE(n){const e={},l=a(n,["functionCalls"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>cg(u))),r(e,["functionCalls"],o)}return e}function sE(n){const e={},l=a(n,["functionCalls"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>fg(u))),r(e,["functionCalls"],o)}return e}function Ns(n){const e={},l=a(n,["modality"]);l!=null&&r(e,["modality"],l);const o=a(n,["tokenCount"]);return o!=null&&r(e,["tokenCount"],o),e}function bs(n){const e={},l=a(n,["modality"]);l!=null&&r(e,["modality"],l);const o=a(n,["tokenCount"]);return o!=null&&r(e,["tokenCount"],o),e}function aE(n){const e={},l=a(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>xE(u))),r(e,["speakerVoiceConfigs"],o)}return e}function rE(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],LE(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const u=a(n,["inlineData"]);u!=null&&r(e,["inlineData"],nx(u));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],yx(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],cg(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function uE(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],VE(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const u=a(n,["inlineData"]);u!=null&&r(e,["inlineData"],ix(u));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],vx(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],fg(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function cE(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],qE(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const u=a(n,["inlineData"]);u!=null&&r(e,["inlineData"],lx(u));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],Tx(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],Sx(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function fE(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],GE(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const u=a(n,["inlineData"]);u!=null&&r(e,["inlineData"],ox(u));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],Cx(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],xx(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function dE(n){const e={},l=a(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function mE(n){const e={},l=a(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function pE(n){const e={},l=a(n,["proactiveAudio"]);return l!=null&&r(e,["proactiveAudio"],l),e}function hE(n){const e={},l=a(n,["proactiveAudio"]);return l!=null&&r(e,["proactiveAudio"],l),e}function gE(n){const e={},l=a(n,["automaticActivityDetection"]);l!=null&&r(e,["automaticActivityDetection"],ex(l));const o=a(n,["activityHandling"]);o!=null&&r(e,["activityHandling"],o);const u=a(n,["turnCoverage"]);return u!=null&&r(e,["turnCoverage"],u),e}function yE(n){const e={},l=a(n,["automaticActivityDetection"]);l!=null&&r(e,["automaticActivityDetection"],tx(l));const o=a(n,["activityHandling"]);o!=null&&r(e,["activityHandling"],o);const u=a(n,["turnCoverage"]);return u!=null&&r(e,["turnCoverage"],u),e}function vE(n){const e={},l=a(n,["handle"]);if(l!=null&&r(e,["handle"],l),a(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function TE(n){const e={},l=a(n,["handle"]);l!=null&&r(e,["handle"],l);const o=a(n,["transparent"]);return o!=null&&r(e,["transparent"],o),e}function CE(n){const e={},l=a(n,["targetTokens"]);return l!=null&&r(e,["targetTokens"],l),e}function SE(n){const e={},l=a(n,["targetTokens"]);return l!=null&&r(e,["targetTokens"],l),e}function xE(n){const e={},l=a(n,["speaker"]);l!=null&&r(e,["speaker"],l);const o=a(n,["voiceConfig"]);return o!=null&&r(e,["voiceConfig"],hg(o)),e}function EE(n){const e={},l=a(n,["voiceConfig"]);l!=null&&r(e,["voiceConfig"],hg(l));const o=a(n,["multiSpeakerVoiceConfig"]);o!=null&&r(e,["multiSpeakerVoiceConfig"],aE(o));const u=a(n,["languageCode"]);return u!=null&&r(e,["languageCode"],u),e}function AE(n){const e={},l=a(n,["voiceConfig"]);if(l!=null&&r(e,["voiceConfig"],zE(l)),a(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=a(n,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function _E(n){const e={},l=a(n,["includeThoughts"]);l!=null&&r(e,["includeThoughts"],l);const o=a(n,["thinkingBudget"]);return o!=null&&r(e,["thinkingBudget"],o),e}function ME(n){const e={},l=a(n,["includeThoughts"]);l!=null&&r(e,["includeThoughts"],l);const o=a(n,["thinkingBudget"]);return o!=null&&r(e,["thinkingBudget"],o),e}function RE(n){const e={},l=a(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>Ex(p))),r(e,["functionDeclarations"],y)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(n,["googleSearch"]);o!=null&&r(e,["googleSearch"],Nx(o));const u=a(n,["googleSearchRetrieval"]);if(u!=null&&r(e,["googleSearchRetrieval"],Mx(u)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],wE());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],sx(m));const g=a(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function NE(n){const e={},l=a(n,["functionDeclarations"]);if(l!=null){let C=l;Array.isArray(C)&&(C=C.map(S=>Ax(S))),r(e,["functionDeclarations"],C)}const o=a(n,["retrieval"]);o!=null&&r(e,["retrieval"],o);const u=a(n,["googleSearch"]);u!=null&&r(e,["googleSearch"],bx(u));const f=a(n,["googleSearchRetrieval"]);f!=null&&r(e,["googleSearchRetrieval"],Rx(f));const m=a(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],gx(m));const g=a(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],_x(g)),a(n,["urlContext"])!=null&&r(e,["urlContext"],DE());const p=a(n,["computerUse"]);p!=null&&r(e,["computerUse"],ax(p));const v=a(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function Ah(n){const e={},l=a(n,["text"]);l!=null&&r(e,["text"],l);const o=a(n,["finished"]);return o!=null&&r(e,["finished"],o),e}function _h(n){const e={},l=a(n,["text"]);l!=null&&r(e,["text"],l);const o=a(n,["finished"]);return o!=null&&r(e,["finished"],o),e}function bE(n){const e={},l=a(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>kE(u))),r(e,["urlMetadata"],o)}return e}function wE(){return{}}function DE(){return{}}function kE(n){const e={},l=a(n,["retrievedUrl"]);l!=null&&r(e,["retrievedUrl"],l);const o=a(n,["urlRetrievalStatus"]);return o!=null&&r(e,["urlRetrievalStatus"],o),e}function IE(n){const e={},l=a(n,["promptTokenCount"]);l!=null&&r(e,["promptTokenCount"],l);const o=a(n,["cachedContentTokenCount"]);o!=null&&r(e,["cachedContentTokenCount"],o);const u=a(n,["responseTokenCount"]);u!=null&&r(e,["responseTokenCount"],u);const f=a(n,["toolUsePromptTokenCount"]);f!=null&&r(e,["toolUsePromptTokenCount"],f);const m=a(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const g=a(n,["totalTokenCount"]);g!=null&&r(e,["totalTokenCount"],g);const y=a(n,["promptTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(A=>Ns(A))),r(e,["promptTokensDetails"],S)}const p=a(n,["cacheTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(A=>Ns(A))),r(e,["cacheTokensDetails"],S)}const v=a(n,["responseTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(A=>Ns(A))),r(e,["responseTokensDetails"],S)}const C=a(n,["toolUsePromptTokensDetails"]);if(C!=null){let S=C;Array.isArray(S)&&(S=S.map(A=>Ns(A))),r(e,["toolUsePromptTokensDetails"],S)}return e}function UE(n){const e={},l=a(n,["promptTokenCount"]);l!=null&&r(e,["promptTokenCount"],l);const o=a(n,["cachedContentTokenCount"]);o!=null&&r(e,["cachedContentTokenCount"],o);const u=a(n,["candidatesTokenCount"]);u!=null&&r(e,["responseTokenCount"],u);const f=a(n,["toolUsePromptTokenCount"]);f!=null&&r(e,["toolUsePromptTokenCount"],f);const m=a(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const g=a(n,["totalTokenCount"]);g!=null&&r(e,["totalTokenCount"],g);const y=a(n,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(N=>bs(N))),r(e,["promptTokensDetails"],A)}const p=a(n,["cacheTokensDetails"]);if(p!=null){let A=p;Array.isArray(A)&&(A=A.map(N=>bs(N))),r(e,["cacheTokensDetails"],A)}const v=a(n,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(N=>bs(N))),r(e,["responseTokensDetails"],A)}const C=a(n,["toolUsePromptTokensDetails"]);if(C!=null){let A=C;Array.isArray(A)&&(A=A.map(N=>bs(N))),r(e,["toolUsePromptTokensDetails"],A)}const S=a(n,["trafficType"]);return S!=null&&r(e,["trafficType"],S),e}function LE(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const u=a(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function VE(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const u=a(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function qE(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const u=a(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function GE(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const u=a(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function hg(n){const e={},l=a(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],dE(l)),e}function zE(n){const e={},l=a(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],mE(l)),e}function HE(n){const e={},l=a(n,["text"]);l!=null&&r(e,["text"],l);const o=a(n,["weight"]);return o!=null&&r(e,["weight"],o),e}function gg(n){const e={},l=a(n,["text"]);l!=null&&r(e,["text"],l);const o=a(n,["weight"]);return o!=null&&r(e,["weight"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BE(n){const e={},l=a(n,["apiKeyString"]);return l!=null&&r(e,["apiKeyString"],l),e}function PE(n){const e={},l=a(n,["apiKeyConfig"]);l!=null&&r(e,["apiKeyConfig"],BE(l));const o=a(n,["authType"]);o!=null&&r(e,["authType"],o);const u=a(n,["googleServiceAccountConfig"]);u!=null&&r(e,["googleServiceAccountConfig"],u);const f=a(n,["httpBasicAuthConfig"]);f!=null&&r(e,["httpBasicAuthConfig"],f);const m=a(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=a(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function FE(n){const e={},l=a(n,["data"]);l!=null&&r(e,["data"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function JE(n){const e={},l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const o=a(n,["data"]);o!=null&&r(e,["data"],o);const u=a(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function YE(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=a(n,["data"]);l!=null&&r(e,["data"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function OE(n){const e={},l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const o=a(n,["data"]);o!=null&&r(e,["data"],o);const u=a(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function $E(n){const e={},l=a(n,["content"]);l!=null&&r(e,["content"],oA(l));const o=a(n,["citationMetadata"]);o!=null&&r(e,["citationMetadata"],XE(o));const u=a(n,["tokenCount"]);u!=null&&r(e,["tokenCount"],u);const f=a(n,["finishReason"]);f!=null&&r(e,["finishReason"],f);const m=a(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],_M(m));const g=a(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=a(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=a(n,["index"]);p!=null&&r(e,["index"],p);const v=a(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const C=a(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function KE(n){const e={},l=a(n,["content"]);l!=null&&r(e,["content"],sA(l));const o=a(n,["citationMetadata"]);o!=null&&r(e,["citationMetadata"],ZE(o));const u=a(n,["finishMessage"]);u!=null&&r(e,["finishMessage"],u);const f=a(n,["finishReason"]);f!=null&&r(e,["finishReason"],f);const m=a(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],MM(m));const g=a(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=a(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=a(n,["index"]);p!=null&&r(e,["index"],p);const v=a(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const C=a(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function QE(n){const e={},l=a(n,["checkpointId"]);l!=null&&r(e,["checkpointId"],l);const o=a(n,["epoch"]);o!=null&&r(e,["epoch"],o);const u=a(n,["step"]);return u!=null&&r(e,["step"],u),e}function XE(n){const e={},l=a(n,["citationSources"]);return l!=null&&r(e,["citations"],l),e}function ZE(n){const e={},l=a(n,["citations"]);return l!=null&&r(e,["citations"],l),e}function WE(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const u=a(e,["contents"]);if(u!=null){let f=qt(u);Array.isArray(f)&&(f=f.map(m=>ol(m))),r(l,["contents"],f)}return l}function jE(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["tokensInfo"]);return o!=null&&r(e,["tokensInfo"],o),e}function eA(n){const e={},l=a(n,["environment"]);l!=null&&r(e,["environment"],l);const o=a(n,["excludedPredefinedFunctions"]);return o!=null&&r(e,["excludedPredefinedFunctions"],o),e}function tA(n){const e={},l=a(n,["environment"]);l!=null&&r(e,["environment"],l);const o=a(n,["excludedPredefinedFunctions"]);return o!=null&&r(e,["excludedPredefinedFunctions"],o),e}function nA(n){const e={},l=a(n,["values"]);return l!=null&&r(e,["values"],l),e}function iA(n){const e={},l=a(n,["values"]);l!=null&&r(e,["values"],l);const o=a(n,["statistics"]);return o!=null&&r(e,["statistics"],lA(o)),e}function lA(n){const e={},l=a(n,["truncated"]);l!=null&&r(e,["truncated"],l);const o=a(n,["token_count"]);return o!=null&&r(e,["tokenCount"],o),e}function oA(n){const e={},l=a(n,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>q_(f))),r(e,["parts"],u)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function sA(n){const e={},l=a(n,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>G_(f))),r(e,["parts"],u)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function Js(n){const e={},l=a(n,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>z_(f))),r(e,["parts"],u)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function ol(n){const e={},l=a(n,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>H_(f))),r(e,["parts"],u)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function aA(n){const e={},l=a(n,["controlType"]);l!=null&&r(e,["controlType"],l);const o=a(n,["enableControlImageComputation"]);return o!=null&&r(e,["computeControl"],o),e}function rA(n){const e={};if(a(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function uA(n,e){const l={},o=a(n,["systemInstruction"]);e!==void 0&&o!=null&&r(e,["systemInstruction"],ol(st(o)));const u=a(n,["tools"]);if(e!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(g=>Sg(g))),r(e,["tools"],m)}const f=a(n,["generationConfig"]);return e!==void 0&&f!=null&&r(e,["generationConfig"],f),l}function cA(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const u=a(e,["contents"]);if(u!=null){let m=qt(u);Array.isArray(m)&&(m=m.map(g=>Js(g))),r(l,["contents"],m)}const f=a(e,["config"]);return f!=null&&rA(f),l}function fA(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const u=a(e,["contents"]);if(u!=null){let m=qt(u);Array.isArray(m)&&(m=m.map(g=>ol(g))),r(l,["contents"],m)}const f=a(e,["config"]);return f!=null&&uA(f,l),l}function dA(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["totalTokens"]);o!=null&&r(e,["totalTokens"],o);const u=a(n,["cachedContentTokenCount"]);return u!=null&&r(e,["cachedContentTokenCount"],u),e}function mA(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["totalTokens"]);return o!=null&&r(e,["totalTokens"],o),e}function pA(n,e){const l={},o=a(e,["model"]);return o!=null&&r(l,["_url","name"],xe(n,o)),l}function hA(n,e){const l={},o=a(e,["model"]);return o!=null&&r(l,["_url","name"],xe(n,o)),l}function gA(n){const e={},l=a(n,["sdkHttpResponse"]);return l!=null&&r(e,["sdkHttpResponse"],l),e}function yA(n){const e={},l=a(n,["sdkHttpResponse"]);return l!=null&&r(e,["sdkHttpResponse"],l),e}function vA(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function TA(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function CA(n,e){const l={},o=a(n,["outputGcsUri"]);e!==void 0&&o!=null&&r(e,["parameters","storageUri"],o);const u=a(n,["negativePrompt"]);e!==void 0&&u!=null&&r(e,["parameters","negativePrompt"],u);const f=a(n,["numberOfImages"]);e!==void 0&&f!=null&&r(e,["parameters","sampleCount"],f);const m=a(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const g=a(n,["guidanceScale"]);e!==void 0&&g!=null&&r(e,["parameters","guidanceScale"],g);const y=a(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const p=a(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const v=a(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const C=a(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&r(e,["parameters","includeSafetyAttributes"],C);const S=a(n,["includeRaiReason"]);e!==void 0&&S!=null&&r(e,["parameters","includeRaiReason"],S);const A=a(n,["language"]);e!==void 0&&A!=null&&r(e,["parameters","language"],A);const N=a(n,["outputMimeType"]);e!==void 0&&N!=null&&r(e,["parameters","outputOptions","mimeType"],N);const I=a(n,["outputCompressionQuality"]);e!==void 0&&I!=null&&r(e,["parameters","outputOptions","compressionQuality"],I);const G=a(n,["addWatermark"]);e!==void 0&&G!=null&&r(e,["parameters","addWatermark"],G);const V=a(n,["editMode"]);e!==void 0&&V!=null&&r(e,["parameters","editMode"],V);const Y=a(n,["baseSteps"]);return e!==void 0&&Y!=null&&r(e,["parameters","editConfig","baseSteps"],Y),l}function SA(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const u=a(e,["prompt"]);u!=null&&r(l,["instances[0]","prompt"],u);const f=a(e,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>K_(y))),r(l,["instances[0]","referenceImages"],g)}const m=a(e,["config"]);return m!=null&&CA(m,l),l}function xA(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["predictions"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>Ys(f))),r(e,["generatedImages"],u)}return e}function EA(n,e){const l={},o=a(n,["taskType"]);e!==void 0&&o!=null&&r(e,["requests[]","taskType"],o);const u=a(n,["title"]);e!==void 0&&u!=null&&r(e,["requests[]","title"],u);const f=a(n,["outputDimensionality"]);if(e!==void 0&&f!=null&&r(e,["requests[]","outputDimensionality"],f),a(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function AA(n,e){const l={},o=a(n,["taskType"]);e!==void 0&&o!=null&&r(e,["instances[]","task_type"],o);const u=a(n,["title"]);e!==void 0&&u!=null&&r(e,["instances[]","title"],u);const f=a(n,["outputDimensionality"]);e!==void 0&&f!=null&&r(e,["parameters","outputDimensionality"],f);const m=a(n,["mimeType"]);e!==void 0&&m!=null&&r(e,["instances[]","mimeType"],m);const g=a(n,["autoTruncate"]);return e!==void 0&&g!=null&&r(e,["parameters","autoTruncate"],g),l}function _A(){return{}}function MA(n){const e={},l=a(n,["billableCharacterCount"]);return l!=null&&r(e,["billableCharacterCount"],l),e}function RA(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const u=a(e,["contents"]);u!=null&&r(l,["requests[]","content"],qu(n,u));const f=a(e,["config"]);f!=null&&EA(f,l);const m=a(e,["model"]);return m!==void 0&&r(l,["requests[]","model"],xe(n,m)),l}function NA(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const u=a(e,["contents"]);u!=null&&r(l,["instances[]","content"],qu(n,u));const f=a(e,["config"]);return f!=null&&AA(f,l),l}function bA(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["embeddings"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>nA(m))),r(e,["embeddings"],f)}return a(n,["metadata"])!=null&&r(e,["metadata"],_A()),e}function wA(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["predictions[]","embeddings"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>iA(m))),r(e,["embeddings"],f)}const u=a(n,["metadata"]);return u!=null&&r(e,["metadata"],MA(u)),e}function DA(n){const e={},l=a(n,["endpoint"]);l!=null&&r(e,["name"],l);const o=a(n,["deployedModelId"]);return o!=null&&r(e,["deployedModelId"],o),e}function kA(n){const e={},l=a(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function IA(n){const e={},l=a(n,["label"]);l!=null&&r(e,["label"],l);const o=a(n,["score"]);return o!=null&&r(e,["score"],o),e}function UA(n){const e={},l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function LA(n){const e={},l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const u=a(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function VA(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function qA(n){const e={},l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const u=a(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function GA(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const u=a(n,["name"]);return u!=null&&r(e,["name"],u),e}function zA(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const u=a(n,["name"]);return u!=null&&r(e,["name"],u),e}function HA(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const u=a(n,["name"]);return u!=null&&r(e,["name"],u),e}function BA(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const u=a(n,["name"]);return u!=null&&r(e,["name"],u),e}function PA(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["allowedFunctionNames"]);return o!=null&&r(e,["allowedFunctionNames"],o),e}function FA(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["allowedFunctionNames"]);return o!=null&&r(e,["allowedFunctionNames"],o),e}function JA(n){const e={},l=a(n,["behavior"]);l!=null&&r(e,["behavior"],l);const o=a(n,["description"]);o!=null&&r(e,["description"],o);const u=a(n,["name"]);u!=null&&r(e,["name"],u);const f=a(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=a(n,["response"]);g!=null&&r(e,["response"],g);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function YA(n){const e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=a(n,["description"]);l!=null&&r(e,["description"],l);const o=a(n,["name"]);o!=null&&r(e,["name"],o);const u=a(n,["parameters"]);u!=null&&r(e,["parameters"],u);const f=a(n,["parametersJsonSchema"]);f!=null&&r(e,["parametersJsonSchema"],f);const m=a(n,["response"]);m!=null&&r(e,["response"],m);const g=a(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function OA(n,e,l){const o={},u=a(e,["systemInstruction"]);l!==void 0&&u!=null&&r(l,["systemInstruction"],Js(st(u)));const f=a(e,["temperature"]);f!=null&&r(o,["temperature"],f);const m=a(e,["topP"]);m!=null&&r(o,["topP"],m);const g=a(e,["topK"]);g!=null&&r(o,["topK"],g);const y=a(e,["candidateCount"]);y!=null&&r(o,["candidateCount"],y);const p=a(e,["maxOutputTokens"]);p!=null&&r(o,["maxOutputTokens"],p);const v=a(e,["stopSequences"]);v!=null&&r(o,["stopSequences"],v);const C=a(e,["responseLogprobs"]);C!=null&&r(o,["responseLogprobs"],C);const S=a(e,["logprobs"]);S!=null&&r(o,["logprobs"],S);const A=a(e,["presencePenalty"]);A!=null&&r(o,["presencePenalty"],A);const N=a(e,["frequencyPenalty"]);N!=null&&r(o,["frequencyPenalty"],N);const I=a(e,["seed"]);I!=null&&r(o,["seed"],I);const G=a(e,["responseMimeType"]);G!=null&&r(o,["responseMimeType"],G);const V=a(e,["responseSchema"]);V!=null&&r(o,["responseSchema"],j_(Gu(V)));const Y=a(e,["responseJsonSchema"]);if(Y!=null&&r(o,["responseJsonSchema"],Y),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=a(e,["safetySettings"]);if(l!==void 0&&F!=null){let ue=F;Array.isArray(ue)&&(ue=ue.map(Be=>Z_(Be))),r(l,["safetySettings"],ue)}const O=a(e,["tools"]);if(l!==void 0&&O!=null){let ue=il(O);Array.isArray(ue)&&(ue=ue.map(Be=>hM(nl(Be)))),r(l,["tools"],ue)}const Z=a(e,["toolConfig"]);if(l!==void 0&&Z!=null&&r(l,["toolConfig"],mM(Z)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=a(e,["cachedContent"]);l!==void 0&&Q!=null&&r(l,["cachedContent"],hn(n,Q));const H=a(e,["responseModalities"]);H!=null&&r(o,["responseModalities"],H);const W=a(e,["mediaResolution"]);W!=null&&r(o,["mediaResolution"],W);const $=a(e,["speechConfig"]);if($!=null&&r(o,["speechConfig"],aM(zu($))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=a(e,["thinkingConfig"]);j!=null&&r(o,["thinkingConfig"],fM(j));const re=a(e,["imageConfig"]);return re!=null&&r(o,["imageConfig"],S_(re)),o}function $A(n,e,l){const o={},u=a(e,["systemInstruction"]);l!==void 0&&u!=null&&r(l,["systemInstruction"],ol(st(u)));const f=a(e,["temperature"]);f!=null&&r(o,["temperature"],f);const m=a(e,["topP"]);m!=null&&r(o,["topP"],m);const g=a(e,["topK"]);g!=null&&r(o,["topK"],g);const y=a(e,["candidateCount"]);y!=null&&r(o,["candidateCount"],y);const p=a(e,["maxOutputTokens"]);p!=null&&r(o,["maxOutputTokens"],p);const v=a(e,["stopSequences"]);v!=null&&r(o,["stopSequences"],v);const C=a(e,["responseLogprobs"]);C!=null&&r(o,["responseLogprobs"],C);const S=a(e,["logprobs"]);S!=null&&r(o,["logprobs"],S);const A=a(e,["presencePenalty"]);A!=null&&r(o,["presencePenalty"],A);const N=a(e,["frequencyPenalty"]);N!=null&&r(o,["frequencyPenalty"],N);const I=a(e,["seed"]);I!=null&&r(o,["seed"],I);const G=a(e,["responseMimeType"]);G!=null&&r(o,["responseMimeType"],G);const V=a(e,["responseSchema"]);V!=null&&r(o,["responseSchema"],eM(Gu(V)));const Y=a(e,["responseJsonSchema"]);Y!=null&&r(o,["responseJsonSchema"],Y);const F=a(e,["routingConfig"]);F!=null&&r(o,["routingConfig"],F);const O=a(e,["modelSelectionConfig"]);O!=null&&r(o,["modelConfig"],L_(O));const Z=a(e,["safetySettings"]);if(l!==void 0&&Z!=null){let q=Z;Array.isArray(q)&&(q=q.map(K=>W_(K))),r(l,["safetySettings"],q)}const Q=a(e,["tools"]);if(l!==void 0&&Q!=null){let q=il(Q);Array.isArray(q)&&(q=q.map(K=>Sg(nl(K)))),r(l,["tools"],q)}const H=a(e,["toolConfig"]);l!==void 0&&H!=null&&r(l,["toolConfig"],pM(H));const W=a(e,["labels"]);l!==void 0&&W!=null&&r(l,["labels"],W);const $=a(e,["cachedContent"]);l!==void 0&&$!=null&&r(l,["cachedContent"],hn(n,$));const j=a(e,["responseModalities"]);j!=null&&r(o,["responseModalities"],j);const re=a(e,["mediaResolution"]);re!=null&&r(o,["mediaResolution"],re);const ue=a(e,["speechConfig"]);ue!=null&&r(o,["speechConfig"],rM(zu(ue)));const Be=a(e,["audioTimestamp"]);Be!=null&&r(o,["audioTimestamp"],Be);const at=a(e,["thinkingConfig"]);at!=null&&r(o,["thinkingConfig"],dM(at));const Xe=a(e,["imageConfig"]);return Xe!=null&&r(o,["imageConfig"],x_(Xe)),o}function Mh(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const u=a(e,["contents"]);if(u!=null){let m=qt(u);Array.isArray(m)&&(m=m.map(g=>Js(g))),r(l,["contents"],m)}const f=a(e,["config"]);return f!=null&&r(l,["generationConfig"],OA(n,f,l)),l}function Rh(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const u=a(e,["contents"]);if(u!=null){let m=qt(u);Array.isArray(m)&&(m=m.map(g=>ol(g))),r(l,["contents"],m)}const f=a(e,["config"]);return f!=null&&r(l,["generationConfig"],$A(n,f,l)),l}function Nh(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["candidates"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>$E(p))),r(e,["candidates"],y)}const u=a(n,["modelVersion"]);u!=null&&r(e,["modelVersion"],u);const f=a(n,["promptFeedback"]);f!=null&&r(e,["promptFeedback"],f);const m=a(n,["responseId"]);m!=null&&r(e,["responseId"],m);const g=a(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function bh(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(v=>KE(v))),r(e,["candidates"],p)}const u=a(n,["createTime"]);u!=null&&r(e,["createTime"],u);const f=a(n,["modelVersion"]);f!=null&&r(e,["modelVersion"],f);const m=a(n,["promptFeedback"]);m!=null&&r(e,["promptFeedback"],m);const g=a(n,["responseId"]);g!=null&&r(e,["responseId"],g);const y=a(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function KA(n,e){const l={};if(a(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=a(n,["numberOfImages"]);e!==void 0&&o!=null&&r(e,["parameters","sampleCount"],o);const u=a(n,["aspectRatio"]);e!==void 0&&u!=null&&r(e,["parameters","aspectRatio"],u);const f=a(n,["guidanceScale"]);if(e!==void 0&&f!=null&&r(e,["parameters","guidanceScale"],f),a(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=a(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&r(e,["parameters","safetySetting"],m);const g=a(n,["personGeneration"]);e!==void 0&&g!=null&&r(e,["parameters","personGeneration"],g);const y=a(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&r(e,["parameters","includeSafetyAttributes"],y);const p=a(n,["includeRaiReason"]);e!==void 0&&p!=null&&r(e,["parameters","includeRaiReason"],p);const v=a(n,["language"]);e!==void 0&&v!=null&&r(e,["parameters","language"],v);const C=a(n,["outputMimeType"]);e!==void 0&&C!=null&&r(e,["parameters","outputOptions","mimeType"],C);const S=a(n,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&r(e,["parameters","outputOptions","compressionQuality"],S),a(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const A=a(n,["imageSize"]);if(e!==void 0&&A!=null&&r(e,["parameters","sampleImageSize"],A),a(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function QA(n,e){const l={},o=a(n,["outputGcsUri"]);e!==void 0&&o!=null&&r(e,["parameters","storageUri"],o);const u=a(n,["negativePrompt"]);e!==void 0&&u!=null&&r(e,["parameters","negativePrompt"],u);const f=a(n,["numberOfImages"]);e!==void 0&&f!=null&&r(e,["parameters","sampleCount"],f);const m=a(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const g=a(n,["guidanceScale"]);e!==void 0&&g!=null&&r(e,["parameters","guidanceScale"],g);const y=a(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const p=a(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const v=a(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const C=a(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&r(e,["parameters","includeSafetyAttributes"],C);const S=a(n,["includeRaiReason"]);e!==void 0&&S!=null&&r(e,["parameters","includeRaiReason"],S);const A=a(n,["language"]);e!==void 0&&A!=null&&r(e,["parameters","language"],A);const N=a(n,["outputMimeType"]);e!==void 0&&N!=null&&r(e,["parameters","outputOptions","mimeType"],N);const I=a(n,["outputCompressionQuality"]);e!==void 0&&I!=null&&r(e,["parameters","outputOptions","compressionQuality"],I);const G=a(n,["addWatermark"]);e!==void 0&&G!=null&&r(e,["parameters","addWatermark"],G);const V=a(n,["imageSize"]);e!==void 0&&V!=null&&r(e,["parameters","sampleImageSize"],V);const Y=a(n,["enhancePrompt"]);return e!==void 0&&Y!=null&&r(e,["parameters","enhancePrompt"],Y),l}function XA(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const u=a(e,["prompt"]);u!=null&&r(l,["instances[0]","prompt"],u);const f=a(e,["config"]);return f!=null&&KA(f,l),l}function ZA(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const u=a(e,["prompt"]);u!=null&&r(l,["instances[0]","prompt"],u);const f=a(e,["config"]);return f!=null&&QA(f,l),l}function WA(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["predictions"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>c_(m))),r(e,["generatedImages"],f)}const u=a(n,["positivePromptSafetyAttributes"]);return u!=null&&r(e,["positivePromptSafetyAttributes"],Tg(u)),e}function jA(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["predictions"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>Ys(m))),r(e,["generatedImages"],f)}const u=a(n,["positivePromptSafetyAttributes"]);return u!=null&&r(e,["positivePromptSafetyAttributes"],Cg(u)),e}function e_(n,e){const l={},o=a(n,["numberOfVideos"]);if(e!==void 0&&o!=null&&r(e,["parameters","sampleCount"],o),a(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=a(n,["durationSeconds"]);if(e!==void 0&&u!=null&&r(e,["parameters","durationSeconds"],u),a(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=a(n,["aspectRatio"]);e!==void 0&&f!=null&&r(e,["parameters","aspectRatio"],f);const m=a(n,["resolution"]);e!==void 0&&m!=null&&r(e,["parameters","resolution"],m);const g=a(n,["personGeneration"]);if(e!==void 0&&g!=null&&r(e,["parameters","personGeneration"],g),a(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=a(n,["negativePrompt"]);e!==void 0&&y!=null&&r(e,["parameters","negativePrompt"],y);const p=a(n,["enhancePrompt"]);if(e!==void 0&&p!=null&&r(e,["parameters","enhancePrompt"],p),a(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(a(n,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(a(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function t_(n,e){const l={},o=a(n,["numberOfVideos"]);e!==void 0&&o!=null&&r(e,["parameters","sampleCount"],o);const u=a(n,["outputGcsUri"]);e!==void 0&&u!=null&&r(e,["parameters","storageUri"],u);const f=a(n,["fps"]);e!==void 0&&f!=null&&r(e,["parameters","fps"],f);const m=a(n,["durationSeconds"]);e!==void 0&&m!=null&&r(e,["parameters","durationSeconds"],m);const g=a(n,["seed"]);e!==void 0&&g!=null&&r(e,["parameters","seed"],g);const y=a(n,["aspectRatio"]);e!==void 0&&y!=null&&r(e,["parameters","aspectRatio"],y);const p=a(n,["resolution"]);e!==void 0&&p!=null&&r(e,["parameters","resolution"],p);const v=a(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const C=a(n,["pubsubTopic"]);e!==void 0&&C!=null&&r(e,["parameters","pubsubTopic"],C);const S=a(n,["negativePrompt"]);e!==void 0&&S!=null&&r(e,["parameters","negativePrompt"],S);const A=a(n,["enhancePrompt"]);e!==void 0&&A!=null&&r(e,["parameters","enhancePrompt"],A);const N=a(n,["generateAudio"]);e!==void 0&&N!=null&&r(e,["parameters","generateAudio"],N);const I=a(n,["lastFrame"]);e!==void 0&&I!=null&&r(e,["instances[0]","lastFrame"],Ft(I));const G=a(n,["referenceImages"]);if(e!==void 0&&G!=null){let F=G;Array.isArray(F)&&(F=F.map(O=>UM(O))),r(e,["instances[0]","referenceImages"],F)}const V=a(n,["mask"]);e!==void 0&&V!=null&&r(e,["instances[0]","mask"],IM(V));const Y=a(n,["compressionQuality"]);return e!==void 0&&Y!=null&&r(e,["parameters","compressionQuality"],Y),l}function n_(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["metadata"]);o!=null&&r(e,["metadata"],o);const u=a(n,["done"]);u!=null&&r(e,["done"],u);const f=a(n,["error"]);f!=null&&r(e,["error"],f);const m=a(n,["response","generateVideoResponse"]);return m!=null&&r(e,["response"],s_(m)),e}function i_(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["metadata"]);o!=null&&r(e,["metadata"],o);const u=a(n,["done"]);u!=null&&r(e,["done"],u);const f=a(n,["error"]);f!=null&&r(e,["error"],f);const m=a(n,["response"]);return m!=null&&r(e,["response"],a_(m)),e}function l_(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const u=a(e,["prompt"]);u!=null&&r(l,["instances[0]","prompt"],u);const f=a(e,["image"]);if(f!=null&&r(l,["instances[0]","image"],vg(f)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const m=a(e,["source"]);m!=null&&r_(m,l);const g=a(e,["config"]);return g!=null&&e_(g,l),l}function o_(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const u=a(e,["prompt"]);u!=null&&r(l,["instances[0]","prompt"],u);const f=a(e,["image"]);f!=null&&r(l,["instances[0]","image"],Ft(f));const m=a(e,["video"]);m!=null&&r(l,["instances[0]","video"],xg(m));const g=a(e,["source"]);g!=null&&u_(g,l);const y=a(e,["config"]);return y!=null&&t_(y,l),l}function s_(n){const e={},l=a(n,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>d_(m))),r(e,["generatedVideos"],f)}const o=a(n,["raiMediaFilteredCount"]);o!=null&&r(e,["raiMediaFilteredCount"],o);const u=a(n,["raiMediaFilteredReasons"]);return u!=null&&r(e,["raiMediaFilteredReasons"],u),e}function a_(n){const e={},l=a(n,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>m_(m))),r(e,["generatedVideos"],f)}const o=a(n,["raiMediaFilteredCount"]);o!=null&&r(e,["raiMediaFilteredCount"],o);const u=a(n,["raiMediaFilteredReasons"]);return u!=null&&r(e,["raiMediaFilteredReasons"],u),e}function r_(n,e){const l={},o=a(n,["prompt"]);e!==void 0&&o!=null&&r(e,["instances[0]","prompt"],o);const u=a(n,["image"]);if(e!==void 0&&u!=null&&r(e,["instances[0]","image"],vg(u)),a(n,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return l}function u_(n,e){const l={},o=a(n,["prompt"]);e!==void 0&&o!=null&&r(e,["instances[0]","prompt"],o);const u=a(n,["image"]);e!==void 0&&u!=null&&r(e,["instances[0]","image"],Ft(u));const f=a(n,["video"]);return e!==void 0&&f!=null&&r(e,["instances[0]","video"],xg(f)),l}function c_(n){const e={},l=a(n,["_self"]);l!=null&&r(e,["image"],E_(l));const o=a(n,["raiFilteredReason"]);o!=null&&r(e,["raiFilteredReason"],o);const u=a(n,["_self"]);return u!=null&&r(e,["safetyAttributes"],Tg(u)),e}function Ys(n){const e={},l=a(n,["_self"]);l!=null&&r(e,["image"],yg(l));const o=a(n,["raiFilteredReason"]);o!=null&&r(e,["raiFilteredReason"],o);const u=a(n,["_self"]);u!=null&&r(e,["safetyAttributes"],Cg(u));const f=a(n,["prompt"]);return f!=null&&r(e,["enhancedPrompt"],f),e}function f_(n){const e={},l=a(n,["_self"]);l!=null&&r(e,["mask"],yg(l));const o=a(n,["labels"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>IA(f))),r(e,["labels"],u)}return e}function d_(n){const e={},l=a(n,["_self"]);return l!=null&&r(e,["video"],DM(l)),e}function m_(n){const e={},l=a(n,["_self"]);return l!=null&&r(e,["video"],kM(l)),e}function p_(n,e){const l={},o=a(e,["model"]);return o!=null&&r(l,["_url","name"],xe(n,o)),l}function h_(n,e){const l={},o=a(e,["model"]);return o!=null&&r(l,["_url","name"],xe(n,o)),l}function g_(n){const e={},l=a(n,["authConfig"]);return l!=null&&r(e,["authConfig"],PE(l)),e}function y_(n){const e={},l=a(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],vA(l)),e}function v_(n){const e={},l=a(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],TA(l)),e}function T_(n){const e={},l=a(n,["timeRangeFilter"]);if(l!=null&&r(e,["timeRangeFilter"],A_(l)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function C_(n){const e={},l=a(n,["timeRangeFilter"]);l!=null&&r(e,["timeRangeFilter"],__(l));const o=a(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function S_(n){const e={},l=a(n,["aspectRatio"]);return l!=null&&r(e,["aspectRatio"],l),e}function x_(n){const e={},l=a(n,["aspectRatio"]);return l!=null&&r(e,["aspectRatio"],l),e}function E_(n){const e={},l=a(n,["bytesBase64Encoded"]);l!=null&&r(e,["imageBytes"],fi(l));const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function yg(n){const e={},l=a(n,["gcsUri"]);l!=null&&r(e,["gcsUri"],l);const o=a(n,["bytesBase64Encoded"]);o!=null&&r(e,["imageBytes"],fi(o));const u=a(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function vg(n){const e={};if(a(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=a(n,["imageBytes"]);l!=null&&r(e,["bytesBase64Encoded"],fi(l));const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Ft(n){const e={},l=a(n,["gcsUri"]);l!=null&&r(e,["gcsUri"],l);const o=a(n,["imageBytes"]);o!=null&&r(e,["bytesBase64Encoded"],fi(o));const u=a(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function A_(n){const e={},l=a(n,["startTime"]);l!=null&&r(e,["startTime"],l);const o=a(n,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function __(n){const e={},l=a(n,["startTime"]);l!=null&&r(e,["startTime"],l);const o=a(n,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function M_(n){const e={},l=a(n,["latitude"]);l!=null&&r(e,["latitude"],l);const o=a(n,["longitude"]);return o!=null&&r(e,["longitude"],o),e}function R_(n){const e={},l=a(n,["latitude"]);l!=null&&r(e,["latitude"],l);const o=a(n,["longitude"]);return o!=null&&r(e,["longitude"],o),e}function N_(n,e,l){const o={},u=a(e,["pageSize"]);l!==void 0&&u!=null&&r(l,["_query","pageSize"],u);const f=a(e,["pageToken"]);l!==void 0&&f!=null&&r(l,["_query","pageToken"],f);const m=a(e,["filter"]);l!==void 0&&m!=null&&r(l,["_query","filter"],m);const g=a(e,["queryBase"]);return l!==void 0&&g!=null&&r(l,["_url","models_url"],tg(n,g)),o}function b_(n,e,l){const o={},u=a(e,["pageSize"]);l!==void 0&&u!=null&&r(l,["_query","pageSize"],u);const f=a(e,["pageToken"]);l!==void 0&&f!=null&&r(l,["_query","pageToken"],f);const m=a(e,["filter"]);l!==void 0&&m!=null&&r(l,["_query","filter"],m);const g=a(e,["queryBase"]);return l!==void 0&&g!=null&&r(l,["_url","models_url"],tg(n,g)),o}function w_(n,e){const l={},o=a(e,["config"]);return o!=null&&N_(n,o,l),l}function D_(n,e){const l={},o=a(e,["config"]);return o!=null&&b_(n,o,l),l}function k_(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const u=a(n,["_self"]);if(u!=null){let f=ng(u);Array.isArray(f)&&(f=f.map(m=>Nu(m))),r(e,["models"],f)}return e}function I_(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const u=a(n,["_self"]);if(u!=null){let f=ng(u);Array.isArray(f)&&(f=f.map(m=>bu(m))),r(e,["models"],f)}return e}function U_(n){const e={},l=a(n,["maskMode"]);l!=null&&r(e,["maskMode"],l);const o=a(n,["segmentationClasses"]);o!=null&&r(e,["maskClasses"],o);const u=a(n,["maskDilation"]);return u!=null&&r(e,["dilation"],u),e}function Nu(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const u=a(n,["description"]);u!=null&&r(e,["description"],u);const f=a(n,["version"]);f!=null&&r(e,["version"],f);const m=a(n,["_self"]);m!=null&&r(e,["tunedModelInfo"],gM(m));const g=a(n,["inputTokenLimit"]);g!=null&&r(e,["inputTokenLimit"],g);const y=a(n,["outputTokenLimit"]);y!=null&&r(e,["outputTokenLimit"],y);const p=a(n,["supportedGenerationMethods"]);return p!=null&&r(e,["supportedActions"],p),e}function bu(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const u=a(n,["description"]);u!=null&&r(e,["description"],u);const f=a(n,["versionId"]);f!=null&&r(e,["version"],f);const m=a(n,["deployedModels"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(S=>DA(S))),r(e,["endpoints"],C)}const g=a(n,["labels"]);g!=null&&r(e,["labels"],g);const y=a(n,["_self"]);y!=null&&r(e,["tunedModelInfo"],yM(y));const p=a(n,["defaultCheckpointId"]);p!=null&&r(e,["defaultCheckpointId"],p);const v=a(n,["checkpoints"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(S=>QE(S))),r(e,["checkpoints"],C)}return e}function L_(n){const e={},l=a(n,["featureSelectionPreference"]);return l!=null&&r(e,["featureSelectionPreference"],l),e}function V_(n){const e={},l=a(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>sM(u))),r(e,["speakerVoiceConfigs"],o)}return e}function q_(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],LM(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const u=a(n,["inlineData"]);u!=null&&r(e,["inlineData"],FE(u));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],UA(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],GA(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function G_(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],VM(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const u=a(n,["inlineData"]);u!=null&&r(e,["inlineData"],JE(u));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],LA(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],zA(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function z_(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],qM(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const u=a(n,["inlineData"]);u!=null&&r(e,["inlineData"],YE(u));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],VA(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],HA(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function H_(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],GM(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const u=a(n,["inlineData"]);u!=null&&r(e,["inlineData"],OE(u));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],qA(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],BA(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function B_(n){const e={},l=a(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function P_(n){const e={},l=a(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function F_(n){const e={},l=a(n,["productImage"]);return l!=null&&r(e,["image"],Ft(l)),e}function J_(n,e){const l={},o=a(n,["numberOfImages"]);e!==void 0&&o!=null&&r(e,["parameters","sampleCount"],o);const u=a(n,["baseSteps"]);e!==void 0&&u!=null&&r(e,["parameters","editConfig","baseSteps"],u);const f=a(n,["outputGcsUri"]);e!==void 0&&f!=null&&r(e,["parameters","storageUri"],f);const m=a(n,["seed"]);e!==void 0&&m!=null&&r(e,["parameters","seed"],m);const g=a(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&r(e,["parameters","safetySetting"],g);const y=a(n,["personGeneration"]);e!==void 0&&y!=null&&r(e,["parameters","personGeneration"],y);const p=a(n,["addWatermark"]);e!==void 0&&p!=null&&r(e,["parameters","addWatermark"],p);const v=a(n,["outputMimeType"]);e!==void 0&&v!=null&&r(e,["parameters","outputOptions","mimeType"],v);const C=a(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&r(e,["parameters","outputOptions","compressionQuality"],C);const S=a(n,["enhancePrompt"]);return e!==void 0&&S!=null&&r(e,["parameters","enhancePrompt"],S),l}function Y_(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const u=a(e,["source"]);u!=null&&$_(u,l);const f=a(e,["config"]);return f!=null&&J_(f,l),l}function O_(n){const e={},l=a(n,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>Ys(u))),r(e,["generatedImages"],o)}return e}function $_(n,e){const l={},o=a(n,["prompt"]);e!==void 0&&o!=null&&r(e,["instances[0]","prompt"],o);const u=a(n,["personImage"]);e!==void 0&&u!=null&&r(e,["instances[0]","personImage","image"],Ft(u));const f=a(n,["productImages"]);if(e!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>F_(g))),r(e,["instances[0]","productImages"],m)}return l}function K_(n){const e={},l=a(n,["referenceImage"]);l!=null&&r(e,["referenceImage"],Ft(l));const o=a(n,["referenceId"]);o!=null&&r(e,["referenceId"],o);const u=a(n,["referenceType"]);u!=null&&r(e,["referenceType"],u);const f=a(n,["maskImageConfig"]);f!=null&&r(e,["maskImageConfig"],U_(f));const m=a(n,["controlImageConfig"]);m!=null&&r(e,["controlImageConfig"],aA(m));const g=a(n,["styleImageConfig"]);g!=null&&r(e,["styleImageConfig"],uM(g));const y=a(n,["subjectImageConfig"]);return y!=null&&r(e,["subjectImageConfig"],cM(y)),e}function Q_(n){const e={},l=a(n,["latLng"]);l!=null&&r(e,["latLng"],M_(l));const o=a(n,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function X_(n){const e={},l=a(n,["latLng"]);l!=null&&r(e,["latLng"],R_(l));const o=a(n,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function Tg(n){const e={},l=a(n,["safetyAttributes","categories"]);l!=null&&r(e,["categories"],l);const o=a(n,["safetyAttributes","scores"]);o!=null&&r(e,["scores"],o);const u=a(n,["contentType"]);return u!=null&&r(e,["contentType"],u),e}function Cg(n){const e={},l=a(n,["safetyAttributes","categories"]);l!=null&&r(e,["categories"],l);const o=a(n,["safetyAttributes","scores"]);o!=null&&r(e,["scores"],o);const u=a(n,["contentType"]);return u!=null&&r(e,["contentType"],u),e}function Z_(n){const e={};if(a(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=a(n,["category"]);l!=null&&r(e,["category"],l);const o=a(n,["threshold"]);return o!=null&&r(e,["threshold"],o),e}function W_(n){const e={},l=a(n,["method"]);l!=null&&r(e,["method"],l);const o=a(n,["category"]);o!=null&&r(e,["category"],o);const u=a(n,["threshold"]);return u!=null&&r(e,["threshold"],u),e}function j_(n){const e={},l=a(n,["anyOf"]);l!=null&&r(e,["anyOf"],l);const o=a(n,["default"]);o!=null&&r(e,["default"],o);const u=a(n,["description"]);u!=null&&r(e,["description"],u);const f=a(n,["enum"]);f!=null&&r(e,["enum"],f);const m=a(n,["example"]);m!=null&&r(e,["example"],m);const g=a(n,["format"]);g!=null&&r(e,["format"],g);const y=a(n,["items"]);y!=null&&r(e,["items"],y);const p=a(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=a(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const C=a(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const S=a(n,["maximum"]);S!=null&&r(e,["maximum"],S);const A=a(n,["minItems"]);A!=null&&r(e,["minItems"],A);const N=a(n,["minLength"]);N!=null&&r(e,["minLength"],N);const I=a(n,["minProperties"]);I!=null&&r(e,["minProperties"],I);const G=a(n,["minimum"]);G!=null&&r(e,["minimum"],G);const V=a(n,["nullable"]);V!=null&&r(e,["nullable"],V);const Y=a(n,["pattern"]);Y!=null&&r(e,["pattern"],Y);const F=a(n,["properties"]);F!=null&&r(e,["properties"],F);const O=a(n,["propertyOrdering"]);O!=null&&r(e,["propertyOrdering"],O);const Z=a(n,["required"]);Z!=null&&r(e,["required"],Z);const Q=a(n,["title"]);Q!=null&&r(e,["title"],Q);const H=a(n,["type"]);return H!=null&&r(e,["type"],H),e}function eM(n){const e={},l=a(n,["anyOf"]);l!=null&&r(e,["anyOf"],l);const o=a(n,["default"]);o!=null&&r(e,["default"],o);const u=a(n,["description"]);u!=null&&r(e,["description"],u);const f=a(n,["enum"]);f!=null&&r(e,["enum"],f);const m=a(n,["example"]);m!=null&&r(e,["example"],m);const g=a(n,["format"]);g!=null&&r(e,["format"],g);const y=a(n,["items"]);y!=null&&r(e,["items"],y);const p=a(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=a(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const C=a(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const S=a(n,["maximum"]);S!=null&&r(e,["maximum"],S);const A=a(n,["minItems"]);A!=null&&r(e,["minItems"],A);const N=a(n,["minLength"]);N!=null&&r(e,["minLength"],N);const I=a(n,["minProperties"]);I!=null&&r(e,["minProperties"],I);const G=a(n,["minimum"]);G!=null&&r(e,["minimum"],G);const V=a(n,["nullable"]);V!=null&&r(e,["nullable"],V);const Y=a(n,["pattern"]);Y!=null&&r(e,["pattern"],Y);const F=a(n,["properties"]);F!=null&&r(e,["properties"],F);const O=a(n,["propertyOrdering"]);O!=null&&r(e,["propertyOrdering"],O);const Z=a(n,["required"]);Z!=null&&r(e,["required"],Z);const Q=a(n,["title"]);Q!=null&&r(e,["title"],Q);const H=a(n,["type"]);return H!=null&&r(e,["type"],H),e}function tM(n){const e={},l=a(n,["image"]);return l!=null&&r(e,["image"],Ft(l)),e}function nM(n,e){const l={},o=a(n,["mode"]);e!==void 0&&o!=null&&r(e,["parameters","mode"],o);const u=a(n,["maxPredictions"]);e!==void 0&&u!=null&&r(e,["parameters","maxPredictions"],u);const f=a(n,["confidenceThreshold"]);e!==void 0&&f!=null&&r(e,["parameters","confidenceThreshold"],f);const m=a(n,["maskDilation"]);e!==void 0&&m!=null&&r(e,["parameters","maskDilation"],m);const g=a(n,["binaryColorThreshold"]);return e!==void 0&&g!=null&&r(e,["parameters","binaryColorThreshold"],g),l}function iM(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const u=a(e,["source"]);u!=null&&oM(u,l);const f=a(e,["config"]);return f!=null&&nM(f,l),l}function lM(n){const e={},l=a(n,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>f_(u))),r(e,["generatedMasks"],o)}return e}function oM(n,e){const l={},o=a(n,["prompt"]);e!==void 0&&o!=null&&r(e,["instances[0]","prompt"],o);const u=a(n,["image"]);e!==void 0&&u!=null&&r(e,["instances[0]","image"],Ft(u));const f=a(n,["scribbleImage"]);return e!==void 0&&f!=null&&r(e,["instances[0]","scribble"],tM(f)),l}function sM(n){const e={},l=a(n,["speaker"]);l!=null&&r(e,["speaker"],l);const o=a(n,["voiceConfig"]);return o!=null&&r(e,["voiceConfig"],Eg(o)),e}function aM(n){const e={},l=a(n,["voiceConfig"]);l!=null&&r(e,["voiceConfig"],Eg(l));const o=a(n,["multiSpeakerVoiceConfig"]);o!=null&&r(e,["multiSpeakerVoiceConfig"],V_(o));const u=a(n,["languageCode"]);return u!=null&&r(e,["languageCode"],u),e}function rM(n){const e={},l=a(n,["voiceConfig"]);if(l!=null&&r(e,["voiceConfig"],zM(l)),a(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=a(n,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function uM(n){const e={},l=a(n,["styleDescription"]);return l!=null&&r(e,["styleDescription"],l),e}function cM(n){const e={},l=a(n,["subjectType"]);l!=null&&r(e,["subjectType"],l);const o=a(n,["subjectDescription"]);return o!=null&&r(e,["subjectDescription"],o),e}function fM(n){const e={},l=a(n,["includeThoughts"]);l!=null&&r(e,["includeThoughts"],l);const o=a(n,["thinkingBudget"]);return o!=null&&r(e,["thinkingBudget"],o),e}function dM(n){const e={},l=a(n,["includeThoughts"]);l!=null&&r(e,["includeThoughts"],l);const o=a(n,["thinkingBudget"]);return o!=null&&r(e,["thinkingBudget"],o),e}function mM(n){const e={},l=a(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],PA(l));const o=a(n,["retrievalConfig"]);return o!=null&&r(e,["retrievalConfig"],Q_(o)),e}function pM(n){const e={},l=a(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],FA(l));const o=a(n,["retrievalConfig"]);return o!=null&&r(e,["retrievalConfig"],X_(o)),e}function hM(n){const e={},l=a(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>JA(p))),r(e,["functionDeclarations"],y)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(n,["googleSearch"]);o!=null&&r(e,["googleSearch"],T_(o));const u=a(n,["googleSearchRetrieval"]);if(u!=null&&r(e,["googleSearchRetrieval"],y_(u)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],RM());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],eA(m));const g=a(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function Sg(n){const e={},l=a(n,["functionDeclarations"]);if(l!=null){let C=l;Array.isArray(C)&&(C=C.map(S=>YA(S))),r(e,["functionDeclarations"],C)}const o=a(n,["retrieval"]);o!=null&&r(e,["retrieval"],o);const u=a(n,["googleSearch"]);u!=null&&r(e,["googleSearch"],C_(u));const f=a(n,["googleSearchRetrieval"]);f!=null&&r(e,["googleSearchRetrieval"],v_(f));const m=a(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],kA(m));const g=a(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],g_(g)),a(n,["urlContext"])!=null&&r(e,["urlContext"],NM());const p=a(n,["computerUse"]);p!=null&&r(e,["computerUse"],tA(p));const v=a(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function gM(n){const e={},l=a(n,["baseModel"]);l!=null&&r(e,["baseModel"],l);const o=a(n,["createTime"]);o!=null&&r(e,["createTime"],o);const u=a(n,["updateTime"]);return u!=null&&r(e,["updateTime"],u),e}function yM(n){const e={},l=a(n,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&r(e,["baseModel"],l);const o=a(n,["createTime"]);o!=null&&r(e,["createTime"],o);const u=a(n,["updateTime"]);return u!=null&&r(e,["updateTime"],u),e}function vM(n,e){const l={},o=a(n,["displayName"]);e!==void 0&&o!=null&&r(e,["displayName"],o);const u=a(n,["description"]);e!==void 0&&u!=null&&r(e,["description"],u);const f=a(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&r(e,["defaultCheckpointId"],f),l}function TM(n,e){const l={},o=a(n,["displayName"]);e!==void 0&&o!=null&&r(e,["displayName"],o);const u=a(n,["description"]);e!==void 0&&u!=null&&r(e,["description"],u);const f=a(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&r(e,["defaultCheckpointId"],f),l}function CM(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","name"],xe(n,o));const u=a(e,["config"]);return u!=null&&vM(u,l),l}function SM(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const u=a(e,["config"]);return u!=null&&TM(u,l),l}function xM(n,e){const l={},o=a(n,["outputGcsUri"]);e!==void 0&&o!=null&&r(e,["parameters","storageUri"],o);const u=a(n,["includeRaiReason"]);e!==void 0&&u!=null&&r(e,["parameters","includeRaiReason"],u);const f=a(n,["outputMimeType"]);e!==void 0&&f!=null&&r(e,["parameters","outputOptions","mimeType"],f);const m=a(n,["outputCompressionQuality"]);e!==void 0&&m!=null&&r(e,["parameters","outputOptions","compressionQuality"],m);const g=a(n,["enhanceInputImage"]);e!==void 0&&g!=null&&r(e,["parameters","upscaleConfig","enhanceInputImage"],g);const y=a(n,["imagePreservationFactor"]);e!==void 0&&y!=null&&r(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const p=a(n,["numberOfImages"]);e!==void 0&&p!=null&&r(e,["parameters","sampleCount"],p);const v=a(n,["mode"]);return e!==void 0&&v!=null&&r(e,["parameters","mode"],v),l}function EM(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const u=a(e,["image"]);u!=null&&r(l,["instances[0]","image"],Ft(u));const f=a(e,["upscaleFactor"]);f!=null&&r(l,["parameters","upscaleConfig","upscaleFactor"],f);const m=a(e,["config"]);return m!=null&&xM(m,l),l}function AM(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["predictions"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>Ys(f))),r(e,["generatedImages"],u)}return e}function _M(n){const e={},l=a(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>bM(u))),r(e,["urlMetadata"],o)}return e}function MM(n){const e={},l=a(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>wM(u))),r(e,["urlMetadata"],o)}return e}function RM(){return{}}function NM(){return{}}function bM(n){const e={},l=a(n,["retrievedUrl"]);l!=null&&r(e,["retrievedUrl"],l);const o=a(n,["urlRetrievalStatus"]);return o!=null&&r(e,["urlRetrievalStatus"],o),e}function wM(n){const e={},l=a(n,["retrievedUrl"]);l!=null&&r(e,["retrievedUrl"],l);const o=a(n,["urlRetrievalStatus"]);return o!=null&&r(e,["urlRetrievalStatus"],o),e}function DM(n){const e={},l=a(n,["video","uri"]);l!=null&&r(e,["uri"],l);const o=a(n,["video","encodedVideo"]);o!=null&&r(e,["videoBytes"],fi(o));const u=a(n,["encoding"]);return u!=null&&r(e,["mimeType"],u),e}function kM(n){const e={},l=a(n,["gcsUri"]);l!=null&&r(e,["uri"],l);const o=a(n,["bytesBase64Encoded"]);o!=null&&r(e,["videoBytes"],fi(o));const u=a(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function IM(n){const e={},l=a(n,["image"]);l!=null&&r(e,["_self"],Ft(l));const o=a(n,["maskMode"]);return o!=null&&r(e,["maskMode"],o),e}function UM(n){const e={},l=a(n,["image"]);l!=null&&r(e,["image"],Ft(l));const o=a(n,["referenceType"]);return o!=null&&r(e,["referenceType"],o),e}function LM(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const u=a(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function VM(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const u=a(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function qM(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const u=a(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function GM(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const u=a(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function xg(n){const e={},l=a(n,["uri"]);l!=null&&r(e,["gcsUri"],l);const o=a(n,["videoBytes"]);o!=null&&r(e,["bytesBase64Encoded"],fi(o));const u=a(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function Eg(n){const e={},l=a(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],B_(l)),e}function zM(n){const e={},l=a(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],P_(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HM="Content-Type",BM="X-Server-Timeout",PM="User-Agent",wu="x-goog-api-client",FM="1.22.0",JM=`google-genai-sdk/${FM}`,YM="v1beta1",OM="v1beta",wh=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class $M{constructor(e){var l,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:YM,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:OM,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),l=new URL(e);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,l,o){const u=[this.getRequestUrlInternal(l)];return o&&u.push(this.getBaseResourcePath()),e!==""&&u.push(e),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),u=this.constructUrl(e.path,l,o);if(e.queryParams)for(const[m,g]of Object.entries(e.queryParams))u.searchParams.append(m,String(g));let f={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=e.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,l,e.abortSignal),this.unaryApiCall(u,f,e.httpMethod)}patchHttpOptions(e,l){const o=JSON.parse(JSON.stringify(e));for(const[u,f]of Object.entries(l))typeof f=="object"?o[u]=Object.assign(Object.assign({},o[u]),f):f!==void 0&&(o[u]=f);return o}async requestStream(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),u=this.constructUrl(e.path,l,o);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let f={};return f.body=e.body,f=await this.includeExtraHttpOptionsToRequestInit(f,l,e.abortSignal),this.streamApiCall(u,f,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,l,o){if(l&&l.timeout||o){const u=new AbortController,f=u.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const m=setTimeout(()=>u.abort(),l.timeout);m&&typeof m.unref=="function"&&m.unref()}o&&o.addEventListener("abort",()=>{u.abort()}),e.signal=f}return l&&l.extraBody!==null&&KM(e,l.extraBody),e.headers=await this.getHeadersInternal(l),e}async unaryApiCall(e,l,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:o})).then(async u=>(await Dh(u),new Eu(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(e,l,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:o})).then(async u=>(await Dh(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(e){var l;return el(this,arguments,function*(){const u=(l=e==null?void 0:e.body)===null||l===void 0?void 0:l.getReader(),f=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let m="";for(;;){const{done:g,value:y}=yield Ge(u.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=f.decode(y,{stream:!0});try{const C=JSON.parse(p);if("error"in C){const S=JSON.parse(JSON.stringify(C.error)),A=S.status,N=S.code,I=`got status: ${A}. ${JSON.stringify(C)}`;if(N>=400&&N<600)throw new Fs({message:I,status:N})}}catch(C){if(C.name==="ApiError")throw C}m+=p;let v=m.match(wh);for(;v;){const C=v[1];try{const S=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ge(new Eu(S)),m=m.slice(v[0].length),v=m.match(wh)}catch(S){throw new Error(`exception parsing stream chunk ${C}. ${S}`)}}}}finally{u.releaseLock()}})}async apiCall(e,l){return fetch(e,l).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},l=JM+" "+this.clientOptions.userAgentExtra;return e[PM]=l,e[wu]=l,e[HM]="application/json",e}async getHeadersInternal(e){const l=new Headers;if(e&&e.headers){for(const[o,u]of Object.entries(e.headers))l.append(o,u);e.timeout&&e.timeout>0&&l.append(BM,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l),l}async uploadFile(e,l){var o;const u={};l!=null&&(u.mimeType=l.mimeType,u.name=l.name,u.displayName=l.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const f=this.clientOptions.uploader,m=await f.stat(e);u.sizeBytes=String(m.size);const g=(o=l==null?void 0:l.mimeType)!==null&&o!==void 0?o:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=g;const y=await this.fetchUploadUrl(u,l);return f.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,l){var o;let u={};l!=null&&l.httpOptions?u=l.httpOptions:u={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const f={file:e},m=await this.request({path:te("upload/v1beta/files",f._url),body:JSON.stringify(f),httpMethod:"POST",httpOptions:u});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(o=m==null?void 0:m.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function Dh(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const l=n.status;let o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await n.json():o={error:{message:await n.text(),code:n.status,status:n.statusText}};const u=JSON.stringify(o);throw l>=400&&l<600?new Fs({message:u,status:l}):new Error(u)}}function KM(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof n.body=="string"&&n.body.length>0)try{const f=JSON.parse(n.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))l=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(f,m){const g=Object.assign({},f);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const p=m[y],v=g[y];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=o(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),g[y]=p)}return g}const u=o(l,e);n.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QM="mcp_used/unknown";let XM=!1;function Ag(n){for(const e of n)if(ZM(e)||typeof e=="object"&&"inputSchema"in e)return!0;return XM}function _g(n){var e;const l=(e=n[wu])!==null&&e!==void 0?e:"";n[wu]=(l+` ${QM}`).trimStart()}function ZM(n){return n!==null&&typeof n=="object"&&n instanceof Pu}function WM(n,e=100){return el(this,arguments,function*(){let o,u=0;for(;u<e;){const f=yield Ge(n.listTools({cursor:o}));for(const m of f.tools)yield yield Ge(m),u++;if(!f.nextCursor)break;o=f.nextCursor}})}class Pu{constructor(e=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=l}static create(e,l){return new Pu(e,l)}async initialize(){var e,l,o,u;if(this.mcpTools.length>0)return;const f={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(l=void 0,oo(WM(v))),p;p=await y.next(),e=p.done,!e;g=!0){u=p.value,g=!1;const C=u;m.push(C);const S=C.name;if(f[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);f[S]=v}}catch(C){l={error:C}}finally{try{!g&&!e&&(o=y.return)&&await o.call(y)}finally{if(l)throw l.error}}this.mcpTools=m,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),rT(this.mcpTools,this.config)}async callTool(e){await this.initialize();const l=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[o.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const m=await u.callTool({name:o.name,arguments:o.args},void 0,f);l.push({functionResponse:{name:o.name,response:m.isError?{error:m}:m}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function jM(n,e,l){const o=new eT;let u;l.data instanceof Blob?u=JSON.parse(await l.data.text()):u=JSON.parse(l.data);const f=Hx(u);Object.assign(o,f),e(o)}class eR{constructor(e,l,o){this.apiClient=e,this.auth=l,this.webSocketFactory=o}async connect(e){var l,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),m=iR(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${u}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let p=()=>{};const v=new Promise(F=>{p=F}),C=e.callbacks,S=function(){p({})},A=this.apiClient,N={onopen:S,onmessage:F=>{jM(A,C.onmessage,F)},onerror:(l=C==null?void 0:C.onerror)!==null&&l!==void 0?l:function(F){},onclose:(o=C==null?void 0:C.onclose)!==null&&o!==void 0?o:function(F){}},I=this.webSocketFactory.create(y,nR(m),N);I.connect(),await v;const G=xe(this.apiClient,e.model),V=mg({model:G}),Y=Ru({setup:V});return I.send(JSON.stringify(Y)),new tR(I,this.apiClient)}}class tR{constructor(e,l){this.conn=e,this.apiClient=l}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=Fx(e),o=dg(l);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const l=Px(e),o=Ru(l);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const l=Ru({playbackControl:e});this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(Wi.PLAY)}pause(){this.sendPlaybackControl(Wi.PAUSE)}stop(){this.sendPlaybackControl(Wi.STOP)}resetContext(){this.sendPlaybackControl(Wi.RESET_CONTEXT)}close(){this.conn.close()}}function nR(n){const e={};return n.forEach((l,o)=>{e[o]=l}),e}function iR(n){const e=new Headers;for(const[l,o]of Object.entries(n))e.append(l,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lR="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function oR(n,e,l){const o=new j0;let u;l.data instanceof Blob?u=await l.data.text():l.data instanceof ArrayBuffer?u=new TextDecoder().decode(l.data):u=l.data;const f=JSON.parse(u);if(n.isVertexAI()){const m=Wx(f);Object.assign(o,m)}else{const m=Zx(f);Object.assign(o,m)}e(o)}class sR{constructor(e,l,o){this.apiClient=e,this.auth=l,this.webSocketFactory=o,this.music=new eR(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var l,o,u,f,m,g;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const C=this.apiClient.getHeaders();e.config&&e.config.tools&&Ag(e.config.tools)&&_g(C);const S=cR(C);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const $=this.apiClient.getApiKey();let j="BidiGenerateContent",re="key";$!=null&&$.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),j="BidiGenerateContentConstrained",re="access_token"),v=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${j}?${re}=${$}`}let A=()=>{};const N=new Promise($=>{A=$}),I=e.callbacks,G=function(){var $;($=I==null?void 0:I.onopen)===null||$===void 0||$.call(I),A({})},V=this.apiClient,Y={onopen:G,onmessage:$=>{oR(V,I.onmessage,$)},onerror:(l=I==null?void 0:I.onerror)!==null&&l!==void 0?l:function($){},onclose:(o=I==null?void 0:I.onclose)!==null&&o!==void 0?o:function($){}},F=this.webSocketFactory.create(v,uR(S),Y);F.connect(),await N;let O=xe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const $=this.apiClient.getProject(),j=this.apiClient.getLocation();O=`projects/${$}/locations/${j}/`+O}let Z={};this.apiClient.isVertexAI()&&((u=e.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ls.AUDIO]}:e.config.responseModalities=[Ls.AUDIO]),!((f=e.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Q=(g=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],H=[];for(const $ of Q)if(this.isCallableTool($)){const j=$;H.push(await j.tool())}else H.push($);H.length>0&&(e.config.tools=H);const W={model:O,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Z=Lx(this.apiClient,W):Z=Ux(this.apiClient,W),delete Z.config,F.send(JSON.stringify(Z)),new rR(F,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const aR={turnComplete:!0};class rR{constructor(e,l){this.conn=e,this.apiClient=l}tLiveClientContent(e,l){if(l.turns!==null&&l.turns!==void 0){let o=[];try{o=qt(l.turns),e.isVertexAI()?o=o.map(u=>ol(u)):o=o.map(u=>Js(u))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:o,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(e,l){let o=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?o=l.functionResponses:o=[l.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const f of o){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!e.isVertexAI()&&!("id"in f))throw new Error(lR)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},aR),e);const l=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(l))}sendRealtimeInput(e){let l={};this.apiClient.isVertexAI()?l={realtimeInput:Ox(e)}:l={realtimeInput:Yx(e)},this.conn.send(JSON.stringify(l))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function uR(n){const e={};return n.forEach((l,o)=>{e[o]=l}),e}function cR(n){const e=new Headers;for(const[l,o]of Object.entries(n))e.append(l,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kh=10;function Ih(n){var e,l,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let u=!1;for(const m of(l=n==null?void 0:n.tools)!==null&&l!==void 0?l:[])if(tl(m)){u=!0;break}if(!u)return!0;const f=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function tl(n){return"callTool"in n&&typeof n.callTool=="function"}function fR(n){var e,l,o;return(o=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(u=>tl(u)))!==null&&o!==void 0?o:!1}function dR(n){var e,l,o;return(o=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(u=>!tl(u)))!==null&&o!==void 0?o:!1}function Uh(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mR extends ci{constructor(e){super(),this.apiClient=e,this.generateContent=async l=>{var o,u,f,m,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!fR(l)||Ih(l.config))return await this.generateContentInternal(y);if(dR(l))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,v;const C=qt(y.contents),S=(f=(u=(o=y.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&f!==void 0?f:kh;let A=0;for(;A<S&&(p=await this.generateContentInternal(y),!(!p.functionCalls||p.functionCalls.length===0));){const N=p.candidates[0].content,I=[];for(const G of(g=(m=l.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(tl(G)){const Y=await G.callTool(p.functionCalls);I.push(...Y)}A++,v={role:"user",parts:I},y.contents=qt(y.contents),y.contents.push(N),y.contents.push(v),Uh(y.config)&&(C.push(N),C.push(v))}return Uh(y.config)&&(p.automaticFunctionCallingHistory=C),p},this.generateContentStream=async l=>{if(this.maybeMoveToResponseJsonSchem(l),Ih(l.config)){const o=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(o=>{var u;let f;const m=[];if(o!=null&&o.generatedImages)for(const y of o.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((u=y==null?void 0:y.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:m.push(y);let g;return f?g={generatedImages:m,positivePromptSafetyAttributes:f,sdkHttpResponse:o.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:o.sdkHttpResponse},g}),this.list=async l=>{var o;const m={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((o=m.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new ao(ri.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async l=>{const o={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(o.referenceImages=l.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async l=>{let o={numberOfImages:1,mode:"upscale"};l.config&&(o=Object.assign(Object.assign({},o),l.config));const u={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:o};return await this.upscaleImageInternal(u)},this.generateVideos=async l=>{if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var l,o,u;const f=(l=e.config)===null||l===void 0?void 0:l.tools;if(!f)return e;const m=await Promise.all(f.map(async y=>tl(y)?await y.tool():y)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(g.config.tools=m,e.config&&e.config.tools&&Ag(e.config.tools)){const y=(u=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&u!==void 0?u:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),_g(p),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return g}async initAfcToolsMap(e){var l,o,u;const f=new Map;for(const m of(o=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&o!==void 0?o:[])if(tl(m)){const g=m,y=await g.tool();for(const p of(u=y.functionDeclarations)!==null&&u!==void 0?u:[]){if(!p.name)throw new Error("Function declaration name is required.");if(f.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);f.set(p.name,g)}}return f}async processAfcStream(e){var l,o,u;const f=(u=(o=(l=e.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&u!==void 0?u:kh;let m=!1,g=0;const y=await this.initAfcToolsMap(e);return(function(p,v,C){var S,A;return el(this,arguments,function*(){for(var N,I,G,V;g<f;){m&&(g++,m=!1);const Z=yield Ge(p.processParamsMaybeAddMcpUsage(C)),Q=yield Ge(p.generateContentStreamInternal(Z)),H=[],W=[];try{for(var Y=!0,F=(I=void 0,oo(Q)),O;O=yield Ge(F.next()),N=O.done,!N;Y=!0){V=O.value,Y=!1;const $=V;if(yield yield Ge($),$.candidates&&(!((S=$.candidates[0])===null||S===void 0)&&S.content)){W.push($.candidates[0].content);for(const j of(A=$.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(g<f&&j.functionCall){if(!j.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(j.functionCall.name)){const re=yield Ge(v.get(j.functionCall.name).callTool([j.functionCall]));H.push(...re)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${j.functionCall.name}`)}}}}catch($){I={error:$}}finally{try{!Y&&!N&&(G=F.return)&&(yield Ge(G.call(F)))}finally{if(I)throw I.error}}if(H.length>0){m=!0;const $=new to;$.candidates=[{content:{role:"user",parts:H}}],yield yield Ge($);const j=[];j.push(...W),j.push({role:"user",parts:H});const re=qt(C.contents).concat(j);C.contents=re}else break}})})(this,y,e)}async generateContentInternal(e){var l,o,u,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=Rh(this.apiClient,e);return g=te("{model}:generateContent",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=bh(v),S=new to;return Object.assign(S,C),S})}else{const p=Mh(this.apiClient,e);return g=te("{model}:generateContent",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=Nh(v),S=new to;return Object.assign(S,C),S})}}async generateContentStreamInternal(e){var l,o,u,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=Rh(this.apiClient,e);return g=te("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),m.then(function(C){return el(this,arguments,function*(){var S,A,N,I;try{for(var G=!0,V=oo(C),Y;Y=yield Ge(V.next()),S=Y.done,!S;G=!0){I=Y.value,G=!1;const F=I,O=bh(yield Ge(F.json()));O.sdkHttpResponse={headers:F.headers};const Z=new to;Object.assign(Z,O),yield yield Ge(Z)}}catch(F){A={error:F}}finally{try{!G&&!S&&(N=V.return)&&(yield Ge(N.call(V)))}finally{if(A)throw A.error}}})})}else{const p=Mh(this.apiClient,e);return g=te("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}),m.then(function(C){return el(this,arguments,function*(){var S,A,N,I;try{for(var G=!0,V=oo(C),Y;Y=yield Ge(V.next()),S=Y.done,!S;G=!0){I=Y.value,G=!1;const F=I,O=Nh(yield Ge(F.json()));O.sdkHttpResponse={headers:F.headers};const Z=new to;Object.assign(Z,O),yield yield Ge(Z)}}catch(F){A={error:F}}finally{try{!G&&!S&&(N=V.return)&&(yield Ge(N.call(V)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var l,o,u,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=NA(this.apiClient,e);return g=te("{model}:predict",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=wA(v),S=new sh;return Object.assign(S,C),S})}else{const p=RA(this.apiClient,e);return g=te("{model}:batchEmbedContents",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=bA(v),S=new sh;return Object.assign(S,C),S})}}async generateImagesInternal(e){var l,o,u,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=ZA(this.apiClient,e);return g=te("{model}:predict",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=jA(v),S=new ah;return Object.assign(S,C),S})}else{const p=XA(this.apiClient,e);return g=te("{model}:predict",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=WA(v),S=new ah;return Object.assign(S,C),S})}}async editImageInternal(e){var l,o;let u,f="",m={};if(this.apiClient.isVertexAI()){const g=SA(this.apiClient,e);return f=te("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const p=xA(y),v=new Y0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var l,o;let u,f="",m={};if(this.apiClient.isVertexAI()){const g=EM(this.apiClient,e);return f=te("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const p=AM(y),v=new O0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var l,o;let u,f="",m={};if(this.apiClient.isVertexAI()){const g=Y_(this.apiClient,e);return f=te("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>{const p=O_(y),v=new $0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var l,o;let u,f="",m={};if(this.apiClient.isVertexAI()){const g=iM(this.apiClient,e);return f=te("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u.then(y=>{const p=lM(y),v=new K0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var l,o,u,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=h_(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>bu(v))}else{const p=p_(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Nu(v))}}async listInternal(e){var l,o,u,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=D_(this.apiClient,e);return g=te("{models_url}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=I_(v),S=new rh;return Object.assign(S,C),S})}else{const p=w_(this.apiClient,e);return g=te("{models_url}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=k_(v),S=new rh;return Object.assign(S,C),S})}}async update(e){var l,o,u,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=SM(this.apiClient,e);return g=te("{model}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>bu(v))}else{const p=CM(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Nu(v))}}async delete(e){var l,o,u,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=hA(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=yA(v),S=new uh;return Object.assign(S,C),S})}else{const p=pA(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=gA(v),S=new uh;return Object.assign(S,C),S})}}async countTokens(e){var l,o,u,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=fA(this.apiClient,e);return g=te("{model}:countTokens",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=mA(v),S=new ch;return Object.assign(S,C),S})}else{const p=cA(this.apiClient,e);return g=te("{model}:countTokens",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=dA(v),S=new ch;return Object.assign(S,C),S})}}async computeTokens(e){var l,o;let u,f="",m={};if(this.apiClient.isVertexAI()){const g=WE(this.apiClient,e);return f=te("{model}:computeTokens",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const p=jE(y),v=new Q0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var l,o,u,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=o_(this.apiClient,e);return g=te("{model}:predictLongRunning",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const C=i_(v),S=new Vs;return Object.assign(S,C),S})}else{const p=l_(this.apiClient,e);return g=te("{model}:predictLongRunning",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const C=n_(v),S=new Vs;return Object.assign(S,C),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pR extends ci{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const l=e.operation,o=e.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=l.name.split("/operations/")[0];let f;o&&"httpOptions"in o&&(f=o.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:u,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:l.name,config:o});return l._fromAPIResponse({apiResponse:u,isVertexAI:!1})}}async get(e){const l=e.operation,o=e.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=l.name.split("/operations/")[0];let f;o&&"httpOptions"in o&&(f=o.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:u,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:l.name,config:o});return l._fromAPIResponse({apiResponse:u,isVertexAI:!1})}}async getVideosOperationInternal(e){var l,o,u,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=P0(e);return g=te("{operationName}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m}else{const p=B0(e);return g=te("{operationName}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(e){var l,o;let u,f="",m={};if(this.apiClient.isVertexAI()){const g=U0(e);return f=te("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lh(){return{}}function hR(n){const e={},l=a(n,["name"]);return l!=null&&r(e,["name"],l),e}function gR(n){const e={},l=a(n,["disabled"]);l!=null&&r(e,["disabled"],l);const o=a(n,["startOfSpeechSensitivity"]);o!=null&&r(e,["startOfSpeechSensitivity"],o);const u=a(n,["endOfSpeechSensitivity"]);u!=null&&r(e,["endOfSpeechSensitivity"],u);const f=a(n,["prefixPaddingMs"]);f!=null&&r(e,["prefixPaddingMs"],f);const m=a(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function yR(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=a(n,["data"]);l!=null&&r(e,["data"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function vR(n){const e={},l=a(n,["environment"]);l!=null&&r(e,["environment"],l);const o=a(n,["excludedPredefinedFunctions"]);return o!=null&&r(e,["excludedPredefinedFunctions"],o),e}function TR(n){const e={},l=a(n,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>IR(f))),r(e,["parts"],u)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function CR(n){const e={},l=a(n,["triggerTokens"]);l!=null&&r(e,["triggerTokens"],l);const o=a(n,["slidingWindow"]);return o!=null&&r(e,["slidingWindow"],GR(o)),e}function SR(n,e,l){const o={},u=a(e,["expireTime"]);l!==void 0&&u!=null&&r(l,["expireTime"],u);const f=a(e,["newSessionExpireTime"]);l!==void 0&&f!=null&&r(l,["newSessionExpireTime"],f);const m=a(e,["uses"]);l!==void 0&&m!=null&&r(l,["uses"],m);const g=a(e,["liveConnectConstraints"]);l!==void 0&&g!=null&&r(l,["bidiGenerateContentSetup"],DR(n,g));const y=a(e,["lockAdditionalFields"]);return l!==void 0&&y!=null&&r(l,["fieldMask"],y),o}function xR(n,e){const l={},o=a(e,["config"]);return o!=null&&r(l,["config"],SR(n,o,l)),l}function ER(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function AR(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function _R(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const u=a(n,["name"]);return u!=null&&r(e,["name"],u),e}function MR(n){const e={},l=a(n,["behavior"]);l!=null&&r(e,["behavior"],l);const o=a(n,["description"]);o!=null&&r(e,["description"],o);const u=a(n,["name"]);u!=null&&r(e,["name"],u);const f=a(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=a(n,["response"]);g!=null&&r(e,["response"],g);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function RR(n){const e={},l=a(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],ER(l)),e}function NR(n){const e={},l=a(n,["timeRangeFilter"]);if(l!=null&&r(e,["timeRangeFilter"],bR(l)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function bR(n){const e={},l=a(n,["startTime"]);l!=null&&r(e,["startTime"],l);const o=a(n,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function wR(n,e){const l={},o=a(n,["generationConfig"]);e!==void 0&&o!=null&&r(e,["setup","generationConfig"],o);const u=a(n,["responseModalities"]);e!==void 0&&u!=null&&r(e,["setup","generationConfig","responseModalities"],u);const f=a(n,["temperature"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","temperature"],f);const m=a(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=a(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=a(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=a(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=a(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const C=a(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],HR(Hu(C)));const S=a(n,["thinkingConfig"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","thinkingConfig"],BR(S));const A=a(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],A);const N=a(n,["systemInstruction"]);e!==void 0&&N!=null&&r(e,["setup","systemInstruction"],TR(st(N)));const I=a(n,["tools"]);if(e!==void 0&&I!=null){let Q=il(I);Array.isArray(Q)&&(Q=Q.map(H=>PR(nl(H)))),r(e,["setup","tools"],Q)}const G=a(n,["sessionResumption"]);e!==void 0&&G!=null&&r(e,["setup","sessionResumption"],qR(G));const V=a(n,["inputAudioTranscription"]);e!==void 0&&V!=null&&r(e,["setup","inputAudioTranscription"],Lh());const Y=a(n,["outputAudioTranscription"]);e!==void 0&&Y!=null&&r(e,["setup","outputAudioTranscription"],Lh());const F=a(n,["realtimeInputConfig"]);e!==void 0&&F!=null&&r(e,["setup","realtimeInputConfig"],VR(F));const O=a(n,["contextWindowCompression"]);e!==void 0&&O!=null&&r(e,["setup","contextWindowCompression"],CR(O));const Z=a(n,["proactivity"]);return e!==void 0&&Z!=null&&r(e,["setup","proactivity"],LR(Z)),l}function DR(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["setup","model"],xe(n,o));const u=a(e,["config"]);return u!=null&&r(l,["config"],wR(u,l)),l}function kR(n){const e={},l=a(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>zR(u))),r(e,["speakerVoiceConfigs"],o)}return e}function IR(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],JR(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const u=a(n,["inlineData"]);u!=null&&r(e,["inlineData"],yR(u));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],AR(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],_R(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function UR(n){const e={},l=a(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function LR(n){const e={},l=a(n,["proactiveAudio"]);return l!=null&&r(e,["proactiveAudio"],l),e}function VR(n){const e={},l=a(n,["automaticActivityDetection"]);l!=null&&r(e,["automaticActivityDetection"],gR(l));const o=a(n,["activityHandling"]);o!=null&&r(e,["activityHandling"],o);const u=a(n,["turnCoverage"]);return u!=null&&r(e,["turnCoverage"],u),e}function qR(n){const e={},l=a(n,["handle"]);if(l!=null&&r(e,["handle"],l),a(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function GR(n){const e={},l=a(n,["targetTokens"]);return l!=null&&r(e,["targetTokens"],l),e}function zR(n){const e={},l=a(n,["speaker"]);l!=null&&r(e,["speaker"],l);const o=a(n,["voiceConfig"]);return o!=null&&r(e,["voiceConfig"],Mg(o)),e}function HR(n){const e={},l=a(n,["voiceConfig"]);l!=null&&r(e,["voiceConfig"],Mg(l));const o=a(n,["multiSpeakerVoiceConfig"]);o!=null&&r(e,["multiSpeakerVoiceConfig"],kR(o));const u=a(n,["languageCode"]);return u!=null&&r(e,["languageCode"],u),e}function BR(n){const e={},l=a(n,["includeThoughts"]);l!=null&&r(e,["includeThoughts"],l);const o=a(n,["thinkingBudget"]);return o!=null&&r(e,["thinkingBudget"],o),e}function PR(n){const e={},l=a(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>MR(p))),r(e,["functionDeclarations"],y)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(n,["googleSearch"]);o!=null&&r(e,["googleSearch"],NR(o));const u=a(n,["googleSearchRetrieval"]);if(u!=null&&r(e,["googleSearchRetrieval"],RR(u)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],FR());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],vR(m));const g=a(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function FR(){return{}}function JR(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const u=a(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function Mg(n){const e={},l=a(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],UR(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YR(n){const e=[];for(const l in n)if(Object.prototype.hasOwnProperty.call(n,l)){const o=n[l];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const u=Object.keys(o).map(f=>`${l}.${f}`);e.push(...u)}else e.push(l)}return e.join(",")}function OR(n,e){let l=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const f=o.setup;typeof f=="object"&&f!==null?(n.bidiGenerateContentSetup=f,l=f):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const u=n.fieldMask;if(l){const f=YR(l);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)f?n.fieldMask=f:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];u.length>0&&(g=u.map(p=>m.includes(p)?`generationConfig.${p}`:p));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?n.fieldMask=u.join(","):delete n.fieldMask;return n}class $R extends ci{constructor(e){super(),this.apiClient=e}async create(e){var l,o;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=xR(this.apiClient,e);f=te("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=OR(g,e.config);return u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),u.then(p=>hR(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KR(n){const e={},l=a(n,["name"]);return l!=null&&r(e,["_url","name"],l),e}function QR(n){const e={},l=a(n,["name"]);return l!=null&&r(e,["_url","name"],l),e}function XR(n,e){const l={};if(a(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=a(n,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&r(e,["displayName"],o),a(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=a(n,["epochCount"]);e!==void 0&&u!=null&&r(e,["tuningTask","hyperparameters","epochCount"],u);const f=a(n,["learningRateMultiplier"]);if(f!=null&&r(l,["tuningTask","hyperparameters","learningRateMultiplier"],f),a(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=a(n,["batchSize"]);e!==void 0&&m!=null&&r(e,["tuningTask","hyperparameters","batchSize"],m);const g=a(n,["learningRate"]);if(e!==void 0&&g!=null&&r(e,["tuningTask","hyperparameters","learningRate"],g),a(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return l}function ZR(n,e){const l={},o=a(n,["validationDataset"]);e!==void 0&&o!=null&&r(e,["supervisedTuningSpec"],h1(o,l));const u=a(n,["tunedModelDisplayName"]);e!==void 0&&u!=null&&r(e,["tunedModelDisplayName"],u);const f=a(n,["description"]);e!==void 0&&f!=null&&r(e,["description"],f);const m=a(n,["epochCount"]);e!==void 0&&m!=null&&r(e,["supervisedTuningSpec","hyperParameters","epochCount"],m);const g=a(n,["learningRateMultiplier"]);e!==void 0&&g!=null&&r(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g);const y=a(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&r(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const p=a(n,["adapterSize"]);if(e!==void 0&&p!=null&&r(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p),a(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const v=a(n,["labels"]);return e!==void 0&&v!=null&&r(e,["labels"],v),l}function WR(n){const e={},l=a(n,["baseModel"]);l!=null&&r(e,["baseModel"],l);const o=a(n,["preTunedModel"]);o!=null&&r(e,["preTunedModel"],o);const u=a(n,["trainingDataset"]);u!=null&&r(e,["tuningTask","trainingData"],f1(u));const f=a(n,["config"]);return f!=null&&XR(f,e),e}function jR(n){const e={},l=a(n,["baseModel"]);l!=null&&r(e,["baseModel"],l);const o=a(n,["preTunedModel"]);o!=null&&r(e,["preTunedModel"],o);const u=a(n,["trainingDataset"]);u!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],d1(u,e));const f=a(n,["config"]);return f!=null&&ZR(f,e),e}function e1(n){const e={},l=a(n,["name"]);return l!=null&&r(e,["_url","name"],l),e}function t1(n){const e={},l=a(n,["name"]);return l!=null&&r(e,["_url","name"],l),e}function n1(n,e){const l={},o=a(n,["pageSize"]);e!==void 0&&o!=null&&r(e,["_query","pageSize"],o);const u=a(n,["pageToken"]);e!==void 0&&u!=null&&r(e,["_query","pageToken"],u);const f=a(n,["filter"]);return e!==void 0&&f!=null&&r(e,["_query","filter"],f),l}function i1(n,e){const l={},o=a(n,["pageSize"]);e!==void 0&&o!=null&&r(e,["_query","pageSize"],o);const u=a(n,["pageToken"]);e!==void 0&&u!=null&&r(e,["_query","pageToken"],u);const f=a(n,["filter"]);return e!==void 0&&f!=null&&r(e,["_query","filter"],f),l}function l1(n){const e={},l=a(n,["config"]);return l!=null&&n1(l,e),e}function o1(n){const e={},l=a(n,["config"]);return l!=null&&i1(l,e),e}function s1(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const u=a(n,["tunedModels"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>Rg(m))),r(e,["tuningJobs"],f)}return e}function a1(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const u=a(n,["tuningJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>Du(m))),r(e,["tuningJobs"],f)}return e}function r1(n){const e={},l=a(n,["checkpointId"]);l!=null&&r(e,["checkpointId"],l);const o=a(n,["epoch"]);o!=null&&r(e,["epoch"],o);const u=a(n,["step"]);u!=null&&r(e,["step"],u);const f=a(n,["endpoint"]);return f!=null&&r(e,["endpoint"],f),e}function u1(n){const e={},l=a(n,["name"]);l!=null&&r(e,["model"],l);const o=a(n,["name"]);return o!=null&&r(e,["endpoint"],o),e}function c1(n){const e={},l=a(n,["model"]);l!=null&&r(e,["model"],l);const o=a(n,["endpoint"]);o!=null&&r(e,["endpoint"],o);const u=a(n,["checkpoints"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>r1(m))),r(e,["checkpoints"],f)}return e}function f1(n){const e={};if(a(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=a(n,["examples"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>m1(u))),r(e,["examples","examples"],o)}return e}function d1(n,e){const l={},o=a(n,["gcsUri"]);e!==void 0&&o!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],o);const u=a(n,["vertexDatasetResource"]);if(e!==void 0&&u!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],u),a(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function m1(n){const e={},l=a(n,["textInput"]);l!=null&&r(e,["textInput"],l);const o=a(n,["output"]);return o!=null&&r(e,["output"],o),e}function Rg(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["name"]);o!=null&&r(e,["name"],o);const u=a(n,["state"]);u!=null&&r(e,["state"],jh(u));const f=a(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=a(n,["tuningTask","startTime"]);m!=null&&r(e,["startTime"],m);const g=a(n,["tuningTask","completeTime"]);g!=null&&r(e,["endTime"],g);const y=a(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=a(n,["description"]);p!=null&&r(e,["description"],p);const v=a(n,["baseModel"]);v!=null&&r(e,["baseModel"],v);const C=a(n,["_self"]);C!=null&&r(e,["tunedModel"],u1(C));const S=a(n,["customBaseModel"]);S!=null&&r(e,["customBaseModel"],S);const A=a(n,["experiment"]);A!=null&&r(e,["experiment"],A);const N=a(n,["labels"]);N!=null&&r(e,["labels"],N);const I=a(n,["outputUri"]);I!=null&&r(e,["outputUri"],I);const G=a(n,["pipelineJob"]);G!=null&&r(e,["pipelineJob"],G);const V=a(n,["serviceAccount"]);V!=null&&r(e,["serviceAccount"],V);const Y=a(n,["tunedModelDisplayName"]);Y!=null&&r(e,["tunedModelDisplayName"],Y);const F=a(n,["veoTuningSpec"]);return F!=null&&r(e,["veoTuningSpec"],F),e}function Du(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["name"]);o!=null&&r(e,["name"],o);const u=a(n,["state"]);u!=null&&r(e,["state"],jh(u));const f=a(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=a(n,["startTime"]);m!=null&&r(e,["startTime"],m);const g=a(n,["endTime"]);g!=null&&r(e,["endTime"],g);const y=a(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=a(n,["error"]);p!=null&&r(e,["error"],p);const v=a(n,["description"]);v!=null&&r(e,["description"],v);const C=a(n,["baseModel"]);C!=null&&r(e,["baseModel"],C);const S=a(n,["tunedModel"]);S!=null&&r(e,["tunedModel"],c1(S));const A=a(n,["preTunedModel"]);A!=null&&r(e,["preTunedModel"],A);const N=a(n,["supervisedTuningSpec"]);N!=null&&r(e,["supervisedTuningSpec"],N);const I=a(n,["tuningDataStats"]);I!=null&&r(e,["tuningDataStats"],I);const G=a(n,["encryptionSpec"]);G!=null&&r(e,["encryptionSpec"],G);const V=a(n,["partnerModelTuningSpec"]);V!=null&&r(e,["partnerModelTuningSpec"],V);const Y=a(n,["customBaseModel"]);Y!=null&&r(e,["customBaseModel"],Y);const F=a(n,["experiment"]);F!=null&&r(e,["experiment"],F);const O=a(n,["labels"]);O!=null&&r(e,["labels"],O);const Z=a(n,["outputUri"]);Z!=null&&r(e,["outputUri"],Z);const Q=a(n,["pipelineJob"]);Q!=null&&r(e,["pipelineJob"],Q);const H=a(n,["serviceAccount"]);H!=null&&r(e,["serviceAccount"],H);const W=a(n,["tunedModelDisplayName"]);W!=null&&r(e,["tunedModelDisplayName"],W);const $=a(n,["veoTuningSpec"]);return $!=null&&r(e,["veoTuningSpec"],$),e}function p1(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["name"]);o!=null&&r(e,["name"],o);const u=a(n,["metadata"]);u!=null&&r(e,["metadata"],u);const f=a(n,["done"]);f!=null&&r(e,["done"],f);const m=a(n,["error"]);return m!=null&&r(e,["error"],m),e}function h1(n,e){const l={},o=a(n,["gcsUri"]);o!=null&&r(l,["validationDatasetUri"],o);const u=a(n,["vertexDatasetResource"]);return e!==void 0&&u!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],u),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g1 extends ci{constructor(e){super(),this.apiClient=e,this.get=async l=>await this.getInternal(l),this.list=async(l={})=>new ao(ri.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(l),l),this.tune=async l=>{var o;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const u={tunedModelName:l.baseModel};!((o=l.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(u.checkpointId=l.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},l),{preTunedModel:u});return f.baseModel=void 0,await this.tuneInternal(f)}else{const u=Object.assign({},l);return await this.tuneInternal(u)}else{const u=Object.assign({},l),f=await this.tuneMldevInternal(u);let m="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?m=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(m=f.name.split("/operations/")[0]),{name:m,state:xu.JOB_STATE_QUEUED}}}}async getInternal(e){var l,o,u,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=t1(e);return g=te("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>Du(v))}else{const p=e1(e);return g=te("{name}",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>Rg(v))}}async listInternal(e){var l,o,u,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=o1(e);return g=te("tuningJobs",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=a1(v),S=new fh;return Object.assign(S,C),S})}else{const p=l1(e);return g=te("tunedModels",p._url),y=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=s1(v),S=new fh;return Object.assign(S,C),S})}}async cancel(e){var l,o,u,f;let m="",g={};if(this.apiClient.isVertexAI()){const y=QR(e);m=te("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const y=KR(e);m=te("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal})}}async tuneInternal(e){var l,o;let u,f="",m={};if(this.apiClient.isVertexAI()){const g=jR(e);return f=te("tuningJobs",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>Du(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var l,o;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=WR(e);return f=te("tunedModels",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>p1(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class y1{async download(e,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const v1=1024*1024*8,T1=3,C1=1e3,S1=2,Cu="x-goog-upload-status";async function x1(n,e,l){var o,u,f;let m=0,g=0,y=new Eu(new Response),p="upload";for(m=n.size;g<m;){const C=Math.min(v1,m-g),S=n.slice(g,g+C);g+C>=m&&(p+=", finalize");let A=0,N=C1;for(;A<T1&&(y=await l.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(g),"Content-Length":String(C)}}}),!(!((o=y==null?void 0:y.headers)===null||o===void 0)&&o[Cu]));)A++,await A1(N),N=N*S1;if(g+=C,((u=y==null?void 0:y.headers)===null||u===void 0?void 0:u[Cu])!=="active")break;if(m<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((f=y==null?void 0:y.headers)===null||f===void 0?void 0:f[Cu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function E1(n){return{size:n.size,type:n.type}}function A1(n){return new Promise(e=>setTimeout(e,n))}class _1{async upload(e,l,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await x1(e,l,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await E1(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class M1{create(e,l,o){return new R1(e,l,o)}}class R1{constructor(e,l,o){this.url=e,this.headers=l,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vh="x-goog-api-key";class N1{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Vh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Vh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const b1="gl-node/";class w1{constructor(e){var l;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=e.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=e.apiKey;const o=I0(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const u=new N1(this.apiKey);this.apiClient=new $M({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:b1+"web",uploader:new _1,downloader:new y1}),this.models=new mR(this.apiClient),this.live=new sR(this.apiClient,u,new M1),this.batches=new _C(this.apiClient),this.chats=new IS(this.models,this.apiClient),this.caches=new wS(this.apiClient),this.files=new OS(this.apiClient),this.operations=new pR(this.apiClient),this.authTokens=new $R(this.apiClient),this.tunings=new g1(this.apiClient)}}const Fu="saga_auth_credentials";function D1(n){localStorage.setItem(Fu,JSON.stringify(n))}function Pn(){const n=localStorage.getItem(Fu);if(!n)return null;try{return JSON.parse(n)}catch{return null}}function qh(){localStorage.removeItem(Fu)}function k1(){const n=Pn();return!!(n!=null&&n.githubPAT&&(n!=null&&n.geminiApiKey))}function I1(n){return/^(ghp_[a-zA-Z0-9]{36}|github_pat_[a-zA-Z0-9_]{82}|[a-f0-9]{40})$/.test(n)}function U1(n){return/^AI[a-zA-Z0-9_-]{37,}$/.test(n)}function Ng(){const n=Pn();if(!(n!=null&&n.geminiApiKey))throw new Error("Gemini API key not found. Please log in again.");return new w1({apiKey:n.geminiApiKey})}async function L1(n){const e=Ng(),l=`
You are an expert literary analyst. Your task is to analyze the provided book chapter and generate a concise summary.

The response must be in the following format, with each item on a new line:
- Three separate lines, each starting with "BULLET: ", summarizing a key event.
- One final line, starting with "QUOTE: ", containing a thematically significant or encapsulating quote from the chapter. This quote MUST be at least 15 words long to provide sufficient context. If the quote is spoken by a character, you MUST include who said it (e.g., "Nothing is fair," Jon said.).

Do not include any other text, explanations, or formatting.

Here is the chapter text:
---
${n}
---
`;try{return await e.models.generateContentStream({model:"gemini-2.5-flash",contents:l})}catch(o){console.error("Error summarizing chapter:",o);const u=o instanceof Error?o.message:"An unknown error occurred.";throw new Error(`Could not get a valid summary from the AI model. ${u}`)}}async function V1(n,e){const l=Ng(),o=[];e&&o.push(`Context from the book:
---
${e}
---

You are a friendly, conversational assistant helping readers discuss this book.

Key instructions:
- Keep responses BRIEF (2-4 sentences max for simple questions)
- Be conversational, not analytical or academic
- Use the reader's language level - match their tone
- Only elaborate if specifically asked for details
- Use markdown formatting (bold, italics, lists) when helpful
- Focus on what the reader asked, don't over-explain

Answer naturally as if chatting with a friend about a book you both read.`),n.forEach(f=>{o.push(`${f.role==="user"?"User":"Assistant"}: ${f.content}`)});const u=o.join(`

`);try{return await l.models.generateContentStream({model:"gemini-2.5-flash",contents:u})}catch(f){console.error("Error in chat:",f);const m=f instanceof Error?f.message:"An unknown error occurred.";throw new Error(`Could not get a response from the AI model. ${m}`)}}const bg="SAGA App - Book Library Data",Gs="saga_library_index.json",q1=8e5;async function Ju(n){try{const e=await fetch("https://api.github.com/gists",{headers:{Authorization:`token ${n}`,Accept:"application/vnd.github.v3+json"}});if(!e.ok)throw new Error(`GitHub API error: ${e.status}`);const o=(await e.json()).find(u=>u.description===bg);return(o==null?void 0:o.id)||null}catch(e){throw console.error("Error finding SAGA gist:",e),e}}async function G1(n,e){try{const l=wg(e),o={};console.log(`Creating gist with ${Object.keys(l).length} files:`,Object.keys(l)),Object.entries(l).forEach(([g,y])=>{o[g]={content:y},console.log(`  ${g}: ${y.length} bytes`)});const u=JSON.stringify({description:bg,public:!1,files:o});console.log(`Total payload size: ${u.length} bytes`);const f=await fetch("https://api.github.com/gists",{method:"POST",headers:{Authorization:`token ${n}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json"},body:u});if(!f.ok){const g=await f.text();throw console.error("Gist creation failed:",f.status,g),new Error(`Failed to create gist: ${f.status} - ${g}`)}const m=await f.json();return console.log(`Gist created successfully: ${m.id}`),m.id}catch(l){throw console.error("Error creating SAGA gist:",l),l}}async function z1(n,e,l){try{const o=wg(l),u={};Object.entries(o).forEach(([m,g])=>{u[m]={content:g}});const f=await fetch(`https://api.github.com/gists/${e}`,{method:"PATCH",headers:{Authorization:`token ${n}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json"},body:JSON.stringify({files:u})});if(!f.ok)throw new Error(`Failed to update gist: ${f.status}`)}catch(o){throw console.error("Error updating gist:",o),o}}function wg(n){const e={},l=n.map(o=>({id:o.id,title:o.title,chapterCount:o.chapters.length,summaries:o.summaries,images:o.images,lastAccessed:o.lastAccessed}));return e[Gs]=JSON.stringify(l,null,2),n.forEach(o=>{if(!o.id)return;const u=JSON.stringify(o,null,2);if(u.length<=q1)e[`book_${o.id}.json`]=u;else{console.log(`Book ${o.id} is too large (${u.length} bytes), splitting into chunks`);const f=10,m=[];for(let g=0;g<o.chapters.length;g+=f){const y=o.chapters.slice(g,g+f),p={},v={};y.forEach((C,S)=>{const A=g+S;o.summaries[A]&&(p[S]=o.summaries[A]),o.images[A]&&(v[S]=o.images[A])}),m.push({id:o.id,title:o.title,chapters:y,summaries:p,images:v,lastAccessed:o.lastAccessed})}e[`book_${o.id}_meta.json`]=JSON.stringify({id:o.id,title:o.title,totalChapters:o.chapters.length,chunkCount:m.length,lastAccessed:o.lastAccessed},null,2),m.forEach((g,y)=>{e[`book_${o.id}_chunk_${y}.json`]=JSON.stringify(g,null,2)})}}),e}async function pn(n){if(!n)return null;if(n.truncated&&n.raw_url)try{console.log(`Fetching truncated file from raw_url: ${n.raw_url}`);const e=await fetch(n.raw_url);if(e.ok){const l=await e.text();return console.log(`Fetched ${l.length} bytes from raw_url`),l}else console.error(`Failed to fetch raw content: ${e.status}`)}catch(e){console.error("Failed to fetch raw content:",e)}if(n.content)return n.content;if(n.raw_url)try{const e=await fetch(n.raw_url);if(e.ok)return await e.text()}catch(e){console.error("Failed to fetch raw content:",e)}return null}async function H1(n){try{const e=await Ju(n);if(!e)return console.log("No SAGA gist found"),[];const l=await fetch(`https://api.github.com/gists/${e}`,{headers:{Authorization:`token ${n}`,Accept:"application/vnd.github.v3+json"}});if(!l.ok)throw new Error(`Failed to load gist: ${l.status}`);const o=await l.json(),u=o.files[Gs],f=await pn(u);if(f)return JSON.parse(f).map(y=>({id:y.id,title:y.title,chapters:new Array(y.chapterCount).fill(null),summaries:y.summaries,images:y.images,lastAccessed:y.lastAccessed}));const m=[];for(const g of Object.keys(o.files)){const y=g.match(/^book_(\d+)_meta\.json$/);if(y){const p=parseInt(y[1]),v=await pn(o.files[g]);if(v){const C=JSON.parse(v);m.push({id:C.id,title:C.title,chapters:new Array(C.totalChapters).fill(null),summaries:{},images:{},lastAccessed:C.lastAccessed})}}}return m}catch(e){throw console.error("Error loading books metadata:",e),e}}async function B1(n){var e;try{const l=await Ju(n);if(!l)return console.log("No SAGA gist found"),[];const o=await fetch(`https://api.github.com/gists/${l}`,{headers:{Authorization:`token ${n}`,Accept:"application/vnd.github.v3+json"}});if(!o.ok)throw new Error(`Failed to load gist: ${o.status}`);const u=await o.json();console.log("Files in gist:",Object.keys(u.files)),console.log("Looking for index file:",Gs);const f=u.files[Gs],m=await pn(f);if(m){console.log("Loading books from new format (index + book files)"),console.log("Index content:",m);const v=JSON.parse(m);if(console.log("Parsed index:",v),v.length===0)console.log("Index is empty, falling through to reconstruction");else{const C=[];for(const S of v){const A=S.id,N=`book_${A}_meta.json`,I=await pn(u.files[N]);if(I)try{const G=JSON.parse(I),V=[],Y={},F={};for(let O=0;O<G.chunkCount;O++){const Z=`book_${A}_chunk_${O}.json`,Q=u.files[Z],H=await pn(Q);if(H)try{const W=JSON.parse(H),$=V.length;W.chapters.forEach(j=>{V.push(j)}),Object.entries(W.summaries).forEach(([j,re])=>{Y[$+parseInt(j)]=re}),Object.entries(W.images).forEach(([j,re])=>{F[$+parseInt(j)]=re})}catch(W){console.error(`Failed to parse chunk ${O} for book ${A}:`,W)}}C.push({id:G.id,title:G.title,chapters:V,summaries:Y,images:F,lastAccessed:G.lastAccessed}),console.log(`Loaded chunked book ${A} from ${G.chunkCount} chunks`)}catch(G){console.error(`Failed to load chunked book ${A}:`,G)}else console.log(`No metadata found for book ${A}, checking for regular file`);if(!I){const G=`book_${A}.json`,V=await pn(u.files[G]);if(V)try{const Y=JSON.parse(V);C.push(Y),console.log(`Loaded regular book ${A}`)}catch(Y){console.error(`Failed to parse book ${A}:`,Y)}}}return console.log(`Returning ${C.length} books from new format`),C}}const g=(e=u.files["saga_library.json"])==null?void 0:e.content;if(g){console.log("Loading books from old format (single file)");try{const v=JSON.parse(g);return console.log(`Loaded ${v.length} books from old format`),v}catch(v){return console.error("Failed to parse old format:",v),[]}}console.log("No index found, checking for individual book files...");const y=[],p=new Set;for(const v of Object.keys(u.files)){const C=v.match(/^book_(\d+)_chunk_(\d+)\.json$/);if(C){const S=parseInt(C[1]);if(!p.has(S)){p.add(S);const A=await pn(u.files[`book_${S}_meta.json`]);if(A)try{const N=JSON.parse(A),I=[],G={},V={};for(let Y=0;Y<N.chunkCount;Y++){const F=`book_${S}_chunk_${Y}.json`,O=u.files[F];console.log(`Loading chunk ${Y}: truncated=${O==null?void 0:O.truncated}, size=${O==null?void 0:O.size}`);const Z=await pn(O);if(Z)try{const Q=JSON.parse(Z),H=I.length;Q.chapters.forEach(W=>{I.push(W)}),Object.entries(Q.summaries).forEach(([W,$])=>{G[H+parseInt(W)]=$}),Object.entries(Q.images).forEach(([W,$])=>{V[H+parseInt(W)]=$}),console.log(`Successfully loaded chunk ${Y}`)}catch(Q){console.error(`Failed to parse chunk ${Y}:`,Q)}else console.warn(`No content for chunk ${Y}`)}y.push({id:N.id,title:N.title,chapters:I,summaries:G,images:V,lastAccessed:N.lastAccessed}),console.log(`Reconstructed chunked book ${S} from ${N.chunkCount} chunks`)}catch(N){console.error(`Failed to load chunked book ${S}:`,N)}}continue}if(v.startsWith("book_")&&v.endsWith(".json")&&!v.includes("_meta")&&!v.includes("_chunk_")){const S=await pn(u.files[v]);if(S)try{const A=JSON.parse(S);A.id&&!p.has(A.id)&&(p.add(A.id),y.push(A),console.log(`Found book from file: ${v}`))}catch(A){console.error(`Failed to parse ${v}:`,A)}}}return y.length>0?(console.log(`Loaded ${y.length} books from individual files (no index)`),y):(console.log("No book data found in gist"),[])}catch(l){throw console.error("Error loading books from gist:",l),new Error("Failed to load library from GitHub. Please check your PAT and try again.")}}async function Yu(n,e){try{const l=await Ju(n);l?await z1(n,l,e):await G1(n,e)}catch(l){throw console.error("Error saving books to gist:",l),new Error("Failed to save library to GitHub. Please check your PAT and try again.")}}async function P1(n){try{return(await fetch("https://api.github.com/user",{headers:{Authorization:`token ${n}`,Accept:"application/vnd.github.v3+json"}})).ok}catch{return!1}}async function Gh(){return Promise.resolve()}function F1(n){const e=n.chapters.filter(l=>l!=null);if(e.length!==n.chapters.length){console.warn(`Book ${n.id} had ${n.chapters.length-e.length} null chapters, cleaning up`);const l=new Map;let o=0;n.chapters.forEach((m,g)=>{m!=null&&(l.set(g,o),o++)});const u={},f={};return Object.entries(n.summaries).forEach(([m,g])=>{const y=l.get(parseInt(m));y!==void 0&&(u[y]=g)}),Object.entries(n.images).forEach(([m,g])=>{const y=l.get(parseInt(m));y!==void 0&&(f[y]=g)}),{...n,chapters:e,summaries:u,images:f}}return n}async function zh(){const n=Pn();if(!(n!=null&&n.githubPAT))throw new Error("GitHub PAT not found");try{return await H1(n.githubPAT)}catch(e){throw console.error("Error loading books metadata:",e),e}}async function Ou(){const n=Pn();if(!(n!=null&&n.githubPAT))throw new Error("GitHub PAT not found");try{return(await B1(n.githubPAT)).map(F1)}catch(e){throw console.error("Error loading books:",e),e}}async function J1(n){return(await Ou()).find(l=>l.id===n)||null}async function Y1(n){const e=Pn();if(!(e!=null&&e.githubPAT))throw new Error("GitHub PAT not found");const l=await Ou(),u=l.reduce((g,y)=>Math.max(g,y.id||0),0)+1,m=[{...n,id:u},...l];return await Yu(e.githubPAT,m),await new Promise(g=>setTimeout(g,1e3)),u}async function Su(n){const e=Pn();if(!(e!=null&&e.githubPAT))throw new Error("GitHub PAT not found");const o=(await Ou()).map(u=>u.id===n.id?n:u);await Yu(e.githubPAT,o)}async function O1(){const n=Pn();if(!(n!=null&&n.githubPAT))throw new Error("GitHub PAT not found");await Yu(n.githubPAT,[])}const zs="/saga-book-summarizer/assets/logo-CrjB4bHl.png",$1=({onLogin:n,error:e})=>{const[l,o]=ie.useState(""),[u,f]=ie.useState(""),[m,g]=ie.useState(!1),[y,p]=ie.useState(!1),[v,C]=ie.useState(!1),[S,A]=ie.useState(null),[N,I]=ie.useState(!1),[G,V]=ie.useState(""),Y=async F=>{F.preventDefault(),A(null);let O=l,Z=u;if(N&&G)try{const Q=atob(G),[H,W]=Q.split(":::");if(!H||!W){A("Invalid quick login code");return}O=H,Z=W}catch{A("Invalid quick login code");return}if(!I1(O)){A("Invalid GitHub Personal Access Token format");return}if(!U1(Z)){A("Invalid Gemini API key format");return}C(!0);try{if(!await P1(O)){A("GitHub PAT is invalid or expired. Please check your token."),C(!1);return}n(O,Z)}catch{A("Failed to validate credentials. Please check your internet connection."),C(!1)}};return E.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-900",children:E.jsxs("div",{className:"max-w-md w-full p-8 space-y-8",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"flex justify-center mb-6",children:E.jsx("img",{src:zs,alt:"SAGA Logo",className:"w-24 h-24"})}),E.jsx("h1",{className:"text-5xl font-extrabold mb-3 tracking-wide",children:E.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-amber-400 via-orange-400 to-amber-500",children:"SAGA"})}),E.jsx("p",{className:"text-xl text-amber-400/80 mb-2 font-semibold tracking-wider",children:"Your Story Companion"}),E.jsx("p",{className:"text-sm text-gray-400 mb-8",children:"Enter your credentials to access your library across all devices"})]}),E.jsx("div",{className:"flex justify-center mb-6",children:E.jsx("button",{type:"button",onClick:()=>I(!N),className:"text-sm text-amber-400 hover:text-amber-300 underline",children:N?"Use individual keys":"Have a quick login code?"})}),E.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[N?E.jsxs("div",{children:[E.jsx("label",{htmlFor:"quick-login",className:"block text-sm font-medium text-gray-300 mb-2",children:"Quick Login Code"}),E.jsx("input",{id:"quick-login",type:"text",value:G,onChange:F=>V(F.target.value),placeholder:"Paste your login code here",required:!0,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),E.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Enter the code you copied from another device"})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"github-pat",className:"block text-sm font-medium text-gray-300 mb-2",children:"GitHub Personal Access Token"}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{id:"github-pat",type:m?"text":"password",value:l,onChange:F=>o(F.target.value),placeholder:"ghp_xxxxxxxxxxxx",required:!0,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),E.jsx("button",{type:"button",onClick:()=>g(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-amber-400 text-sm",children:m?"Hide":"Show"})]}),E.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:["Need a token? ",E.jsx("a",{href:"https://github.com/settings/tokens/new?scopes=gist",target:"_blank",rel:"noopener noreferrer",className:"text-amber-400 hover:text-amber-300 underline",children:"Create one here"})," with 'gist' scope"]})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"gemini-key",className:"block text-sm font-medium text-gray-300 mb-2",children:"Gemini API Key"}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{id:"gemini-key",type:y?"text":"password",value:u,onChange:F=>f(F.target.value),placeholder:"AIzaSyxxxxxxxxxx",required:!0,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),E.jsx("button",{type:"button",onClick:()=>p(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-amber-400 text-sm",children:y?"Hide":"Show"})]}),E.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:["Need a key? ",E.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-amber-400 hover:text-amber-300 underline",children:"Get one here"})]})]})]}),(S||e)&&E.jsx("div",{className:"bg-red-900/50 border border-red-700 text-red-300 px-4 py-3 rounded-lg",children:E.jsx("span",{className:"block text-sm",children:S||e})}),E.jsx("button",{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-amber-600 to-orange-600 text-white font-bold py-3 px-4 rounded-lg hover:from-amber-700 hover:to-orange-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:v?"Validating...":"Enter SAGA"})]}),E.jsx("div",{className:"text-center",children:E.jsx("p",{className:"text-xs text-gray-500",children:"Your credentials are stored locally and never sent to our servers"})})]})})},K1=n=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[E.jsx("path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}),E.jsx("path",{d:"M12 12v9"}),E.jsx("path",{d:"m16 16-4-4-4 4"})]}),Q1=n=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[E.jsx("path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 2v6c0 7 4 8 8 8Z"}),E.jsx("path",{d:"M14 21c3 0 7-1 7-8V5c0-1.25-.75-2.017-2-2h-4c-1.25 0-2 .75-2 2v6c0 7 4 8 8 8Z"})]}),X1=n=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[E.jsx("line",{x1:"8",x2:"21",y1:"6",y2:"6"}),E.jsx("line",{x1:"8",x2:"21",y1:"12",y2:"12"}),E.jsx("line",{x1:"8",x2:"21",y1:"18",y2:"18"}),E.jsx("line",{x1:"3",x2:"3.01",y1:"6",y2:"6"}),E.jsx("line",{x1:"3",x2:"3.01",y1:"12",y2:"12"}),E.jsx("line",{x1:"3",x2:"3.01",y1:"18",y2:"18"})]}),Z1=n=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`animate-spin ${n.className||""}`,...n,children:E.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),W1=n=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[E.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),E.jsx("polyline",{points:"14 2 14 8 20 8"}),E.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),E.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),E.jsx("line",{x1:"10",y1:"9",x2:"8",y2:"9"})]}),Hh=n=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[E.jsx("path",{d:"M19 12H5"}),E.jsx("polyline",{points:"12 19 5 12 12 5"})]}),j1=n=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[E.jsx("polyline",{points:"3 6 5 6 21 6"}),E.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),E.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),E.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),eN=n=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[E.jsx("path",{d:"m16 6 4 14"}),E.jsx("path",{d:"M12 6v14"}),E.jsx("path",{d:"M8 8v12"}),E.jsx("path",{d:"M4 4v16"})]}),tN=n=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[E.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),E.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),E.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),Dg=n=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[E.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),E.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),nN=n=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:E.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),iN=n=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[E.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),E.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]}),lN=n=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[E.jsx("circle",{cx:"12",cy:"12",r:"3"}),E.jsx("path",{d:"M12 1v6m0 6v6m-8-7h6m6 0h6m-13 7l4-4m6 6l-4-4m-4-8l4 4m6-6l-4 4"})]}),oN=({onFileUpload:n,error:e,history:l,onLoadFromHistory:o,onClearHistory:u,onLogout:f})=>{const[m,g]=ie.useState(!1),[y,p]=ie.useState(!1),v=()=>{const V=Pn();return V?btoa(`${V.githubPAT}:::${V.geminiApiKey}`):""},C=()=>{const V=v();navigator.clipboard.writeText(V),alert("Quick login code copied! You can now paste this on another device to log in quickly.")},S=V=>{V.target.files&&V.target.files.length>0&&n(V.target.files[0])},A=ie.useCallback(V=>{V.preventDefault(),V.stopPropagation(),g(!0)},[]),N=ie.useCallback(V=>{V.preventDefault(),V.stopPropagation(),g(!1)},[]),I=ie.useCallback(V=>{V.preventDefault(),V.stopPropagation()},[]),G=ie.useCallback(V=>{V.preventDefault(),V.stopPropagation(),g(!1),V.dataTransfer.files&&V.dataTransfer.files.length>0&&(n(V.dataTransfer.files[0]),V.dataTransfer.clearData())},[n]);return E.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900",children:[f&&E.jsxs("div",{className:"hidden md:flex absolute top-4 right-4 gap-2",children:[E.jsx("button",{onClick:C,className:"text-xs px-3 py-1 bg-amber-600/20 text-amber-400 hover:bg-amber-600/30 rounded transition-colors",title:"Copy quick login code",children:"Copy Login Code"}),E.jsx("button",{onClick:f,className:"text-sm text-gray-400 hover:text-amber-400 transition-colors",children:"Logout"})]}),E.jsxs("div",{className:"max-w-4xl w-full p-8 space-y-12 flex-1 flex flex-col justify-center",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"flex justify-center mb-6",children:E.jsx("img",{src:zs,alt:"SAGA Logo",className:"w-24 h-24"})}),E.jsx("h1",{className:"text-5xl font-extrabold text-white sm:text-6xl md:text-7xl mb-3 tracking-wide",children:E.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-amber-400 via-orange-400 to-amber-500",children:"SAGA"})}),E.jsx("p",{className:"text-xl text-amber-400/80 mb-2 font-semibold tracking-wider",children:"Your Story Companion"}),E.jsxs("p",{className:"text-base text-gray-400 mb-8 max-w-lg mx-auto",children:["Upload a book as ",E.jsx("code",{className:"bg-gray-800/50 text-amber-400/90 rounded px-2 py-0.5 text-sm",children:".txt"})," or ",E.jsx("code",{className:"bg-gray-800/50 text-amber-400/90 rounded px-2 py-0.5 text-sm",children:".epub"})," to generate chapter summaries"]}),E.jsxs("label",{onDragEnter:A,onDragLeave:N,onDragOver:I,onDrop:G,className:`relative block w-full rounded-lg border-2 border-dashed p-12 text-center hover:border-amber-500/50 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 focus:ring-offset-gray-900 cursor-pointer transition-colors ${m?"border-amber-500 bg-gray-800/50":"border-gray-600"}`,children:[E.jsx(K1,{className:"mx-auto h-12 w-12 text-gray-500"}),E.jsx("span",{className:"mt-2 block text-sm font-medium text-gray-300",children:m?"Drop the file here":"Drag & Drop a file or click to upload"}),E.jsx("input",{id:"file-upload",name:"file-upload",type:"file",accept:".txt,.epub",className:"sr-only",onChange:S})]}),e&&E.jsxs("div",{className:"mt-6 bg-red-900/50 border border-red-700 text-red-300 px-4 py-3 rounded-lg relative",role:"alert",children:[E.jsx("strong",{className:"font-bold",children:"Oh no! "}),E.jsx("span",{className:"block sm:inline",children:e})]})]}),l.length>0&&E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(eN,{className:"w-8 h-8 text-amber-400"}),E.jsx("h2",{className:"text-3xl font-bold text-white",children:"My Library"})]}),E.jsxs("button",{onClick:u,className:"flex items-center gap-2 text-sm text-gray-400 hover:text-red-400 transition-colors",children:[E.jsx(j1,{className:"w-4 h-4"}),"Clear History"]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(V=>E.jsxs("button",{onClick:()=>o(V.id),className:"bg-gray-800/50 p-4 rounded-lg text-left hover:bg-gray-700/50 transform hover:-translate-y-1 transition-all shadow-lg",children:[E.jsx("h3",{className:"font-bold text-lg text-gray-100 truncate",children:V.title}),E.jsxs("p",{className:"text-sm text-gray-400",children:[V.chapters.length," chapters"]})]},V.id))})]})]}),f&&E.jsxs("div",{className:"md:hidden w-full p-4 border-t border-gray-800 flex justify-center gap-4",children:[E.jsx("button",{onClick:C,className:"text-xs px-3 py-2 bg-amber-600/20 text-amber-400 hover:bg-amber-600/30 rounded transition-colors",title:"Copy quick login code",children:"Copy Login Code"}),E.jsx("button",{onClick:f,className:"text-sm px-3 py-2 text-gray-400 hover:text-amber-400 transition-colors",children:"Logout"})]})]})},sN=({chapters:n,summarizedChapters:e,selectedIndex:l,onSelectChapter:o,processingChapterIndex:u})=>{const[f,m]=Us.useState(null),g=Us.useRef({});return E.jsx("nav",{className:"flex-1 overflow-y-auto pr-2 -mr-2 space-y-1",children:n.map((y,p)=>{var G;if(y==null)return null;const v=e[p]!==void 0,C=u===p,S=p===l,A=e[p],N=(G=A==null?void 0:A.bullets)==null?void 0:G[0],I=f===p;return E.jsxs("div",{className:"relative",children:[E.jsxs("button",{ref:V=>{g.current[p]=V},onClick:()=>o(p),onMouseEnter:()=>m(p),onMouseLeave:()=>m(null),className:`w-full text-left flex items-center p-3 text-sm font-medium rounded-md transition-colors duration-150 ${S?"bg-gradient-to-r from-amber-600/30 to-orange-600/30 text-amber-100 border-l-2 border-amber-500":v?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-500 hover:bg-gray-700/50 hover:text-white"}`,children:[E.jsx("span",{className:"flex-1 truncate",children:y.title}),C&&E.jsx("div",{className:"ml-3 w-5 h-5 flex-shrink-0 flex items-center justify-center",children:E.jsx("div",{className:"w-5 h-5 border-2 border-amber-400 border-t-transparent rounded-full animate-spin"})})]}),N&&I&&g.current[p]&&(()=>{const V=g.current[p].getBoundingClientRect();return E.jsx("div",{className:"fixed pointer-events-none z-[9999]",style:{left:`${V.right+8}px`,top:`${V.top+V.height/2}px`,transform:"translateY(-50%)"},children:E.jsxs("div",{className:"chapter-tooltip bg-gray-800 border border-amber-500/30 rounded-lg shadow-xl p-3 min-w-[250px] max-w-[500px] max-h-[70vh] overflow-y-auto",children:[E.jsx("div",{className:"text-xs text-amber-400 font-semibold mb-1",children:"Quick Preview"}),E.jsx("div",{className:"text-sm text-gray-200 leading-relaxed",children:N}),E.jsx("div",{className:"absolute right-full top-1/2 -translate-y-1/2 border-8 border-transparent border-r-gray-800"})]})})})()]},p)})})},aN=()=>E.jsx("div",{className:"flex justify-center items-center",children:E.jsx("div",{className:"w-12 h-12 border-4 border-indigo-400 border-t-transparent rounded-full animate-spin"})}),rN=({chapter:n,summary:e,isProcessing:l,onPreviousChapter:o,onNextChapter:u,hasPrevious:f,hasNext:m})=>{const[g,y]=ie.useState(!1),[p,v]=ie.useState("medium"),[C,S]=ie.useState("dark"),[A,N]=ie.useState("serif"),[I,G]=ie.useState(!1);if(!n)return E.jsx("div",{className:"flex items-center justify-center h-full",children:E.jsx("p",{className:"text-gray-400",children:"Select a chapter to view its summary."})});const V=e&&(e.bullets.length>0||e.quote),Y={small:"text-sm md:text-base",medium:"text-base md:text-lg",large:"text-lg md:text-xl"},F={serif:"font-serif",sans:"font-sans",mono:"font-mono"},O={light:"bg-gray-100 text-gray-900",dark:"bg-gray-800/50 text-gray-300"};return E.jsxs("div",{className:"max-w-4xl mx-auto relative",children:[f&&o&&E.jsx("button",{onClick:o,className:"md:hidden fixed bottom-6 left-4 z-40 w-12 h-12 bg-gray-800/90 hover:bg-gray-700 text-amber-400 rounded-full shadow-lg flex items-center justify-center transition-all","aria-label":"Previous Chapter",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),m&&u&&E.jsx("button",{onClick:u,className:"md:hidden fixed bottom-6 right-4 z-40 w-12 h-12 bg-gray-800/90 hover:bg-gray-700 text-amber-400 rounded-full shadow-lg flex items-center justify-center transition-all","aria-label":"Next Chapter",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),E.jsx("h2",{className:"text-2xl md:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-orange-400 tracking-tight mb-4 pb-4 border-b-2 border-amber-900/30",children:n.title}),!V&&l&&E.jsxs("div",{className:"text-center bg-gray-800/50 p-12 rounded-lg mt-8",children:[E.jsx(aN,{}),E.jsx("p",{className:"text-lg text-gray-400 mt-4",children:"Generating summary..."})]}),!V&&!l&&E.jsxs("div",{className:"text-center bg-gray-800/50 p-12 rounded-lg mt-8",children:[E.jsx("p",{className:"text-lg text-gray-400 mt-4",children:"This chapter has not been summarized yet."}),E.jsx("p",{className:"text-sm text-gray-500",children:"Click its title in the sidebar to generate a summary."})]}),V&&E.jsxs("div",{className:"space-y-12 animate-fade-in",children:[e.bullets.length>0&&E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[E.jsx(X1,{className:"w-6 h-6 md:w-7 md:h-7 text-amber-400"}),E.jsx("h3",{className:"text-xl md:text-2xl font-bold text-amber-100",children:"Summary"})]}),E.jsx("ul",{className:"space-y-3 list-disc list-inside text-base md:text-lg text-gray-300 pl-2",children:e.bullets.map((Z,Q)=>E.jsx("li",{className:"leading-relaxed",children:Z},Q))})]}),e.quote&&E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[E.jsx(Q1,{className:"w-6 h-6 md:w-7 md:h-7 text-amber-400"}),E.jsx("h3",{className:"text-xl md:text-2xl font-bold text-amber-100",children:"Key Quote"})]}),E.jsx("blockquote",{className:"relative p-4 md:p-6 bg-gradient-to-r from-amber-900/20 to-orange-900/20 border-l-4 border-amber-500 rounded-r-lg",children:E.jsx("p",{className:"text-base md:text-xl italic text-amber-50 leading-relaxed",children:e.quote})})]})]}),E.jsxs("div",{className:"mt-8 md:mt-12 pt-6 md:pt-8 border-t-2 border-amber-900/30",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4 flex-wrap gap-2",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(W1,{className:"w-6 h-6 md:w-7 md:h-7 text-amber-400"}),E.jsx("h3",{className:"text-xl md:text-2xl font-bold text-amber-100",children:"Full Chapter Text"})]}),E.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:E.jsx("button",{onClick:()=>y(!0),className:"text-xs md:text-sm px-3 py-1 bg-amber-600/20 text-amber-400 hover:bg-amber-600/30 rounded transition-colors",title:"Full screen reader",children:"Full Screen"})})]}),E.jsx("div",{className:`${O[C]} ${Y[p]} ${F[A]} p-4 md:p-6 rounded-lg leading-relaxed whitespace-pre-wrap max-h-[60vh] overflow-y-auto custom-scrollbar`,children:n.content})]}),g&&E.jsxs("div",{className:"fixed inset-0 z-50 bg-gray-900 overflow-hidden flex flex-col",children:[E.jsx("button",{onClick:()=>G(!I),className:"fixed top-4 right-4 z-50 w-10 h-10 md:w-12 md:h-12 bg-gray-800/90 hover:bg-gray-700 text-amber-400 rounded-full shadow-lg flex items-center justify-center transition-all","aria-label":"Settings",children:E.jsxs("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),E.jsx("button",{onClick:()=>y(!1),className:"fixed top-4 left-4 z-50 w-10 h-10 md:w-12 md:h-12 bg-gray-800/90 hover:bg-red-600/90 text-gray-400 hover:text-white rounded-full shadow-lg flex items-center justify-center transition-all","aria-label":"Close",children:E.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),I&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>G(!1)}),E.jsxs("div",{className:"fixed top-0 right-0 h-full w-72 md:w-80 bg-gray-800 shadow-2xl z-50 p-6 overflow-y-auto",children:[E.jsxs("div",{className:"flex items-center justify-between mb-6",children:[E.jsx("h3",{className:"text-lg font-bold text-amber-400",children:"Reading Settings"}),E.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Font Size"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>v("small"),className:`flex-1 px-3 py-2 text-xs rounded ${p==="small"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"A"}),E.jsx("button",{onClick:()=>v("medium"),className:`flex-1 px-3 py-2 text-sm rounded ${p==="medium"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"A"}),E.jsx("button",{onClick:()=>v("large"),className:`flex-1 px-3 py-2 text-base rounded ${p==="large"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"A"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Theme"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>S("dark"),className:`flex-1 px-4 py-2 text-sm rounded ${C==="dark"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Night"}),E.jsx("button",{onClick:()=>S("light"),className:`flex-1 px-4 py-2 text-sm rounded ${C==="light"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Day"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Font Family"}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("button",{onClick:()=>N("serif"),className:`w-full px-4 py-2 text-sm rounded font-serif text-left ${A==="serif"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Serif"}),E.jsx("button",{onClick:()=>N("sans"),className:`w-full px-4 py-2 text-sm rounded font-sans text-left ${A==="sans"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Sans Serif"}),E.jsx("button",{onClick:()=>N("mono"),className:`w-full px-4 py-2 text-sm rounded font-mono text-left ${A==="mono"?"bg-amber-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Monospace"})]})]})]})]})]}),E.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:E.jsx("div",{className:`${O[C]} min-h-full`,children:E.jsx("div",{className:`max-w-4xl mx-auto p-6 md:p-12 ${Y[p]} ${F[A]} leading-relaxed whitespace-pre-wrap`,children:n.content})})})]}),E.jsx("style",{children:`
          @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
          }
          .animate-fade-in {
            animation: fade-in 0.5s ease-out forwards;
          }

          /* Custom Scrollbar Styles - Same as sidebar */
          .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
          }

          .custom-scrollbar::-webkit-scrollbar-track {
            background: rgba(31, 41, 55, 0.5);
            border-radius: 4px;
          }

          .custom-scrollbar::-webkit-scrollbar-thumb {
            background: rgba(217, 119, 6, 0.5);
            border-radius: 4px;
            transition: background 0.2s;
          }

          .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: rgba(217, 119, 6, 0.7);
          }

          /* Firefox */
          .custom-scrollbar {
            scrollbar-width: thin;
            scrollbar-color: rgba(217, 119, 6, 0.5) rgba(31, 41, 55, 0.5);
          }
        `})]})};function $u(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var di=$u();function kg(n){di=n}var so={exec:()=>null};function _e(n,e=""){let l=typeof n=="string"?n:n.source,o={replace:(u,f)=>{let m=typeof f=="string"?f:f.source;return m=m.replace(ut.caret,"$1"),l=l.replace(u,m),o},getRegex:()=>new RegExp(l,e)};return o}var ut={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},uN=/^(?:[ \t]*(?:\n|$))+/,cN=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,fN=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ro=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,dN=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Ku=/(?:[*+-]|\d{1,9}[.)])/,Ig=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Ug=_e(Ig).replace(/bull/g,Ku).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),mN=_e(Ig).replace(/bull/g,Ku).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Qu=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,pN=/^[^\n]+/,Xu=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,hN=_e(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Xu).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),gN=_e(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ku).getRegex(),Os="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Zu=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,yN=_e("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Zu).replace("tag",Os).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Lg=_e(Qu).replace("hr",ro).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Os).getRegex(),vN=_e(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Lg).getRegex(),Wu={blockquote:vN,code:cN,def:hN,fences:fN,heading:dN,hr:ro,html:yN,lheading:Ug,list:gN,newline:uN,paragraph:Lg,table:so,text:pN},Bh=_e("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ro).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Os).getRegex(),TN={...Wu,lheading:mN,table:Bh,paragraph:_e(Qu).replace("hr",ro).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Bh).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Os).getRegex()},CN={...Wu,html:_e(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Zu).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:so,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:_e(Qu).replace("hr",ro).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ug).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},SN=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,xN=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Vg=/^( {2,}|\\)\n(?!\s*$)/,EN=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,$s=/[\p{P}\p{S}]/u,ju=/[\s\p{P}\p{S}]/u,qg=/[^\s\p{P}\p{S}]/u,AN=_e(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,ju).getRegex(),Gg=/(?!~)[\p{P}\p{S}]/u,_N=/(?!~)[\s\p{P}\p{S}]/u,MN=/(?:[^\s\p{P}\p{S}]|~)/u,RN=/\[(?:[^\[\]`]|`[^`]*?`)*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,zg=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,NN=_e(zg,"u").replace(/punct/g,$s).getRegex(),bN=_e(zg,"u").replace(/punct/g,Gg).getRegex(),Hg="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",wN=_e(Hg,"gu").replace(/notPunctSpace/g,qg).replace(/punctSpace/g,ju).replace(/punct/g,$s).getRegex(),DN=_e(Hg,"gu").replace(/notPunctSpace/g,MN).replace(/punctSpace/g,_N).replace(/punct/g,Gg).getRegex(),kN=_e("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,qg).replace(/punctSpace/g,ju).replace(/punct/g,$s).getRegex(),IN=_e(/\\(punct)/,"gu").replace(/punct/g,$s).getRegex(),UN=_e(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),LN=_e(Zu).replace("(?:-->|$)","-->").getRegex(),VN=_e("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",LN).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Hs=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,qN=_e(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Hs).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Bg=_e(/^!?\[(label)\]\[(ref)\]/).replace("label",Hs).replace("ref",Xu).getRegex(),Pg=_e(/^!?\[(ref)\](?:\[\])?/).replace("ref",Xu).getRegex(),GN=_e("reflink|nolink(?!\\()","g").replace("reflink",Bg).replace("nolink",Pg).getRegex(),Ph=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,ec={_backpedal:so,anyPunctuation:IN,autolink:UN,blockSkip:RN,br:Vg,code:xN,del:so,emStrongLDelim:NN,emStrongRDelimAst:wN,emStrongRDelimUnd:kN,escape:SN,link:qN,nolink:Pg,punctuation:AN,reflink:Bg,reflinkSearch:GN,tag:VN,text:EN,url:so},zN={...ec,link:_e(/^!?\[(label)\]\((.*?)\)/).replace("label",Hs).getRegex(),reflink:_e(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Hs).getRegex()},ku={...ec,emStrongRDelimAst:DN,emStrongLDelim:bN,url:_e(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Ph).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:_e(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Ph).getRegex()},HN={...ku,br:_e(Vg).replace("{2,}","*").getRegex(),text:_e(ku.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ws={normal:Wu,gfm:TN,pedantic:CN},no={normal:ec,gfm:ku,breaks:HN,pedantic:zN},BN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Fh=n=>BN[n];function Kt(n,e){if(e){if(ut.escapeTest.test(n))return n.replace(ut.escapeReplace,Fh)}else if(ut.escapeTestNoEncode.test(n))return n.replace(ut.escapeReplaceNoEncode,Fh);return n}function Jh(n){try{n=encodeURI(n).replace(ut.percentDecode,"%")}catch{return null}return n}function Yh(n,e){var f;let l=n.replace(ut.findPipe,(m,g,y)=>{let p=!1,v=g;for(;--v>=0&&y[v]==="\\";)p=!p;return p?"|":" |"}),o=l.split(ut.splitPipe),u=0;if(o[0].trim()||o.shift(),o.length>0&&!((f=o.at(-1))!=null&&f.trim())&&o.pop(),e)if(o.length>e)o.splice(e);else for(;o.length<e;)o.push("");for(;u<o.length;u++)o[u]=o[u].trim().replace(ut.slashPipe,"|");return o}function io(n,e,l){let o=n.length;if(o===0)return"";let u=0;for(;u<o&&n.charAt(o-u-1)===e;)u++;return n.slice(0,o-u)}function PN(n,e){if(n.indexOf(e[1])===-1)return-1;let l=0;for(let o=0;o<n.length;o++)if(n[o]==="\\")o++;else if(n[o]===e[0])l++;else if(n[o]===e[1]&&(l--,l<0))return o;return l>0?-2:-1}function Oh(n,e,l,o,u){let f=e.href,m=e.title||null,g=n[1].replace(u.other.outputLinkReplace,"$1");o.state.inLink=!0;let y={type:n[0].charAt(0)==="!"?"image":"link",raw:l,href:f,title:m,text:g,tokens:o.inlineTokens(g)};return o.state.inLink=!1,y}function FN(n,e,l){let o=n.match(l.other.indentCodeCompensation);if(o===null)return e;let u=o[1];return e.split(`
`).map(f=>{let m=f.match(l.other.beginningSpace);if(m===null)return f;let[g]=m;return g.length>=u.length?f.slice(u.length):f}).join(`
`)}var Bs=class{constructor(n){Ue(this,"options");Ue(this,"rules");Ue(this,"lexer");this.options=n||di}space(n){let e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){let e=this.rules.block.code.exec(n);if(e){let l=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?l:io(l,`
`)}}}fences(n){let e=this.rules.block.fences.exec(n);if(e){let l=e[0],o=FN(l,e[3]||"",this.rules);return{type:"code",raw:l,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:o}}}heading(n){let e=this.rules.block.heading.exec(n);if(e){let l=e[2].trim();if(this.rules.other.endingHash.test(l)){let o=io(l,"#");(this.options.pedantic||!o||this.rules.other.endingSpaceChar.test(o))&&(l=o.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:l,tokens:this.lexer.inline(l)}}}hr(n){let e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:io(e[0],`
`)}}blockquote(n){let e=this.rules.block.blockquote.exec(n);if(e){let l=io(e[0],`
`).split(`
`),o="",u="",f=[];for(;l.length>0;){let m=!1,g=[],y;for(y=0;y<l.length;y++)if(this.rules.other.blockquoteStart.test(l[y]))g.push(l[y]),m=!0;else if(!m)g.push(l[y]);else break;l=l.slice(y);let p=g.join(`
`),v=p.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");o=o?`${o}
${p}`:p,u=u?`${u}
${v}`:v;let C=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(v,f,!0),this.lexer.state.top=C,l.length===0)break;let S=f.at(-1);if((S==null?void 0:S.type)==="code")break;if((S==null?void 0:S.type)==="blockquote"){let A=S,N=A.raw+`
`+l.join(`
`),I=this.blockquote(N);f[f.length-1]=I,o=o.substring(0,o.length-A.raw.length)+I.raw,u=u.substring(0,u.length-A.text.length)+I.text;break}else if((S==null?void 0:S.type)==="list"){let A=S,N=A.raw+`
`+l.join(`
`),I=this.list(N);f[f.length-1]=I,o=o.substring(0,o.length-S.raw.length)+I.raw,u=u.substring(0,u.length-A.raw.length)+I.raw,l=N.substring(f.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:o,tokens:f,text:u}}}list(n){let e=this.rules.block.list.exec(n);if(e){let l=e[1].trim(),o=l.length>1,u={type:"list",raw:"",ordered:o,start:o?+l.slice(0,-1):"",loose:!1,items:[]};l=o?`\\d{1,9}\\${l.slice(-1)}`:`\\${l}`,this.options.pedantic&&(l=o?l:"[*+-]");let f=this.rules.other.listItemRegex(l),m=!1;for(;n;){let y=!1,p="",v="";if(!(e=f.exec(n))||this.rules.block.hr.test(n))break;p=e[0],n=n.substring(p.length);let C=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,V=>" ".repeat(3*V.length)),S=n.split(`
`,1)[0],A=!C.trim(),N=0;if(this.options.pedantic?(N=2,v=C.trimStart()):A?N=e[1].length+1:(N=e[2].search(this.rules.other.nonSpaceChar),N=N>4?1:N,v=C.slice(N),N+=e[1].length),A&&this.rules.other.blankLine.test(S)&&(p+=S+`
`,n=n.substring(S.length+1),y=!0),!y){let V=this.rules.other.nextBulletRegex(N),Y=this.rules.other.hrRegex(N),F=this.rules.other.fencesBeginRegex(N),O=this.rules.other.headingBeginRegex(N),Z=this.rules.other.htmlBeginRegex(N);for(;n;){let Q=n.split(`
`,1)[0],H;if(S=Q,this.options.pedantic?(S=S.replace(this.rules.other.listReplaceNesting,"  "),H=S):H=S.replace(this.rules.other.tabCharGlobal,"    "),F.test(S)||O.test(S)||Z.test(S)||V.test(S)||Y.test(S))break;if(H.search(this.rules.other.nonSpaceChar)>=N||!S.trim())v+=`
`+H.slice(N);else{if(A||C.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||F.test(C)||O.test(C)||Y.test(C))break;v+=`
`+S}!A&&!S.trim()&&(A=!0),p+=Q+`
`,n=n.substring(Q.length+1),C=H.slice(N)}}u.loose||(m?u.loose=!0:this.rules.other.doubleBlankLine.test(p)&&(m=!0));let I=null,G;this.options.gfm&&(I=this.rules.other.listIsTask.exec(v),I&&(G=I[0]!=="[ ] ",v=v.replace(this.rules.other.listReplaceTask,""))),u.items.push({type:"list_item",raw:p,task:!!I,checked:G,loose:!1,text:v,tokens:[]}),u.raw+=p}let g=u.items.at(-1);if(g)g.raw=g.raw.trimEnd(),g.text=g.text.trimEnd();else return;u.raw=u.raw.trimEnd();for(let y=0;y<u.items.length;y++)if(this.lexer.state.top=!1,u.items[y].tokens=this.lexer.blockTokens(u.items[y].text,[]),!u.loose){let p=u.items[y].tokens.filter(C=>C.type==="space"),v=p.length>0&&p.some(C=>this.rules.other.anyLine.test(C.raw));u.loose=v}if(u.loose)for(let y=0;y<u.items.length;y++)u.items[y].loose=!0;return u}}html(n){let e=this.rules.block.html.exec(n);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(n){let e=this.rules.block.def.exec(n);if(e){let l=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),o=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",u=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:l,raw:e[0],href:o,title:u}}}table(n){var m;let e=this.rules.block.table.exec(n);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let l=Yh(e[1]),o=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),u=(m=e[3])!=null&&m.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],f={type:"table",raw:e[0],header:[],align:[],rows:[]};if(l.length===o.length){for(let g of o)this.rules.other.tableAlignRight.test(g)?f.align.push("right"):this.rules.other.tableAlignCenter.test(g)?f.align.push("center"):this.rules.other.tableAlignLeft.test(g)?f.align.push("left"):f.align.push(null);for(let g=0;g<l.length;g++)f.header.push({text:l[g],tokens:this.lexer.inline(l[g]),header:!0,align:f.align[g]});for(let g of u)f.rows.push(Yh(g,f.header.length).map((y,p)=>({text:y,tokens:this.lexer.inline(y),header:!1,align:f.align[p]})));return f}}lheading(n){let e=this.rules.block.lheading.exec(n);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(n){let e=this.rules.block.paragraph.exec(n);if(e){let l=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:l,tokens:this.lexer.inline(l)}}}text(n){let e=this.rules.block.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(n){let e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(n){let e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(n){let e=this.rules.inline.link.exec(n);if(e){let l=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(l)){if(!this.rules.other.endAngleBracket.test(l))return;let f=io(l.slice(0,-1),"\\");if((l.length-f.length)%2===0)return}else{let f=PN(e[2],"()");if(f===-2)return;if(f>-1){let m=(e[0].indexOf("!")===0?5:4)+e[1].length+f;e[2]=e[2].substring(0,f),e[0]=e[0].substring(0,m).trim(),e[3]=""}}let o=e[2],u="";if(this.options.pedantic){let f=this.rules.other.pedanticHrefTitle.exec(o);f&&(o=f[1],u=f[3])}else u=e[3]?e[3].slice(1,-1):"";return o=o.trim(),this.rules.other.startAngleBracket.test(o)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(l)?o=o.slice(1):o=o.slice(1,-1)),Oh(e,{href:o&&o.replace(this.rules.inline.anyPunctuation,"$1"),title:u&&u.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(n,e){let l;if((l=this.rules.inline.reflink.exec(n))||(l=this.rules.inline.nolink.exec(n))){let o=(l[2]||l[1]).replace(this.rules.other.multipleSpaceGlobal," "),u=e[o.toLowerCase()];if(!u){let f=l[0].charAt(0);return{type:"text",raw:f,text:f}}return Oh(l,u,l[0],this.lexer,this.rules)}}emStrong(n,e,l=""){let o=this.rules.inline.emStrongLDelim.exec(n);if(!(!o||o[3]&&l.match(this.rules.other.unicodeAlphaNumeric))&&(!(o[1]||o[2])||!l||this.rules.inline.punctuation.exec(l))){let u=[...o[0]].length-1,f,m,g=u,y=0,p=o[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,e=e.slice(-1*n.length+u);(o=p.exec(e))!=null;){if(f=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!f)continue;if(m=[...f].length,o[3]||o[4]){g+=m;continue}else if((o[5]||o[6])&&u%3&&!((u+m)%3)){y+=m;continue}if(g-=m,g>0)continue;m=Math.min(m,m+g+y);let v=[...o[0]][0].length,C=n.slice(0,u+o.index+v+m);if(Math.min(u,m)%2){let A=C.slice(1,-1);return{type:"em",raw:C,text:A,tokens:this.lexer.inlineTokens(A)}}let S=C.slice(2,-2);return{type:"strong",raw:C,text:S,tokens:this.lexer.inlineTokens(S)}}}}codespan(n){let e=this.rules.inline.code.exec(n);if(e){let l=e[2].replace(this.rules.other.newLineCharGlobal," "),o=this.rules.other.nonSpaceChar.test(l),u=this.rules.other.startingSpaceChar.test(l)&&this.rules.other.endingSpaceChar.test(l);return o&&u&&(l=l.substring(1,l.length-1)),{type:"codespan",raw:e[0],text:l}}}br(n){let e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){let e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(n){let e=this.rules.inline.autolink.exec(n);if(e){let l,o;return e[2]==="@"?(l=e[1],o="mailto:"+l):(l=e[1],o=l),{type:"link",raw:e[0],text:l,href:o,tokens:[{type:"text",raw:l,text:l}]}}}url(n){var l;let e;if(e=this.rules.inline.url.exec(n)){let o,u;if(e[2]==="@")o=e[0],u="mailto:"+o;else{let f;do f=e[0],e[0]=((l=this.rules.inline._backpedal.exec(e[0]))==null?void 0:l[0])??"";while(f!==e[0]);o=e[0],e[1]==="www."?u="http://"+e[0]:u=e[0]}return{type:"link",raw:e[0],text:o,href:u,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(n){let e=this.rules.inline.text.exec(n);if(e){let l=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:l}}}},Bt=class Iu{constructor(e){Ue(this,"tokens");Ue(this,"options");Ue(this,"state");Ue(this,"tokenizer");Ue(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||di,this.options.tokenizer=this.options.tokenizer||new Bs,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let l={other:ut,block:ws.normal,inline:no.normal};this.options.pedantic?(l.block=ws.pedantic,l.inline=no.pedantic):this.options.gfm&&(l.block=ws.gfm,this.options.breaks?l.inline=no.breaks:l.inline=no.gfm),this.tokenizer.rules=l}static get rules(){return{block:ws,inline:no}}static lex(e,l){return new Iu(l).lex(e)}static lexInline(e,l){return new Iu(l).inlineTokens(e)}lex(e){e=e.replace(ut.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let l=0;l<this.inlineQueue.length;l++){let o=this.inlineQueue[l];this.inlineTokens(o.src,o.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,l=[],o=!1){var u,f,m;for(this.options.pedantic&&(e=e.replace(ut.tabCharGlobal,"    ").replace(ut.spaceLine,""));e;){let g;if((f=(u=this.options.extensions)==null?void 0:u.block)!=null&&f.some(p=>(g=p.call({lexer:this},e,l))?(e=e.substring(g.raw.length),l.push(g),!0):!1))continue;if(g=this.tokenizer.space(e)){e=e.substring(g.raw.length);let p=l.at(-1);g.raw.length===1&&p!==void 0?p.raw+=`
`:l.push(g);continue}if(g=this.tokenizer.code(e)){e=e.substring(g.raw.length);let p=l.at(-1);(p==null?void 0:p.type)==="paragraph"||(p==null?void 0:p.type)==="text"?(p.raw+=(p.raw.endsWith(`
`)?"":`
`)+g.raw,p.text+=`
`+g.text,this.inlineQueue.at(-1).src=p.text):l.push(g);continue}if(g=this.tokenizer.fences(e)){e=e.substring(g.raw.length),l.push(g);continue}if(g=this.tokenizer.heading(e)){e=e.substring(g.raw.length),l.push(g);continue}if(g=this.tokenizer.hr(e)){e=e.substring(g.raw.length),l.push(g);continue}if(g=this.tokenizer.blockquote(e)){e=e.substring(g.raw.length),l.push(g);continue}if(g=this.tokenizer.list(e)){e=e.substring(g.raw.length),l.push(g);continue}if(g=this.tokenizer.html(e)){e=e.substring(g.raw.length),l.push(g);continue}if(g=this.tokenizer.def(e)){e=e.substring(g.raw.length);let p=l.at(-1);(p==null?void 0:p.type)==="paragraph"||(p==null?void 0:p.type)==="text"?(p.raw+=(p.raw.endsWith(`
`)?"":`
`)+g.raw,p.text+=`
`+g.raw,this.inlineQueue.at(-1).src=p.text):this.tokens.links[g.tag]||(this.tokens.links[g.tag]={href:g.href,title:g.title},l.push(g));continue}if(g=this.tokenizer.table(e)){e=e.substring(g.raw.length),l.push(g);continue}if(g=this.tokenizer.lheading(e)){e=e.substring(g.raw.length),l.push(g);continue}let y=e;if((m=this.options.extensions)!=null&&m.startBlock){let p=1/0,v=e.slice(1),C;this.options.extensions.startBlock.forEach(S=>{C=S.call({lexer:this},v),typeof C=="number"&&C>=0&&(p=Math.min(p,C))}),p<1/0&&p>=0&&(y=e.substring(0,p+1))}if(this.state.top&&(g=this.tokenizer.paragraph(y))){let p=l.at(-1);o&&(p==null?void 0:p.type)==="paragraph"?(p.raw+=(p.raw.endsWith(`
`)?"":`
`)+g.raw,p.text+=`
`+g.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=p.text):l.push(g),o=y.length!==e.length,e=e.substring(g.raw.length);continue}if(g=this.tokenizer.text(e)){e=e.substring(g.raw.length);let p=l.at(-1);(p==null?void 0:p.type)==="text"?(p.raw+=(p.raw.endsWith(`
`)?"":`
`)+g.raw,p.text+=`
`+g.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=p.text):l.push(g);continue}if(e){let p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return this.state.top=!0,l}inline(e,l=[]){return this.inlineQueue.push({src:e,tokens:l}),l}inlineTokens(e,l=[]){var g,y,p,v,C;let o=e,u=null;if(this.tokens.links){let S=Object.keys(this.tokens.links);if(S.length>0)for(;(u=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)S.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(u=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,u.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(u=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);o=((y=(g=this.options.hooks)==null?void 0:g.emStrongMask)==null?void 0:y.call({lexer:this},o))??o;let f=!1,m="";for(;e;){f||(m=""),f=!1;let S;if((v=(p=this.options.extensions)==null?void 0:p.inline)!=null&&v.some(N=>(S=N.call({lexer:this},e,l))?(e=e.substring(S.raw.length),l.push(S),!0):!1))continue;if(S=this.tokenizer.escape(e)){e=e.substring(S.raw.length),l.push(S);continue}if(S=this.tokenizer.tag(e)){e=e.substring(S.raw.length),l.push(S);continue}if(S=this.tokenizer.link(e)){e=e.substring(S.raw.length),l.push(S);continue}if(S=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(S.raw.length);let N=l.at(-1);S.type==="text"&&(N==null?void 0:N.type)==="text"?(N.raw+=S.raw,N.text+=S.text):l.push(S);continue}if(S=this.tokenizer.emStrong(e,o,m)){e=e.substring(S.raw.length),l.push(S);continue}if(S=this.tokenizer.codespan(e)){e=e.substring(S.raw.length),l.push(S);continue}if(S=this.tokenizer.br(e)){e=e.substring(S.raw.length),l.push(S);continue}if(S=this.tokenizer.del(e)){e=e.substring(S.raw.length),l.push(S);continue}if(S=this.tokenizer.autolink(e)){e=e.substring(S.raw.length),l.push(S);continue}if(!this.state.inLink&&(S=this.tokenizer.url(e))){e=e.substring(S.raw.length),l.push(S);continue}let A=e;if((C=this.options.extensions)!=null&&C.startInline){let N=1/0,I=e.slice(1),G;this.options.extensions.startInline.forEach(V=>{G=V.call({lexer:this},I),typeof G=="number"&&G>=0&&(N=Math.min(N,G))}),N<1/0&&N>=0&&(A=e.substring(0,N+1))}if(S=this.tokenizer.inlineText(A)){e=e.substring(S.raw.length),S.raw.slice(-1)!=="_"&&(m=S.raw.slice(-1)),f=!0;let N=l.at(-1);(N==null?void 0:N.type)==="text"?(N.raw+=S.raw,N.text+=S.text):l.push(S);continue}if(e){let N="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(N);break}else throw new Error(N)}}return l}},Ps=class{constructor(n){Ue(this,"options");Ue(this,"parser");this.options=n||di}space(n){return""}code({text:n,lang:e,escaped:l}){var f;let o=(f=(e||"").match(ut.notSpaceStart))==null?void 0:f[0],u=n.replace(ut.endingNewline,"")+`
`;return o?'<pre><code class="language-'+Kt(o)+'">'+(l?u:Kt(u,!0))+`</code></pre>
`:"<pre><code>"+(l?u:Kt(u,!0))+`</code></pre>
`}blockquote({tokens:n}){return`<blockquote>
${this.parser.parse(n)}</blockquote>
`}html({text:n}){return n}def(n){return""}heading({tokens:n,depth:e}){return`<h${e}>${this.parser.parseInline(n)}</h${e}>
`}hr(n){return`<hr>
`}list(n){let e=n.ordered,l=n.start,o="";for(let m=0;m<n.items.length;m++){let g=n.items[m];o+=this.listitem(g)}let u=e?"ol":"ul",f=e&&l!==1?' start="'+l+'"':"";return"<"+u+f+`>
`+o+"</"+u+`>
`}listitem(n){var l;let e="";if(n.task){let o=this.checkbox({checked:!!n.checked});n.loose?((l=n.tokens[0])==null?void 0:l.type)==="paragraph"?(n.tokens[0].text=o+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&n.tokens[0].tokens[0].type==="text"&&(n.tokens[0].tokens[0].text=o+" "+Kt(n.tokens[0].tokens[0].text),n.tokens[0].tokens[0].escaped=!0)):n.tokens.unshift({type:"text",raw:o+" ",text:o+" ",escaped:!0}):e+=o+" "}return e+=this.parser.parse(n.tokens,!!n.loose),`<li>${e}</li>
`}checkbox({checked:n}){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>
`}table(n){let e="",l="";for(let u=0;u<n.header.length;u++)l+=this.tablecell(n.header[u]);e+=this.tablerow({text:l});let o="";for(let u=0;u<n.rows.length;u++){let f=n.rows[u];l="";for(let m=0;m<f.length;m++)l+=this.tablecell(f[m]);o+=this.tablerow({text:l})}return o&&(o=`<tbody>${o}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+o+`</table>
`}tablerow({text:n}){return`<tr>
${n}</tr>
`}tablecell(n){let e=this.parser.parseInline(n.tokens),l=n.header?"th":"td";return(n.align?`<${l} align="${n.align}">`:`<${l}>`)+e+`</${l}>
`}strong({tokens:n}){return`<strong>${this.parser.parseInline(n)}</strong>`}em({tokens:n}){return`<em>${this.parser.parseInline(n)}</em>`}codespan({text:n}){return`<code>${Kt(n,!0)}</code>`}br(n){return"<br>"}del({tokens:n}){return`<del>${this.parser.parseInline(n)}</del>`}link({href:n,title:e,tokens:l}){let o=this.parser.parseInline(l),u=Jh(n);if(u===null)return o;n=u;let f='<a href="'+n+'"';return e&&(f+=' title="'+Kt(e)+'"'),f+=">"+o+"</a>",f}image({href:n,title:e,text:l,tokens:o}){o&&(l=this.parser.parseInline(o,this.parser.textRenderer));let u=Jh(n);if(u===null)return Kt(l);n=u;let f=`<img src="${n}" alt="${l}"`;return e&&(f+=` title="${Kt(e)}"`),f+=">",f}text(n){return"tokens"in n&&n.tokens?this.parser.parseInline(n.tokens):"escaped"in n&&n.escaped?n.text:Kt(n.text)}},tc=class{strong({text:n}){return n}em({text:n}){return n}codespan({text:n}){return n}del({text:n}){return n}html({text:n}){return n}text({text:n}){return n}link({text:n}){return""+n}image({text:n}){return""+n}br(){return""}},Pt=class Uu{constructor(e){Ue(this,"options");Ue(this,"renderer");Ue(this,"textRenderer");this.options=e||di,this.options.renderer=this.options.renderer||new Ps,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new tc}static parse(e,l){return new Uu(l).parse(e)}static parseInline(e,l){return new Uu(l).parseInline(e)}parse(e,l=!0){var u,f;let o="";for(let m=0;m<e.length;m++){let g=e[m];if((f=(u=this.options.extensions)==null?void 0:u.renderers)!=null&&f[g.type]){let p=g,v=this.options.extensions.renderers[p.type].call({parser:this},p);if(v!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(p.type)){o+=v||"";continue}}let y=g;switch(y.type){case"space":{o+=this.renderer.space(y);continue}case"hr":{o+=this.renderer.hr(y);continue}case"heading":{o+=this.renderer.heading(y);continue}case"code":{o+=this.renderer.code(y);continue}case"table":{o+=this.renderer.table(y);continue}case"blockquote":{o+=this.renderer.blockquote(y);continue}case"list":{o+=this.renderer.list(y);continue}case"html":{o+=this.renderer.html(y);continue}case"def":{o+=this.renderer.def(y);continue}case"paragraph":{o+=this.renderer.paragraph(y);continue}case"text":{let p=y,v=this.renderer.text(p);for(;m+1<e.length&&e[m+1].type==="text";)p=e[++m],v+=`
`+this.renderer.text(p);l?o+=this.renderer.paragraph({type:"paragraph",raw:v,text:v,tokens:[{type:"text",raw:v,text:v,escaped:!0}]}):o+=v;continue}default:{let p='Token with "'+y.type+'" type was not found.';if(this.options.silent)return console.error(p),"";throw new Error(p)}}}return o}parseInline(e,l=this.renderer){var u,f;let o="";for(let m=0;m<e.length;m++){let g=e[m];if((f=(u=this.options.extensions)==null?void 0:u.renderers)!=null&&f[g.type]){let p=this.options.extensions.renderers[g.type].call({parser:this},g);if(p!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(g.type)){o+=p||"";continue}}let y=g;switch(y.type){case"escape":{o+=l.text(y);break}case"html":{o+=l.html(y);break}case"link":{o+=l.link(y);break}case"image":{o+=l.image(y);break}case"strong":{o+=l.strong(y);break}case"em":{o+=l.em(y);break}case"codespan":{o+=l.codespan(y);break}case"br":{o+=l.br(y);break}case"del":{o+=l.del(y);break}case"text":{o+=l.text(y);break}default:{let p='Token with "'+y.type+'" type was not found.';if(this.options.silent)return console.error(p),"";throw new Error(p)}}}return o}},Ds,lo=(Ds=class{constructor(n){Ue(this,"options");Ue(this,"block");this.options=n||di}preprocess(n){return n}postprocess(n){return n}processAllTokens(n){return n}emStrongMask(n){return n}provideLexer(){return this.block?Bt.lex:Bt.lexInline}provideParser(){return this.block?Pt.parse:Pt.parseInline}},Ue(Ds,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),Ue(Ds,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),Ds),JN=class{constructor(...n){Ue(this,"defaults",$u());Ue(this,"options",this.setOptions);Ue(this,"parse",this.parseMarkdown(!0));Ue(this,"parseInline",this.parseMarkdown(!1));Ue(this,"Parser",Pt);Ue(this,"Renderer",Ps);Ue(this,"TextRenderer",tc);Ue(this,"Lexer",Bt);Ue(this,"Tokenizer",Bs);Ue(this,"Hooks",lo);this.use(...n)}walkTokens(n,e){var o,u;let l=[];for(let f of n)switch(l=l.concat(e.call(this,f)),f.type){case"table":{let m=f;for(let g of m.header)l=l.concat(this.walkTokens(g.tokens,e));for(let g of m.rows)for(let y of g)l=l.concat(this.walkTokens(y.tokens,e));break}case"list":{let m=f;l=l.concat(this.walkTokens(m.items,e));break}default:{let m=f;(u=(o=this.defaults.extensions)==null?void 0:o.childTokens)!=null&&u[m.type]?this.defaults.extensions.childTokens[m.type].forEach(g=>{let y=m[g].flat(1/0);l=l.concat(this.walkTokens(y,e))}):m.tokens&&(l=l.concat(this.walkTokens(m.tokens,e)))}}return l}use(...n){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(l=>{let o={...l};if(o.async=this.defaults.async||o.async||!1,l.extensions&&(l.extensions.forEach(u=>{if(!u.name)throw new Error("extension name required");if("renderer"in u){let f=e.renderers[u.name];f?e.renderers[u.name]=function(...m){let g=u.renderer.apply(this,m);return g===!1&&(g=f.apply(this,m)),g}:e.renderers[u.name]=u.renderer}if("tokenizer"in u){if(!u.level||u.level!=="block"&&u.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let f=e[u.level];f?f.unshift(u.tokenizer):e[u.level]=[u.tokenizer],u.start&&(u.level==="block"?e.startBlock?e.startBlock.push(u.start):e.startBlock=[u.start]:u.level==="inline"&&(e.startInline?e.startInline.push(u.start):e.startInline=[u.start]))}"childTokens"in u&&u.childTokens&&(e.childTokens[u.name]=u.childTokens)}),o.extensions=e),l.renderer){let u=this.defaults.renderer||new Ps(this.defaults);for(let f in l.renderer){if(!(f in u))throw new Error(`renderer '${f}' does not exist`);if(["options","parser"].includes(f))continue;let m=f,g=l.renderer[m],y=u[m];u[m]=(...p)=>{let v=g.apply(u,p);return v===!1&&(v=y.apply(u,p)),v||""}}o.renderer=u}if(l.tokenizer){let u=this.defaults.tokenizer||new Bs(this.defaults);for(let f in l.tokenizer){if(!(f in u))throw new Error(`tokenizer '${f}' does not exist`);if(["options","rules","lexer"].includes(f))continue;let m=f,g=l.tokenizer[m],y=u[m];u[m]=(...p)=>{let v=g.apply(u,p);return v===!1&&(v=y.apply(u,p)),v}}o.tokenizer=u}if(l.hooks){let u=this.defaults.hooks||new lo;for(let f in l.hooks){if(!(f in u))throw new Error(`hook '${f}' does not exist`);if(["options","block"].includes(f))continue;let m=f,g=l.hooks[m],y=u[m];lo.passThroughHooks.has(f)?u[m]=p=>{if(this.defaults.async&&lo.passThroughHooksRespectAsync.has(f))return(async()=>{let C=await g.call(u,p);return y.call(u,C)})();let v=g.call(u,p);return y.call(u,v)}:u[m]=(...p)=>{if(this.defaults.async)return(async()=>{let C=await g.apply(u,p);return C===!1&&(C=await y.apply(u,p)),C})();let v=g.apply(u,p);return v===!1&&(v=y.apply(u,p)),v}}o.hooks=u}if(l.walkTokens){let u=this.defaults.walkTokens,f=l.walkTokens;o.walkTokens=function(m){let g=[];return g.push(f.call(this,m)),u&&(g=g.concat(u.call(this,m))),g}}this.defaults={...this.defaults,...o}}),this}setOptions(n){return this.defaults={...this.defaults,...n},this}lexer(n,e){return Bt.lex(n,e??this.defaults)}parser(n,e){return Pt.parse(n,e??this.defaults)}parseMarkdown(n){return(e,l)=>{let o={...l},u={...this.defaults,...o},f=this.onError(!!u.silent,!!u.async);if(this.defaults.async===!0&&o.async===!1)return f(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return f(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return f(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(u.hooks&&(u.hooks.options=u,u.hooks.block=n),u.async)return(async()=>{let m=u.hooks?await u.hooks.preprocess(e):e,g=await(u.hooks?await u.hooks.provideLexer():n?Bt.lex:Bt.lexInline)(m,u),y=u.hooks?await u.hooks.processAllTokens(g):g;u.walkTokens&&await Promise.all(this.walkTokens(y,u.walkTokens));let p=await(u.hooks?await u.hooks.provideParser():n?Pt.parse:Pt.parseInline)(y,u);return u.hooks?await u.hooks.postprocess(p):p})().catch(f);try{u.hooks&&(e=u.hooks.preprocess(e));let m=(u.hooks?u.hooks.provideLexer():n?Bt.lex:Bt.lexInline)(e,u);u.hooks&&(m=u.hooks.processAllTokens(m)),u.walkTokens&&this.walkTokens(m,u.walkTokens);let g=(u.hooks?u.hooks.provideParser():n?Pt.parse:Pt.parseInline)(m,u);return u.hooks&&(g=u.hooks.postprocess(g)),g}catch(m){return f(m)}}}onError(n,e){return l=>{if(l.message+=`
Please report this to https://github.com/markedjs/marked.`,n){let o="<p>An error occurred:</p><pre>"+Kt(l.message+"",!0)+"</pre>";return e?Promise.resolve(o):o}if(e)return Promise.reject(l);throw l}}},ui=new JN;function Ae(n,e){return ui.parse(n,e)}Ae.options=Ae.setOptions=function(n){return ui.setOptions(n),Ae.defaults=ui.defaults,kg(Ae.defaults),Ae};Ae.getDefaults=$u;Ae.defaults=di;Ae.use=function(...n){return ui.use(...n),Ae.defaults=ui.defaults,kg(Ae.defaults),Ae};Ae.walkTokens=function(n,e){return ui.walkTokens(n,e)};Ae.parseInline=ui.parseInline;Ae.Parser=Pt;Ae.parser=Pt.parse;Ae.Renderer=Ps;Ae.TextRenderer=tc;Ae.Lexer=Bt;Ae.lexer=Bt.lex;Ae.Tokenizer=Bs;Ae.Hooks=lo;Ae.parse=Ae;Ae.options;Ae.setOptions;Ae.use;Ae.walkTokens;Ae.parseInline;Pt.parse;Bt.lex;Ae.setOptions({breaks:!0,gfm:!0});const YN=({currentBook:n,selectedChapterIndex:e,onClose:l})=>{const[o,u]=ie.useState([]),[f,m]=ie.useState(""),[g,y]=ie.useState(!1),[p,v]=ie.useState(!1),[C,S]=ie.useState("summaries-up-to-current"),[A,N]=ie.useState(null),[I,G]=ie.useState(""),V=ie.useRef(null),Y=ie.useRef(null);ie.useEffect(()=>{var H;(H=V.current)==null||H.scrollIntoView({behavior:"smooth"})},[o,I]);const F=()=>{const{chapters:H,summaries:W}=n;switch(C){case"current-chapter":return`Chapter ${e+1}: ${H[e].title}

${H[e].content}`;case"up-to-current":{let $="";for(let j=0;j<=e;j++)$+=`

=== Chapter ${j+1}: ${H[j].title} ===

${H[j].content}`;return $}case"all-chapters":{let $="";return H.forEach((j,re)=>{$+=`

=== Chapter ${re+1}: ${j.title} ===

${j.content}`}),$}case"all-summaries":{let $="";return H.forEach((j,re)=>{const ue=W[re];ue?($+=`

=== Chapter ${re+1}: ${j.title} ===
Summary:
`,ue.bullets.forEach(Be=>{$+=`- ${Be}
`}),ue.quote&&($+=`Quote: "${ue.quote}"
`)):$+=`

=== Chapter ${re+1}: ${j.title} ===
(Not yet summarized)
`}),$}case"summaries-up-to-current":{let $="";for(let j=0;j<=e;j++){const re=W[j];re?($+=`

=== Chapter ${j+1}: ${H[j].title} ===
Summary:
`,re.bullets.forEach(ue=>{$+=`- ${ue}
`}),re.quote&&($+=`Quote: "${re.quote}"
`)):$+=`

=== Chapter ${j+1}: ${H[j].title} ===
(Not yet summarized)
`}return $+=`

=== Current Chapter (Full Text) ===
Chapter ${e+1}: ${H[e].title}

${H[e].content}`,$}default:return""}},O=async()=>{if(!f.trim()||g)return;const H={role:"user",content:f.trim()};u(W=>[...W,H]),m(""),y(!0),N(null),G("");try{const W=F(),$=await V1([...o,H],W);let j="";for await(const re of $)j+=re.text,G(j);u(re=>[...re,{role:"assistant",content:j}]),G("")}catch(W){const $=W instanceof Error?W.message:"An unknown error occurred.";N($),G("")}finally{y(!1)}},Z=H=>{H.key==="Enter"&&!H.shiftKey&&(H.preventDefault(),O())},Q=H=>{switch(H){case"current-chapter":return"Current Chapter (Full Text)";case"up-to-current":return"All Chapters Up to Current (Full Text)";case"all-chapters":return"All Chapters (Full Text)";case"all-summaries":return"All Chapter Summaries";case"summaries-up-to-current":return"Summaries + Current Chapter (Full Text)";default:return""}};return E.jsxs("div",{className:"fixed inset-0 md:inset-auto md:bottom-4 md:right-4 md:w-[450px] md:h-[600px] z-50 flex flex-col bg-gray-800 rounded-none md:rounded-lg shadow-2xl border border-amber-900/30",children:[E.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-amber-900/20 bg-gray-900/50",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("h3",{className:"text-lg font-bold text-amber-400",children:"Chat with Gemini"}),E.jsx("button",{onClick:()=>v(!p),className:"p-1 text-gray-400 hover:text-amber-400 transition-colors","aria-label":"Settings",children:E.jsx(lN,{className:"w-5 h-5"})})]}),E.jsx("button",{onClick:l,className:"p-1 text-gray-400 hover:text-amber-400 transition-colors","aria-label":"Close chat",children:E.jsx(Dg,{className:"w-6 h-6"})})]}),p&&E.jsxs("div",{className:"p-4 border-b border-amber-900/20 bg-gray-900/30 space-y-2",children:[E.jsx("label",{className:"block text-sm font-semibold text-amber-400/90",children:"Context:"}),E.jsxs("select",{value:C,onChange:H=>S(H.target.value),className:"w-full bg-gray-700 text-gray-100 border border-amber-900/30 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-500",children:[E.jsx("option",{value:"current-chapter",children:"Current Chapter (Full Text)"}),E.jsx("option",{value:"summaries-up-to-current",children:"Summaries + Current Chapter"}),E.jsx("option",{value:"up-to-current",children:"All Chapters Up to Current"}),E.jsx("option",{value:"all-summaries",children:"All Chapter Summaries"}),E.jsx("option",{value:"all-chapters",children:"All Chapters (Full Text)"})]}),E.jsxs("p",{className:"text-xs text-gray-400",children:["Current: ",Q(C)]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 chatbot-messages",children:[o.length===0&&E.jsxs("div",{className:"text-center text-gray-400 py-8",children:[E.jsx("p",{className:"text-lg font-semibold text-amber-400/80 mb-2",children:"Start a conversation"}),E.jsx("p",{className:"text-sm",children:"Ask questions about the book, characters, themes, or events."}),E.jsxs("p",{className:"text-xs mt-4",children:["Using context: ",Q(C)]})]}),o.map((H,W)=>E.jsx("div",{className:`flex ${H.role==="user"?"justify-end":"justify-start"}`,children:E.jsx("div",{className:`max-w-[85%] px-4 py-2 rounded-lg ${H.role==="user"?"bg-amber-600 text-white":"bg-gray-700 text-gray-100"}`,children:H.role==="user"?E.jsx("p",{className:"whitespace-pre-wrap break-words text-sm",children:H.content}):E.jsx("div",{className:"prose prose-sm prose-invert max-w-none break-words",dangerouslySetInnerHTML:{__html:Ae(H.content)}})})},W)),I&&E.jsx("div",{className:"flex justify-start",children:E.jsx("div",{className:"bg-gray-700 text-gray-100 px-4 py-2 rounded-lg max-w-[85%]",children:E.jsx("div",{className:"prose prose-sm prose-invert max-w-none break-words",dangerouslySetInnerHTML:{__html:Ae(I)}})})}),E.jsx("div",{ref:V})]}),A&&E.jsx("div",{className:"px-4 py-2 bg-red-900/30 border-t border-red-900/50",children:E.jsx("p",{className:"text-sm text-red-400",children:A})}),E.jsxs("div",{className:"p-4 border-t border-amber-900/20 bg-gray-900/30",children:[E.jsxs("div",{className:"flex gap-2",children:[E.jsx("textarea",{ref:Y,value:f,onChange:H=>m(H.target.value),onKeyDown:Z,placeholder:"Ask about the book...",disabled:g,className:"flex-1 bg-gray-700 text-gray-100 border border-amber-900/30 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-500 resize-none disabled:opacity-50 disabled:cursor-not-allowed",rows:2}),E.jsx("button",{onClick:O,disabled:!f.trim()||g,className:"self-end p-2 bg-amber-600 text-white rounded hover:bg-amber-700 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Send message",children:E.jsx(iN,{className:"w-5 h-5"})})]}),E.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})]})};function ON(){const[n,e]=ie.useState(!1),[l,o]=ie.useState(null),[u,f]=ie.useState([]),[m,g]=ie.useState(!0),[y,p]=ie.useState(null),[v,C]=ie.useState({}),[S,A]=ie.useState(null),[N,I]=ie.useState(!1),[G,V]=ie.useState(0),[Y,F]=ie.useState(null),[O,Z]=ie.useState(!1),[Q,H]=ie.useState(!1),W=Us.useRef(null);ie.useEffect(()=>((async()=>{const L=k1();if(e(L),L)try{await Gh();const J=await zh();f(J)}catch{F("Could not load library from GitHub Gist.")}g(!1)})(),()=>{W.current!==null&&clearTimeout(W.current)}),[]);const $=ie.useCallback(async(M,L)=>{p(null),g(!0);try{D1({githubPAT:M,geminiApiKey:L}),await Gh();const J=await zh();f(J),e(!0)}catch(J){const X=J instanceof Error?J.message:"Failed to load library";p(X),qh()}finally{g(!1)}},[]),j=ie.useCallback(()=>{qh(),e(!1),o(null),f([]),F(null),p(null)},[]);ie.useCallback(M=>{o(L=>{if(!L)return null;const J={...L,...M};return W.current!==null&&clearTimeout(W.current),W.current=window.setTimeout(()=>{Su(J).catch(X=>{console.error("Failed to update book in storage:",X),F("Could not save progress to GitHub Gist. Changes may be lost.")})},2e3),J})},[]);const re=ie.useCallback(async M=>{F(null),g(!0);try{let L,J=M.name;if(M.type==="text/plain"){const fe=await M.text();L=N0(fe),J=R0(fe)}else if(M.name.endsWith(".epub")){const fe=await M.arrayBuffer(),He=await b0(fe);L=He.chapters,J=He.title}else throw new Error("Unsupported file type. Please use .txt or .epub.");if(L.length===0)throw new Error("Could not find any chapters in the uploaded file.");const X={title:J,chapters:L,summaries:{},images:{},lastAccessed:Date.now()},oe=await Y1(X),ce={...X,id:oe};o(ce),f(fe=>[ce,...fe.filter(He=>He.id!==oe)]),V(0),C({})}catch(L){const J=L instanceof Error?L.message:"An unknown error occurred.";F(J)}finally{g(!1)}},[]),ue=ie.useCallback(async M=>{F(null),g(!0);try{const L=await J1(M);L?(L.lastAccessed=Date.now(),await Su(L),o(L),V(0),C({}),f(J=>{const X=J.filter(oe=>oe.id!==M);return[L,...X]})):F("Could not load the selected book from history.")}finally{g(!1)}},[]),Be=ie.useCallback(async()=>{window.confirm("Are you sure you want to delete all your books from GitHub Gist? This action cannot be undone.")&&(await O1(),f([]))},[]),at=ie.useCallback(()=>{o(null),F(null)},[]),Xe=ie.useCallback(async M=>{if(!l||l.summaries[M]||S===M)return;const L=l.chapters[M];if(L){A(M),F(null),C(J=>({...J,[M]:{bullets:[],quote:""}}));try{const J=await L1(L.content);let X="",oe=null;for await(const ce of J){X+=ce.text;const fe={bullets:[],quote:""};X.split(`
`).forEach(we=>{we.startsWith("BULLET: ")?fe.bullets.push(we.substring(8).trim()):we.startsWith("QUOTE: ")&&(fe.quote=we.substring(7).trim())}),oe=fe,C(we=>({...we,[M]:oe}))}oe&&o(ce=>{if(!ce)return null;const fe={...ce,summaries:{...ce.summaries,[M]:oe}};return W.current!==null&&clearTimeout(W.current),W.current=window.setTimeout(()=>{Su(fe).catch(He=>{console.error("Failed to update book in storage:",He),F("Could not save progress to GitHub Gist. Changes may be lost.")})},2e3),fe})}catch(J){const X=J instanceof Error?J.message:"An unknown error occurred.";F(`Failed to summarize chapter: ${L.title}. ${X}`)}finally{A(J=>J===M?null:J)}}},[l,S]),q=ie.useCallback(async M=>{V(M),Z(!1),await Xe(M)},[Xe]),K=ie.useCallback(async()=>{if(!l)return;I(!0);const M=[];for(let J=0;J<l.chapters.length;J++)l.summaries[J]||M.push(J);if(M.length===0){I(!1);return}const L=M.slice(0,5);for(const J of L)await Xe(J);I(!1)},[l,Xe]),ae=ie.useMemo(()=>l==null?void 0:l.chapters[G],[l,G]),Me=ie.useMemo(()=>(l==null?void 0:l.summaries[G])||v[G],[l,v,G]),Re=ie.useMemo(()=>S===G,[S,G]);return m?E.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-900 text-white gap-4",children:[E.jsx(Z1,{className:"w-12 h-12 text-amber-400 animate-spin"}),E.jsx("p",{className:"text-gray-400",children:"Loading..."})]}):n?l?E.jsxs("div",{className:"flex flex-col md:flex-row h-screen font-sans bg-gray-900 text-gray-100",children:[E.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-gray-800/50 border-b border-amber-900/20",children:[E.jsx("button",{onClick:()=>Z(!0),className:"p-2 text-amber-400 hover:text-amber-300","aria-label":"Open menu",children:E.jsx(tN,{className:"w-6 h-6"})}),E.jsx("h1",{className:"text-lg font-bold text-amber-400/90 truncate flex-1 mx-4",title:l.title,children:l.title}),E.jsx("button",{onClick:at,className:"p-2 text-gray-400 hover:text-amber-400","aria-label":"Back to library",children:E.jsx(Hh,{className:"w-6 h-6"})})]}),E.jsxs("aside",{className:`
        ${O?"translate-x-0":"-translate-x-full"}
        md:translate-x-0
        fixed md:relative
        inset-y-0 left-0
        z-50
        w-80 md:w-1/4 md:min-w-[300px] md:max-w-[400px]
        bg-gray-800/95 md:bg-gray-800/50
        border-r border-amber-900/20
        flex flex-col p-4
        transition-transform duration-300 ease-in-out
      `,children:[E.jsxs("div",{className:"hidden md:flex items-start justify-between gap-3 mb-4 p-2",children:[E.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[E.jsx("img",{src:zs,alt:"SAGA Logo",className:"w-10 h-10 flex-shrink-0"}),E.jsx("h1",{className:"text-xl font-bold tracking-tight text-amber-400/90 break-words",title:l.title,children:l.title})]}),E.jsx("button",{onClick:at,className:"p-1 flex-shrink-0 text-gray-400 hover:text-amber-400 transition-colors","aria-label":"Back to library",children:E.jsx(Hh,{className:"w-6 h-6"})})]}),E.jsxs("div",{className:"md:hidden flex items-center justify-between mb-4 p-2",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("img",{src:zs,alt:"SAGA Logo",className:"w-10 h-10"}),E.jsx("h2",{className:"text-lg font-bold text-amber-400/90",children:"Chapters"})]}),E.jsx("button",{onClick:()=>Z(!1),className:"p-2 text-gray-400 hover:text-amber-400","aria-label":"Close menu",children:E.jsx(Dg,{className:"w-6 h-6"})})]}),E.jsx(sN,{chapters:l.chapters,summarizedChapters:l.summaries,selectedIndex:G,onSelectChapter:q,processingChapterIndex:S}),E.jsxs("div",{className:"mt-auto pt-4 border-t border-amber-900/20 space-y-2",children:[E.jsx("button",{onClick:K,disabled:N||Object.keys(l.summaries).length===l.chapters.length,className:"w-full bg-gradient-to-r from-amber-600 to-orange-600 text-white font-bold py-2 px-4 rounded-md hover:from-amber-700 hover:to-orange-700 transition-all disabled:bg-gray-600 disabled:cursor-not-allowed disabled:opacity-50 shadow-lg",children:N?"Processing...":"Summarize Next 5"}),E.jsxs("p",{className:"text-sm text-center text-gray-400",children:[Object.keys(l.summaries).length," / ",l.chapters.length," chapters summarized"]}),Y&&E.jsx("p",{className:"text-red-400 text-sm mt-2 text-center px-2",children:Y}),E.jsx("button",{onClick:j,className:"w-full text-sm text-gray-400 hover:text-amber-400 transition-colors py-2",children:"Logout"})]})]}),O&&E.jsx("div",{className:"md:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>Z(!1)}),E.jsx("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto",children:E.jsx(rN,{chapter:ae,summary:Me,isProcessing:Re,onPreviousChapter:()=>{G>0&&q(G-1)},onNextChapter:()=>{l&&G<l.chapters.length-1&&q(G+1)},hasPrevious:G>0,hasNext:l?G<l.chapters.length-1:!1})}),!Q&&E.jsx("button",{onClick:()=>H(!0),className:"fixed bottom-6 right-6 p-4 bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-full shadow-2xl hover:from-amber-700 hover:to-orange-700 transition-all transform hover:scale-110 z-40","aria-label":"Open chat",children:E.jsx(nN,{className:"w-6 h-6"})}),Q&&E.jsx(YN,{currentBook:l,selectedChapterIndex:G,onClose:()=>H(!1)})]}):E.jsx(oN,{onFileUpload:re,error:Y,history:u,onLoadFromHistory:ue,onClearHistory:Be,onLogout:j}):E.jsx($1,{onLogin:$,error:y})}const Fg=document.getElementById("root");if(!Fg)throw new Error("Could not find root element to mount to");const $N=_0.createRoot(Fg);$N.render(E.jsx(Us.StrictMode,{children:E.jsx(ON,{})}));
